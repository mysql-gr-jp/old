  <HTML>
  <HEAD>
  <!-- This HTML file has been created by texi2html 1.52 (hacked by david@detron.se)
     from manual.ja.texi on 1 December 1999 -->

  <TITLE>MySQL Reference Manual for version 3.22.21. - D  MySQL change history</TITLE>
  </HEAD>
  <BODY BGCOLOR=#FFFFFF TEXT=#000000 LINK=#101090 VLINK=#7030B0>
Go to the <A HREF="manual.ja_Introduction.html">first</A>, <A HREF="manual.ja_Credits.html">previous</A>, <A HREF="manual.ja_Bugs.html">next</A>, <A HREF="manual.ja_Concept_Index.html">last</A> section, <A HREF="manual.ja_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="News" HREF="manual.ja_toc.html#News">D  <STRONG>MySQL</STRONG> change history</A></H1>

<P>
新しい変更を <STRONG>MySQL</STRONG> に施すと同時に、マニュアルを変更することに注意してください。
もしマニュアルにかかれているのに
<a HREF="http://www.mysql.com/download.html"><STRONG>MySQL</STRONG> download page</a> に
新しいバージョンの MySQL が見つからない場合、そのバージョンはまだリリースされていません！

</P>



<H2><A NAME="News-3.23.x" HREF="manual.ja_toc.html#News-3.23.x">D.1  Changes in release 3.23.x  (Released as alpha)</A></H2>

<P>
リリース3.23、およびリリース3.22と3.21との違いは、
3.23が新しいISAMライブラリ( MyISAM )を含むということです。
これは古いISAMより、SQLにとってよりチューニングされています。

</P>
<P>
3.23リリースは開発中で、機能は速いペースで付け加えられるでしょう。
さしあたり、我々は、このリリースを、このリリースのみにある機能
(大ファイルのサポート、および、マシン非依存のテーブル)を
必要としているユーザーに対してのみ、推薦します。
( MySQL 3.23の全ての新しい機能は、広くテストされます。
しかし、このリリースが多くの新型コードを含むので、すべてをテストすることが難しいです)。
我々が subselect をこれに含むようにすると同時に、このバージョンは、安定させ始めるべきです。

</P>



<H3><A NAME="News-3.23.7" HREF="manual.ja_toc.html#News-3.23.7">D.1.1  Changes in release 3.23.7</A></H3>

<UL>
<LI>

Fixed a bug in <CODE>MyISAM</CODE> with keys &#62; 250 characters.
<LI>

In <CODE>MyISAM</CODE> one can now do an <CODE>INSERT</CODE> at the same time as other
threads are reading from the table.
<LI>

Added variable <CODE>max_write_lock_count</CODE> to <CODE>mysqld</CODE> to force a
<CODE>READ</CODE> lock after a certain number of <CODE>WRITE</CODE> locks.
<LI>

Inverted flag <CODE>delayed_key_write</CODE> on <CODE>show variables</CODE>.
<LI>

Renamed variable <CODE>concurrency</CODE> to <CODE>thread_concurrency</CODE>.
<LI>

The following functions are now multi-byte-safe:
<CODE>LOCATE(substr,str)</CODE>, <CODE>POSITION(substr IN str)</CODE>,
<CODE>LOCATE(substr,str,pos)</CODE>, <CODE>INSTR(str,substr)</CODE>,
<CODE>LEFT(str,len)</CODE>, <CODE>RIGHT(str,len)</CODE>,
<CODE>SUBSTRING(str,pos,len)</CODE>, <CODE>SUBSTRING(str FROM pos FOR len)</CODE>,
<CODE>MID(str,pos,len)</CODE>, <CODE>SUBSTRING(str,pos)</CODE>, <CODE>SUBSTRING(str
FROM pos)</CODE>, <CODE>SUBSTRING_INDEX(str,delim,count)</CODE>, <CODE>RTRIM(str)</CODE>,
<CODE>TRIM([[BOTH | TRAILING] [remstr] FROM] str)</CODE>,
<CODE>REPLACE(str,from_str,to_str)</CODE>, <CODE>REVERSE(str)</CODE>,
<CODE>INSERT(str,pos,len,newstr)</CODE>, <CODE>LCASE(str)</CODE>, <CODE>LOWER(str)</CODE>,
<CODE>UCASE(str)</CODE> and <CODE>UPPER(str)</CODE>;  Patch by Wei He.
<LI>

Fix core dump when releasing a lock from a non existing table
<LI>

Remove locks on tables before starting to remove duplicates.
<LI>

Added option <CODE>FULL</CODE> to <CODE>SHOW PROCESSLIST</CODE>. 
<LI>

Added option <CODE>--verbose</CODE> to <CODE>mysqladmin</CODE>.
<LI>

Fixed problem when automaticly converting HEAP to MyISAM.
<LI>

Fixed bug in HEAP tables when doing insert + delete + insert + scan the
table.
</UL>



<H3><A NAME="News-3.23.6" HREF="manual.ja_toc.html#News-3.23.6">D.1.2  Changes in release 3.23.6</A></H3>


<UL>
<LI>

Added <CODE>mysqld</CODE> option <CODE>-O lower_case_table_names={0|1}</CODE> to allow
users to force table names to lower case.
<LI>

Added <CODE>SELECT ... INTO DUMPFILE</CODE>.
<LI>

Added mysqld option <CODE>--ansi</CODE> to make some functions <CODE>ANSI SQL</CODE>
compatible.
<LI>

Temporary tables now starts with <CODE>#sql</CODE>.
<LI>

Added quoting of identifiers with <CODE>`</CODE> (<CODE>"</CODE> in <CODE>--ansi</CODE> mode).
<LI>

Changed to use snprintf() when printing floats to avoid some buffer
overflows on FREEBSD.
<LI>

Made <CODE>[floor()</CODE> overflow safe on FREEBSD.
<LI>

Added option <CODE>--quote-names</CODE> to <CODE>mysqldump</CODE>
<LI>

Fixed bug that one could make a part of a <CODE>PRIMARY KEY NOT NULL</CODE>.
<LI>

Fixed <CODE>encrypt()</CODE> to be thread safe and not reuse buffer.
<LI>

Added <CODE>mysql_odbc_escape_string()</CODE> function to support big5 characters in
MyOBC.
<LI>

Rewrote the table handler to use classes.  This introduces a lot of new code,
but will make table handling faster and better...
<LI>

Added patch by Sasha for user defined variables.
<LI>

Changed that <CODE>FLOAT</CODE> and <CODE>DOUBLE</CODE> (without any length modifiers) are
not anymore fixed decimal point numbers.
<LI>

Changed the meaning of <CODE>FLOAT(X)</CODE>: Now this is the same as <CODE>FLOAT</CODE> if
X &#60;= 24 and a <CODE>DOUBLE</CODE> if 24 &#60; X &#60;= 53.
<LI>

<CODE>DECIMAL(X)</CODE> is now an alias for <CODE>DECIMAL(X,0</CODE>) and <CODE>DECIMAL</CODE>
is now an alias for <CODE>DECIMAL(10,0)</CODE>.  The same goes for <CODE>NUMERIC</CODE>.
<LI>

Added option <CODE>ROW_FORMAT={default | dynamic | static | compressed}</CODE> to
<CODE>CREATE_TABLE</CODE>.
<LI>

<CODE>DELETE FROM table_name</CODE> didn't work on temporary tables.
<LI>

Changed function <CODE>CHAR_LENGTH()</CODE> to be multi-byte character safe.
<LI>

Added function <CODE>ORD(string)</CODE>.
</UL>



<H3><A NAME="News-3.23.5" HREF="manual.ja_toc.html#News-3.23.5">D.1.3  Changes in release 3.23.5</A></H3>


<UL>
<LI>

新しいデータハンドリング中のいくつかの Y2K 問題を修正。
<LI>

<CODE>SELECT DISTINCT ... ORDER BY RAND()</CODE> の問題を修正。
<LI>

Sergei A. Golubchik による MyISAM のレベルでのテキストサーチのパッチを追加
<LI>

キー無しでfull JOIN を使用した際のキャッシュオーバーフローの問題を修正。
<LI>

いくつかの configure の問題を修正。
<LI>

Some small changes to make parsing faster.
<LI>

ALTER TABLE + adding a column after the last field didn't work. 
<LI>

2つのキー中でauto_incrementフィールドを使用したときの問題を修正。
<LI>

<CODE>MyISAM</CODE> で auto_increment をサブパートとして使用できるようになった：
<CODE> CREATE TABLE foo (a int not null auto_increment, b char(5), primary key (b,a)) </CODE>
<LI>

Fixed bug in <CODE>MyISAM</CODE> with packed char keys that could be NULL. 
<LI>

フィールド名を <CODE>CREATE TABLE table_name SELECT ... </CODE> 時にとした場合、動かなかった。
<LI>

Allow use of <CODE>NATIONAL</CODE> and <CODE>NCHAR</CODE> when defining character columns.
 This is the same as not using <CODE>BINARY</CODE>.
<LI>

<CODE>NULL</CODE> のフィールドを <CODE>PRIMARY KEY</CODE> ( <CODE>UNIQUE</CODE> キー) には
許さなくなった。
<LI>

Clear <CODE>LAST_INSERT_ID</CODE> if in uses this in <CODE>ODBC</CODE>: <CODE>WHERE auto_increment_column IS NULL</CODE>. This seams to fix some problems with Access. 
<LI>

<CODE>WHERE auto_increment_column IS NULL</CODE> を使用して最後にレコードが挿入された後に、
<CODE>SET SQL_AUTO_IS_NULL=0|1</CODE> はサーチのハンドリングの on/off になった。
<LI>

Added new mysqld variable concurrency for Solaris. 
<LI>

<CODE>--relative</CODE> オプションを <CODE>mysqladmin</CODE> に追加。
これは <CODE>extended-status</CODE> で変更のモニターをする場合、より便利になった。
<LI>

空のテーブルに対して <CODE>COUNT(DISTINCT..)</CODE> を使用した際のバグを修正。
<LI>

中国語のキャラクターセット <CODE>GBK</CODE> を追加。
<LI>

<CODE>LOAD DATA INFILE</CODE> を <CODE>BLOB</CODE> フィールドに使用した際の問題を修正。
<LI>

論理演算子 <CODE>~</CODE> (negation) を追加。
<LI>

<CODE>UDF</CODE> 関数での問題を修正。
</UL>



<H3><A NAME="News-3.23.4" HREF="manual.ja_toc.html#News-3.23.4">D.1.4  Changes in release 3.23.4</A></H3>


<UL>
<LI>

<CODE>DATETIME</CODE> 型を <CODE>TIME</CODE> フィールドに挿入するとき、'day' を
保存しようと試みなくなった。
<LI>

low endian のマシンで float/double の保存の問題を修正。
(これは <CODE>SUM()</CODE> に影響する.)
<LI>

TCP/IP 接続の connect timeout を追加。
<LI>

インデックス上で、 <CODE>NULL</CODE> 値を持つかもしれないものに <CODE>LIKE</CODE> "%" した際の問題を修正。
<LI>

<CODE>REVOKE ALL PRIVILEGES</CODE> が全ての特権を取り消していなかったのを修正。
<LI>

オリジナルのテーブル名と同じ名前で一時テーブルを作れるようにした。
<LI>

データベースへの特権をあるユーザーに与えた際、
そのユーザーは他のユーザーに特権を与えることが出来なかった。
<LI>

新コマンド： <CODE>SHOW GRANTS FOR user</CODE> (by Sinisa).
<LI>

新 <CODE>date_add</CODE> syntax:  <CODE>date/datetime + INTERVAL # interval_type</CODE>.
By Joshua Chamas.
<LI>

<CODE>LOAD DATA REPLACE</CODE> の特権のチェックを修正。
<LI>

Solaris 2.7 上での、壊れた include ファイルを自動修正。
<LI>

big file system を検出する際のいくつかの configure の問題を修正。
<LI>

<CODE>REGEXP</CODE> はケース非依存になった。もしバイナリ文字でない場合は。
</UL>



<H3><A NAME="News-3.23.3" HREF="manual.ja_toc.html#News-3.23.3">D.1.5  Changes in release 3.23.3</A></H3>
<P>
 

<UL>
<LI>

NetBSD 上での MIT-pthreads パッチを追加。
<LI>

MyISAM 中の range bug を修正。
<LI>

<CODE>ORDER BY</CODE> のデフォルトが再び <CODE>ASC</CODE> になった。
<LI>

<CODE>LIMIT</CODE> を <CODE>UPDATE</CODE> に追加。
<LI>

新クライアント関数： <CODE>mysql_change_user()</CODE>.
<LI>

<CODE>SHOW VARIABLES</CODE> にキャラクターセットを追加。
<LI>

<CODE>--[whitespace]</CODE> コメントをサポートした。
<LI>

Allow <CODE>INSERT into tbl_name VALUES ()</CODE>, that is, you may now specify
an empty value list to insert a row in which each column is set to its
default value.
<LI>

Changed <CODE>SUBSTRING(text FROM pos)</CODE> to conform to ANSI SQL. (Before this 
construct returned the rightmost 'pos' characters). 
<LI>

いくつかのシステム上で <CODE>GROUP BY</CODE> をともなった <CODE>SUM(..)</CODE> は 0 を返すようになった。
<LI>

<CODE>SHOW TABLE STATUS</CODE> の出力を変更。
<LI>

<CODE>DELAY_KEY_WRITE</CODE> オプションを <CODE>CREATE TABLE</CODE> に追加。
<LI>

<CODE>AUTO_INCREMENT</CODE> をいかなるキーの部分に使用できるようにした。
<LI>

<CODE>YEAR(NOW())</CODE> , <CODE>YEAR(CURDATE())</CODE> の問題を修正。
<LI>

Added <CODE>CASE</CODE> construct. 
<LI>

新刊数 <CODE>COALESCE()</CODE>. 
</UL>

<P>
 


<H3><A NAME="News-3.23.2" HREF="manual.ja_toc.html#News-3.23.2">D.1.6  Changes in release 3.23.2</A></H3>
<P>
 

<UL>
<LI>

Fixed range optimizer bug: <CODE>SELECT * FROM table_name WHERE 
key_part1 &#62;= const AND (key_part2 = const OR key_part2 = const)</CODE>.  The 
bug was that some rows could be duplicated in the result. 
<LI>

Running <CODE>myisamchk</CODE> without <CODE>-a</CODE> updated the index 
distribution wrong. 
<LI>

<CODE>SET SQL_LOW_PRIORITY_UPDATES=1</CODE> gave parse error before. 
<LI>

<CODE>WHERE</CODE> 節に使用されているインデックスフィールドを更新できるようになった：
<CODE>UPDATE tbl_name SET KEY=KEY+1 WHERE KEY &#62; 100</CODE> 
<LI>

Date handling should now be a bit faster. 
<LI>

Added handling of fuzzy dates (dates where day or month is 0): 
(Like: 1999-01-00) 
<LI>

Fixed optimization of <CODE>SELECT ... WHERE key_part1=const1 AND 
key_part_2=const2 AND key_part1=const4 AND key_part2=const4</CODE> ; Indextype 
should be <CODE>range</CODE> instead of <CODE>ref</CODE>. 
<LI>

Linux Alpha 上で <CODE>egcs</CODE> 1.1.2 optimizer のバグ(<CODE>BLOB</CODE> 使用時)を修正。
<LI>

Fixed problem with <CODE>LOCK TABLES</CODE> combined with <CODE>DELETE FROM table</CODE>. 
<LI>

MyISAM テーブルは <CODE>NULL</CODE> 値と <CODE>BLOB/TEXT</CODE> フィールドにキーを許すようになった。
<LI>

以下のJOINがより速くなった：
<CODE>SELECT ... FROM t1 LEFT JOIN t2 ON ... WHERE t2.not_null_column IS NULL</CODE>. 
<LI>

<CODE>ORDER BY</CODE> and <CODE>GROUP BY</CODE> can be done on functions. 
<LI>

Changed handling of 'const_item' to allow handling of <CODE>ORDER BY RAND()</CODE>. 
<LI>

<CODE>WHERE key_column = function</CODE> でインデックスが使用されるようになった。
<LI>

例えフィールドが全く同じにパックされていなくても、
<CODE>WHERE key_column = column_name</CODE> でインデックスが使用されるようになった。
<LI>

<CODE>WHERE column_name IS NULL</CODE> でインデックスが使用されるようになった。
<LI>

Changed heap tables to be stored in low_byte_first order (to make it easy 
to convert to MyISAM tables) 
<LI>

Automatic change of HEAP temporary tables to MyISAM tables in case of 
'table is full' errors.        
<LI>

<CODE>--init-file=file_name</CODE> オプションを <CODE>mysqld</CODE> に追加。
<LI>

<CODE>COUNT(DISTINCT value,[value,...])</CODE> 
<LI>

<CODE>CREATE TEMPORARY TABLE</CODE> now creates a temporary table, in its own 
namespace, that is automatically deleted if connection is dropped. 
<LI>

新キーワード (<CODE>CASE</CODE> を要求):  <CODE>CASE, THEN, WHEN, ELSE and END</CODE>. 
<LI>

新関数 <CODE>EXPORT_SET()</CODE> , <CODE>MD5()</CODE>. 
<LI>

GB2312 中国語キャラクターセットをサポート。
</UL>

<P>
 


<H3><A NAME="News-3.23.1" HREF="manual.ja_toc.html#News-3.23.1">D.1.7  Changes in release 3.23.1</A></H3>
<P>
 

<UL>
<LI>

いくつかのコンパイル問題を修正した。
</UL>

<P>
 


<H3><A NAME="News-3.23.0" HREF="manual.ja_toc.html#News-3.23.0">D.1.8  Changes in release 3.23.0</A></H3>


<UL>
<LI>

多くの新しい特徴を備えた新しいテーブル・ハンドラー・ライブラリ( <CODE>MyISAM</CODE> )。
 「<A HREF="manual.ja_Server.html#Table_types">9.4  MySQL table types</A>」節参照.
<LI>

メモリー内に <CODE>HEAP</CODE> テーブルを作成できるようになりました。
これは探索がとても速いです。
<LI>

大容量ファイルをサポートしているOS上で、大ファイル (63 bit) のサポート。
<LI>

新しい関数 <CODE>LOAD_FILE(filename)</CODE> 。 これはファイルの中身を文字列値として読みます。
<LI>

新しい演算子 <CODE>&#60;=&#62;</CODE> 。 これは、 <CODE>=</CODE> のように振る舞いますが、
もし両辺の引数が <CODE>NULL</CODE> なら、真を返します。
これはテーブル間の変更の比較に役立ちます。
<LI>

ODBC 3.0 <CODE>EXTRACT(interval FROM datetime)</CODE> 関数の追加。
<LI>

<CODE>FLOAT(X)</CODE> フィールドは、保存した値を丸めません。
これは検索されたときに 科学表記 (1.0 E+10) になるかもしれません。
<LI>

<CODE>REPLACE</CODE> が前よりも速くなった。
<LI>

<CODE>LIKE</CODE> 文字比較を <CODE>=</CODE> のよに振る舞うように変更；
これは <CODE>'e' LIKE ''e'</CODE> が真になるということです。
<LI>

<CODE>SHOW TABLE STATUS</CODE> はテーブルについての情報を多く出すようになりました。
<LI>

<CODE>LIKE</CODE> を <CODE>SHOW STATUS</CODE> コマンドに追加。
<LI>

<CODE>SHOW COLUMNS</CODE> に Privileges 項目を追加。
<LI>

<CODE>SHOW INDEX</CODE> に <CODE>packed</CODE> と <CODE>comment</CODE> 項目を追加。
<LI>

テーブルへのコメントを追加。 ( <CODE>CREATE TABLE ... COMMENT "xxx"</CODE>).
<LI>

<CODE>UNIQUE</CODE> を次のように追加： 
<CODE>CREATE TABLE table_name (col int not null UNIQUE)</CODE>
<LI>

新 create 構文： <CODE>CREATE TABLE table_name SELECT ....</CODE>
<LI>

新 create 構文： <CODE>CREATE TABLE IF NOT EXISTS ...</CODE>
<LI>

<CODE>CHAR(0)</CODE> フィールドの作成を許可した。
<LI>

<CODE>DATE_FORMAT()</CODE> は、フォーマット文字の前に <SAMP>`%'</SAMP> が必要になった。
<LI>

<CODE>DELAYED</CODE> が予約語になった。 (sorry about that :( ).
<LI>

プロセジャーの例を追加： <CODE>analyse</CODE>, file: <TT>`sql_analyse.c'</TT>.
これはクエリのデータについて説明します。 以下の様にしてみてください：

<PRE>
SELECT ... FROM ... WHERE ... PROCEDURE ANALYSE([max elements,[max memory]])
</PRE>

この プロセジャーは、テーブルのデータをチェックしたい時に、とても役立ちます！
<LI>

<CODE>BINARY</CODE> cast to force a string to be compared case sensitively.
<LI>

<CODE>--skip-show-database</CODE> オプションを <CODE>mysqld</CODE> に追加。
<LI>

<CODE>BLOB</CODE>/<CODE>TEXT</CODE> フィールドにおいて、 <CODE>UPDATE</CODE> された
レコードをチェックできるようになりました。
<LI>

<CODE>INNER JOIN</CODE> の追加。  <STRONG>注意</STRONG>: <CODE>INNER</CODE> は予約語になりました！
<LI>

<STRONG>MySQL</STRONG> テーブルのホストにネットマスクをサポートした。
<CODE>IP/NETMASK</CODE> として、ネットマスクを指定できます。
<LI>

If you compare a <CODE>NOT NULL DATE/DATETIME</CODE> column with <CODE>IS
NULL</CODE>, this is changed to a compare against <CODE>0</CODE> to satisfy some ODBC
applications.  (By <a HREF="mailto:shreeve@uci.edu">shreeve@uci.edu</a>).
<LI>

<CODE>NULL IN (...)</CODE> は <CODE>0</CODE> ではなく <CODE>NULL</CODE> を返します。 これは
 <CODE>null_column NOT IN (...)</CODE> が <CODE>NULL</CODE> 値にマッチしないのを確実にします。
<LI>

<CODE>TIME</CODE> フィールド中に、浮動小数点の値を入れるのを修正。
<LI>

Changed parsing of <CODE>TIME</CODE> strings to be more strict.  Now the
fractional second part is detected (and currently skipped). The
following formats are supported:
<DL COMPACT>

<DT><CODE>[[DAYS] [H]H:]MM:]SS[.fraction]</CODE>
<DD>
<DT><CODE>[[[[[H]H]H]H]MM]SS[.fraction]</CODE>
<DD>
</DL>
<LI>

Detect (and ignore) second fraction part from <CODE>DATETIME</CODE>.
<LI>

<CODE>LOW_PRIORITY</CODE> 属性を <CODE>LOAD DATA INFILE</CODE> に追加。
<LI>

デフォルトのインデックス名を、フィールドの名前と同じケースにした。
<LI>

デフォルトの接続数を 100 に変更。
<LI>

<CODE>LOAD DATA INFILE</CODE> 時に、より大きなバッファを使用するようにした。
<LI>

<CODE>DECIMAL(x,y)</CODE> は ANSI SQL に従って動作するようになった。
<LI>

Added aggregate UDF functions. Thanks to Andreas F. Bobak
<a HREF="mailto:bobak@relog.ch">bobak@relog.ch</a> for this!
<LI>

<CODE>LAST_INSERT_ID()</CODE> is now updated for <CODE>INSERT INTO ... SELECT</CODE>.
<LI>

Some small changes to the join table optimizer to make some joins faster.
<LI>

<CODE>SELECT DISTINCT</CODE> が凄く速くなった； 
これは <CODE>MyISAM</CODE> の新しい <CODE>UNIQUE</CODE> を使用します。
<STRONG>MySQL</STRONG> 3.22 と一つ違う点は、 <CODE>DISTINCT</CODE> の出力が
ソートされないという事です。
<LI>

全ての C クライアント API が、共有ライブラリを柔軟に作成するため、
マクロから関数になりました。 このため、 <CODE>mysql_num_fields()</CODE> を
<CODE>MYSQL</CODE> ととしてコールできず、この代わりに <CODE>mysql_field_count()</CODE> を
使用しなくてはなりません。
<LI>

<CODE>LIBEWRAP</CODE> の追加;  Patch by Henning P . Schmiedehausen.
<LI>

Don't allow <CODE>AUTO_INCREMENT</CODE> for other than numerical columns.
<LI>

<CODE>AUTO_INCREMENT</CODE> の使用は、フィールドを自動的に
<CODE>NOT NULL</CODE> にします。
<LI>

Show <CODE>NULL</CODE> as the default value for AUTO_INCREMENT columns.
<LI>

<CODE>SQL_BIG_RESULT</CODE> の追加;  <CODE>SQL_SMALL_RESULT</CODE> がデフォルトになりました。
<LI>

Added a shared library RPM. This enchancement was contributed by David
Fox (dsfox@cogsci.ucsd.edu).
<LI>

<CODE>--enable-large-files/--disable-large-files</CODE> スイッチを <CODE>configure</CODE> に
追加。 See <TT>`configure.in'</TT> for some systems where this is
automatically turned off because of broken implementations.
<LI>

<CODE>readline</CODE> 4.0 にアップグレード
<LI>

新しい <CODE>CREATE TABLE</CODE> オプション： <CODE>PACK_KEYS</CODE> と <CODE>CHECKSUM</CODE>.
<LI>

<CODE>mysqld</CODE> オプションに <CODE>--default-table-type</CODE> を追加。
</UL>



<H2><A NAME="News-3.22.x" HREF="manual.ja_toc.html#News-3.22.x">D.2  Changes in release 3.22.x</A></H2>

<P>
3.22 はより早く、より安全なコードをもち、たくさんの新しい機能が盛り込まれています。
これらの変更を 3.21 に行わないのは、3.21 の安定度を保つためにはとても多くの変更が必要とされるからです。
これらの変更はメジャーバージョンの変更ではないので、簡単に障害もなく 3.22 にアップグレードができます。
 「<A HREF="manual.ja_Installing.html#Upgrading-from-3.21">4.16.2  3.21 から 3.22 バージョンへのアップグレード</A>」節参照.

</P>
<P>
3.22 は新しい <CODE>DBD-mysql</CODE> (1.20xx) ドライバーのみを新しい接続プロトコルに対して使用します！

</P>



<H3><A NAME="News-3.22.28" HREF="manual.ja_toc.html#News-3.22.28">D.2.1  Changes in release 3.22.28</A></H3>


<UL>
<LI>

Fixed problem with <CODE>LEFT JOIN</CODE> and <CODE>COUNT()</CODE> on a column which
was declared <CODE>NULL</CODE> + and it had a <CODE>DEFAULT</CODE> value.
<LI>

Fixed core dump problem when using <CODE>CONCAT()</CODE> in a <CODE>WHERE</CODE> clause.
<LI>

Fixed problem with <CODE>AVG()</CODE> and <CODE>STD()</CODE> with <CODE>NULL</CODE> values.
</UL>



<H3><A NAME="News-3.22.27" HREF="manual.ja_toc.html#News-3.22.27">D.2.2  Changes in release 3.22.27</A></H3>


<UL>
<LI>

<TT>`my_ctype.h'</TT> 中の、他のキャラクターセットのプロトタイプを修正。
<LI>

configure 中の、大ファイルシステムを検出する部分の問題を修正。
<LI>

大きなBLOBフィールドをソートしたときのバグを修正。
<LI>

<CODE>ROUND()</CODE> will now work on Win32.
</UL>



<H3><A NAME="News-3.22.26" HREF="manual.ja_toc.html#News-3.22.26">D.2.3  Changes in release 3.22.26</A></H3>


<UL>
<LI>

空の <CODE>BLOB/TEXT</CODE> フィールドを <CODE>REVERSE()</CODE> した際にコアダンプしたのを修正。
<LI>

<CODE>/*! */</CODE> バージョン番号 を拡張した
<LI>

Changed <CODE>SUBSTRING(text FROM pos)</CODE> to conform to ANSI SQL. (Before this
construct returned the rightmost 'pos' characters).
<LI>

Fixed problem with <CODE>LOCK TABLES</CODE> combined with <CODE>DELETE FROM table</CODE>
<LI>

<CODE>INSERT ... SELECT</CODE> が <CODE>SQL_BIG_TABLES</CODE> を使用していなかったのを修正。
<LI>

<CODE>SET SQL_LOW_PRIORITY_UPDATES=#</CODE> が動いてなかった。
<LI>

許可を <CODE>GRANT ... IDENTIFIED BY</CODE> で変更しても直にパスワードが
反映されなかったのを修正。
<LI>

以下の最適化のバグを修正： 
<CODE>SELECT * FROM table_name WHERE key_part1 &#62;= const AND (key_part2 = const OR key_part2 = const)</CODE>
<LI>

Fixed bug in compression key handling in ISAM.
</UL>



<H3><A NAME="News-3.22.25" HREF="manual.ja_toc.html#News-3.22.25">D.2.4  Changes in release 3.22.25</A></H3>


<UL>
<LI>

インストール時の小さな問題を修正。
</UL>



<H3><A NAME="News-3.22.24" HREF="manual.ja_toc.html#News-3.22.24">D.2.5  Changes in release 3.22.24</A></H3>


<UL>
<LI>

<CODE>DATA</CODE> は予約語でなくなった。
<LI>

たった１レコードしかないテーブルの最適化のバグを修正。
<LI>

<CODE>LOCK TABLES table_name READ; FLUSH TABLES;</CODE> を使用した際のバグ修正。
<LI>

HP-UX のパッチを適用。
<LI>

<CODE>isamchk</CODE> が Win32 上で動くようになった。
<LI>

Changed <TT>`configure'</TT> to not use big file handling on Linux as this
crashes some RedHat 6.0 systems
</UL>



<H3><A NAME="News-3.22.23" HREF="manual.ja_toc.html#News-3.22.23">D.2.6  Changes in release 3.22.23</A></H3>


<UL>
<LI>

Autoconf 2.13, Automake 1.4, <CODE>libtool</CODE> 1.3.2 を使用するようにアップグレード。
<LI>

Better support for SCO in <CODE>configure</CODE>.
<LI>

Added option <CODE>--defaults-file=###</CODE> to option file handling to force use
of only one specific option file.
<LI>

<CODE>MySQL 3.23</CODE> のキーワードを無視するように
<CODE>CREATE</CODE> 構文を拡張した。
<LI>

<CODE>LOCK TABLES</CODE> でロックされているテーブルに <CODE>INSERT DELAYED</CODE> を
使用した際の、デッドロックの問題を修正。
<LI>

他のスレッドにロックされているテーブルに <CODE>DROP TABLE</CODE> を使用した際の
問題を修正。
<LI>

<CODE>GRANT/REVOKE</CODE> コマンドを update log に追加。
<LI>

新しいエラー項目を検出するように <CODE>isamchk</CODE> を修正。
<LI>

<CODE>NATURAL LEFT JOIN</CODE> のバグを修正。
</UL>



<H3><A NAME="News-3.22.22" HREF="manual.ja_toc.html#News-3.22.22">D.2.7  Changes in release 3.22.22</A></H3>


<UL>
<LI>

<CODE>mysql_init()</CODE> の後に直接 <CODE>mysql_close()</CODE> を読んだときの問題を修正。
(C API)
<LI>

Better client error message when you can't open socket.
<LI>

新しいdelayed_insert スレッドが作成できなかったときの
 <CODE>delayed_insert_thread</CODE> 数の表示を修正。
<LI>

 <CODE>CONCAT()</CODE> の引数を多くした場合のバグを修正。
<LI>

DEC 3.2 と SCO のパッチの追加。
<LI>

NT のサービスとして <STRONG>MySQL</STRONG> をインストールした際の
パスの問題を修正。
<LI>

<STRONG>MySQL</STRONG>-Win32 は VC++ 6.0 でコンパイルされるようになった。
(VC++ 5.0 のかわりに)
<LI>

<STRONG>MySQL</STRONG>-Win32 の新しいインストーラー
</UL>



<H3><A NAME="News-3.22.21" HREF="manual.ja_toc.html#News-3.22.21">D.2.8  Changes in release 3.22.21</A></H3>


<UL>
<LI>

テーブルが他のスレッドにロックされたときの、<CODE>DELETE FROM TABLE</CODE> の
問題を修正。
<LI>

Fixed bug in <CODE>LEFT JOIN</CODE> involving empty tables.
<LI>

<CODE>mysql.db</CODE> フィールドを <CODE>char(32)</CODE> から <CODE>char(60)</CODE> に変更。
<LI>

<CODE>MODIFY</CODE> と <CODE>DELAYED</CODE> は予約語でなくなった。
<LI>

 <CODE>TIME</CODE> フィールドに日にちを入れようとしたときのバグを修正。
<LI>

<CODE>GRANT</CODE> コマンドで新しい <STRONG>MySQL</STRONG> ユーザーを登録した後に
<CODE>Host '..' is not allowed to connect to this MySQL server</CODE> となる問題を修正。
<LI>

Linux 上で <CODE>TCP_NODELAY</CODE> を使用するように変更。 (これは TCP/IP 接続を速くします)
</UL>



<H3><A NAME="News-3.22.20" HREF="manual.ja_toc.html#News-3.22.20">D.2.9  Changes in release 3.22.20</A></H3>


<UL>
<LI>

Fixed <CODE>STD()</CODE> for big tables when result should be 0.
<LI>

いくつかのOS でupdate log が改行を入れていなかったのを修正。
<LI>

<CODE>INSERT DELAYED</CODE> had some garbage at end in the update log.
</UL>



<H3><A NAME="News-3.22.19" HREF="manual.ja_toc.html#News-3.22.19">D.2.10  Changes in release 3.22.19</A></H3>


<UL>
<LI>

<CODE>mysql_install_db</CODE> のバグ修正。 (from 3.22.17).
<LI>

デフォルトのキーキャッシュを 8M に変更。
<LI>

<CODE>BLOB</CODE> フィールドで一時テーブルが必要とされるクエリの問題を修正。
</UL>



<H3><A NAME="News-3.22.18" HREF="manual.ja_toc.html#News-3.22.18">D.2.11  Changes in release 3.22.18</A></H3>


<UL>
<LI>

Linux上で、3.22.17の致命的な問題の修正； <CODE>shutdown</CODE> 後、全ての
スレッドが確実に死ななかった。
<LI>

<CODE>-O flush-time=#</CODE> オプションを <CODE>mysqld</CODE> に追加。 This is mostly
useful on Win32 and tells how often <STRONG>MySQL</STRONG> should close all
unused tables and flush all updated tables to disk.
<LI>

<CODE>VARCHAR</CODE> フィールドと  <CODE>CHAR</CODE> を比較した際にキーを効果的に
使用していなかったのを修正。
</UL>



<H3><A NAME="News-3.22.17" HREF="manual.ja_toc.html#News-3.22.17">D.2.12  Changes in release 3.22.17</A></H3>


<UL>
<LI>

<CODE>--log-update</CODE> を使用したときとデフォルトのデータベースを指定しないで
接続したときのコアダンプを修正した。
<LI>

いくつかの <CODE>configure</CODE> と移植性の問題を修正した。
<LI>

Using <CODE>LEFT JOIN</CODE> on tables that had circular dependencies caused
<CODE>mysqld</CODE> to hang forever.
</UL>



<H3><A NAME="News-3.22.16" HREF="manual.ja_toc.html#News-3.22.16">D.2.13  Changes in release 3.22.16</A></H3>


<UL>
<LI>

<CODE>mysqladmin processlist</CODE> could kill the server if a new user logged in.
<LI>

<CODE>DELETE FROM table_name WHERE key_column=column_name</CODE> が
マッチする行を1行も見つけれないのを修正
<LI>

<CODE>DATE_ADD(column,...)</CODE> が動かないのを修正
<LI>

<CODE>INSERT DELAYED</CODE> could deadlock with status 'upgrading lock'
<LI>

2文字以上のソルトが使用できるように、<CODE>ENCRYPT()</CODE> を拡張。
<LI>

<CODE>longlong2str</CODE> は以前よりかなり速くなった。<CODE>Intel x86</CODE> 用に
このコードは最適化されたアセンブラで書き直した
<LI>

<CODE>ALTER TABLE</CODE> に <CODE>MODIFY</CODE> キーワードを追加
</UL>



<H3><A NAME="News-3.22.15" HREF="manual.ja_toc.html#News-3.22.15">D.2.14  Changes in release 3.22.15</A></H3>


<UL>
<LI>

<CODE>GRANT</CODE> を <CODE>IDENTIFIED BY</CODE> と共に使用した際、特権情報がフラッシュされるまで
有効にならない
<LI>

Name change of some variables in <CODE>SHOW STATUS</CODE>.
<LI>

Fixed problem with <CODE>ORDER BY</CODE> with 'only index' optimzation when there
were multiple key definitions for a used column.
<LI>

<CODE>DATE</CODE> and <CODE>DATETIME</CODE> columns are now up to 5 times faster than
before.
<LI>

<CODE>INSERT DELAYED</CODE> can be used to let the client do other things while the
server inserts rows into a table.
<LI>

もし2つの違うデータベースのテーブルを使用した場合、
<CODE>LEFT JOIN USING (col1,col2)</CODE> が動作しなかった
<LI>

<CODE>LOAD DATA LOCAL INFILE</CODE> がファイルがないための理由で UNIX では動作しなかった
<LI>

とても短い行(&#60;4バイト)しかない <CODE>VARCHAR</CODE>/<CODE>BLOB</CODE> での問題の修正；
error 127 がこの行を消去する場合に起きる可能性があった
<LI>

Updating <CODE>BLOB/TEXT</CODE> through formulas didn't work for short (&#60; 256 char)
strings.
<LI>

新しいホスト上で <CODE>GRANT</CODE> を実行した場合、そのホストからの最初のコネクションで
<CODE>mysqld</CODE> が死ぬ可能性があった
<LI>

エイリアス名と同じ項目名を <CODE>ORDER BY</CODE> で使用する場合のバグを修正
name as an alias.
<LI>

Added <CODE>BENCHMARK(loop_count,expression)</CODE> function to time expressions.
</UL>



<H3><A NAME="News-3.22.14" HREF="manual.ja_toc.html#News-3.22.14">D.2.15  Changes in release 3.22.14</A></H3>


<UL>
<LI>

シェルスクリプトからの起動のために、<CODE>mysqld</CODE> の引数がない場合を許可した。
<LI>

Setting a <CODE>TIMESTAMP</CODE> column to <CODE>NULL</CODE> didn't record the timestamp
value in the update log.
<LI>

Fixed lock handler bug when one did
<CODE>INSERT INTO TABLE ... SELECT ... GROUP BY</CODE>.
<LI>

Added a patch for <CODE>localtime_r()</CODE> on Win32 so that it will not crash
anymore if your date is &#62; 2039, but instead will return a time of all zero.
<LI>

Names for
user-defined functions are no longer case sensitive.
<LI>

Added escape of <CODE>^Z</CODE> (ASCII 26) to <CODE>\Z</CODE> as <CODE>^Z</CODE> doesn't
work with pipes on Win32.
<LI>

将来の <STRONG>MySQL</STRONG> リリースのために、<CODE>mysql_fix_privileges</CODE> は、
UDF のサポートのために、新しい項目を <CODE>mysql.func</CODE> に追加する。
( type enum ('function','aggregate') NOT NULL が追加された )
</UL>



<H3><A NAME="News-3.22.13" HREF="manual.ja_toc.html#News-3.22.13">D.2.16  Changes in release 3.22.13</A></H3>


<UL>
<LI>

Saving <CODE>NOW()</CODE>, <CODE>CURDATE()</CODE> or <CODE>CURTIME()</CODE> directly in a
column didn't work.
<LI>

<CODE>WHERE</CODE> 節が無い場合、<CODE>SELECT COUNT(*) ... LEFT JOIN ...</CODE> が動かなかった
<LI>

UnixWare 7.0.x で <STRONG>MySQL</STRONG> をコンフィグできるように <TT>`config.guess'</TT> を更新
UnixWare 7.0.x.
<LI>

Changed the implementation of <CODE>pthread_cond()</CODE> on the Win32 version.
<CODE>get_lock()</CODE> now correctly times out on Win32!
</UL>



<H3><A NAME="News-3.22.12" HREF="manual.ja_toc.html#News-3.22.12">D.2.17  Changes in release 3.22.12</A></H3>


<UL>
<LI>

<CODE>WHERE</CODE> 節で <CODE>DATE_ADD()</CODE> と <CODE>DATE_SUB()</CODE> を使用した際の問題を修正
<LI>

<CODE>GRANT ... TO user IDENTIFIED BY 'password'</CODE> 構文でパスワードをセットできるようにした
<LI>

多くのテーブルを <CODE>SELECT</CODE> して <CODE>GRANT</CODE> を確認する際のバグを修正
<LI>

RPM 配布での <CODE>mysql_fix_privilege_tables</CODE> ファイルの追加。
これはクライアントパッケージに含んだため、デフォルトでは起動されない。
<LI>

<CODE>SQL_SMALL_RESULT</CODE> オプションを <CODE>SELECT</CODE> に追加。
これは強制的に速い一時テーブルを使用する。
結果が小さいとわかっている場合に使用すると有効。
<LI>

小数点をつけなくても実数が使用できるようにした
<LI>

<CODE>DATE_ADD</CODE>/<CODE>DATE_SUB()</CODE> の結果、十分な日数を得られない場合、
日数を月の最大日にするようにした。
<LI>

<CODE>GRANT</CODE> がカラムをケース非依存で比較していたのを修正
<LI>

ある構文の組み合わせで <CODE>ALTER TABLE</CODE> が core をはくバグが
 <TT>`sql_list.h'</TT> にあったのでこれを修正
<LI>

The hostname in <CODE>user@hostname</CODE> can now include <SAMP>`.'</SAMP> and <SAMP>`-'</SAMP>
without quotes in the context of the <CODE>GRANT</CODE>, <CODE>REVOKE</CODE> and
<CODE>SET PASSWORD FOR ...</CODE> statements.
<LI>

大きな一時ファイルを必要とするテーブルへの <CODE>isamchk</CODE> を修正
</UL>



<H3><A NAME="News-3.22.11" HREF="manual.ja_toc.html#News-3.22.11">D.2.18  Changes in release 3.22.11</A></H3>


<UL>
<LI>

<STRONG>重要</STRONG>: 3.22.11にアップグレードする場合、必ず <CODE>mysql_fix_privilege_tables</CODE> スクリプトを実行しなくてはなりません！
これは新しい <CODE>GRANT</CODE> システムのために実行します。
もしこれを行わなければ、<CODE>ALTER TABLE</CODE> や <CODE>CREATE INDEX</CODE>, <CODE>DROP INDEX</CODE> を
実行しようとすると <CODE>Access denied</CODE> になります。
<LI>

テーブル、カラムごとにユーザーのアクセスに対して許可や拒否を設定できます
<LI>

<CODE>USER()</CODE> を <CODE>user@host</CODE> を返すように変更
<LI>

他のユーザーの <CODE>PASSWORD</CODE> をセットする構文を変更
<LI>

新コマンド：<CODE>FLUSH STATUS</CODE> はほとんどのステータス変数をゼロにセットします
<LI>

新ステータス変数： <CODE>aborted_threads</CODE>, <CODE>aborted_connects</CODE>.
<LI>

新オプション： <CODE>connection_timeout</CODE>
<LI>

ソートのサポート (by Pruet Boonma
<a HREF="mailto:pruet@ds90.intanon.nectec.or.th">pruet@ds90.intanon.nectec.or.th</a>).
<LI>

スロバキア語と日本語のエラーメッセージ
<LI>

Configuration and portability fixes.
<LI>

Added option <CODE>SET SQL_WARNINGS=1</CODE> to get a warning count also for simple
inserts.
<LI>

FreeBSD 上でシャットダウンするために、<CODE>SIGQUIT</CODE> のかわりに <CODE>SIGTERM</CODE> を使用します
<LI>

<CODE>mysql</CODE> に オプション <CODE>\G</CODE> (print vertically) 追加
<LI>

<CODE>SELECT HIGH_PRIORITY</CODE> ... killed <CODE>mysqld</CODE>.
<LI>

<CODE>IS NULL</CODE> on a <CODE>AUTO_INCREMENT</CODE> column in a <CODE>LEFT JOIN</CODE> didn't
work as expected.
<LI>

New function <CODE>MAKE_SET()</CODE>.
</UL>



<H3><A NAME="News-3.22.10" HREF="manual.ja_toc.html#News-3.22.10">D.2.19  Changes in release 3.22.10</A></H3>


<UL>
<LI>

mysql_install_db は <STRONG>MySQL</STRONG> サーバーを起動しなくなりました!
mysql_install_db を行った後に、<CODE>safe_mysqld</CODE> で mysqld を開始させる必要があります。
しかし <STRONG>MySQL</STRONG> の RPM パッケージはサーバーをたちあげるようにしています。
<LI>

<CODE>--bootstrap</CODE> を <CODE>mysqld</CODE> に追加。<CODE>mysql_install_db</CODE> はこれを使用します。
この引数は RPM パッケージで  <STRONG>MySQL</STRONG> のインストールを簡略化します。
<LI>

<CODE>+, - (sign and minus), *, /, %, ABS() and MOD()</CODE> のコードを修正。
<CODE>BIGINT</CODE>で使用した場合の危険性を回避しました(64 bit safe).
<LI>

<CODE>ALTER TABLE</CODE> が mysqld をクラッシュさせるバグを修正。
<LI>

重複したキー結果を得た場合、<STRONG>MySQL</STRONG>は常にその旨を報告するようになりました。
(以前のバージョンでは、<CODE>INSERT</CODE> の時にしかメッセージが出ませんでした)
<LI>

New syntax: <CODE>INSERT INTO table_name SET column=value,column=value,...</CODE>
<LI>

<TT>`.err'</TT> ログファイルのログ記録に、time stamp をつけるようにしました。
<LI>

<CODE>MYSQL_INIT_COMMAND</CODE> オプションを <CODE>mysql_options()</CODE> に追加。
(接続要求する場合に使用できる)
<LI>

<CODE>MYSQL_READ_DEFAULT_FILE</CODE> と <CODE>MYSQL_READ_DEFAULT_GROUP</CODE> を
 <CODE>mysql_options()</CODE>に追加。
<STRONG>MySQL</STRONG> オプションファイルから以下のパラメーターを読み取る：
<CODE>port</CODE>,
<CODE>socket</CODE>, <CODE>compress</CODE>, <CODE>password</CODE>, <CODE>pipe</CODE>, <CODE>timeout</CODE>,
<CODE>user</CODE>, <CODE>init-command</CODE>, <CODE>host</CODE> and <CODE>database</CODE>
 (訳注)オプションファイルのデフォルトは /etc/my.cnf , install_directory/share/mysql/my.cnf
<LI>

UDF 構文に <CODE>maybe_null</CODE> を追加
<LI>

Added option <CODE>IGNORE</CODE> to <CODE>INSERT</CODE> statemants with many rows.
<LI>

koi8 キャラクターをソートする場合の問題を修正。
koi8を使用しているユーザーは、<CODE>CHAR</CODE> や <CODE>VARCHAR</CODE> カラムを
インデックスにしているテーブルに対して、<STRONG>必ず</STRONG> <CODE>isamchk -rq</CODE> を実行すること。
<LI>

新規スクリプト <CODE>mysql_setpermission</CODE> (Luuk de Boer 作)
これは指定されたデータベースに対してアクセスを許可するユーザーを
簡単に登録してくれます。
<LI>

Allow use of hexadecimal strings (0x...) when specifying a constant string
(like in the column separators with <CODE>LOAD DATA INFILE</CODE>).
<LI>

OS/2 に移植 (thanks to Antony T. Curtis <a HREF="mailto:antony.curtis@olcs.net">antony.curtis@olcs.net</a>).
<LI>

<CODE>SHOW STATUS</CODE> での変数を増やしました。また、<CODE>SHOW VARIABLES</CODE> の
ような出力フォーマットに変更しました。
<LI>

<CODE>extended-status</CODE> コマンドを <CODE>mysqladmin</CODE> に追加。
これは新しいステイタス変数を表示します
</UL>



<H3><A NAME="News-3.22.9" HREF="manual.ja_toc.html#News-3.22.9">D.2.20  Changes in release 3.22.9</A></H3>


<UL>
<LI>

<CODE>SET SQL_LOG_UPDATE=0</CODE> caused a lockup of the server.
<LI>

New SQL command:  <CODE>FLUSH [ TABLES | HOSTS | LOGS | PRIVILEGES ] [, ...]</CODE>
<LI>

New SQL command:  <CODE>KILL</CODE> <CODE>thread_id</CODE> .
<LI>

AIX, DEC OSF1 4.x で <STRONG>MySQL</STRONG> を簡単にコンパイルできるように
include ファイルを変更。
<LI>

<CODE>ALTER TABLE</CODE> を使用して <CODE>INT</CODE> からサイズの小さい <CODE>CHAR()</CODE> に
変更する場合におきていた不具合を修正。
<LI>

<CODE>SELECT HIGH_PRIORITY</CODE> 追加。
<CODE>SELECT</CODE> において、たとえ他の <CODE>SELECT</CODE> を待っているスレッドがあったとしても、
<CODE>WRITE LOCK</CODE> することができます。
<LI>

Moved wild_compare to string class to be able to use <CODE>LIKE</CODE> on
<CODE>BLOB</CODE>/<CODE>TEXT</CODE> columns with \0.
<LI>

Added <CODE>ESCAPE</CODE> option to <CODE>LIKE</CODE>
<LI>

<CODE>mysqladmin debug</CODE> において、より多くの出力が得られるようにした。
<LI>

Win32 において、<CODE>--flush</CODE> オプションをつけて <CODE>mysqld</CODE> を起動できるようになりました。
これはアップデートが終わった後ですべてのテーブルをディスクにフラッシュします。
このオプションにより NT/Win98 上ですごく安全に動かすことができますが、
<STRONG>とても</STRONG> 遅くなります。
</UL>



<H3><A NAME="News-3.22.8" HREF="manual.ja_toc.html#News-3.22.8">D.2.21  Changes in release 3.22.8</A></H3>


<UL>
<LI>

Czech character sets should now work much better.  You must also install
<a HREF="ftp://www.mysql.com/pub/mysql/Downloads/Patches/czech-3.22.8-patch">ftp://www.mysql.com/pub/mysql/Downloads/Patches/czech-3.22.8-patch</a>.
This patch should also be installed if you are using a character set with
uses <CODE>my_strcoll()</CODE>!  The patch should always be safe to install (for any system),
but as this patch changes ISAM internals it's not yet in the default
distribution.
<LI>

<CODE>DATE_ADD()</CODE> and <CODE>DATE_SUB()</CODE> didn't work with group functions.
<LI>

<CODE>mysql</CODE> will now also try to reconnect on <CODE>USE DATABASE</CODE> commands.
<LI>

Fix problem with <CODE>ORDER BY</CODE> and <CODE>LEFT JOIN</CODE> and <CODE>const</CODE> tables.
<LI>

Fixed problem with <CODE>ORDER BY</CODE> if the first <CODE>ORDER BY</CODE> column
was a key and the rest of the <CODE>ORDER BY</CODE> columns wasn't part of the key.
<LI>

Fixed a big problem with <CODE>OPTIMIZE TABLE</CODE>.
<LI>

<STRONG>MySQL</STRONG> clients on NT will now by default first try to connect with
named pipes and after this with TCP/IP.
<LI>

Fixed a problem with <CODE>DROP TABLE</CODE> and <CODE>mysqladmin shutdown</CODE> on Win32
(a fatal bug from 3.22.6).
<LI>

Fixed problems with <CODE>TIME columns</CODE> and negative strings.
<LI>

Added an extra thread signal loop on shutdown to avoid some error messages
from the client.
<LI>

<STRONG>MySQL</STRONG> now uses the next available number as extension for the update
log file.
<LI>

Added patches for UNIXWARE 7.
</UL>



<H3><A NAME="News-3.22.7" HREF="manual.ja_toc.html#News-3.22.7">D.2.22  Changes in release 3.22.7</A></H3>


<UL>
<LI>

Added <CODE>LIMIT</CODE> clause for the <CODE>DELETE</CODE> statement.
<LI>

You can now use the <CODE>/*! ... */</CODE> syntax to hide <STRONG>MySQL</STRONG>-specific
keywords when you write portable code.  <STRONG>MySQL</STRONG> will parse the code
inside the comments as if the surrounding <CODE>/*!</CODE> and <CODE>*/</CODE> comment
characters didn't exist.
<LI>

<CODE>OPTIMIZE TABLE tbl_name</CODE> can now be used to reclaim disk space
after many deletes.  Currently, this uses <CODE>ALTER TABLE</CODE> to re-generate
the table, but in the future it will use an integrated <CODE>isamchk</CODE>
for more speed.
<LI>

Upgraded <CODE>libtool</CODE> to get the configure more portable.
<LI>

Fixed slow <CODE>UPDATE</CODE> and <CODE>DELETE</CODE> operations when using
<CODE>DATETIME</CODE> or <CODE>DATE</CODE> keys.
<LI>

Changed optimizer to make it better at deciding when to do a full join
and when using keys.
<LI>

You can now use <CODE>mysqladmin proc</CODE> to display information about your own
threads. Only users with the <STRONG>Process_priv</STRONG> privilege can get
information about all threads.
<LI>

Added handling of formats <CODE>YYMMDD</CODE>, <CODE>YYYYMMDD</CODE>,
<CODE>YYMMDDHHMMSS</CODE> for numbers when using <CODE>DATETIME</CODE> and
<CODE>TIMESTAMP</CODE> types. (Formerly these formats only worked with strings.)
<LI>

Added connect option <CODE>CLIENT_IGNORE_SPACE</CODE> to allow use of spaces
after function names and before <SAMP>`('</SAMP> (Powerbuilder requires this).
This will make all function names reserved words.
<LI>

Added the <CODE>--log-long-format</CODE> option to <CODE>mysqld</CODE> to enable timestamps
and INSERT_ID's in the update log.
<LI>

Added <CODE>--where</CODE> option to <CODE>mysqldump</CODE> (patch by Jim Faucette).
<LI>

The lexical analyzer now uses ``perfect hashing'' for faster parsing of SQL
statements.
</UL>



<H3><A NAME="News-3.22.6" HREF="manual.ja_toc.html#News-3.22.6">D.2.23  Changes in release 3.22.6</A></H3>


<UL>
<LI>

Faster <CODE>mysqldump</CODE>.
<LI>

For the <CODE>LOAD DATA INFILE</CODE> statement, you can now use the new <CODE>LOCAL</CODE>
keyword to read the file from the client.  <CODE>mysqlimport</CODE> will
automatically use <CODE>LOCAL</CODE> when importing with the TCP/IP protocol.
<LI>

Fixed small optimize problem when updating keys.
<LI>

Changed makefiles to support shared libraries.
<LI>

<STRONG>MySQL</STRONG>-NT can now use named pipes, which means that you can now use
<STRONG>MySQL</STRONG>-NT without having to install TCP/IP.
</UL>



<H3><A NAME="News-3.22.5" HREF="manual.ja_toc.html#News-3.22.5">D.2.24  Changes in release 3.22.5</A></H3>


<UL>
<LI>

All table lock handing is changed to avoid some very subtle
deadlocks when using <CODE>DROP TABLE</CODE>, <CODE>ALTER TABLE</CODE>, <CODE>DELETE FROM
TABLE</CODE> and <CODE>mysqladmin flush-tables</CODE> under heavy usage.
Changed locking code to get better handling of locks of different types.
<LI>

Updated <CODE>DBI</CODE> to 1.00 and <CODE>DBD</CODE> to 1.2.0.
<LI>

Added a check that the error message file contains error messages suitable for
the current version of <CODE>mysqld</CODE>. (To avoid errors if you accidentally
try to use an old error message file.)
<LI>

All count structures in the client (<CODE>affected_rows()</CODE>,
<CODE>insert_id()</CODE>,...) are now of type <CODE>BIGINT</CODE> to allow 64-bit values
to be used.
This required a minor change in the <STRONG>MySQL</STRONG> protocol which should affect
only old clients when using tables with <CODE>AUTO_INCREMENT</CODE> values &#62; 24M.
<LI>

The return type of <CODE>mysql_fetch_lengths()</CODE> has changed from <CODE>uint *</CODE>
to <CODE>ulong *</CODE>. This may give a warning for old clients but should work
on most machines.
<LI>

Change <CODE>mysys</CODE> and <CODE>dbug</CODE> libraries to allocate all thread variables
in one struct.  This makes it easier to make a threaded <TT>`libmysql.dll'</TT>
library.
<LI>

Use the result from <CODE>gethostname()</CODE> (instead of <CODE>uname()</CODE>) when
constructing <TT>`.pid'</TT> file names.
<LI>

New better compressed server/client protocol.
<LI>

<CODE>COUNT()</CODE>, <CODE>STD()</CODE> and <CODE>AVG()</CODE> are extended to handle more than
4G rows.
<LI>

You can now store values in the range <CODE>-838:59:59</CODE> &#60;= x &#60;=
<CODE>838:59:59</CODE> in a <CODE>TIME</CODE> column.
<LI>

<STRONG>WARNING: INCOMPATIBLE CHANGE!!</STRONG>
If you set a <CODE>TIME</CODE> column to too short a value, <STRONG>MySQL</STRONG> now
assumes the value is given as: <CODE>[[[D ]HH:]MM:]SS</CODE> instead of
<CODE>HH[:MM[:SS]]</CODE>.
<LI>

<CODE>TIME_TO_SEC()</CODE> and <CODE>SEC_TO_TIME()</CODE> can now handle negative times
and hours up to 32767.
<LI>

Added new option
<CODE>SET OPTION SQL_LOG_UPDATE={0|1}</CODE> to allow users with
the <STRONG>process</STRONG> privilege to bypass the update log.
(Modified patch from Sergey A Mukhin <a HREF="mailto:violet@rosnet.net">violet@rosnet.net</a>.)
<LI>

Fixed fatal bug in <CODE>LPAD()</CODE>.
<LI>

Initialize line buffer in <TT>`mysql.cc'</TT> to make <CODE>BLOB</CODE> reading from
pipes safer.
<LI>

Added <CODE>-O max_connect_errors=#</CODE> option to <CODE>mysqld</CODE>.
Connect errors are now reset for each correct connection.
<LI>

Increased the default value of <CODE>max_allowed_packet</CODE> to <CODE>1M</CODE> in
<CODE>mysqld</CODE>.
<LI>

Added <CODE>--low-priority-updates</CODE> option to <CODE>mysqld</CODE>, to give
table-modifying operations (<CODE>INSERT</CODE>, <CODE>REPLACE</CODE>, <CODE>UPDATE</CODE>,
<CODE>DELETE</CODE>) lower priority than retrievals.  You can now use
<CODE>{INSERT | REPLACE | UPDATE | DELETE} LOW_PRIORITY ...</CODE> You can
also use <CODE>SET OPTION SQL_LOW_PRIORITY_UPDATES={0|1}</CODE> to change
the priority for one thread.  One side effect is that <CODE>LOW_PRIORITY</CODE>
is now a reserved word. :(
<LI>

Add support for <CODE>INSERT INTO table ... VALUES(...),(...),(...)</CODE>,
to allow inserting multiple rows with a single statement.
<LI>

<CODE>INSERT INTO tbl_name</CODE> is now also cached when used with <CODE>LOCK TABLES</CODE>.
(Previously only <CODE>INSERT ... SELECT</CODE> and <CODE>LOAD DATA INFILE</CODE> were
cached.)
<LI>

Allow <CODE>GROUP BY</CODE> functions with <CODE>HAVING</CODE>:

<PRE>
mysql&#62; SELECT col FROM table GROUP BY col HAVING COUNT(*)&#62;0;
</PRE>

<LI>

<CODE>mysqld</CODE> will now ignore trailing <SAMP>`;'</SAMP> characters in queries. This
is to make it easier to migrate from some other SQL servers that require the
trailing <SAMP>`;'</SAMP>.
<LI>

Fix for corrupted fixed-format output generated by <CODE>SELECT INTO OUTFILE</CODE>.
<LI>

<STRONG>WARNING: INCOMPATIBLE CHANGE!!</STRONG>
Added Oracle <CODE>GREATEST()</CODE> and <CODE>LEAST()</CODE> functions.  You must now use
these instead of the <CODE>MAX()</CODE> and <CODE>MIN()</CODE> functions to get the
largest/smallest value from a list of values. These can now handle <CODE>REAL</CODE>,
<CODE>BIGINT</CODE> and string (<CODE>CHAR</CODE> or <CODE>VARCHAR</CODE>) values.
<LI>

<STRONG>WARNING: INCOMPATIBLE CHANGE!!</STRONG>
<CODE>DAYOFWEEK()</CODE> had offset 0 for Sunday. Changed the offset to 1.
<LI>

Give an error for queries that mix <CODE>GROUP BY</CODE> columns and fields when
there is no <CODE>GROUP BY</CODE> specification.
<LI>

Added <CODE>--vertical</CODE> option to <CODE>mysql</CODE>, for printing results in
vertical mode.
<LI>

Index-only optimization; some queries are now resolved using
only indexes.  Until <STRONG>MySQL</STRONG> 4.0, this works only for numeric columns.
 「<A HREF="manual.ja_Performance.html#MySQL_indexes">10.4  MySQL はどのようにインデックスを使用するか？</A>」節参照.
<LI>

Lots of new benchmarks.
<LI>

A new C API chapter and lots of other improvements in the manual.
</UL>



<H3><A NAME="News-3.22.4" HREF="manual.ja_toc.html#News-3.22.4">D.2.25  Changes in release 3.22.4</A></H3>


<UL>
<LI>

Added <CODE>--tmpdir</CODE> option to <CODE>mysqld</CODE>, for specifying the location
of the temporary file directory.
<LI>

<STRONG>MySQL</STRONG> now automatically changes a query from an ODBC client:

<PRE>
SELECT ... FROM table WHERE auto_increment_column IS NULL
</PRE>

to:

<PRE>
SELECT ... FROM table WHERE auto_increment_column == LAST_INSERT_ID()
</PRE>

This allows some ODBC programs (Delphi, Access) to retrieve the newly
inserted row to fetch the <CODE>AUTO_INCREMENT</CODE> id.
<LI>

<CODE>DROP TABLE</CODE> now waits for all users to free a table before deleting it.
<LI>

Fixed small memory leak in the new connect protocol.
<LI>

New functions <CODE>BIN()</CODE>, <CODE>OCT()</CODE>, <CODE>HEX()</CODE> and <CODE>CONV()</CODE> for
converting between different number bases.
<LI>

Added function <CODE>SUBSTRING()</CODE> with 2 arguments.
<LI>

If you created a table with a record length smaller than 5, you couldn't
delete rows from the table.
<LI>

Added optimization to remove const reference tables from <CODE>ORDER BY</CODE> and
<CODE>GROUP BY</CODE>.
<LI>

<CODE>mysqld</CODE> now automatically disables system locking on Linux and Win32,
and for systems that use MIT-pthreads.  You can force the use of locking
with the <CODE>--enable-locking</CODE> option.
<LI>

Added <CODE>--console</CODE> option to <CODE>mysqld</CODE>, to force a console window
(for error messages) when using Win32.
<LI>

Fixed table locks for Win32.
<LI>

Allow <SAMP>`$'</SAMP> in identifiers.
<LI>

Changed name of user-specific configuration file from <TT>`my.cnf'</TT> to
<TT>`.my.cnf'</TT> (Unix only).
<LI>

Added <CODE>DATE_ADD()</CODE> and <CODE>DATE_SUB()</CODE> functions.
</UL>



<H3><A NAME="News-3.22.3" HREF="manual.ja_toc.html#News-3.22.3">D.2.26  Changes in release 3.22.3</A></H3>


<UL>
<LI>

Fixed a lock problem (bug in <STRONG>MySQL</STRONG> 3.22.1) when closing temporary tables.
<LI>

Added missing <CODE>mysql_ping()</CODE> to the client library.
<LI>

Added <CODE>--compress</CODE> option to all <STRONG>MySQL</STRONG> clients.
<LI>

Changed <CODE>byte</CODE> to <CODE>char</CODE> in <TT>`mysql.h'</TT> and <TT>`mysql_com.h'</TT>.
</UL>



<H3><A NAME="News-3.22.2" HREF="manual.ja_toc.html#News-3.22.2">D.2.27  Changes in release 3.22.2</A></H3>


<UL>
<LI>

Searching on multiple constant keys that matched more than 30% of the rows
didn't always use the best possible key.
<LI>

New functions <CODE>&#60;&#60;</CODE>, <CODE>&#62;&#62;</CODE>, <CODE>RPAD()</CODE> and <CODE>LPAD()</CODE>.
<LI>

You can now save default options (like passwords) in a configuration file
(<TT>`my.cnf'</TT>).
<LI>

Lots of small changes to get <CODE>ORDER BY</CODE> to work when no records are found
when using fields that are not in <CODE>GROUP BY</CODE> (<STRONG>MySQL</STRONG> extension).
<LI>

Added <CODE>--chroot</CODE> option to <CODE>mysqld</CODE>, to start <CODE>mysqld</CODE> in
a chroot environment (by Nikki Chumakov <a HREF="mailto:nikkic@cityline.ru">nikkic@cityline.ru</a>).
<LI>

Trailing spaces are now ignored when comparing case-sensitive strings;
this should fix some problems with ODBC and flag 512!
<LI>

Fixed a core-dump bug in the range optimizer.
<LI>

Added <CODE>--one-thread</CODE> option to <CODE>mysqld</CODE>, for debugging with
LinuxThreads (or <CODE>glibc</CODE>).  (This replaces the <CODE>-T32</CODE> flag)
<LI>

Added <CODE>DROP TABLE IF EXISTS</CODE> to prevent an error from occurring if the
table doesn't exist.
<LI>

<CODE>IF</CODE> and <CODE>EXISTS</CODE> are now reserved words (they would have to
be sooner or later).
<LI>

Added lots of new options to <CODE>mysqldump</CODE>.
<LI>

Server error messages are now in <TT>`mysqld_error.h'</TT>.
<LI>

The server/client protocol now supports compression.
<LI>

All bug fixes from <STRONG>MySQL</STRONG> 3.21.32.
</UL>



<H3><A NAME="News-3.22.1" HREF="manual.ja_toc.html#News-3.22.1">D.2.28  Changes in release 3.22.1</A></H3>


<UL>
<LI>

Added new C API function <CODE>mysql_ping()</CODE>.
<LI>

Added new API functions <CODE>mysql_init()</CODE> and <CODE>mysql_options()</CODE>.
You now MUST call <CODE>mysql_init()</CODE> before you call
<CODE>mysql_real_connect()</CODE>.
You don't have to call <CODE>mysql_init()</CODE> if you only use
<CODE>mysql_connect()</CODE>.
<LI>

Added <CODE>mysql_options(...,MYSQL_OPT_CONNECT_TIMEOUT,...)</CODE> so you can set a
timeout for connecting to a server.
<LI>

Added <CODE>--timeout</CODE> option to <CODE>mysqladmin</CODE>, as a test of
<CODE>mysql_options()</CODE>.
<LI>

Added <CODE>AFTER column</CODE> and <CODE>FIRST</CODE> options to
<CODE>ALTER TABLE ... ADD columns</CODE>.
This makes it possible to add a new column at some specific location
within a row in an existing table.
<LI>

<CODE>WEEK()</CODE> now takes an optional argument to allow handling of weeks when
the week starts on Monday (some European countries).  By default,
<CODE>WEEK()</CODE> assumes the week starts on Sunday.
<LI>

<CODE>TIME</CODE> columns weren't stored properly (bug in <STRONG>MySQL</STRONG> 3.22.0).
<LI>

<CODE>UPDATE</CODE> now returns information about how many rows were
matched and updated, and how many ``warnings'' occurred when doing the update.
<LI>

Fixed incorrect result from <CODE>FORMAT(-100,2)</CODE>.
<LI>

<CODE>ENUM</CODE> and <CODE>SET</CODE> columns were compared in binary (case-sensitive)
fashion; changed to be case insensitive.
</UL>



<H3><A NAME="News-3.22.0" HREF="manual.ja_toc.html#News-3.22.0">D.2.29  Changes in release 3.22.0</A></H3>


<UL>
<LI>

New (backward compatible) connect protocol that allows you to
specify the database to use when connecting, to get much faster
connections to a specific database.

The <CODE>mysql_real_connect()</CODE> call is changed to:


<PRE>
mysql_real_connect(MYSQL *mysql, const char *host, const char *user,
                   const char *passwd, const char *db, uint port,
                   const char *unix_socket, uint client_flag)
</PRE>

<LI>

Each connection is handled by its own thread, rather than by the
master <CODE>accept()</CODE> thread.  This fixes permanently the telnet bug
that was a topic on the mail list some time ago.
<LI>

All TCP/IP connections are now checked with backward resolution of
the hostname to get better security. <CODE>mysqld</CODE> now has a local hostname
resolver cache so connections should actually be faster than before,
even with this feature.
<LI>

A site automatically will be blocked from future connections if someone
repeatedly connects with an ``improper header'' (like when one uses telnet).
<LI>

You can now refer to tables in different databases with references of the form
<CODE>tbl_name@db_name</CODE> or <CODE>db_name.tbl_name</CODE>.  This makes it possible to
give a user read access to some tables and write access to others simply by
keeping them in different databases!
<LI>

Added <CODE>--user</CODE> option to <CODE>mysqld</CODE>, to allow it to run
as another Unix user (if it is started as the Unix <CODE>root</CODE> user).
<LI>

Added caching of users and access rights (for faster access rights checking)
<LI>

Normal users (not anonymous ones) can change their password with
<CODE>mysqladmin password 'new_password'</CODE>.  This uses encrypted passwords
that are not logged in the normal <STRONG>MySQL</STRONG> log!
<LI>

All important string functions are now coded in assembler for x86 Linux
machines.  This gives a speedup of 10% in many cases.
<LI>

For tables that have many columns, the column names are now hashed for
much faster column name lookup (this will speed up some benchmark
tests a lot!)
<LI>

Some benchmarks are changed to get better individual timing.
(Some loops were so short that a specific test took &#60; 2 seconds. The
loops have been changed to take about 20 seconds to make it easier
to compare different databases. A test that took 1-2 seconds before
now takes 11-24 seconds, which is much better)
<LI>

Re-arranged <CODE>SELECT</CODE> code to handle some very specific queries
involving group functions (like <CODE>COUNT(*)</CODE>) without a <CODE>GROUP BY</CODE> but
with <CODE>HAVING</CODE>. The following now works:

<PRE>
mysql&#62; SELECT count(*) as C FROM table HAVING C &#62; 1;
</PRE>

<LI>

Changed the protocol for field functions to be faster and avoid some
calls to <CODE>malloc()</CODE>.
<LI>

Added <CODE>-T32</CODE> option to <CODE>mysqld</CODE>, for running all queries under the
main thread.  This makes it possible to debug <CODE>mysqld</CODE> under Linux with
<CODE>gdb</CODE>!
<LI>

Added optimization of <CODE>not_null_column IS NULL</CODE> (needed for some Access
queries).
<LI>

Allow <CODE>STRAIGHT_JOIN</CODE> to be used between two tables to force the optimizer
to join them in a specific order.
<LI>

String functions now return <CODE>VARCHAR</CODE> rather than <CODE>CHAR</CODE> and
the column type is now <CODE>VARCHAR</CODE> for fields saved as <CODE>VARCHAR</CODE>.
This should make the <STRONG>MyODBC</STRONG> driver better, but may break some old
<STRONG>MySQL</STRONG> clients that don't handle <CODE>FIELD_TYPE_VARCHAR</CODE> the same
way as <CODE>FIELD_TYPE_CHAR</CODE>.
<LI>

<CODE>CREATE INDEX</CODE> and <CODE>DROP INDEX</CODE> are now implemented through
<CODE>ALTER TABLE</CODE>.
<CODE>CREATE TABLE</CODE> is still the recommended (fast) way to create indexes.
<LI>

Added <CODE>--set-variable</CODE> option <CODE>wait_timeout</CODE> to <CODE>mysqld</CODE>.
<LI>

Added time column to <CODE>mysqladmin processlist</CODE> to show how long a query
has taken or how long a thread has slept.
<LI>

Added lots of new variables to <CODE>show variables</CODE> and some new to
<CODE>show status</CODE>.
<LI>

Added new type <CODE>YEAR</CODE>. <CODE>YEAR</CODE> is stored in 1 byte with allowable
values of 0, and 1901 to 2155.
<LI>

Added new <CODE>DATE</CODE> type that is stored in 3 bytes rather than 4 bytes.
All new tables are created with the new date type if you don't use the
<CODE>--old-protocol</CODE> option to <CODE>mysqld</CODE>.
<LI>

Fixed bug in record caches; for some queries, you could get
<CODE>Error from table handler: #</CODE> on some operating systems.
<LI>

Added <CODE>--enable-assembler</CODE> option to <CODE>configure</CODE>, for x86 machines
(tested on Linux + <CODE>gcc</CODE>).  This will enable assembler functions for the
most important string functions for more speed!
</UL>



<H2><A NAME="News-3.21.x" HREF="manual.ja_toc.html#News-3.21.x">D.3  Changes in release 3.21.x</A></H2>



<H3><A NAME="News-3.21.33" HREF="manual.ja_toc.html#News-3.21.33">D.3.1  Changes in release 3.21.33</A></H3>


<UL>
<LI>

Fixed problem when sending <CODE>SIGHUP</CODE> to <CODE>mysqld</CODE>;
<CODE>mysqld</CODE> core dumped when starting from boot on some systems.
<LI>

Fixed problem with losing a little memory for some connections.
<LI>

<CODE>DELETE FROM tbl_name</CODE> without a <CODE>WHERE</CODE> condition is now done the
long way when you use <CODE>LOCK TABLES</CODE> or if the table is in use, to
avoid race conditions.
<LI>

<CODE>INSERT INTO TABLE (timestamp_column) VALUES (NULL);</CODE> didn't set timestamp.
</UL>



<H3><A NAME="News-3.21.32" HREF="manual.ja_toc.html#News-3.21.32">D.3.2  Changes in release 3.21.32</A></H3>


<UL>
<LI>

Fixed some possible race conditions when doing many reopen/close on the same
tables under heavy load!  This can happen if you execute <CODE>mysqladmin
refresh</CODE> often. This could in some very rare cases corrupt the header of the
index file and cause error 126 or 138.

<LI>

Fixed fatal bug in <CODE>refresh()</CODE> when running with the <CODE>--skip-locking</CODE>
option.
There was a ``very small'' time gap after a <CODE>mysqladmin refresh</CODE> when
a table could be corrupted if one thread updated a table while another
thread did <CODE>mysqladmin refresh</CODE> and another thread started a new update
ont the same table before the first thread had finished.
A refresh (or <CODE>--flush-tables</CODE>) will now not return until all used tables
are closed!
<LI>

<CODE>SELECT DISTINCT</CODE> with a <CODE>WHERE</CODE> clause that didn't match any rows
returned a row in some contexts (bug only in 3.21.31).
<LI>

<CODE>GROUP BY</CODE> + <CODE>ORDER BY</CODE> returned one empty row when no rows where
found.
<LI>

Fixed a bug in the range optimizer that wrote
<CODE>Use_count: Wrong count for ...</CODE> in the error log file.
</UL>



<H3><A NAME="News-3.21.31" HREF="manual.ja_toc.html#News-3.21.31">D.3.3  Changes in release 3.21.31</A></H3>

<UL>
<LI>

Fixed a sign extension problem for the <CODE>TINYINT</CODE> type on Irix.
<LI>

Fixed problem with <CODE>LEFT("constant_string",function)</CODE>.
<LI>

Fixed problem with <CODE>FIND_IN_SET()</CODE>.
<LI>

<CODE>LEFT JOIN</CODE> core dumped if the second table is used with a constant
<CODE>WHERE/ON</CODE> expression that uniquely identifies one record.
<LI>

Fixed problems with <CODE>DATE_FORMAT()</CODE> and incorrect dates.
<CODE>DATE_FORMAT()</CODE> now ignores <CODE>'%'</CODE> to make it possible to extend
it more easily in the future.
</UL>



<H3><A NAME="News-3.21.30" HREF="manual.ja_toc.html#News-3.21.30">D.3.4  Changes in release 3.21.30</A></H3>

<UL>
<LI>

<CODE>mysql</CODE> now returns an exit code &#62; 0 if the query returned an error.
<LI>

Saving of command line history to file in <CODE>mysql</CODE> client.
By Tommy Larsen <a HREF="mailto:tommy@mix.hive.no">tommy@mix.hive.no</a>.
<LI>

Fixed problem with empty lines that were ignored in <TT>`mysql.cc'</TT>.
<LI>

Save the pid of the signal handler thread in the pid file instead
of the pid of the main thread.
<LI>

<a HREF="mailto:tommy@valley.ne.jp">tommy@valley.ne.jp</a> による日本語キャラクターセット(SJIS, UJIS)のサポート. 
<LI>

Changed <CODE>safe_mysqld</CODE> to redirect startup messages to
<CODE>'hostname'.err</CODE> instead
of <CODE>'hostname'.log</CODE> to reclaim file space on <CODE>mysqladmin refresh</CODE>.
<LI>

<CODE>ENUM</CODE> always had the first entry as default value.
<LI>

<CODE>ALTER TABLE</CODE> wrote two entries to the update log.
<LI>

<CODE>sql_acc()</CODE> now closes the <CODE>mysql</CODE> grant tables after a reload to
save table space and memory.
<LI>

Changed <CODE>LOAD DATA</CODE> to use less memory with tables and <CODE>BLOB</CODE>
columns.
<LI>

Sorting on a function which made a division / 0 produced a wrong set
in some cases.
<LI>

Fixed <CODE>SELECT</CODE> problem with <CODE>LEFT()</CODE> when using the czech character
set.
<LI>

Fixed problem in <CODE>isamchk</CODE>; it couldn't repair a packed table in a very
unusual case.
<LI>

<CODE>SELECT</CODE> statements with <CODE>&#38;</CODE> or <CODE>|</CODE> (bit functions) failed on
columns with <CODE>NULL</CODE> values.
<LI>

When comparing a field = field, where one of the fields was a part key,
only the length of the part key was compared.
</UL>



<H3><A NAME="News-3.21.29" HREF="manual.ja_toc.html#News-3.21.29">D.3.5  Changes in release 3.21.29</A></H3>

<UL>
<LI>

<CODE>LOCK TABLES</CODE> + <CODE>DELETE from tbl_name</CODE> never removed locks properly.
<LI>

Fixed problem when grouping on an <CODE>OR</CODE> function.
<LI>

Fixed permission problem with <CODE>umask()</CODE> and creating new databases.
<LI>

Fixed permission problem on result file with <CODE>SELECT ... INTO OUTFILE ...</CODE>
<LI>

Fixed problem in range optimizer (core dump) for a very complex query.
<LI>

Fixed problem when using <CODE>MIN(integer)</CODE> or <CODE>MAX(integer)</CODE> in
<CODE>GROUP BY</CODE>.
<LI>

Fixed bug on Alpha when using integer keys. (Other keys worked on Alpha).
<LI>

Fixed bug in <CODE>WEEK("XXXX-xx-01")</CODE>.
</UL>



<H3><A NAME="News-3.21.28" HREF="manual.ja_toc.html#News-3.21.28">D.3.6  Changes in release 3.21.28</A></H3>

<UL>
<LI>

Fixed socket permission (clients couldn't connect to Unix socket on Linux).
<LI>

Fixed bug in record caches; for some queries, you could get
<CODE>Error from table handler: #</CODE> on some operating systems.
</UL>



<H3><A NAME="News-3.21.27" HREF="manual.ja_toc.html#News-3.21.27">D.3.7  Changes in release 3.21.27</A></H3>

<UL>
<LI>

Added user level lock functions <CODE>GET_LOCK(string,timeout)</CODE>,
<CODE>RELEASE_LOCK(string)</CODE>.
<LI>

Added <CODE>opened_tables</CODE> to <CODE>show status</CODE>.
<LI>

Changed connect timeout to 3 seconds to make it somewhat harder
for crackers to kill <CODE>mysqld</CODE> through telnet + TCP/IP.
<LI>

Fixed bug in range optimizer when using
<CODE>WHERE key_part_1 &#62;= something AND key_part_2 &#60;= something_else</CODE>.
<LI>

Changed <CODE>configure</CODE> for detection of FreeBSD 3.0 9803xx and above
<LI>

<CODE>WHERE</CODE> with string_column_key = constant_string didn't always find
all rows if the column had many values differing only with characters of
the same sort value (like e and 'e).
<LI>

Strings keys looked up with 'ref' were not compared in case-sensitive fashion.
<LI>

Added <CODE>umask()</CODE> to make log files non-readable for normal users.
<LI>

Ignore users with old (8-byte) password on startup if not using
<CODE>--old-protocol</CODE> option to <CODE>mysqld</CODE>.
<LI>

<CODE>SELECT</CODE> which matched all key fields returned the values in the
case of the matched values, not of the found values. (Minor problem.)
</UL>



<H3><A NAME="News-3.21.26" HREF="manual.ja_toc.html#News-3.21.26">D.3.8  Changes in release 3.21.26</A></H3>

<UL>
<LI>

<CODE>FROM_DAYS(0)</CODE> now returns "0000-00-00".
<LI>

In <CODE>DATE_FORMAT()</CODE>, PM and AM were swapped for hours 00 and 12.
<LI>

Extended the default maximum key size to 256.
<LI>

Fixed bug when using <CODE>BLOB</CODE>/<CODE>TEXT</CODE> in <CODE>GROUP BY</CODE> with many
tables.
<LI>

An <CODE>ENUM</CODE> field that is not declared <CODE>NOT NULL</CODE> has <CODE>NULL</CODE> as
the default value.
(Previously, the default value was the first enumeration value.)
<LI>

Fixed bug in the join optimizer code when using many part keys
on the same key:  <CODE>INDEX (Organization,Surname(35),Initials(35))</CODE>.
<LI>

Added some tests to the table order optimizer to get some cases with
<CODE>SELECT ... FROM many_tables</CODE> much faster.
<LI>

Added a retry loop around <CODE>accept()</CODE> to possibly fix some problems on some
Linux machines.
</UL>



<H3><A NAME="News-3.21.25" HREF="manual.ja_toc.html#News-3.21.25">D.3.9  Changes in release 3.21.25</A></H3>

<UL>
<LI>

Changed <CODE>typedef 'string'</CODE> to <CODE>typedef 'my_string'</CODE> for better
portability.
<LI>

You can now kill threads that are waiting on a disk full condition.
<LI>

Fixed some problems with UDF functions.
<LI>

Added long options to <CODE>isamchk</CODE>. Try <CODE>isamchk --help</CODE>.
<LI>

Fixed a bug when using 8 bytes long (alpha); <CODE>filesort()</CODE> didn't work.
Affects <CODE>DISTINCT</CODE>, <CODE>ORDER BY</CODE> and <CODE>GROUP BY</CODE> on 64-bit
processors.
</UL>



<H3><A NAME="News-3.21.24" HREF="manual.ja_toc.html#News-3.21.24">D.3.10  Changes in release 3.21.24</A></H3>

<UL>
<LI>

Dynamic loadable functions. Based on source from Alexis Mikhailov.
<LI>

You couldn't delete from a table if no one had done a <CODE>SELECT</CODE> on the
table.
<LI>

Fixed problem with range optimizer with many <CODE>OR</CODE> operators on key parts
inside each other.
<LI>

Recoded <CODE>MIN()</CODE> and <CODE>MAX()</CODE> to work properly with strings and
<CODE>HAVING</CODE>.
<LI>

Changed default umask value for new files from <CODE>0664</CODE> to <CODE>0660</CODE>.
<LI>

Fixed problem with <CODE>LEFT JOIN</CODE> and constant expressions in the <CODE>ON</CODE>
part.
<LI>

Added Italian error messages from <a HREF="mailto:brenno@dewinter.com">brenno@dewinter.com</a>.
<LI>

<CODE>configure</CODE> now works better on OSF1 (tested on 4.0D).
<LI>

Added hooks to allow <CODE>LIKE</CODE> optimization with international character
support.
<LI>

Upgraded <CODE>DBI</CODE> to 0.93.
</UL>



<H3><A NAME="News-3.21.23" HREF="manual.ja_toc.html#News-3.21.23">D.3.11  Changes in release 3.21.23</A></H3>

<UL>
<LI>

The following symbols are now reserved words:
<CODE>TIME</CODE>, <CODE>DATE</CODE>, <CODE>TIMESTAMP</CODE>, <CODE>TEXT</CODE>, <CODE>BIT</CODE>,
<CODE>ENUM</CODE>, <CODE>NO</CODE>, <CODE>ACTION</CODE>, <CODE>CHECK</CODE>, <CODE>YEAR</CODE>,
<CODE>MONTH</CODE>, <CODE>DAY</CODE>, <CODE>HOUR</CODE>, <CODE>MINUTE</CODE>, <CODE>SECOND</CODE>,
<CODE>STATUS</CODE>, <CODE>VARIABLES</CODE>.
<LI>

Setting a <CODE>TIMESTAMP</CODE> to <CODE>NULL</CODE> in <CODE>LOAD DATA INFILE ...</CODE> didn't
set the current time for the <CODE>TIMESTAMP</CODE>.
<LI>

Fix <CODE>BETWEEN</CODE> to recognize binary strings. Now <CODE>BETWEEN</CODE> is
case sensitive.
<LI>

Added <CODE>--skip-thread-priority</CODE> option to <CODE>mysqld</CODE>, for systems
where <CODE>mysqld</CODE>'s thread scheduling doesn't work properly (BSDI 3.1).
<LI>

Added ODBC functions <CODE>DAYNAME()</CODE> and <CODE>MONTHNAME()</CODE>.
<LI>

Added function <CODE>TIME_FORMAT()</CODE>.  This works like <CODE>DATE_FORMAT()</CODE>,
but takes a time string (<CODE>'HH:MM:DD'</CODE>) as argument.
<LI>

Fixed unlikely(?) key optimizer bug when using <CODE>OR</CODE>s of key parts
inside <CODE>AND</CODE>s.
<LI>

Added command <CODE>variables</CODE> to <CODE>mysqladmin</CODE>.
<LI>

A lot of small changes to the binary releases.
<LI>

Fixed a bug in the new protocol from <STRONG>MySQL</STRONG> 3.21.20.
<LI>

Changed <CODE>ALTER TABLE</CODE> to work with Win32 (Win32 can't rename open files).
Also fixed a couple of small bugs in the Win32 version.
<LI>

All standard <STRONG>MySQL</STRONG> clients are now ported to MySQL-Win32.
<LI>

<STRONG>MySQL</STRONG> can now be started as a service on NT.
</UL>



<H3><A NAME="News-3.21.22" HREF="manual.ja_toc.html#News-3.21.22">D.3.12  Changes in release 3.21.22</A></H3>

<UL>
<LI>

Starting with this version, all <STRONG>MySQL</STRONG> distributions will be
configured, compiled and tested with <CODE>crash-me</CODE> and the benchmarks on
the following platforms: SunOS 5.6 sun4u, SunOS 5.5.1 sun4u, SunOS 4.14 sun4c,
SunOS 5.6 i86pc, Irix 6.3 mips5k, HP-UX 10.20 hppa, AIX 4.2.1 ppc,
OSF1 V4.0 alpha, FreeBSD 2.2.2 i86pc and BSDI 3.1 i386.
<LI>

Fix <CODE>COUNT(*)</CODE> problems when the <CODE>WHERE</CODE> clause didn't match any
records.  (Bug from 3.21.17.)
<LI>

Removed that <CODE>NULL = NULL</CODE> is true.  Now you must use <CODE>IS NULL</CODE>
or <CODE>IS NOT NULL</CODE> to test whether or not a value is <CODE>NULL</CODE>.
(This is according to ANSI SQL but may break
old applications that are ported from <CODE>mSQL</CODE>.)
You can get the old behavior by compiling with <CODE>-DmSQL_COMPLIANT</CODE>.
<LI>

Fixed bug that core dumped when using many <CODE>LEFT OUTER JOIN</CODE> clauses.
<LI>

Fixed bug in <CODE>ORDER BY</CODE> on string formula with possible <CODE>NULL</CODE> values.
<LI>

Fixed problem in range optimizer when using &#60;= on sub index.
<LI>

Added functions <CODE>DAYOFYEAR()</CODE>, <CODE>DAYOFMONTH()</CODE>, <CODE>MONTH()</CODE>,
<CODE>YEAR()</CODE>, <CODE>WEEK()</CODE>, <CODE>QUARTER()</CODE>, <CODE>HOUR()</CODE>, <CODE>MINUTE()</CODE>,
<CODE>SECOND()</CODE> and <CODE>FIND_IN_SET()</CODE>.
<LI>

Added command <CODE>SHOW VARIABLES</CODE>.
<LI>

Added support of ``long constant strings'' from ANSI SQL:

<PRE>
mysql&#62; SELECT 'first ' 'second';       -&#62; 'first second'
</PRE>

<LI>

Upgraded mSQL-Mysql-modules to 1.1825.
<LI>

Upgraded <CODE>mysqlaccess</CODE> to 2.02.
<LI>

Fixed problem with Russian character set and <CODE>LIKE</CODE>.
<LI>

Ported to OpenBSD 2.1.
<LI>

New Dutch error messages.
</UL>



<H3><A NAME="News-3.21.21a" HREF="manual.ja_toc.html#News-3.21.21a">D.3.13  Changes in release 3.21.21a</A></H3>

<UL>
<LI>

Configure changes for some operating systems.
</UL>



<H3><A NAME="News-3.21.21" HREF="manual.ja_toc.html#News-3.21.21">D.3.14  Changes in release 3.21.21</A></H3>

<UL>
<LI>

Fixed optimizer bug when using
<CODE>WHERE data_field = date_field2 AND date_field2 = constant</CODE>.
<LI>

Added command <CODE>SHOW STATUS</CODE>.
<LI>

Removed <TT>`manual.ps'</TT> from the source distribution to make it smaller.
</UL>



<H3><A NAME="News-3.21.20" HREF="manual.ja_toc.html#News-3.21.20">D.3.15  Changes in release 3.21.20</A></H3>

<UL>
<LI>

Changed the maximum table name and column name lengths from 32 to 64.
<LI>

Aliases can now be of ``any'' length.
<LI>

Fixed <CODE>mysqladmin stat</CODE> to return the right number of queries.
<LI>

Changed protocol (downward compatible) to mark if a column has the
<CODE>AUTO_INCREMENT</CODE> attribute or is a <CODE>TIMESTAMP</CODE>. This is needed for
the new Java driver.
<LI>

Added Hebrew sorting order by Zeev Suraski.
<LI>

Solaris 2.6: Fixed <CODE>configure</CODE> bugs and increased maximum table size
from 2G to 4G.
</UL>



<H3><A NAME="News-3.21.19" HREF="manual.ja_toc.html#News-3.21.19">D.3.16  Changes in release 3.21.19</A></H3>

<UL>
<LI>

Upgraded <CODE>DBD</CODE> to 1823. This version implements <CODE>mysql_use_result</CODE> in
<CODE>DBD-Mysql</CODE>.
<LI>

Benchmarks updated for empress (by Luuk).
<LI>

Fixed a case of slow range searching.
<LI>

Configure fixes (<TT>`Docs'</TT> directory).
<LI>

Added function <CODE>REVERSE()</CODE> (by Zeev Suraski).
</UL>



<H3><A NAME="News-3.21.18" HREF="manual.ja_toc.html#News-3.21.18">D.3.17  Changes in release 3.21.18</A></H3>

<UL>
<LI>

Issue error message if client C functions are called in wrong order.
<LI>

Added automatic reconnect to the <TT>`libmysql.c'</TT> library. If a write command
fails, an automatic reconnect is done.
<LI>

Small sort sets no longer use temporary files.
<LI>

Upgraded <CODE>DBI</CODE> to 0.91.
<LI>

Fixed a couple of problems with <CODE>LEFT OUTER JOIN</CODE>.
<LI>

Added <CODE>CROSS JOIN</CODE> syntax. <CODE>CROSS</CODE> is now a reserved word.
<LI>

Recoded <CODE>yacc</CODE>/<CODE>bison</CODE> stack allocation to be even safer and to allow
<STRONG>MySQL</STRONG> to handle even bigger expressions.
<LI>

Fixed a couple of problems with the update log.
<LI>

<CODE>ORDER BY</CODE> was slow when used with key ranges.
</UL>



<H3><A NAME="News-3.21.17" HREF="manual.ja_toc.html#News-3.21.17">D.3.18  Changes in release 3.21.17</A></H3>

<UL>
<LI>

Changed documentation string of <CODE>--with-unix-socket-path</CODE> to avoid
confusion.
<LI>

Added ODBC and ANSI SQL style <CODE>LEFT OUTER JOIN</CODE>.
<LI>

The following are new reserved words: <CODE>LEFT</CODE>, <CODE>NATURAL</CODE>,
<CODE>USING</CODE>.
<LI>

The client library now uses the value of the environment variable
<CODE>MYSQL_HOST</CODE> as the default host if it's defined.
<LI>

<CODE>SELECT col_name, SUM(expr)</CODE> now returns <CODE>NULL</CODE> for <CODE>col_name</CODE>
when there are matching rows.
<LI>

Fixed problem with comparing binary strings and <CODE>BLOB</CODE>s with ASCII
characters over 127.
<LI>

Fixed lock problem: when freeing a read lock on a table with multiple
read locks, a thread waiting for a write lock would have been given the lock.
This shouldn't affect data integrity, but could possibly make <CODE>mysqld</CODE>
restart if one thread was reading data that another thread modified.
<LI>

<CODE>LIMIT offset,count</CODE> didn't work in <CODE>INSERT ... SELECT</CODE>.
<LI>

Optimized key block caching. This will be quicker than the old algorithm when
using bigger key caches.
</UL>



<H3><A NAME="News-3.21.16" HREF="manual.ja_toc.html#News-3.21.16">D.3.19  Changes in release 3.21.16</A></H3>


<UL>
<LI>

Added ODBC 2.0 &#38; 3.0 functions <CODE>POWER()</CODE>, <CODE>SPACE()</CODE>,
<CODE>COT()</CODE>, <CODE>DEGREES()</CODE>, <CODE>RADIANS()</CODE>, <CODE>ROUND(2 arg)</CODE>
and <CODE>TRUNCATE()</CODE>.
<LI>

<STRONG>WARNING: INCOMPATIBLE CHANGE!!</STRONG> <CODE>LOCATE()</CODE> parameters were
swapped according to ODBC standard. Fixed.
<LI>

Added function <CODE>TIME_TO_SEC()</CODE>.
<LI>

In some cases, default values were not used for <CODE>NOT NULL</CODE> fields.
<LI>

Timestamp wasn't always updated properly in <CODE>UPDATE SET ...</CODE> statements.
<LI>

Allow empty strings as default values for <CODE>BLOB</CODE> and <CODE>TEXT</CODE>, to
be compatible with <CODE>mysqldump</CODE>.
</UL>



<H3><A NAME="News-3.21.15" HREF="manual.ja_toc.html#News-3.21.15">D.3.20  Changes in release 3.21.15</A></H3>


<UL>
<LI>

<STRONG>WARNING: INCOMPATIBLE CHANGE!!</STRONG> <CODE>mysqlperl</CODE> is now from
Msql-Mysql-modules. This means that <CODE>connect()</CODE> now takes
<CODE>host</CODE>, <CODE>database</CODE>, <CODE>user</CODE>, <CODE>password</CODE> arguments! The old
version took <CODE>host</CODE>, <CODE>database</CODE>, <CODE>password</CODE>, <CODE>user</CODE>.
<LI>

Allow <CODE>DATE '1997-01-01'</CODE>, <CODE>TIME '12:10:10'</CODE> and
<CODE>TIMESTAMP '1997-01-01 12:10:10'</CODE> formats required by ANSI SQL.
<STRONG>WARNING: INCOMPATIBLE CHANGE!!</STRONG> This has the unfortunate
side-effect that you no longer can have columns named <CODE>DATE</CODE>, <CODE>TIME</CODE>
or <CODE>TIMESTAMP</CODE>. :( Old columns can still be accessed through
<CODE>tablename.columnname</CODE>!)
<LI>

Changed Makefiles to hopefully work better with BSD systems. Also,
<TT>`manual.dvi'</TT> is now included in the distribution to avoid having stupid
<CODE>make</CODE> programs trying to rebuild it.
<LI>

<CODE>readline</CODE> library upgraded to version 2.1.
<LI>

A new sortorder german-1. That is a normal ISO-Latin1 with a german sort
order.
<LI>

Perl <CODE>DBI</CODE>/<CODE>DBD</CODE> is now included in the distribution. <CODE>DBI</CODE>
is now the recommended way to connect to <STRONG>MySQL</STRONG> from Perl.
<LI>

New portable benchmark suite with <CODE>DBD</CODE>, with test results from
<CODE>mSQL</CODE> 2.0.3, <STRONG>MySQL</STRONG>, PostgreSQL 6.2.1 and Solid server 2.2.
<LI>

<CODE>crash-me</CODE> is now included with the benchmarks; This is a Perl program
designed to find as many limits as possible in a SQL server. Tested with
<CODE>mSQL</CODE>, PostgreSQL, Solid and <STRONG>MySQL</STRONG>.
<LI>

Fixed bug in range-optimizer that crashed <STRONG>MySQL</STRONG> on some queries.
<LI>

Table and column name completion for <CODE>mysql</CODE> command line tool, by Zeev
Suraski and Andi Gutmans.
<LI>

Added new command <CODE>REPLACE</CODE> that works like <CODE>INSERT</CODE> but
replaces conflicting records with the new record. <CODE>REPLACE INTO
TABLE ... SELECT ...</CODE> works also.
<LI>

Added new commands <CODE>CREATE DATABASE db_name</CODE> and <CODE>DROP
DATABASE db_name</CODE>.
<LI>

Added <CODE>RENAME</CODE> option to <CODE>ALTER TABLE</CODE>: <CODE>ALTER TABLE name
RENAME AS new_name</CODE>.
<LI>

<CODE>make_binary_distribution</CODE> now includes <TT>`libgcc.a'</TT> in
<TT>`libmysqlclient.a'</TT>. This should make linking work for people who don't
have <CODE>gcc</CODE>.
<LI>

Changed <CODE>net_write()</CODE> to <CODE>my_net_write()</CODE> because of a name
conflict with Sybase.
<LI>

<A NAME="IDX836"></A>
<A NAME="IDX837"></A>
New function <CODE>DAYOFWEEK()</CODE> compatible with ODBC.
<LI>

Stack checking and <CODE>bison</CODE> memory overrun checking to make <STRONG>MySQL</STRONG>
safer with weird queries.
</UL>



<H3><A NAME="News-3.21.14b" HREF="manual.ja_toc.html#News-3.21.14b">D.3.21  Changes in release 3.21.14b</A></H3>


<UL>
<LI>

Fixed a couple of small <CODE>configure</CODE> problems on some platforms.
</UL>



<H3><A NAME="News-3.21.14a" HREF="manual.ja_toc.html#News-3.21.14a">D.3.22  Changes in release 3.21.14a</A></H3>


<UL>
<LI>

Ported to SCO Openserver 5.0.4  with FSU Pthreads.
<LI>

HP-UX 10.20 should work.
<LI>

Added new function <CODE>DATE_FORMAT()</CODE>.
<LI>

Added <CODE>NOT IN</CODE>.
<LI>

Added automatic removal of 'ODBC function conversions': <CODE>{fn now() }</CODE>
<LI>

Handle ODBC 2.50.3 option flags.
<LI>

Fixed comparison of <CODE>DATE</CODE> and <CODE>TIME</CODE> values with <CODE>NULL</CODE>.
<LI>

Changed language name from germany to german to be consistent with
the other language names.
<LI>

Fixed sorting problem on functions returning a <CODE>FLOAT</CODE>. Previously, the
values were converted to <CODE>INT</CODE>s before sorting.
<LI>

Fixed slow sorting when sorting on key field when using
<CODE>key_column=constant</CODE>.
<LI>

Sorting on calculated <CODE>DOUBLE</CODE> values sorted on integer results instead.
<LI>

<CODE>mysql</CODE> no longer needs a database argument.
<LI>

Changed the place where <CODE>HAVING</CODE> should be. According to ANSI, it should
be after <CODE>GROUP BY</CODE> but before <CODE>ORDER BY</CODE>. <STRONG>MySQL</STRONG> 3.20
incorrectly had it last.
<LI>

Added Sybase command <CODE>USE DATABASE</CODE> to start using another database.
<LI>

Added automatic adjusting of number of connections and table cache size
if the maximum number of files that can be opened is less than needed.
This should fix that <CODE>mysqld</CODE> doesn't crash even if you haven't done a
<CODE>ulimit -n 256</CODE> before starting <CODE>mysqld</CODE>.
<LI>

Added lots of limit checks to make it safer when running with too little
memory or when doing weird queries.
</UL>



<H3><A NAME="News-3.21.13" HREF="manual.ja_toc.html#News-3.21.13">D.3.23  Changes in release 3.21.13</A></H3>


<UL>
<LI>

Added retry of interrupted reads and clearing of <CODE>errno</CODE>.
This makes Linux systems much safer!
<LI>

Fixed locking bug when using many aliases on the same table in the same
<CODE>SELECT</CODE>.
<LI>

Fixed bug with <CODE>LIKE</CODE> on number key.
<LI>

New error message so you can check whether the connection was lost while
the command was running or whether the connection was down from the start.
<LI>

Added <CODE>--table</CODE> option to <CODE>mysql</CODE> to print in table format.
Moved time and row information after query result.
Added automatic reconnect of lost connections.
<LI>

Added <CODE>!=</CODE> as a synonym for <CODE>&#60;&#62;</CODE>.
<LI>

Added function <CODE>VERSION()</CODE> to make easier logs.
<LI>

New multi-user test <TT>`tests/fork_test.pl'</TT> to put some strain on the
thread library.
</UL>



<H3><A NAME="News-3.21.12" HREF="manual.ja_toc.html#News-3.21.12">D.3.24  Changes in release 3.21.12</A></H3>


<UL>
<LI>

Fixed <CODE>ftruncate()</CODE> call in MIT-pthreads. This made <CODE>isamchk</CODE>
destroy the <TT>`.ISM'</TT> files on (Free)BSD 2.x systems.
<LI>

Fixed broken <CODE>__P_</CODE> patch in MIT-pthreads.
<LI>

Many memory overrun checks. All string functions now return <CODE>NULL</CODE>
if the returned string should be longer than <CODE>max_allowed_packet</CODE> bytes.
<LI>

Changed the name of the <CODE>INTERVAL</CODE> type to <CODE>ENUM</CODE>, because
<CODE>INTERVAL</CODE> is used in ANSI SQL.
<LI>

In some cases, doing a <CODE>JOIN</CODE> + <CODE>GROUP</CODE> + <CODE>INTO OUTFILE</CODE>,
the result wasn't grouped.
<LI>

<CODE>LIKE</CODE> with <CODE>'_'</CODE> as last character didn't work. Fixed.
<LI>

Added extended ANSI SQL <CODE>TRIM()</CODE> function.
<LI>

Added <CODE>CURTIME()</CODE>.
<LI>

Added <CODE>ENCRYPT()</CODE> function by Zeev Suraski.
<LI>

Fixed better <CODE>FOREIGN KEY</CODE> syntax skipping. New reserved words:
<CODE>MATCH</CODE>, <CODE>FULL</CODE>, <CODE>PARTIAL</CODE>.
<LI>

<CODE>mysqld</CODE> now allows IP number and hostname to the <CODE>--bind-address</CODE>
option.
<LI>

Added <CODE>SET OPTION CHARACTER SET cp1251_koi8</CODE> to enable conversions of
data to/from cp1251_koi8.
<LI>

Lots of changes for Win95 port. In theory, this version should now be
easily portable to Win95.
<LI>

Changed the <CODE>CREATE COLUMN</CODE> syntax of <CODE>NOT NULL</CODE> columns to be after
the <CODE>DEFAULT</CODE> value, as specified in the ANSI SQL standard. This will
make <CODE>mysqldump</CODE> with <CODE>NOT NULL</CODE> and default values incompatible with
<STRONG>MySQL</STRONG> 3.20.
<LI>

Added many function name aliases so the functions can be used with
ODBC or ANSI SQL92 syntax.
<LI>

Fixed syntax of <CODE>ALTER TABLE tbl_name ALTER COLUMN col_name SET DEFAULT
NULL</CODE>.
<LI>

Added <CODE>CHAR</CODE> and <CODE>BIT</CODE> as synonyms for <CODE>CHAR(1)</CODE>.
<LI>

Fixed core dump when updating as a user who has only <STRONG>select</STRONG> privilege.
<LI>

<CODE>INSERT ... SELECT ... GROUP BY</CODE> didn't work in some cases. An
<CODE>Invalid use of group function</CODE> error occurred.
<LI>

When using <CODE>LIMIT</CODE>, <CODE>SELECT</CODE> now always uses keys instead of record
scan.  This will give better performance on <CODE>SELECT</CODE> and a <CODE>WHERE</CODE>
that matches many rows.
<LI>

Added Russian error messages.
</UL>



<H3><A NAME="News-3.21.11" HREF="manual.ja_toc.html#News-3.21.11">D.3.25  Changes in release 3.21.11</A></H3>


<UL>
<LI>

Configure changes.
<LI>

<STRONG>MySQL</STRONG> now works with the new thread library on BSD/OS 3.0.
<LI>

Added new group functions <CODE>BIT_OR()</CODE> and <CODE>BIT_AND()</CODE>.
<LI>

Added compatibility functions <CODE>CHECK</CODE> and <CODE>REFERENCES</CODE>.
<CODE>CHECK</CODE> is now a reserved word.
<LI>

Added <CODE>ALL</CODE> option to <CODE>GRANT</CODE> for better compatibility. (<CODE>GRANT</CODE>
is still a dummy function.)
<LI>

Added partly-translated dutch messages.
<LI>

Fixed bug in <CODE>ORDER BY</CODE> and <CODE>GROUP BY</CODE> with <CODE>NULL</CODE> columns.
<LI>

Added function <CODE>last_insert_id()</CODE> to retrieve last <CODE>AUTO_INCREMENT</CODE>
value.  This is intended for clients to ODBC that can't use the
<CODE>mysql_insert_id()</CODE> API function, but can be used by any client.
<LI>

Added <CODE>--flush-logs</CODE> option to <CODE>mysqladmin</CODE>.
<LI>

Added command <CODE>STATUS</CODE> to <CODE>mysql</CODE>.
<LI>

Fixed problem with <CODE>ORDER BY</CODE>/<CODE>GROUP BY</CODE> because of bug in <CODE>gcc</CODE>.
<LI>

Fixed problem with <CODE>INSERT ... SELECT ... GROUP BY</CODE>.
</UL>



<H3><A NAME="News-3.21.10" HREF="manual.ja_toc.html#News-3.21.10">D.3.26  Changes in release 3.21.10</A></H3>


<UL>
<LI>

New <CODE>mysqlaccess</CODE>.
<LI>

<CODE>CREATE</CODE> now supports all ODBC types and the <CODE>mSQL</CODE> <CODE>TEXT</CODE> type.
All ODBC 2.5 functions are also supported (added <CODE>REPEAT</CODE>). This provides
better portability.
<LI>

Added text types <CODE>TINYTEXT</CODE>, <CODE>TEXT</CODE>, <CODE>MEDIUMTEXT</CODE> and
<CODE>LONGTEXT</CODE>.  These are actually <CODE>BLOB</CODE>types, but all searching is
done in case-insensitive fashion.
<LI>

All old <CODE>BLOB</CODE> fields are now <CODE>TEXT</CODE> fields.  This only
changes that all searching on strings is done in case-sensitive fashion.
You must do an <CODE>ALTER TABLE</CODE> and change the field type to <CODE>BLOB</CODE>
if you want to have tests done in case-sensitive fashion.
<LI>

Fixed some <CODE>configure</CODE> issues.
<LI>

Made the locking code a bit safer. Fixed very unlikely
deadlock situation.
<LI>

Fixed a couple of bugs in the range optimizer. Now the new range benchmark
<CODE>test-select</CODE> works.
</UL>



<H3><A NAME="News-3.21.9" HREF="manual.ja_toc.html#News-3.21.9">D.3.27  Changes in release 3.21.9</A></H3>


<UL>
<LI>

Added <CODE>--enable-unix-socket=pathname</CODE> option to <CODE>configure</CODE>.
<LI>

Fixed a couple of portability problems with include files.
<LI>

Fixed bug in range calculation that could return empty
set when searching on multiple key with only one entry (very rare).
<LI>

Most things ported to FSU Pthreads, which should allow <STRONG>MySQL</STRONG> to
run on SCO.  「<A HREF="manual.ja_Installing.html#SCO">4.11.13  SCO notes</A>」節参照.
</UL>



<H3><A NAME="News-3.21.8" HREF="manual.ja_toc.html#News-3.21.8">D.3.28  Changes in release 3.21.8</A></H3>


<UL>
<LI>

Works now in Solaris 2.6.
<LI>

Added handling of calculation of <CODE>SUM()</CODE> functions.
For example, you can now use <CODE>SUM(column)/COUNT(column)</CODE>.
<LI>

Added handling of trigometric functions:
<CODE>PI()</CODE>, <CODE>ACOS()</CODE>, <CODE>ASIN()</CODE>, <CODE>ATAN()</CODE>, <CODE>COS()</CODE>,
<CODE>SIN()</CODE> and <CODE>TAN()</CODE>.
<LI>

New languages: norwegian, norwegian-ny and portuguese.
<LI>

Fixed parameter bug in <CODE>net_print()</CODE> in <TT>`procedure.cc'</TT>.
<LI>

Fixed a couple of memory leaks.
<LI>

Now allow also the old <CODE>SELECT ... INTO OUTFILE</CODE> syntax.
<LI>

Fixed bug with <CODE>GROUP BY</CODE> and <CODE>SELECT</CODE> on key with many values.
<LI>

<CODE>mysql_fetch_lengths()</CODE> sometimes returned incorrect lengths when you used
<CODE>mysql_use_result()</CODE>. This affected at least some cases of
<CODE>mysqldump --quick</CODE>.
<LI>

Fixed bug in optimization of <CODE>WHERE const op field</CODE>.
<LI>

Fixed problem when sorting on <CODE>NULL</CODE> fields.
<LI>

Fixed a couple of 64-bit (Alpha) problems.
<LI>

Added <CODE>--pid-file=#</CODE> option to <CODE>mysqld</CODE>.
<LI>

Added date formatting to <CODE>FROM_UNIXTIME()</CODE>, originally by Zeev Suraski.
<LI>

Fixed bug in <CODE>BETWEEN</CODE> in range optimizer (Did only test = of the first
argument).
<LI>

Added machine-dependent files for MIT-pthreads i386-SCO. There is probably
more to do to get this to work on SCO 3.5.
</UL>



<H3><A NAME="News-3.21.7" HREF="manual.ja_toc.html#News-3.21.7">D.3.29  Changes in release 3.21.7</A></H3>


<UL>
<LI>

Changed <TT>`Makefile.am'</TT> to take advantage of Automake 1.2.
<LI>

Added the beginnings of a benchmark suite.
<LI>

Added more secure password handling.
<LI>

Added new client function <CODE>mysql_errno()</CODE>, to get the error number of
the error message. This makes error checking in the client much easier.
This makes the new server incompatible with the 3.20.x server when running
without <CODE>--old-protocol</CODE>.  The client code is backward compatible.
More information can be found in the <TT>`README'</TT> file!
<LI>

Fixed some problems when using very long, illegal names.
</UL>



<H3><A NAME="News-3.21.6" HREF="manual.ja_toc.html#News-3.21.6">D.3.30  Changes in release 3.21.6</A></H3>


<UL>
<LI>

Fixed more portability issues (incorrect <CODE>sigwait</CODE> and <CODE>sigset</CODE>
defines).
<LI>

<CODE>configure</CODE> should now be able to detect the last argument to
<CODE>accept()</CODE>.
</UL>



<H3><A NAME="News-3.21.5" HREF="manual.ja_toc.html#News-3.21.5">D.3.31  Changes in release 3.21.5</A></H3>


<UL>
<LI>

Should now work with FreeBSD 3.0 if used with
<TT>`FreeBSD-3.0-libc_r-1.0.diff'</TT>,
which can be found at <a HREF="http://www.mysql.com/Download/Patches">http://www.mysql.com/Download/Patches</a>.
<LI>

Added new option <CODE>-O tmp_table_size=#</CODE> to <CODE>mysqld</CODE>.
<LI>

New function <CODE>FROM_UNIXTIME(timestamp)</CODE> which returns a date string in
'YYYY-MM-DD HH:MM:DD' format.
<LI>

New function <CODE>SEC_TO_TIME(seconds)</CODE> which returns a string in
'HH:MM:SS' format.
<LI>

New function <CODE>SUBSTRING_INDEX()</CODE>, originally by Zeev Suraski.
</UL>



<H3><A NAME="News-3.21.4" HREF="manual.ja_toc.html#News-3.21.4">D.3.32  Changes in release 3.21.4</A></H3>


<UL>
<LI>

Should now configure and compile on OSF1 4.0 with the DEC compiler.
<LI>

Configuration and compilation on BSD/OS 3.0 works, but due to some bugs in
BSD/OS 3.0, <CODE>mysqld</CODE> doesn't work on it yet.
<LI>

Configuration and compilation on FreeBSD 3.0 works, but I couldn't get
<CODE>pthread_create</CODE> to work.
</UL>



<H3><A NAME="News-3.21.3" HREF="manual.ja_toc.html#News-3.21.3">D.3.33  Changes in release 3.21.3</A></H3>


<UL>
<LI>

Added reverse check lookup of hostnames to get better security.
<LI>

Fixed some possible buffer overflows if filenames that are too long are used.
<LI>

<CODE>mysqld</CODE> doesn't accept hostnames that start with digits followed by a
<CODE>'.'</CODE>, because the hostname may look like an IP number.
<LI>

Added <CODE>--skip-networking</CODE> option to <CODE>mysqld</CODE>, to only allow socket
connections.  (This will not work with MIT-pthreads!)
<LI>

Added check of too long table names for alias.
<LI>

Added check if database name is okay.
<LI>

Added check if too long table names.
<LI>

Removed incorrect <CODE>free()</CODE> that killed the server on
<CODE>CREATE DATABASE</CODE> or <CODE>DROP DATABASE</CODE>.
<LI>

Changed some <CODE>mysqld</CODE> <CODE>-O</CODE> options to better names.
<LI>

Added <CODE>-O join_cache_size=#</CODE> option to <CODE>mysqld</CODE>.
<LI>

Added <CODE>-O max_join_size=#</CODE> option to <CODE>mysqld</CODE>, to be able to set a
limit how big queries (in this case big = slow) one should be able to handle
without specifying <CODE>SET OPTION SQL_BIG_SELECTS=1</CODE>.  A # = is about 10
examined records. The default is ``unlimited''.
<LI>

When comparing a <CODE>TIME</CODE>, <CODE>DATE</CODE>, <CODE>DATETIME</CODE> or <CODE>TIMESTAMP</CODE>
column to a constant, the constant is converted to a time value before
performing the comparison.
This will make it easier to get ODBC (particularly Access97) to work with
the above types. It should also make dates easier to use and the comparisons
should be quicker than before.
<LI>

Applied patch from Jochen Wiedmann that allows <CODE>query()</CODE> in
<CODE>mysqlperl</CODE> to take a query with <CODE>\0</CODE> in it.
<LI>

Storing a timestamp with a 2-digit year (<CODE>YYMMDD</CODE>) didn't work.
<LI>

Fix that timestamp wasn't automatically updated if set in an <CODE>UPDATE</CODE>
clause.
<LI>

Now the automatic timestamp field is the FIRST timestamp field.
<LI>

<CODE>SELECT * INTO OUTFILE</CODE>, which didn't correctly if the outfile already
existed.
<LI>

<CODE>mysql</CODE> now shows the thread ID when starting or doing a reconnect.
<LI>

Changed the default sort buffer size from 2M to 1M.
</UL>



<H3><A NAME="News-3.21.2" HREF="manual.ja_toc.html#News-3.21.2">D.3.34  Changes in release 3.21.2</A></H3>


<UL>
<LI>

The range optimizer is coded, but only 85% tested. It can be enabled with
<CODE>--new</CODE>, but it crashes core a lot yet...
<LI>

More portable. Should compile on AIX and alpha-digital.
At least the <CODE>isam</CODE> library should be relatively 64-bit clean.
<LI>

New <CODE>isamchk</CODE> which can detect and fix more problems.
<LI>

New options for <CODE>isamlog</CODE>.
<LI>

Using new version of Automake.
<LI>

Many small portability changes (from the AIX and alpha-digital port)
Better checking of pthread(s) library.
<LI>

czech error messages by <a HREF="mailto:snajdr@pvt.net">snajdr@pvt.net</a>.
<LI>

Decreased size of some buffers to get fewer problems on systems with little
memory.  Also added more checks to handle ``out of memory'' problems.
<LI>

<CODE>mysqladmin</CODE>: you can now do <CODE>mysqladmin kill 5,6,7,8</CODE> to kill
multiple threads.
<LI>

When the maximum connection limit is reached, one extra connection by a user
with the <STRONG>PROCESS_ACL</STRONG> privilege is granted.
<LI>

Added <CODE>-O backlog=#</CODE> option to <CODE>mysqld</CODE>.
<LI>

Increased maximum packet size from 512K to 1024K for client.
<LI>

Almost all of the function code is now tested in the internal test suite.
<LI>

<CODE>ALTER TABLE</CODE> now returns warnings from field conversions.
<LI>

Port changed to 3306 (got it reserved from ISI).
<LI>

Added a fix for Visual FoxBase so that any schema name from a table
specification is automatically removed.
<LI>

New function <CODE>ASCII()</CODE>.
<LI>

Removed function <CODE>BETWEEN(a,b,c)</CODE>. Use the standard ANSI
synax instead: <CODE>expr BETWEEN expr AND expr</CODE>.
<LI>

<STRONG>MySQL</STRONG> no longer has to use an extra temporary table when sorting
on functions or <CODE>SUM()</CODE> functions.
<LI>

Fixed bug that you couldn't use <CODE>tbl_name.field_name</CODE> in <CODE>UPDATE</CODE>.
<LI>

Fixed <CODE>SELECT DISTINCT</CODE> when using 'hidden group'. For example:

<PRE>
mysql&#62; SELECT DISTINCT MOD(some_field,10) FROM test
           GROUP BY some_field;
</PRE>

Note: <CODE>some_field</CODE> is normally in the <CODE>SELECT</CODE> part. ANSI SQL should
require it.
</UL>



<H3><A NAME="News-3.21.0" HREF="manual.ja_toc.html#News-3.21.0">D.3.35  Changes in release 3.21.0</A></H3>


<UL>
<LI>

New keywords used: <CODE>INTERVAL</CODE>, <CODE>EXPLAIN</CODE>, <CODE>READ</CODE>,
<CODE>WRITE</CODE>, <CODE>BINARY</CODE>.
<LI>

Added ODBC function <CODE>CHAR(num,...)</CODE>.
<LI>

New operator <CODE>IN</CODE>. This uses a binary search to find a match.
<LI>

New command <CODE>LOCK TABLES tbl_name [AS alias] {READ|WRITE} ...</CODE>
<LI>

Added <CODE>--log-update</CODE> option to <CODE>mysqld</CODE>, to get a log suitable for
incremental updates.
<LI>

New command <CODE>EXPLAIN SELECT ...</CODE> to get information about how the
optimizer will do the join.
<LI>

For easier client code, the client should no longer use
<CODE>FIELD_TYPE_TINY_BLOB</CODE>, <CODE>FIELD_TYPE_MEDIUM_BLOB</CODE>,
<CODE>FIELD_TYPE_LONG_BLOB</CODE> or <CODE>FIELD_TYPE_VAR_STRING</CODE> (as
previously returned by <CODE>mysql_list_fields</CODE>).  You should instead only use
<CODE>FIELD_TYPE_BLOB</CODE> or <CODE>FIELD_TYPE_STRING</CODE>.  If you want exact
types, you should use the command <CODE>SHOW FIELDS</CODE>.
<LI>

Added varbinary syntax: <CODE>0x######</CODE> which can be used as a string
(default) or a number.
<LI>

<CODE>FIELD_TYPE_CHAR</CODE> is renamed to <CODE>FIELD_TYPE_TINY</CODE>.
<LI>

Changed all fields to C++ classes.
<LI>

Removed FORM struct.
<LI>

Fields with <CODE>DEFAULT</CODE> values no longer need to be <CODE>NOT NULL</CODE>.
<LI>

New field types:
<DL COMPACT>

<DT><CODE>ENUM</CODE>
<DD>
A string which can take only a couple of defined values. The value is
stored as a 1-3 byte number that is mapped automatically to a string.
This is sorted according to string positions!
<DT><CODE>SET</CODE>
<DD>
A string which may have one or many string values separated with ','.
The string is stored as a 1-, 2-, 3-, 4- or 8-byte number where each bit stands
for a specific set member.  This is sorted according to the unsigned value
of the stored packed number.
</DL>
<LI>

Now all function calculation is done with <CODE>double</CODE> or <CODE>long long</CODE>.
This will provide the full 64-bit range with bit functions and fix some
conversions that previously could result in precision losses.  One should
avoid using <CODE>unsigned long long</CODE> columns with full 64-bit range
(numbers bigger than 9223372036854775807) because calculations are done
with <CODE>signed long long</CODE>.
<LI>

<CODE>ORDER BY</CODE> will now put <CODE>NULL</CODE> field values first. <CODE>GROUP BY</CODE>
will also work with <CODE>NULL</CODE> values.
<LI>

Full <CODE>WHERE</CODE> with expressions.
<LI>

New range optimizer that can resolve ranges when some keypart prefix is
constant. Example:

<PRE>
mysql&#62; SELECT * FROM tbl_name
           WHERE key_part_1="customer"
           AND key_part_2&#62;=10 AND key_part_2&#60;=10;
</PRE>

</UL>



<H2><A NAME="News-3.20.x" HREF="manual.ja_toc.html#News-3.20.x">D.4  Changes in release 3.20.x</A></H2>

<P>
Changes from 3.20.18 to 3.20.32b are not documented here since the
3.21 release branched here. And the relevant changes are also
documented as changes to the 3.21 version.

</P>



<H3><A NAME="News-3.20.18" HREF="manual.ja_toc.html#News-3.20.18">D.4.1  Changes in release 3.20.18</A></H3>


<UL>
<LI>

Added <CODE>-p#</CODE> (remove <CODE>#</CODE> directories from path) to <CODE>isamlog</CODE>.
All files are written with a relative path from the database directory
Now <CODE>mysqld</CODE> shouldn't crash on shutdown when using the
<CODE>--log-isam</CODE> option.
<LI>

New <CODE>mysqlperl</CODE> version. It is now compatible with <CODE>msqlperl-0.63</CODE>.
<LI>

New <CODE>DBD</CODE> module available at <a HREF="http://www.mysql.com/Contrib">http://www.mysql.com/Contrib</a>
site.
<LI>

Added group function <CODE>STD()</CODE> (standard deviation).
<LI>

The <CODE>mysqld</CODE> server is now compiled by default without debugging
information.  This will make the daemon smaller and faster.
<LI>

Now one usually only has to specify the <CODE>--basedir</CODE> option to
<CODE>mysqld</CODE>. All other paths are relative in a normal installation.
<LI>

<CODE>BLOB</CODE> columns sometimes contained garbage when used with a <CODE>SELECT</CODE>
on more than one table and <CODE>ORDER BY</CODE>.
<LI>

Fixed that calculations that are not in <CODE>GROUP BY</CODE> work as expected
(ANSI SQL extension).
Example:

<PRE>
mysql&#62; SELECT id,id+1 FROM table GROUP BY id;
</PRE>

<LI>

The test of using <CODE>MYSQL_PWD</CODE> was reversed. Now <CODE>MYSQL_PWD</CODE> is
enabled as default in the default release.
<LI>

Fixed conversion bug which caused <CODE>mysqld</CODE> to core dump with
Arithmetic error on Sparc-386.
<LI>

Added <CODE>--unbuffered</CODE> option to <CODE>mysql</CODE>, for new <CODE>mysqlaccess</CODE>.
<LI>

When using overlapping (unnecessary) keys and join over many tables,
the optimizer could get confused and return 0 records.
</UL>



<H3><A NAME="News-3.20.17" HREF="manual.ja_toc.html#News-3.20.17">D.4.2  Changes in release 3.20.17</A></H3>


<UL>
<LI>

You can now use <CODE>BLOB</CODE> columns and the functions <CODE>IS NULL</CODE> and
<CODE>IS NOT NULL</CODE> in the <CODE>WHERE</CODE> clause.
<LI>

All communication packets and row buffers are now allocated dynamically
on demand. The default value of <CODE>max_allowed_packet</CODE> is now 64K for
the server and 512K for the client. This is mainly used to catch
incorrect packets that could trash all memory. The server limit may be
changed when it is started.
<LI>

Changed stack usage to use less memory.
<LI>

Changed <CODE>safe_mysqld</CODE> to check for running daemon.
<LI>

The <CODE>ELT()</CODE> function is renamed to <CODE>FIELD()</CODE>.  The new
<CODE>ELT()</CODE> function returns a value based on an index: <CODE>FIELD()</CODE>
is the inverse of <CODE>ELT()</CODE> Example: <CODE>ELT(2,"A","B","C")</CODE> returns
<CODE>"B"</CODE>. <CODE>FIELD("B","A","B","C")</CODE> returns <CODE>2</CODE>.
<LI>

<CODE>COUNT(field)</CODE>, where <CODE>field</CODE> could have a <CODE>NULL</CODE> value, now
works.
<LI>

A couple of bugs fixed in <CODE>SELECT ... GROUP BY</CODE>.
<LI>

Fixed memory overrun bug in <CODE>WHERE</CODE> with many unoptimizable brace levels.
<LI>

Fixed some small bugs in the grant code.
<LI>

If hostname isn't found by <CODE>get_hostname</CODE>, only the IP is checked.
Previously, you got <CODE>Access denied</CODE>.
<LI>

Inserts of timestamps with values didn't always work.
<LI>

<CODE>INSERT INTO ... SELECT ... WHERE</CODE> could give the error
<CODE>Duplicated field</CODE>.
<LI>

Added some tests to <CODE>safe_mysqld</CODE> to make it ``safer''.
<LI>

<CODE>LIKE</CODE> was case sensitive in some places and case insensitive in others.
Now <CODE>LIKE</CODE> is always case insensitive.
<LI>

<TT>`mysql.cc'</TT>: Allow <CODE>'#'</CODE> anywhere on the line.
<LI>

New command <CODE>SET OPTION SQL_SELECT_LIMIT=#</CODE>. See the FAQ for more details.
<LI>

New version of the <CODE>mysqlaccess</CODE> script.
<LI>

Change <CODE>FROM_DAYS()</CODE> and <CODE>WEEKDAY()</CODE> to also take a full
<CODE>TIMESTAMP</CODE> or <CODE>DATETIME</CODE> as argument. Before they only took a
number of type <CODE>YYYYMMDD</CODE> or <CODE>YYMMDD</CODE>.
<LI>

Added new function <CODE>UNIX_TIMESTAMP(timestamp_column)</CODE>.
</UL>



<H3><A NAME="News-3.20.16" HREF="manual.ja_toc.html#News-3.20.16">D.4.3  Changes in release 3.20.16</A></H3>


<UL>
<LI>

More changes in MIT-pthreads to get them safer. Fixed also some link
bugs at least in SunOS.
<LI>

Changed <CODE>mysqld</CODE> to work around a bug in MIT-pthreads. This makes multiple
small <CODE>SELECT</CODE> operations 20 times faster. Now <CODE>lock_test.pl</CODE> should
work.
<LI>

Added <CODE>mysql_FetchHash(handle)</CODE> to <CODE>mysqlperl</CODE>.
<LI>

The <CODE>mysqlbug</CODE> script is now distributed built to allow for reporting
bugs that appear during the build with it.
<LI>

Changed <TT>`libmysql.c'</TT> to prefer <CODE>getpwuid()</CODE> instead of
<CODE>cuserid()</CODE>.
<LI>

Fixed bug in <CODE>SELECT</CODE> optimizer when using many tables with the same
column used as key to different tables.
<LI>

Added new latin2 and Russian KOI8 character tables.
<LI>

Added support for a dummy <CODE>GRANT</CODE> command to satisfy Powerbuilder.
</UL>



<H3><A NAME="News-3.20.15" HREF="manual.ja_toc.html#News-3.20.15">D.4.4  Changes in release 3.20.15</A></H3>


<UL>
<LI>

Fixed fatal bug <CODE>packets out of order</CODE> when using MIT-pthreads.
<LI>

Removed possible loop when a thread waits for command from client
and <CODE>fcntl()</CODE> fails. Thanks to Mike Bretz for finding this bug.
<LI>

Changed alarm loop in <TT>`mysqld.cc'</TT> because shutdown didn't always
succeed in Linux.
<LI>

Removed use of <CODE>termbits</CODE> from <TT>`mysql.cc'</TT>.  This conflicted with
<CODE>glibc</CODE> 2.0.
<LI>

Fixed some syntax errors for at least BSD and Linux.
<LI>

Fixed bug when doing a <CODE>SELECT</CODE> as superuser without a database.
<LI>

Fixed bug when doing <CODE>SELECT</CODE> with group calculation to outfile.
</UL>



<H3><A NAME="News-3.20.14" HREF="manual.ja_toc.html#News-3.20.14">D.4.5  Changes in release 3.20.14</A></H3>


<UL>
<LI>

If one gives <CODE>-p</CODE> or <CODE>--password</CODE> option to <CODE>mysql</CODE> without
an argument, the user is solicited for the password from the tty.
<LI>

Added default password from <CODE>MYSQL_PWD</CODE> (by Elmar Haneke).
<LI>

Added command <CODE>kill</CODE> to <CODE>mysqladmin</CODE> to kill a specific
<STRONG>MySQL</STRONG> thread.
<LI>

Sometimes when doing a reconnect on a down connection this succeeded
first on second try.
<LI>

Fixed adding an <CODE>AUTO_INCREMENT</CODE> key with <CODE>ALTER_TABLE</CODE>.
<LI>

<CODE>AVG()</CODE> gave too small value on some <CODE>SELECT</CODE>s with
<CODE>GROUP BY</CODE> and <CODE>ORDER BY</CODE>.
<LI>

Added new <CODE>DATETIME</CODE> type (by Giovanni Maruzzelli
<a HREF="mailto:maruzz@matrice.it">maruzz@matrice.it</a>).
<LI>

Fixed that define <CODE>DONT_USE_DEFAULT_FIELDS</CODE> works.
<LI>

Changed to use a thread to handle alarms instead of signals on Solaris to
avoid race conditions.
<LI>

Fixed default length of signed numbers. (George Harvey
<a HREF="mailto:georgeh@pinacl.co.uk">georgeh@pinacl.co.uk</a>.)
<LI>

Allow anything for <CODE>CREATE INDEX</CODE>.
<LI>

Add prezeros when packing numbers to <CODE>DATE</CODE>, <CODE>TIME</CODE> and
<CODE>TIMESTAMP</CODE>.
<LI>

Fixed a bug in <CODE>OR</CODE> of multiple tables (gave empty set).
<LI>

Added many patches to MIT-pthreads. This fixes at least one lookup bug.
</UL>



<H3><A NAME="News-3.20.13" HREF="manual.ja_toc.html#News-3.20.13">D.4.6  Changes in release 3.20.13</A></H3>


<UL>
<LI>

Added ANSI SQL94 <CODE>DATE</CODE> and <CODE>TIME</CODE> types.
<LI>

Fixed bug in <CODE>SELECT</CODE> with <CODE>AND</CODE>-<CODE>OR</CODE> levels.
<LI>

Added support for Slovenian characters. The <TT>`Contrib'</TT> directory contains
source and instructions for adding other character sets.
<LI>

Fixed bug with <CODE>LIMIT</CODE> and <CODE>ORDER BY</CODE>.
<LI>

Allow <CODE>ORDER BY</CODE> and <CODE>GROUP BY</CODE> on items that aren't in the
<CODE>SELECT</CODE> list.
(Thanks to Wim Bonis <a HREF="mailto:bonis@kiss.de">bonis@kiss.de</a>, for pointing this out.)
<LI>

Allow setting of timestamp values in <CODE>INSERT</CODE>.
<LI>

Fixed bug with <CODE>SELECT ... WHERE ... = NULL</CODE>.
<LI>

Added changes for <CODE>glibc</CODE> 2.0. To get <CODE>glibc</CODE> to work, you should
add the <TT>`gibc-2.0-sigwait-patch'</TT> before compiling <CODE>glibc</CODE>.
<LI>

Fixed bug in <CODE>ALTER TABLE</CODE> when changing a <CODE>NOT NULL</CODE> field to
allow <CODE>NULL</CODE> values.
<LI>

Added some ANSI92 synonyms as field types to <CODE>CREATE TABLE</CODE>.
<CODE>CREATE TABLE</CODE> now allows <CODE>FLOAT(4)</CODE> and <CODE>FLOAT(8)</CODE> to mean
<CODE>FLOAT</CODE> and <CODE>DOUBLE</CODE>.
<LI>

New utility program <CODE>mysqlaccess</CODE> by <a HREF="mailto:Yves.Carlier@rug.ac.be">Yves.Carlier@rug.ac.be</a>.
This program shows the access rights for a specific user and the grant
rows that determine this grant.
<LI>

Added <CODE>WHERE const op field</CODE> (by <a HREF="mailto:bonis@kiss.de">bonis@kiss.de</a>).
</UL>



<H3><A NAME="News-3.20.11" HREF="manual.ja_toc.html#News-3.20.11">D.4.7  Changes in release 3.20.11</A></H3>


<UL>
<LI>

When using <CODE>SELECT ... INTO OUTFILE</CODE>, all temporary tables are ISAM
instead of HEAP to allow big dumps.
<LI>

Changed date functions to be string functions. This fixed some ``funny''
side effects when sorting on dates.
<LI>

Extended <CODE>ALTER TABLE</CODE> according to SQL92.
<LI>

Some minor compability changes.
<LI>

Added <CODE>--port</CODE> and <CODE>--socket</CODE> options to all utility programs and
<CODE>mysqld</CODE>.
<LI>

Fixed MIT-pthreads <CODE>readdir_r()</CODE>. Now <CODE>mysqladmin create database</CODE>
and <CODE>mysqladmin drop database</CODE> should work.
<LI>

Changed MIT-pthreads to use our <CODE>tempnam()</CODE>. This should fix the ``sort
aborted'' bug.
<LI>

Added sync of records count in <CODE>sql_update</CODE>. This fixed slow updates
on first connection. (Thanks to Vaclav Bittner for the test.)
</UL>



<H3><A NAME="News-3.20.10" HREF="manual.ja_toc.html#News-3.20.10">D.4.8  Changes in release 3.20.10</A></H3>


<UL>
<LI>

New insert type: <CODE>INSERT INTO ... SELECT ...</CODE>
<LI>

<CODE>MEDIUMBLOB</CODE> fixed.
<LI>

Fixed bug in <CODE>ALTER TABLE</CODE> and <CODE>BLOB</CODE>s.
<LI>

<CODE>SELECT ... INTO OUTFILE</CODE> now creates the file in the current
database directory.
<LI>

<CODE>DROP TABLE</CODE> now can take a list of tables.
<LI>

Oracle synonym <CODE>DESCRIBE</CODE> (<CODE>DESC</CODE>).
<LI>

Changes to <CODE>make_binary_distribution</CODE>.
<LI>

Added some comments to installation instructions about <CODE>configure</CODE>'s
C++ link test.
<LI>

Added <CODE>--without-perl</CODE> option to <CODE>configure</CODE>.
<LI>

Lots of small portability changes.
</UL>



<H3><A NAME="News-3.20.9" HREF="manual.ja_toc.html#News-3.20.9">D.4.9  Changes in release 3.20.9</A></H3>


<UL>
<LI>

<CODE>ALTER TABLE</CODE> didn't copy null bit. As a result, fields that were allowed
to have <CODE>NULL</CODE> values were always <CODE>NULL</CODE>.
<LI>

<CODE>CREATE</CODE> didn't take numbers as <CODE>DEFAULT</CODE>.
<LI>

Some compatibility changes for SunOS.
<LI>

Removed <TT>`config.cache'</TT> from old distribution.
</UL>



<H3><A NAME="News-3.20.8" HREF="manual.ja_toc.html#News-3.20.8">D.4.10  Changes in release 3.20.8</A></H3>


<UL>
<LI>

Fixed bug with <CODE>ALTER TABLE</CODE> and multi-part keys.
</UL>



<H3><A NAME="News-3.20.7" HREF="manual.ja_toc.html#News-3.20.7">D.4.11  Changes in release 3.20.7</A></H3>


<UL>
<LI>

New commands: <CODE>ALTER TABLE</CODE>, <CODE>SELECT ... INTO OUTFILE</CODE> and
<CODE>LOAD DATA INFILE</CODE>.
<LI>

New function: <CODE>NOW()</CODE>.
<LI>

Added new field <STRONG>file_priv</STRONG> to <CODE>mysql/user</CODE> table.
<LI>

New script <CODE>add_file_priv</CODE> which adds the new field <STRONG>file_priv</STRONG>
to the <CODE>user</CODE> table. This script must be executed if you want to
use the new <CODE>SELECT ... INTO</CODE> and <CODE>LOAD DATA INFILE ...</CODE> commands
with a version of <STRONG>MySQL</STRONG> earlier than 3.20.7.
<LI>

Fixed bug in locking code, which made <CODE>lock_test.pl</CODE> test fail.
<LI>

New files <TT>`NEW'</TT> and <TT>`BUGS'</TT>.
<LI>

Changed <TT>`select_test.c'</TT> and <TT>`insert_test.c'</TT> to include
<TT>`config.h'</TT>.
<LI>

Added command <CODE>status</CODE> to <CODE>mysqladmin</CODE> for short logging.
<LI>

Increased maximum number of keys to 16 and maximum number of key parts to 15.
<LI>

Use of sub keys. A key may now be a prefix of a string field.
<LI>

Added <CODE>-k</CODE> option to <CODE>mysqlshow</CODE>, to get key information for a table.
<LI>

Added long options to <CODE>mysqldump</CODE>.
</UL>



<H3><A NAME="News-3.20.6" HREF="manual.ja_toc.html#News-3.20.6">D.4.12  Changes in release 3.20.6</A></H3>


<UL>
<LI>

Portable to more systems because of MIT-pthreads, which will
be used automatically if <CODE>configure</CODE> cannot find a <CODE>-lpthreads</CODE>
library.
<LI>

Added GNU-style long options to almost all programs. Test with
<CODE><KBD>program</KBD> --help</CODE>.
<LI>

Some shared library support for Linux.
<LI>

The FAQ is now in <TT>`.texi'</TT> format and is available in <TT>`.html'</TT>,
<TT>`.txt'</TT> and <TT>`.ps'</TT> formats.
<LI>

Added new SQL function <CODE>RAND([init])</CODE>.
<LI>

Changed <CODE>sql_lex</CODE> to handle <CODE>\0</CODE> unquoted, but the client can't send
the query through the C API, because it takes a str pointer.
You must use <CODE>mysql_real_query()</CODE> to send the query.
<LI>

Added API function <CODE>mysql_get_client_info()</CODE>.
<LI>

<CODE>mysqld</CODE> now uses the <CODE>N_MAX_KEY_LENGTH</CODE> from <TT>`nisam.h'</TT> as
the maximum allowed key length.
<LI>

The following now works:

<PRE>
mysql&#62; SELECT filter_nr,filter_nr FROM filter ORDER BY filter_nr;
</PRE>

Previously, this resulted in the error:
<CODE>Column: 'filter_nr' in order clause is ambiguous</CODE>.
<LI>

<CODE>mysql</CODE> now outputs <CODE>'\0'</CODE>, <CODE>'\t'</CODE>, <CODE>'\n'</CODE> and <CODE>'\\'</CODE>
when encountering ASCII 0, tab, newline or <CODE>'\'</CODE> while writing
tab-separated output.
This is to allow printing of binary data in a portable format.
To get the old behavior, use <CODE>-r</CODE> (or <CODE>--raw</CODE>).
<LI>

Added german error messages (60 of 80 error messages translated).
<LI>

Added new API function <CODE>mysql_fetch_lengths(MYSQL_RES *)</CODE>, which
returns an array of of column lengths (of type <CODE>uint</CODE>).
<LI>

Fixed bug with <CODE>IS NULL</CODE> in <CODE>WHERE</CODE> clause.
<LI>

Changed the optimizer a little to get better results when searching on a key
part.
<LI>

Added <CODE>SELECT</CODE> option <CODE>STRAIGHT_JOIN</CODE> to tell the optimizer that
it should join tables in the given order.
<LI>

Added support for comments starting with <CODE>'--'</CODE> in <TT>`mysql.cc'</TT>
(Postgres syntax).
<LI>

You can have <CODE>SELECT</CODE> expressions and table columns in a <CODE>SELECT</CODE>
which are not used in the group part. This makes it efficient to implement
lookups.  The column that is used should be a constant for each group because
the value is calculated only once for the first row that is found for a group.

<PRE>
mysql&#62; SELECT id,lookup.text,sum(*) FROM test,lookup
         WHERE test.id=lookup.id GROUP BY id;
</PRE>

<LI>

Fixed bug in <CODE>SUM(function)</CODE> (could cause a core dump).
<LI>

Changed <CODE>AUTO_INCREMENT</CODE> placement in the SQL query:

<PRE>
INSERT into table (auto_field) values (0);
</PRE>

inserted 0, but it should insert an <CODE>AUTO_INCREMENT</CODE> value.
<LI>

<TT>`mysqlshow.c'</TT>: Added number of records in table. Had to change the
client code a little to fix this.
<LI>

<CODE>mysql</CODE> now allows doubled <CODE>''</CODE> or <CODE>""</CODE> within strings for
embedded <CODE>'</CODE> or <CODE>"</CODE>.
<LI>

New math functions:
<CODE>EXP()</CODE>, <CODE>LOG()</CODE>, <CODE>SQRT()</CODE>, <CODE>ROUND()</CODE>, <CODE>CEILING()</CODE>.
</UL>



<H3><A NAME="News-3.20.3" HREF="manual.ja_toc.html#News-3.20.3">D.4.13  Changes in release 3.20.3</A></H3>


<UL>
<LI>

The <CODE>configure</CODE> source now compiles a thread-free client library
<CODE>-lmysqlclient</CODE>. This is the only library that needs to be linked
with client applications.  When using the binary releases, you must
link with <CODE>-lmysql -lmysys -ldbug -lstrings</CODE> as before.
<LI>

New <CODE>readline</CODE> library from <CODE>bash-2.0</CODE>.
<LI>

LOTS of small changes to <CODE>configure</CODE> and makefiles (and related source).
<LI>

It should now be possible to compile in another directory using
<CODE>VPATH</CODE>. Tested with GNU Make 3.75.
<LI>

<CODE>safe_mysqld</CODE> and <CODE>mysql.server</CODE> changed to be more compatible
between the source and the binary releases.
<LI>

<CODE>LIMIT</CODE> now takes one or two numeric arguments.
If one argument is given, it indicates the maximum number of rows in
a result. If two arguments are given, the first argument indicates the offset
of the first row to return, the second is the maximum number of rows.
With this it's easy to do a poor man's next page/previous page WWW
application.
<LI>

Changed name of SQL function <CODE>FIELDS()</CODE> to <CODE>ELT()</CODE>.
Changed SQL function <CODE>INTERVALL()</CODE> to <CODE>INTERVAL()</CODE>.
<LI>

Made <CODE>SHOW COLUMNS</CODE> a synonym for <CODE>SHOW FIELDS</CODE>.
Added compatibility syntax <CODE>FRIEND KEY</CODE> to <CODE>CREATE TABLE</CODE>. In
<STRONG>MySQL</STRONG>, this creates a non-unique key on the given columns.
<LI>

Added <CODE>CREATE INDEX</CODE> and <CODE>DROP INDEX</CODE> as compatibility functions.
In <STRONG>MySQL</STRONG>, <CODE>CREATE INDEX</CODE> only checks if the index exists and
issues an error if it doesn't exist. <CODE>DROP INDEX</CODE> always succeeds.
<LI>

<TT>`mysqladmin.c'</TT>: added client version to version information.
<LI>

Fixed core dump bug in <CODE>sql_acl</CODE> (core on new connection).
<LI>

Removed <CODE>host</CODE>, <CODE>user</CODE> and <CODE>db</CODE> tables from database <CODE>test</CODE>
in the distribution.
<LI>

<CODE>FIELD_TYPE_CHAR</CODE> can now be signed (-128 - 127) or unsigned (0 - 255)
Previously, it was always unsigned.
<LI>

Bug fixes in <CODE>CONCAT()</CODE> and <CODE>WEEKDAY()</CODE>.
<LI>

Changed a lot of source to get <CODE>mysqld</CODE> to be compiled with SunPro
compiler.
<LI>

SQL functions must now have a <CODE>'('</CODE> immediately after the function name
(no intervening space).
For example, <CODE>'user('</CODE> is regarded as beginning a function call, and
<CODE>'user ('</CODE> is regarded as an identifier <CODE>user</CODE> followed by a
<CODE>'('</CODE>, not as a function call.
</UL>



<H3><A NAME="News-3.20.0" HREF="manual.ja_toc.html#News-3.20.0">D.4.14  Changes in release 3.20.0</A></H3>


<UL>
<LI>

The source distribution is done with <CODE>configure</CODE> and Automake.
It will make porting much easier.  The <CODE>readline</CODE> library is included
in the distribution.
<LI>

Separate client compilation:
the client code should be very easy to compile on systems which
don't have threads.
<LI>

The old Perl interface code is automatically compiled and installed.
Automatic compiling of <CODE>DBD</CODE> will follow when the new <CODE>DBD</CODE> code
is ported.
<LI>

Dynamic language support: <CODE>mysqld</CODE> can now be started with Swedish
or English (default) error messages.
<LI>

New functions: <CODE>INSERT()</CODE>, <CODE>RTRIM()</CODE>, <CODE>LTRIM()</CODE> and
<CODE>FORMAT()</CODE>.
<LI>

<CODE>mysqldump</CODE> now works correctly for all field types (even
<CODE>AUTO_INCREMENT</CODE>). The format for <CODE>SHOW FIELDS FROM tbl_name</CODE>
is changed so the <CODE>Type</CODE> column contains information suitable for
<CODE>CREATE TABLE</CODE>.  In previous releases, some <CODE>CREATE TABLE</CODE>
information had to be patched when recreating tables.
<LI>

Some parser bugs from 3.19.5 (<CODE>BLOB</CODE> and <CODE>TIMESTAMP</CODE>) are corrected.
<CODE>TIMESTAMP</CODE> now returns different date information depending on its
create length.
<LI>

Changed parser to allow a database, table or field name to
start with a number or <CODE>'_'</CODE>.
<LI>

All old C code from Unireg changed to C++ and cleaned up. This makes
the daemon a little smaller and easier to understand.
<LI>

A lot of small bug fixes done.
<LI>

New <TT>`INSTALL'</TT> files (not final version) and some info regarding porting.
</UL>



<H2><A NAME="News-3.19.x" HREF="manual.ja_toc.html#News-3.19.x">D.5  Changes in release 3.19.x</A></H2>



<H3><A NAME="News-3.19.5" HREF="manual.ja_toc.html#News-3.19.5">D.5.1  Changes in release 3.19.5</A></H3>


<UL>
<LI>

Some new functions, some more optimization on joins.
<LI>

Should now compile clean on Linux (2.0.x).
<LI>

Added functions <CODE>DATABASE()</CODE>, <CODE>USER()</CODE>, <CODE>POW()</CODE>,
<CODE>LOG10()</CODE> (needed for ODBC).
<LI>

In a <CODE>WHERE</CODE> with an <CODE>ORDER BY</CODE> on fields from only one table,
the table is now preferred as first table in a multi-join.
<LI>

<CODE>HAVING</CODE> and <CODE>IS NULL</CODE> or <CODE>IS NOT NULL</CODE> now works.
<LI>

A group on one column and a sort on a group function (<CODE>SUM()</CODE>,
<CODE>AVG()</CODE>...) didn't work together. Fixed.
<LI>

<CODE>mysqldump</CODE>: Didn't send password to server.
</UL>



<H3><A NAME="News-3.19.4" HREF="manual.ja_toc.html#News-3.19.4">D.5.2  Changes in release 3.19.4</A></H3>


<UL>
<LI>

Fixed horrible locking bug when inserting in one thread and reading
in another thread.
<LI>

Fixed one-off decimal bug.  1.00 was output as 1.0.
<LI>

Added attribute <CODE>'Locked'</CODE> to process list as info if a query is
locked by another query.
<LI>

Fixed full magic timestamp. Timestamp length may now be 14, 12, 10, 8, 6, 4
or 2 bytes.
<LI>

Sort on some numeric functions could sort incorrectly on last number.
<LI>

<CODE>IF(arg,syntax_error,syntax_error)</CODE> crashed.
<LI>

Added functions <CODE>CEILING()</CODE>, <CODE>ROUND()</CODE>, <CODE>EXP()</CODE>, <CODE>LOG()</CODE> and <CODE>SQRT()</CODE>.
<LI>

Enhanced <CODE>BETWEEN</CODE> to handle strings.
</UL>



<H3><A NAME="News-3.19.3" HREF="manual.ja_toc.html#News-3.19.3">D.5.3  Changes in release 3.19.3</A></H3>


<UL>
<LI>

Fixed <CODE>SELECT</CODE> with grouping on <CODE>BLOB</CODE> columns not to return
incorrect <CODE>BLOB</CODE> info. Grouping, sorting and distinct on <CODE>BLOB</CODE>
columns will not yet work as
expected (probably it will group/sort by the first 7 characters in the
<CODE>BLOB</CODE>). Grouping on formulas with a fixed string size (use <CODE>MID()</CODE>
on a <CODE>BLOB</CODE>) should work.
<LI>

When doing a full join (no direct keys) on multiple tables with <CODE>BLOB</CODE>
fields, the <CODE>BLOB</CODE> was garbage on output.
<LI>

Fixed <CODE>DISTINCT</CODE> with calculated columns.
</UL>

<P><HR><P>
Go to the <A HREF="manual.ja_Introduction.html">first</A>, <A HREF="manual.ja_Credits.html">previous</A>, <A HREF="manual.ja_Bugs.html">next</A>, <A HREF="manual.ja_Concept_Index.html">last</A> section, <A HREF="manual.ja_toc.html">table of contents</A>.
 </BODY>
 </HTML>
