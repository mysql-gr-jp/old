<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>MyNA Web Site</title><meta name="AUTHOR" content="MyNA Web Site"><meta name="COPYRIGHT" content="Copyright (c) 2005 by MyNA Web Site"><meta name="DESCRIPTION" content="日本MySQLユーザ会"><meta name="GENERATOR" content="XOOPS 2.0.16a JP"></head><body bgcolor="#ffffff" text="#000000" onload="window.print()">
        <table border="0"><tbody><tr><td align="center">
        <table border="0" width="640" cellpadding="0" cellspacing="1" bgcolor="#000000"><tbody><tr><td>
        <table border="0" width="640" cellpadding="20" cellspacing="1" bgcolor="#ffffff"><tbody><tr><td align="center">
        <img src="../../images/logo.gif" border="0" alt=""><br><br>
        <h3>MySQL 5.1.12-beta リリース</h3>
        <small><b>投稿日時</b>&nbsp;2006-11-3 8:49:25 | <b>トピック：</b>&nbsp;MySQL</small><br><br></td></tr><tr valign="top" style="font:12px;"><td>今年の６月９日以来、約５ヶ月ぶりに 5.1 シリーズがリリースされました。<br>MySQL 5.1 シリーズは現在ベータ版で開発が進められており、EVENTスケジューラやプラガブルストレージエンジンなど、数多くの新機能も導入されています。<br><br>今回は約５ヶ月ぶりのリリースということもあり、これらの新機能や従来からある機能、そして NDB クラスターに関しても数多くの修正が加えられ、修正項目数は 500を越えています。<br><br>以下にチェンジログを転載しますが、あまりに項目数が多いので、mysql.comサイトのログを確認するほうが見やすいかもしれません。<br><a href="http://dev.mysql.com/doc/refman/5.1/en/news-5-1-12.html" target="_blank">http://dev.mysql.com/doc/refman/5.1/en/news-5-1-12.html</a><br><br><br>----------<br>以下チェンジログ：<br><br>Functionality added or changed: <br><br>- Incompatible change: Support for the BerkeleyDB (BDB) engine has been dropped from this release. Any existing tables that are in BDB format will not be readable from within MySQL from 5.1.12 or newer. You should convert your tables to another storage engine before upgrading to 5.1.12. <br><br>- Incompatible change: The namespace for scheduled events has changed, such that events are no longer unique to individual users. This also means that a user with the EVENT privilege on a given database can now view, alter, or drop any events defined on that database. <br>　If you used scheduled events in an earlier MySQL 5.1 release, you should rename any of them having the same name and defined on the same database but belonging to different users — so that all events in a given database have unique names — before upgrading to 5.1.12 (or newer). <br>　For additional information, see Section 20.5, “The Event Scheduler and MySQL Privileges”. <br><br>- Incompatible change: The permitted values for and behaviour of the event_scheduler system variable have changed. Permitted values are now ON, OFF, and DISABLED, with OFF being the default. It is not possible to change its value to or from DISABLED while the server is running. <br>　For details, see Section 20.1, “Event Scheduler Overview”. <br><br>- Incompatible change: The full-text parser plugin interface has changed in two ways: <br>　　 --The MYSQL_FTPARSER_PARAM structure has a new flags member. This is zero if there are no special flags, or MYSQL_FTFLAGS_NEED_COPY, which means that mysql_add_word() must save a copy of the word (that is, it cannot use a pointer to the word because the word is in a buffer that will be overwritten.) <br>　　　 This flag might be set or reset by MySQL before calling the parser plugin, by the parser plugin itself, or by the mysql_parse() function. <br>　　 --The mysql_parse() and mysql_add_word() functions now take a MYSQL_FTPARSER_PARAM as their first argument, not a MYSQL_FTPARSER_PARAM::mysql_ftparam as before. <br>　These changes are not backward compatible, so the API version (MYSQL_FTPARSER_INTERFACE_VERSION) has changed. For additional information, see Section 26.2.5, “Writing Plugins”. <br><br>- Incompatible change: In the INFORMATION_SCHEMA.EVENTS table, the EVENT_DEFINITION column now contains the SQL executed by a scheduled event. <br>　 The EVENT_BODY column now contains the language used for the statement or statements shown in EVENT_DEFINITION. In MySQL 5.1, the value shown in EVENT_BODY is always SQL. <br>　 These changes were made to bring this table into line with the INFORMATION_SCHEMA.ROUTINES table, and that table's ROUTINE_BODY and ROUTINE_DEFINITION columns. (Bug#16992) <br><br>- Incompatible change: MySQL Cluster node and system restarts formerly required that all fragments use the same local checkpoint (LCP); beginning with this version, it is now possible for different fragments to use different LCPs during restarts. This means that data node filesystems must be rebuilt as part of any upgrade to this version by restarting all data nodes with the --initial option. (Bug#21271, Bug#21478) <br>　 See Section 15.5.2, “Cluster Upgrade and Downgrade Compatibility”, and related sections of the Manual before upgrading a MySQL Cluster to version 5.1.12 or later. <br><br>- Incompatible change: A number of MySQL constructs are now prohibited in partitioning expressions, beginning with this release. These include: <br>　　 A number of MySQL functions. <br>　　 You can find a complete list of these functions under Partitioning Limitation. <br>　　 The bit operators |, &amp;, ^, &lt;&lt;, &gt;&gt;, and ~. <br>　　 Nested function calls. <br>　　 Calls to stored routines, UDFs, or plugins. <br>　　 Character-to-integer conversions involving non-8-bit character sets or any of the latin1_german2_ci, latin2_czech_cs, or cp1250_czech_cs collations. <br>　 These restrictions were added in part as a result of Bug#18198 and related bug reports. <br>　 For more information about these and other restrictions on partitioned tables in MySQL, see Section 16.5, “Restrictions and Limitations on Partitioning”. <br><br>- The general query log and slow query logs now can be enabled or disabled at runtime with the general_log and slow_query_log system variables, and the name of the log files can be changed by setting the general_log_file and slow_query_log_file system variables. See Section 5.12.3, “The General Query Log”, and Section 5.12.5, “The Slow Query Log”. <br><br>- The output generated by the server when using the --xml option has changed with regard to null values. It now matches the output from mysqldump --xml. That is, a column containing a NULL value is now reported as <br>　　 <field name="column_name" xsi:nil="true"><br>　whereas a column containing the string value 'NULL' is reported as <br>　　 <field name="column_name">NULL</field><br>　and a column containing an empty string is reported as <br>　　 <field name="column_name">&gt;/field&gt;　　(Bug#21263) <br><br>- The following statements now can be executed as prepared statements (using PREPARE plus EXECUTE): <br><br>　　CACHE INDEX<br>　　CHANGE MASTER<br>　　CHECKSUM {TABLE | TABLES}<br>　　{CREATE | RENAME | DROP} DATABASE<br>　　{CREATE | RENAME | DROP} USER<br>　　FLUSH {TABLE | TABLES | TABLES WITH READ LOCK | HOSTS | PRIVILEGES<br>　　| LOGS | STATUS | MASTER | SLAVE | DES_KEY_FILE | USER_RESOURCES}<br>　　GRANT<br>　　REVOKE<br>　　KILL<br>　　LOAD INDEX INTO CACHE<br>　　RESET {MASTER | SLAVE | QUERY CACHE}<br>　　SHOW BINLOG EVENTS<br>　　SHOW CREATE {PROCEDURE | FUNCTION | EVENT | TABLE | VIEW}<br>　　SHOW {AUTHORS | CONTRIBUTORS | WARNINGS | ERRORS}<br>　　SHOW {MASTER | BINARY} LOGS<br>　　SHOW {MASTER | SLAVE} STATUS<br>　　SLAVE {START | STOP}<br>　　INSTALL PLUGIN<br>　　UNINSTALL PLUGIN　　(Bug#20665) <br><br>- The Instance Manager --passwd option has been renamed to --print-password-line. Other options were added to enable management of the IM password file from the command line: --add-user, --drop-user, --edit-user, --list-users, --check-password-file, --clean-password-file, --username, and --password. The --mysql-safe-compatible option was added to cause the Instance Manner to act similarly to mysqld_safe. <br><br>- On Windows, typing Control-C caused the mysql client to crash. Now it causes mysql to attempt to kill the current statement. If this cannot be done, or Control-C is typed again before the statement is killed, mysql exits. (Bug#17926; see also Bug#1989) <br><br>- TEXT and BLOB columns do not support DEFAULT values. However, when a default of '' was specified, the specification was silently ignored. This now results in a warning, or an error in strict mode. (Bug#19498) <br><br>- The mysql client now allows \l in the prompt command argument to insert the current delimiter into the prompt. (Bug#14448) <br><br>- Log table changes: By default, the log tables use the CSV storage engine, as before. But now the log tables can be altered to use the MyISAM storage engine. You cannot use ALTER TABLE to alter a log table that is in use. The log must be disabled first. No engines other than CSV or MyISAM are legal for the log tables. The use of DROP TABLE for log tables is similarly restricted: It cannot be used to drop a log table that is in use. The log must be disabled first. (These changes also correct a deadlock that occurred for an attempt to drop an in-use log table.) (Bug#18559) <br><br>- The LEFT() and RIGHT() functions return NULL if any argument is NULL. (Bug#11728) <br><br>- EXPLAIN EXTENDED now shows a filtered column that is an estimated percentage of the examined rows that will be joined with the previous tables. (Bug#14940) <br><br>- For mysqlshow, if a database name argument contains wildcard characters (such as ‘_’) but matches a single database name exactly, treat the name as a literal name. This allows a command such as mysqlshow information_schema work without having to escape the wildcard character. (Bug#19147) <br><br>- If a DROP VIEW statement named multiple views, it stopped with an error if a non-existent view was named and did not drop the remaining views. Now it continues on and reports an error at the end, similar to DROP TABLE. (Bug#16614) <br><br>- SHOW CREATE TABLE now shows constraints for InnoDB tables. (Bug#16614) <br><br>- Added the --set-charset option to mysqlbinlog to allow the character set to be specified for processing binary log files. (Bug#18351) <br><br>- NDB Cluster: Inserting into an NDB table failed when the table had no primary key but had a unique key added after table was created on one or more NOT NULL columns. This occurred when the unique key had been adding using either ALTER TABLE or CREATE UNIQUE KEY. (Bug#22838) <br><br>- NDB Cluster: The ndb_config utility now accepts -c as a short form of the --ndb-connectstring option. (Bug#22295) <br><br>- NDB Cluster: Added the --bind-address option for ndbd. This allows a data node process to be bound to a specific network interface. (Bug#22195) <br><br>- NDB Cluster: The Ndb_number_of_storage_nodes system variable was renamed to Ndb_number_of_data_nodes. (Bug#20848) <br><br>- Added the --ndb-use-copying-alter-table option to mysqld to provide a fallback in case of problems with online ALTER TABLE operations on NDBCluster tables. <br><br>- Added the SHOW CONTRIBUTORS statement. <br><br>- It is no longer possible to create partitioned tables using the CSV storage engine. <br><br>- NDB Cluster: The status variables Ndb_connected_host and Ndb_connected_port were renamed to Ndb_config_from_host and Ndb_config_from_port, respectively. <br><br>- NDB Cluster: A number of erroneous, misleading, or missing error messages have been corrected. (Bug#17297 &amp; Bug#19543) <br><br>- NDB Cluster: It is no longer possible to create Cluster tables using any partitioning type other than [LINEAR] KEY. Attempting to do so now raises an error. <br><br>- The ExtractValue() function now produces an error when passed an XML fragment that is not well-formed. (Bug#18201) <br><br>- (Previously, the function allowed invalid XML fragments to be used.) <br><br>- There were several issues regarding how SHOW STATUS affected some status variables and logging which could impact monitoring the MySQL Server. The behavior of this statement has been modified in two ways: <br>　　 SHOW STATUS is no longer logged to the slow query log. <br>　　 SHOW STATUS no longer updates any session status variables, except for com_show_status. <br>　 However, SHOW STATUS continues to update global status variables to allow monitoring of what the server is actually doing. This is because SHOW STATUS creates temporary tables that may affect performance if it is called excessively often. (Bug#10210, Bug#19764) <br><br>- The mysqldumpslow script has been moved from client RPM packages to server RPM packages. This corrects a problem where mysqldumpslow could not be used with a client-only RPM install, because it depends on my_print_defaults which is in the server RPM. (Bug#20216) <br><br>- The bundled yaSSL library was upgraded to version 1.3.7. <br><br>- The bundled yaSSL library licensing has added a FLOSS exception similar to MySQL to resolve licensing incompatibilities with MySQL. (See the extra/yassl/FLOSS-EXCEPTIONS file in a MySQL source distribution for details.) (Bug#16755) <br><br>- mysqlslap threads now try to connect up to 10 times if the initial connect attempt fails. (Bug#21297) <br><br>- For a successful dump, mysqldump now writes a SQL comment to the end of the dump file in the following format: <br>　　 -- Dump completed on YYYY-MM-DD hh:mm:ss　　(Bug#10877) <br><br>- The mysqld and mysqlmanager manpages have been reclassified from volume 1 to volume 8. (Bug#21220) <br><br>- In the INFORMATION_SCHEMA.ROUTINES table the ROUTINE_DEFINITION column now is defined as NULL rather than NOT NULL. Also, NULL rather than the empty string is returned as the column value if the user does not have sufficient privileges to see the routine definition. (Bug#20230) <br><br>- configure now defines the symbol DBUG_ON in config.h to indicate whether the source tree is configured to be compiled with debugging support. (Bug#19517) <br><br>- The MySQL distribution now compiles on UnixWare 7.13. (Bug#20190) <br><br>- The mysql client used the default character set if it automatically reconnected to the server, which is incorrect if the character set had been changed. To enable the character set to remain synchronized on the client and server, the mysql command charset (or \C) that changes the default character set and now also issues a SET NAMES statement. The changed character set is used for reconnects. (Bug#11972) <br><br>- The STATE column of the INFORMATION_SCHEMA.PROCESSLIST table was increased from 30 to 64 characters to accommodate longer state values. (Bug#21652) <br><br>- TIMESTAMP columns that are NOT NULL now are reported that way by SHOW COLUMNS and INFORMATION_SCHEMA. (Bug#20910) <br><br>- INFORMATION_SCHEMA contains new tables, GLOBAL_STATUS, SESSION_STATUS, GLOBAL_VARIABLES, and SESSION_VARIABLES, that correspond to the output from the SHOW {GLOBAL|SESSION} STATUS and SHOW {GLOBAL|SESSION} VARIABLES statements. <br><br>- The BINARY keyword now is forbidden as a data type attribute in stored routines (for example, DECLARE v1 VARCHAR(25) BINARY), because DECLARE does not support collations, and in this context BINARY specifies the binary collation of the variable's character set. (Bug#20701) <br><br>- The source distribution has been updated so that the UDF example can be compiled under Windows with CMake. See Section 26.3.4.5, “Compiling and Installing User-Defined Functions”. (Bug#19121) <br><br>- LOAD DATA INFILE no longer causes an implicit commit for all storage storage engines. It now causes an implicit commit only for tables using the NDB storage engine. (Bug#11151) <br><br>- The LOAD DATA FROM MASTER and LOAD TABLE FROM MASTER statements are deprecated. See Section 13.6.2.2, “LOAD DATA FROM MASTER Syntax”, for recommended alternatives. (Bug#18822) <br><br>- mysqldump now has a --flush-privileges option. It causes mysqldump to emit a FLUSH PRIVILEGES statement after dumping the mysql database. This option should be used any time the dump contains the mysql database and any other database that depends on the data in the mysql database for proper restoration. (Bug#21424) <br><br>- The default value of the tmp_table_size system variable was lowered from 32MB to 16MB because it is bounded by the value of max_heap_table_size, which has a default of 16MB. (Bug#18875) <br><br>- The number of InnoDB threads is no longer limited to 1,000 on Windows. (Bug#22268) <br><br>- Memory consumption of the InnoDB data dictionary cache was roughly halved by cleaning up the data structures. (Bug#20877) <br><br><br><br>■バグ修正：<br><br>- Security fix: On Linux, and possibly other platforms using case-sensitive filesystems, it was possible for a user granted rights on a database to create or access a database whose name differed only from that of the first by the case of one or more letters. (CVE-2006-4226, Bug#17647) <br><br>- Security fix: If a user has access to MyISAM table t, that user can create a MERGE table m that accesses t. However, if the user's privileges on t are subsequently revoked, the user can continue to access t by doing so through m. If this behavior is undesirable, you can start the server with the new --skip-merge option to disable the MERGE storage engine. (Bug#15195) <br><br>- Security fix: A stored routine created by one user and then made accessible to a different user using GRANT EXECUTE could be executed by that user with the privileges of the routine's definer. (CVE-2006-4227, Bug#18630) <br><br>- Incompatible change: For utf8 columns, the full-text parser incorrectly considered several non-word punctuation and whitespace characters as word characters, causing some searches to return incorrect results. (Bug#19580) <br><br>- The fix involves a change to the full-text parser, so any tables that have FULLTEXT indexes on utf8 columns must be repaired with REPAIR TABLE: <br>　　 REPAIR TABLE tbl_name QUICK;<br><br>- Deleting entries from a large MyISAM index could cause index corruption when it needed to shrink. Deletes from an index can happen when a record is deleted, when a key changes and must be moved, and when a key must be un-inserted because of a duplicate key. This can also happen in REPAIR TABLE when a duplicate key is found and in myisamchk when sorting the records by an index. (Bug#22384) <br><br>- For row-based replication, log rotation could occur at an improper time. (Bug#21474) <br><br>- For row-based replication, the BINLOG command did not lock tables properly, causing a crash for some table types. (Bug#19459) <br><br>- The parser rejected queries that selected from a table twice using a UNION within a subquery. The parser now supports arbitrary subquery, join, and parenthesis operations within EXISTS subqueries. A limitation still exists for scalar subqueries: If the subquery contains UNION, the first SELECT of the UNION cannot be within parentheses. For example, SELECT (SELECT a FROM t1 UNION SELECT b FROM t2) will work, but SELECT ((SELECT a FROM t1) UNION (SELECT b FROM t2)) will not. (Bug#14654) <br><br>- Incorrect type aggregation for IN and CASE expressions could lead to an incorrect result. (Bug#18360) <br><br>- When using row based replication, a CREATE TABLE...SELECT statement would be replicated, even if the table creation failed on the master (for example, due to a duplicate key failure). (Bug#20265) <br><br>- The optimizer did not take advantage of indexes on columns used for the second or third arguments of BETWEEN. (Bug#18165) <br><br>- Subqueries with aggregate functions but no FROM clause could return incorrect results. (Bug#21540) <br><br>- The CSV storage engine failed to detect some table corruption. (Bug#22080) <br><br>- For multiple-table UPDATE statements, storage engines were not notified of duplicate-key errors. (Bug#21381) <br><br>- Successive invocations of a COUNT(*) query containing a join on two MyISAM tables and a WHERE clause of the form WHERE (table1.column1 = table2.column2) OR table2.column2 IS NULL yielded different results. (Bug#21019) <br><br>- It was possible to provide the ExtractValue() function with input containing “tags” that were not valid XML; for example, it was possible to use tag names beginning with a digit, which are disallowed by the W3C's XML 1.0 specification. Such cases caused the function to return “junk” output rather than an error message signalling the user as to the true nature of the problem. (Bug#20854) <br><br>- The presence of a subquery in the ON clause of a join in a view definition prevented the MERGE algorithm from being used for the view in cases where it should be allowed. (Bug#21646) <br><br>- BIT columns were not replicated properly under row-based replication. (Bug#22550) <br><br>- Conversion of values inserted into a BIT column could affect adjacent columns. (Bug#22271) <br><br>- The URL into the online manual that is printed in the stack trace message by the server was out of date. (Bug#21449) <br><br>- Incorrect results could be obtained from re-execution of a parametrized prepared statement or a stored routine with a SELECT that uses LEFT JOIN with a second table having only one row. (Bug#21081) <br><br>- PROCEDURE ANALYSE() returned incorrect values of M FLOAT(M, D) and DOUBLE(M, D). (Bug#20305) <br><br>- Join conditions using partial indexes on utf8 columns of InnoDB tables incorrectly ignored rows where the length of the actual value was greater than the length of the partial index. (Bug#19960) <br><br>- On an INSERT into an updatable but non-insertable view, an error message was issued stating that the view was not updatable. Now the message says the view is not insertable-into. (Bug#5505) <br><br>- INSERT DELAYED did not honor SET INSERT_ID or the auto_increment_* system variables. (Bug#20627, Bug# 20830) <br><br>- For character sets having a mbmaxlen value of 2, any ALTER TABLE statement changed TEXT columns to MEDIUMTEXT. (Bug#21620) <br><br>- A query that used GROUP BY and an ALL or ANY quantified subquery in a HAVING clause could trigger an assertion failure. (Bug#21853) <br><br>- For an ENUM column that used the ucs2 character set, using ALTER TABLE to modify the column definition caused the default value to be lost. (Bug#20108) <br><br>- An UPDATE that referred to a key column in the WHERE clause and activated a trigger that modified the column resulted in a loop. (Bug#20670) <br><br>- A loaded storage engine plugin did not load after a server restart. (Bug#21610) <br><br>- Creating a TEMPORARY table with the same name as an existing table that was locked by another client could result in a lock conflict for DROP TEMPORARY TABLE because the server unnecessarily tried to acquire a name lock. (Bug#21096) <br><br>- After FLUSH TABLES WITH READ LOCK followed by UNLOCK TABLES, attempts to drop or alter a stored routine failed with an error that the routine did not exist, and attempts to execute the routine failed with a lock conflict error. (Bug#21414) <br><br>- mysql_com.h unnecessarily referred to the ulong type. (Bug#22227) <br><br>- Incorporated some portability fixes into the definition of __attribute__ in my_global.h. (Bug#2717) <br><br>- Linking the pthreads library to single-threaded MySQL libraries caused dlopen() to fail at runtime on HP-UX. (Bug#18267) <br><br>- Loading a plugin caused any an existing plugin with the same name to be lost. (Bug#20615) <br><br>- In the package of pre-built time zone tables that is available for download at <a href="http://dev.mysql.com/downloads/timezones.html" target="_blank">http://dev.mysql.com/downloads/timezones.html</a>, the tables now explicitly use the utf8 character set so that they work the same way regardless of the system character set value. (Bug#21208) <br><br>- The build process incorrectly tried to overwrite sql/lex_hash.h. This caused the build to fail when using a shadow link tree pointing to original sources that were owned by another account. (Bug#18888) <br><br>- mysql_ftdump produced bad counts for common words. (Bug#22326) <br><br>- The optimizer could make an incorrect index choice for indexes with a skewed key distribution. (Bug#22393) <br><br>- When records are merged from the insert buffer and the page needs to be reorganized, InnoDB used incorrect column length information when interpreting the records of the page. This caused a server crash due to apparent corruption of secondary indexes in ROW_FORMAT=COMPACT that contain prefix indexes of fixed-length columns. Data files should not be corrupted, but the crash was likely to repeat every time the server was restarted. (Bug#21638) <br><br>- Instance Manager didn't close the client socket file when starting a new mysqld instance. mysqld inherited the socket, causing clients connected to Instance Manager to hang. (Bug#12751) <br><br>- Using GROUP_CONCAT() on the result of a subquery in the FROM clause that itself used GROUP_CONCAT() could cause a server crash. (Bug#22015) <br><br>- Instance Manager had a race condition involving mysqld PID file removal. (Bug#22379) <br><br>- Execution of a prepared statement that uses an IN subquery with aggregate functions in the HAVING clause could cause a server crash. (Bug#22085) <br><br>- Selecting from a MERGE table could result in a server crash if the underlying tables had fewer indexes than the MERGE table itself. (Bug#21617, Bug#22937) <br><br>- A locking safety check in InnoDB reported a spurious error stored_select_lock_type is 0 inside ::start_stmt() for INSERT ... SELECT statements in innodb_locks_unsafe_for_binlog mode. The safety check was removed. (Bug#10746) <br><br>- make install tried to build files that should already have been built by make all, causing a failure if installation was performed using a different account than the one used for the initial build. (Bug#19738) <br><br>- The source distribution would not build on Windows due to a spurious dependency on ib_config.h. (Bug#22224) <br><br>- It was possible for a stored routine with a non-latin1 name to cause a stack overrun. (Bug#21311) <br><br>- The server returns a more informative error message when it attempts to open a MERGE table that has been defined to use non-MyISAM tables. (Bug#10974) <br><br>- Within stored routines, some error messages were printed incorrectly. A non-null-terminated string was passed to a message-printing routine that expected a null-terminated string. (Bug#20778) <br><br>- SUBSTR() results sometimes were stored improperly into a temporary table when multi-byte character sets were used. (Bug#20204) <br><br>- Certain malformed INSERT statements could crash the mysql client. (Bug#21142) <br><br>- EXPLAIN EXTENDED now shows a filtered column that is an estimated percentage of the examined rows that will be joined with the previous tables. This was added while dealing with a problem of MySQL choosing the wrong index for some queries. (Bug#14940) <br><br>- On Mac OS X, zero-byte read() or write() calls to an SMB-mounted filesystem could return a non-standard return value, leading to data corruption. Now such calls are avoided. (Bug#12620) <br><br>- With TRADITIONAL SQL mode, assignment of out-of-bound values and rounding of assigned values was done correctly, but assignment of the same numbers represented as strings sometimes was handled differently. (Bug#6147) <br><br>- The source distribution failed to compile when configured with the --without-geometry option. (Bug#12991) <br><br>- The source distribution failed to compile when configured with the --with-libwrap option. (Bug#18246) <br><br>- The feature of being able to recover a temporary table named #sql_id in InnoDB by creating a table named rsql_id_recover_innodb_tmp_table was broken by the introduction of the new identifier encoding in MySQL 5.1.6 (Bug#21313) <br><br>- ALTER EVENT in the body of a stored procedure led to a crash when the procedure was called. This affected only those ALTER EVENT statements which changed the interval of the event. (Bug#22397) <br><br>- A DATE can be represented as an integer (such as 20060101) or as a string (such as '2006.01.01'). When a DATE (or TIME) column is compared in one SELECT against both representations, constant propagation by the optimizer led to comparison of DATE as a string against DATE as an integer. This could result in integer comparisons such as 2006 against 20060101, erroneously producing a false result. (Bug#21475) <br><br>- When a statement used a stored function that inserted into an AUTO_INCREMENT column, the generated AUTO_INCREMENT value was not written into the binary log, so a different value could in some cases be inserted on the slave. (Bug#20341) <br><br>- A stored procedure that used LAST_INSERT_ID() did not replicate properly using statement-based binary logging. (Bug#20339) <br><br>- Use of the --no-pager option caused mysql to crash. (Bug#19363) <br><br>- For INSERT ... ON DUPLICATE KEY UPDATE, use of VALUES(col_name) within the UPDATE clause sometimes was handled incorrectly. (Bug#21555) <br><br>- When event_scheduler was set to DISABLED, its value was not displayed correctly by SHOW VARIABLES or SELECT @@global.event_scheduler. (Bug#22662) <br><br>- Row equalities (such as WHERE (a,b) = (c,d) were not taken into account by the optimizer, resulting in slow query execution. Now they are treated as conjunctions of equalities between row elements. (Bug#16081) <br><br>- If the binary logging format was changed between the times when a locked table was modified and when it was unlocked, the binary log contents were incorrect. (Bug#20863) <br><br>- Column names supplied for a view created on a master server could be lost on a slave server. (Bug#19419) <br><br>- For a MyISAM table locked with LOCK TABLES ...WRITE, queries optimized using the index_merge method did not show rows inserted with the lock in place. (Bug#20256) <br><br>- Table aliases in multiple-table DELETE statements sometimes were not resolved. (Bug#21392) <br><br>- A query result could be sorted improperly when using ORDER BY for the second table in a join. (Bug#21302) <br><br>- The --collation-server server option was being ignored. With the fix for this problem, if you choose a non-default character set with --character-set-server, you should also use --collation-server to specify the collation. (Bug#15276) <br><br>- A function result in a comparison was replaced with a constant by the optimizer under some circumstances when this optimization was invalid. (Bug#21698) <br><br>- A subquery that uses an index for both the WHERE and ORDER BY clauses produced an empty result. (Bug#21180) <br><br>- If the auto_increment_offset setting causes MySQL to generate a value larger than the column's maximum possible value, the INSERT statement is accepted in strict SQL mode, whereas but should fail with an error. (Bug#20573) <br><br>- Queries containing a subquery that used aggregate functions could return incorrect results. (Bug#16792) <br><br>- Row-based replication failed when the query cache was enabled on the slave. (Bug#17620) <br><br>- The index_merge/Intersection optimizer could have a memory overrrun when the number of table columns covered by an index is sufficiently large, possibly resulting in a server crash. (Bug#16201) <br><br>- The MD5(), SHA1(), and ENCRYPT() functions should return a binary string, but the result sometimes was converted to the character set of the argument. MAKE_SET() and EXPORT_SET() now use the correct character set for their default separators, resulting in consistent result strings which can be coerced according to normal character set rules. (Bug#20536) <br><br>- EXPLAIN sometimes returned an incorrect select_type for a SELECT from a view, compared to the select_type for the equivalent SELECT from the base table. (Bug#5500) <br><br>- An InnoDB mutex was not aquired and released under the same condition, leading to deadlock in some rare situations involving XA transactions. (Bug#21833) <br><br>- With row-based replication, replicating a statement to a slave where the table had additional columns relative to the master table did not work. (Bug#19069) <br><br>- Use of myisampack or myisamchk on a table with FULLTEXT indexing resulted in table corruption. (Bug#19702) <br><br>- With max_sp_recursion set to 0, a stored procedure that executed a SHOW CREATE PROCEDURE statement for itself triggered a recursion limit exceeded error, though the statement involves no recursion. (Bug#21416) <br><br>- mysqldump did not add version-specific comments around WITH PARSER and TABLESPACE ... STORAGE DISK clauses for CREATE TABLE statements, causing the dump file to fail when loaded into older servers. (Bug#20841) <br><br>- BIN(), OCT(), and CONV() did not work with BIT values. (Bug#15583) <br><br>- The optimizer could produce an incorrect result after AND with collations such as latin1_german2_ci, utf8_czech_ci, and utf8_lithianian_ci. (Bug#9509) <br><br>- The server could crash for the second execution of a function containing a SELECT statement that uses an aggregating IN subquery. (Bug#21493) <br><br>- UPGRADE was treated as a reserved word, although it is not. (Bug#21772) <br><br>- Database and table names have a maximum length of 64 characters (even if they contain multi-byte characters), but were being truncated to 64 bytes. (Bug#21432) <br><br>- Usernames have a maximum length of 16 characters (even if they contain multi-byte characters), but were being truncated to 16 bytes. (Bug#20393) <br><br>- A query could produce different results with and without and index, if the WHERE clause contained a range condition that used an invalid DATETIME constant. (Bug#16249) <br><br>- COUNT(*) queries with ORDER BY and LIMIT could return the wrong result. (Bug#21787) <br>　　 Note: This problem was introduced by the fix for Bug#9676, which limited the rows stored in a temporary table to the LIMIT clause. This optimization is not applicable to non-group queries with aggregate functions. The current fix disables the optimization in such cases. <br><br>- Memory overruns could occur for certain kinds of subqueries. (Bug#21477) <br><br>- Adding ORDER BY to a SELECT DISTINCT(expr) query could produce incorrect results. (Bug#21456) <br><br>- Memory used by scheduled events was not freed when the events were dropped. (Bug#18683) <br><br>- A scheduled event that took longer to execute than the length of time scheduled between successive executions could “skip” executions. For example, an event defined with EVERY 1 SECOND — but which required longer than 1 second to complete — might be excuted only once every 2 seconds. (Bug#16417) <br><br>- When used in the DO clause of a CREATE EVENT statement, the statements CREATE EVENT, CREATE FUNCTION, and CREATE PROCEDURE caused the server to crash. (These statements are not permitted inside CREATE EVENT.) (Bug#16409, Bug#18896) <br><br>- A subselect used in the ON SCHEDULE clause of a CREATE EVENT or ALTER EVENT statement caused the server to crash, rather than producing an error as expected. (Bug#16394) <br><br>- mysql displayed an empty string for NULL values. (Bug#21618) <br><br>- mysql_upgrade produced a malformed upgrade_defaults file by overwriting the [client] group header with a password option. This prevented mysqlcheck from running successfully when invoked by mysql_upgrade. (Bug#21011) <br><br>- mysql_config --libmysqld-libs did not produce any SSL options necessary for linking libmysqld with SSL support enabled. (Bug#21239) <br><br>- yaSSL had a conflicting definition for socklen_t on hurd-i386 systems. (Bug#22326) <br><br>- On Windows, inserting into a MERGE table after renaming an underlying MyISAM table caused a server crash. (Bug#20789) <br><br>- character_set_results can be NULL to signify “no conversion,” but some code did not check for NULL, resulting in a server crash. (Bug#21913) <br><br>- If a partitioned InnoDB table contained an AUTO_INCREMENT column, a SHOW statement could cause an assertion failure with more than one connection. (Bug#20493) <br><br>- Running InnoDB with many concurrent threads could cause memory corruption and a seg fault due to a bug introduced in MySQL 5.1.11. (Bug#20213) <br><br>- Using DROP TABLE with concurrent queries causes mysqld to crash. (Bug#21784) <br><br>- The ExtractValue() function did not accept XML tag names containing a period (.) character. (Bug#20795) <br><br>- Transient errors in replication from master to slave may trigger multiple Got fatal error 1236: 'binlog truncated in the middle of event' errors on the slave. (Bug#4053) <br><br>- For table-format output, mysql did not always calculate columns widths correctly for columns containing multi-byte characters in the column name or contents. (Bug#17939) <br><br>- Identifiers with embedded escape characters were not handled correctly by some SHOW statements due to some old code that was doing some extra unescaping. (Bug#19874) <br><br>- InnoDB was slow with more than 100,000 .idb files. (Bug#21112) <br><br>- SHOW INNODB STATUS contained some duplicate output. (Bug#21113) <br><br>- After an INSERT ... ON DUPLICATE KEY UPDATE statement that updated an existing row, LAST_INSERT_ID() could return a value not in the table. (Bug#11460) <br><br>- Selecting from INFORMATION_SCHEMA.FILES could crash the server. (Bug#21676) <br><br>- Using cursors with READ COMMITTED isolation level could cause InnoDB to crash. (Bug#19834) <br><br>- A server or network failure with an open client connection would cause the client to hang even though the server was no longer available. (Bug#9678) <br><br>- Using ALTER TABLE ... REORGANIZE PARTITIONS to reduce the number of subpartitions to 1 caused the server to crash. (Bug#21210) <br><br>- NDB Cluster: The --help output from NDB binaries did not include file-related options. (Bug#21994) <br><br>- NDB Cluster: The node recovery algorithm was missing a version check for tables in the ALTER_TABLE_COMMITTED state (as opposed to the TABLE_ADD_COMMITTED state, which has the version check). This could cause inconsistent schemas across nodes following node recovery. (Bug#21756) <br><br>- NDB Cluster: The output for the --help option used with NDB executable programs (ndbd, ndb_mgm, ndb_restore, ndb_config, and so on) referred to the Ndb.cfg file, instead of my.cnf. (Bug#21585) <br><br>- NDB Cluster: Partition distribution keys were updated only for the primary and starting replicas during node recovery. This could lead to node failure recovery for clusters having an odd number of replicas. (Bug#21535) <br>　　 Note: We recommend values for NumberOfReplicas that are even powers of 2, for best results. <br><br>- NDB Cluster: The ndb_mgm management client did not set the exit status on errors, always returning 0 instead. (Bug#21530) <br><br>- NDB Cluster: Cluster logs were not rotated following the first rotation cycle. (Bug#21345) <br><br>- NDB Cluster: Condition pushdown did not work correctly with DATETIME columns. (Bug#21056) <br><br>- NDB Cluster: Under some circumstances, local checkpointing would hang, keeping any unstarted nodes from being started. (Bug#20895) <br><br>- NDB Cluster: Using an invalid node ID with the management client STOP command could cause ndb_mgm to hang. (Bug#20575) <br><br>- NDB Cluster: In some cases where SELECT COUNT(*) from an NDB table should have yielded an error, MAX_INT was returned instead. (Bug#19914) <br><br>- NDB Cluster: Following the restart of an MGM node, the Cluster management client did not automatically reconnect. (Bug#19873) <br><br>- NDB Cluster: Error messages given when trying to make online changes parameters such as NoOfReplicas thast can only be changed via a complete shutdown and restart of the cluster did not indicate the true nature of the problem. (Bug#19787) <br><br>- NDB Cluster: ndb_restore did not always make clear that it had recovered successfully from temporary errors while restoring a cluster backup. (Bug#19651) <br><br>- NDB Cluster: In rare situations with resource shortages, a crash could result from insufficient IndexScanOperations. (Bug#19198) <br><br>- NDB Cluster: ndb_mgm -e show | head would hang after displaying the first 10 lines of output. (Bug#19047) <br><br>- NDB Cluster: The error returned by the cluster when too many nodes were defined did not make clear the nature of the problem. (Bug#19045) <br><br>- NDB Cluster: A problem with takeover during a system restart caused ordered indexes to be rebuilt incorrectly. This also adversely affected Cluster Replication. (Bug#15303) <br><br>- NDB Cluster: Some queries involving joins on very large NDB tables could crash the MySQL server. (Bug#21059) <br><br>- NDB Cluster (Disk Data): mysqldump did not back up tablespace or logfile group information for Disk Data tables correctly. (Specifically, UNDO_BUFFER_SIZE and INITIAL_SIZE values were misreported.) Trying to restore from such a backup would produce error 1296 (Got error 1504 'Out of logbuffer memory' from NDB). (Bug#20809) <br><br>- NDB Cluster (Disk Data): The INFORMATION_SCHEMA.FILES table showed incorrect values in the EXTENT_SIZE, FREE_EXTENTS, and TOTAL_EXTENTS columns for UNDO logfiles. (Bug#20073) <br><br>- NDB Cluster (Disk Data): Deletes from Disk Data tables used a non-optimal scan to find the rows to be deleted, resulting in poor performance. The fix causes disk order rather than memory order to be used, and can improve performance of Disk Data deletes by up to ~300% in some cases. (Bug#17929) <br><br>- NDB Cluster: A scan timeout returned Error 4028 (Node failure caused abort of transaction) instead of Error 4008 (Node failure caused abort of transaction...). (Bug#21799) <br><br>- NDB Cluster: The message Error 0 in readAutoIncrementValue(): no Error was written to the error log whenever SHOW TABLE STATUS was performed on a Cluster table that did not have an AUTO_INCREMENT column. (Bug#21033) <br><br>- NDB Cluster (Direct APIs): The storage/ndb directory was missing from the server binary distribution, making it impossible to compile NDB API and MGM API applications. This directory can be found as /usr/include/storage/ndb after installing that distribution. (Bug#21955) <br><br>- NDB Cluster: ndb_size.pl and ndb_error_reporter were missing from RPM packages. (Bug#20426) <br><br>- The ndb_mgm program was included in both the MySQL-ndb-tools and MySQL-ndb-management RPM packages, resulting in a conflict if both were installed. Now ndb_mgm is included only in MySQL-ndb-tools. (Bug#21058) <br><br>- libmysqld produced some warnings to stderr which could not be silenced. These warnings now are suppressed. (Bug#13717) <br><br>- If a column definition contained a character set declaration, but a DEFAULT value began with an introducer, the introducer character set was used as the column character set. (Bug#20695) <br><br>- If a query had a condition of the form tableX.key = tableY.key, which participated in equality propagation and also was used for ref access, then early ref-access NULL filtering was not peformed for the condition. This could make query execution slower. (Bug#19649) <br><br>- The optimizer sometimes produced an incorrect row-count estimate after elimination of const tables. This resulted in choosing extremely inefficient execution plans in same cases when distribution of data in joins were skewed. (Bug#21390) <br><br>- Query results could be incorrect if the WHERE clause contained t.key_part NOT IN (val_list), where val_list is a list of more than 1000 constants. (Bug#21282) <br><br>- STR_TO_DATE() sometimes would return NULL if the %D format specifier was not the last specifier in the format string. (Bug#20987) <br><br>- On Windows, a definition for mysql_set_server_option() was missing from the C client library. (Bug#16513) <br><br>- The myisam_stats_method variable was mishandled when set from an option file or on the command line. (Bug#21054) <br><br>- The optimizer assumed that if (a=x AND b=x) is true, (a=x AND b=x) AND a=b is also true. But that is not always so if a and b have different data types. (Bug#21159) <br><br>- InnoDB did not honor IGNORE INDEX, which prevented using IGNORE INDEX in cases where an index sort would be slower than a filesort. (Bug#21174) <br><br>- For connections that required a SUBJECT value, a check was performed to verify that the value was correct, but the connection was not refused if not. (Bug#20411) <br><br>- Some Linux-x86_64-icc packages (of previous releases) mistakenly contained 32-bit binaries. Only ICC builds are affected, not gcc builds. Solaris and FreeBSD x86_64 builds are not affected. (Bug#22238) <br><br>- INSERT ... SELECT sometimes generated a spurious Column count doesn't match value count error. (Bug#21774) <br><br>- Some user-level level errors were being written to the server's error log, which is for server errors. (Bug#20402) <br><br>- to the client could have an empty column name. When using tables created under MySQL 4.1 with a 5.0 server, if the tables contained VARCHAR columns, for some queries the metadata sent to the client could have an empty column name. (Bug#14897) <br><br>- On 64-bit systems, use of the cp1250 character set with a primary key column in a LIKE clause caused a server crash for patterns having letters in the range 128..255. (Bug#19741) <br><br>- ORDER BY RAND() LIMIT 1 always set a user variable to the last possible value from the table. (Bug#16861) <br><br>- N'xxx' and _utf8'xxx' were not treated as equivalent because N'xxx' failed to unescape backslashes (\) and doubled apostrophe/single quote characters (''). (Bug#17313) <br><br>- A subquery in the WHERE clause of the outer query and using IN and GROUP BY returned an incorrect result. (Bug#16255) <br><br>- When NOW() was used in a BETWEEN clause of the definition for a view, it was replaced with a constant in the view. (Bug#15950) <br><br>- A stored procedure with a CONTINUE handler that encountered an error continued to execute a statement that caused an error, rather with the next statement following the the one that caused the error. (Bug#8153) <br><br>- libmysqlclient defined a symbol BN_bin2bn which belongs to OpenSSL. This could break applications that also linked against OpenSSL's libcrypto library. The fix required correcting an error in a build script that was failing to add rename macros for some functions. (Bug#21930) <br><br>- Queries that used the index_merge and sort_union methods to access an InnoDB table could produce inaccurate results. This issue was introduced in MySQL 5.1.10 when a new handler and bitmap interface was implemented. (Bug#21277) <br><br>- The SELECT privilege was required for an insert on a view, instead of the INSERT privilege. (Bug#21261) <br> 　　 Note: This fixes a regression that was introduced by the fix for Bug#20989. <br><br>- Running SHOW MASTER LOGS at the same time as binary log files were being switched would cause mysqld to hang. (Bug#21965) <br><br>- Building mysql on Windows with CMake 2.4 would fail to create libmysqld correctly. (Bug#20907) <br><br>- The server's handling of the number of partitions or subpartitions specified in a PARTITIONS or SUBPARTITIONS clause was changed. Beginning with this release, the number of partitions must: <br>　　 be a positive, non-zero integer <br>　　 not have any leading zeroes <br>　　 not be an expression <br> Also beginning with this version, no attempt is made to convert, truncate, or evaluate a PARTITIONS or SUBPARTITIONS value; instead, the CREATE TABLE or ALTER TABLE statement containing the PARTITIONS or SUBPARTITIONS clause now fails with an appropriate error message. (Bug#15890) <br><br>- A misleading error message was displayed when attempting to define a unique key that was not valid for a partitioned table. (Bug#21862) <br><br>- Errors could be generated during the execution of certain prepared statements that ran queries on partitioned tables. (Bug#21658) <br><br>- Using relative paths for DATA DIRECTORY or INDEX DIRECTORY with a partitioned table generated a warning rather than an error, and caused “junk” files to be created in the server's data directory. (Bug#21350) <br><br>- Using EXPLAIN PARTITIONS with a query on a table whose partitioning expression was based on the value of a DATE column could sometimes cause the server to crash. (Bug#21339) <br><br>- Running SHOW TABLE STATUS on any InnoDB table having at least one record could crash the server. Note that this was not due to any issue in the InnoDB storage engine, but rather with AUTO_INCREMENT handling in the partitioning code — however, the table did not have to have an AUTO_INCREMENT column for the bug to manifest. (Bug#21173) <br><br>- Some ALTER TABLE statements affecting a table's subpartitioning could hang. (Bug#21143) <br><br>- Scheduled events that invoked stored procedures executing DDL operations on partitioned tables could crash the server. (Bug#20548) <br><br>- The yaSSL library bundled with libmysqlclient had some conflicts with OpenSSL. Now macros are used to rename the conflicting symbols to have a prefix of ya. (Bug#19810) <br><br>- It is possible to create MERGE tables into which data cannot be inserted (by not specifying a UNION clause. However, when an insert was attempted, the error message was confusing. Now an error occurs indicating that the table is read-only. (Bug#17766) <br><br>- User-created tables having a name beginning with #sql were not visible to SHOW TABLES and could collide with internal temporary table names. Now they are not hidden and do not collide. (Bug#1405) <br><br>- A NUL byte within a prepared statement string caused the rest of the string not to be written to the query log, allowing logging to be bypassed. (Bug#21813) <br><br>- mysql_upgrade created temporary files in a possibly insecure way. (Bug#21224) <br><br>- Some prepared statements caused a server crash when executed a second time. (Bug#21166) <br><br>- With query_cache_type set to 0, RESET QUERY CACHE was very slow and other threads were blocked during the operation. Now a cache reset is faster and non-blocking. (Bug#21051) <br><br>- When DROP DATABASE or SHOW OPEN TABLES was issued while concurrently issuing DROP TABLE (or RENAME TABLE, CREATE TABLE LIKE or any other statement that required a name lock) in another connection, the server crashed. (Bug#19403, Bug#21216) <br><br>- Use of zero-length variable names caused a server crash. (Bug#20908) <br><br>- Prepared statements caused general log and server memory corruption. (Bug#14346) <br><br>- mysqldump incorrectly tried to use LOCK TABLES for tables in the INFORMATION_SCHEMA database. (Bug#21527) <br><br>- Use of the --prompt option or prompt command caused mysql to be unable to connect to the Instance Manager. (Bug#17485) <br><br>- The server crashed if it tried to access a CSV table for which the data file had been removed. (Bug#15205) <br><br>- CREATE USER did not respect the 16-character username limit. (Bug#10668) <br><br>- Creating a partitioned table that used the InnoDB storage engine and then restarting mysqld with --skip-innodb caused MySQL to crash. (Bug#20871) <br><br>- In mixed-format binary logging mode, stored functions, triggers, and views that use functions in their body that require row-based logging did not replicate reliably because the logging did not switch from statement-based to row-based format. For example, INSERT INTO t SELECT FROM v, where v is a view that selects UUID() could cause problems. This limitation has been removed. (Bug#20930) <br><br>- For user-defined functions created with CREATE FUNCTION, the DEFINER clause is not legal, but no error was generated. (Bug#21269) <br><br>- mysqld --flush failed to flush changes to disk following an UPDATE statement for which no updated column had an index. (Bug#20060) <br><br>- In mixed-format binary logging mode, stored functions, triggers, and views that use functions in their body that require row-based logging did not replicate reliably because the logging did not switch from statement-based to row-based format. For example, INSERT INTO t SELECT FROM v, where v is a view that selects UUID() could cause problems. This limitation has been removed. (Bug#20930) <br><br>- When not running in strict mode, the server failed to convert the invalid years portion of a DATE or DATETIME value to '0000' when inserting it into a table. (Bug#19370) <br><br>- The dropping of a temporary table whose name contained a backtick ('`') character was not correctly written to the binary log, which also caused it not to be replicated correctly. (Bug#19188) <br><br>- Setting myisam_repair_threads caused any repair operation on the table to fail to update the cardinality of indexes, instead making them always equal to 1. (Bug#18874) <br><br>- Intermediate tables created during the execution of an ALTER TABLE statement were visible in the output of SHOW TABLES. (Bug#18775) <br><br>- When setting a column to its implicit default value as the result of inserting a NULL into a NOT NULL column as part of a multi-row insert or LOAD DATA operation, the server returned a misleading warning message. (Bug#14770) <br><br>- The --with-collation option was not honored for client connections. (Bug#7192) <br><br>- Users who had the SHOW VIEW privilege for a view and privileges on one of the view's base table could not see records in INFORMATION_SCHEMA tables relating to the base table. (Bug#20543) <br><br>- An issue with yaSSL prevented Connector/J clients from connecting to the server using a certificate. (Bug#19705) <br><br>- Some server errors were not reported to the client, causing both to try to read from the connection until a hang or crash resulted. (Bug#16581) <br><br>- FEDERATED tables raised invalid duplicate key errors when attempting on one server to insert rows having the same primary key values as rows that had been deleted from the linked table on the other server. (Bug#18764) <br><br>- The C API failed to return a status message when invoking a stored procedure. (Bug#15752) <br><br>- AUTHORS and CONTRIBUTORS were not treated as reserved words. (Bug#19939) <br><br>- Stored procedures did not use the character set defined for the database in which they were created. (Bug#16676) <br><br>- CREATE PROCEDURE, CREATE FUNTION, CREATE TRIGGER, and CREATE VIEW statements containing multi-line comments (/* ... */) could not be replicated. (Bug#20438) <br><br>- The final parenthesis of a CREATE INDEX statement occurring in a stored procedure was omitted from the binary log when the stored procedure was called. (Bug#19207) <br><br>- Attempting to insert a string of greater than 4096 bytes into a FEDERATED table resulted in the error ERROR 1296 (HY000) at line 2: Got error 10000 'Error on remote system: 1054: Unknown column 'string-value' from FEDERATED. This error was raised regardless of the type of column involved (VARCHAR, TEXT, and so on.) (Bug#17608) <br><br>- Performance during an import on a table with a trigger that called a stored procedure was severely degraded. (Bug#21013) <br><br>- Repeated DROP TABLE statements in a stored procedure could sometimes cause the server to crash. (Bug#19399) <br><br>- On 64-bit Windows, a missing table generated error 1017, not the correct value of 1146. (Bug#21396) <br><br>- The same trigger error message was produced under two conditions: The trigger duplicated an existing trigger name, or the trigger duplicated an existing combination of action and event. Now different messages are produced for the two conditions so as to be more informative. (Bug#10946) <br><br>- The value returned by a stored function returning a string value was not of the declared character set. (Bug#16211) <br><br>- FLUSH TABLES followed by a LOCK TABLES statement to lock a log table and a non-log table caused an infinite loop and high CPU use. Now FLUSH TABLES ignores log tables. To flush the log tables, use FLUSH LOGS instead. (Bug#20139) <br><br>- If a filename was specified for the --log or --log-slow_queries options but the server was logging to tables and not files, the server produced no error message. (Bug#17599) <br><br>- mysqlcheck tried to check views instead of ignoring them. (Bug#16502) <br><br>- Long multiple-row INSERT statements could take a very long time for some multi-byte character sets. (Bug#15811) <br><br>- For mysql, escaping with backslash sometimes did not work. (Bug#20103) <br><br>- Under certain circumstances, AVG(key_val) returned a value but MAX(key_val) returned an empty set due to incorrect application of MIN()/MAX() optimization. (Bug#20954) <br><br>- Using aggregate functions in subqueries yielded incorrect results under certain circumstances due to incorrect application of MIN()/MAX() optimization. (Bug#20792) <br><br>- A query using WHERE column = constant OR column IS NULL did not return consistent results on successive invocations. The column in each part of the WHERE clause could be either the same column, or two different columns, for the effect to be observed. (Bug#21091) <br><br>- The PASSWORD() function returned invalid results when used in some UNION queries. (Bug#16881) <br><br>- USE did not refresh database privileges when employed to re-select the current database. (Bug#10979) <br><br>- A query using WHERE NOT (column &lt; ANY (subquery)) yielded a different result from the same query using the same column and subquery with WHERE (column &gt; ANY (subquery)). (Bug#20975) <br><br>- A user variable set to a value selected from an unsigned column was stored as a signed value. (Bug#7498) <br><br>- SELECT statements using GROUP BY against a view could have missing columns in the output when there was a trigger defined on one of the base tables for the view. (Bug#20466) <br><br>- A SELECT with a subquery that was bound to the outer query over multiple columns returned different results when a constant was used instead of one of the dependant columns. (Bug#18925) <br><br>- InnoDB: Quoted Unicode identifiers were not handled correctly. This included names of tables, columns, and foreign keys. (Bug#18800) <br><br>- A stored procedure that created and invoked a prepared statement was not executed when called in a mysqld init-file. (Bug#17843) <br><br>- Using the extended syntax for TRIM() — that is, TRIM(... FROM ...) — in a SELECT statement defining a view caused an invalid syntax error when selecting from the view. (Bug#17526) <br><br>- Assignments of values to variables of type TEXT were handled incorrectly in stored routines. (Bug#17225) <br><br>- When performing a GROUP_CONCAT(), the server transformed BLOB columns VARCHAR columns, which could cause erroneous results when using Connector/J and possibly other MySQL APIs. (Bug#16712) <br><br>- The type of the value returned by the VARIANCE() function varied according to the type of the input value. The function should always return a DOUBLE value. (Bug#10966) <br><br>- Performing an INSERT on a view that was defined using a SELECT that specified a collation and a column alias caused the server to crash (Bug#21086). <br><br>- A query of the form shown here caused the server to crash: <br> SELECT * FROM t1 NATURAL JOIN (<br>    t2 JOIN (<br>        t3 NATURAL JOIN t4,<br>        t5 NATURAL JOIN t6<br>    )<br>    ON (t3.id3 = t2.id3 AND t5.id5 = t2.id5)<br>  );　　(Bug#21007) <br><br>- myisam_ftdump would fail when trying to open a MyISAM index file that you did not have write permissions to access, even though the command would only be reading from the file. (Bug#17122) <br><br>- REPLACE ... SELECT for a view required the INSERT privilege for tables other than the table being modified. (Bug#20989) <br><br>- mysqldump sometimes did not select the correct database before trying to dump views from it, resulting in an empty result set that caused mysqldump to die with a segmentation fault. (Bug#21014) <br><br>- With mixed-format binary logging, INSERT DELAYED statements were logged using statement-based logging, and they did not replicate properly for statements that used values such as UUID(), RAND(), or user-defined variables that require row-based logging. To correct this, the DELAYED handler thread how switches to row-based logging if the logging format is mixed. (Bug#20633, Bug#20649) <br><br>- Using EXPLAIN PARTITIONS with a UNION query could crash the server. This could occur whether or not the query actually used any partitioned tables. (Bug#20484) <br><br>- Partition pruning could cause incorrect results from queries, such missing rows, when the partitioning expression relied on a BIGINT UNSIGNED column. (Bug#20257) <br><br>- The implementation for UNCOMPRESS() did not indicate that it could return NULL, causing the optimizer to do the wrong thing. (Bug#18539) <br><br>- TIMESTAMPDIFF() examined only the date and ignored the time when the requested difference unit was months or quarters. (Bug#16226) <br><br>- perror did not properly report NDB error codes. (Bug#16561) <br><br>- mysqlimport sends a set @@character_set_database=binary statement to the server, but this is not understood by pre-4.1 servers. Now mysqlimport encloses the statement within a /*!40101 ... */ comment so that old servers will ignore it. (Bug#15690) <br><br>- The character set was not being properly initialized for CAST() with a type like CHAR(2) BINARY, which resulted in incorrect results or even a server crash. (Bug#17903) <br><br>- For ODBC compatibility, MySQL supports use of WHERE col_name IS NULL for DATE or DATETIME columns that are NOT NULL, to allow column values of '0000-00-00' or '0000-00-00 00:00:00' to be selected. However, this was not working for WHERE clauses in DELETE statements. (Bug#8143) <br><br>- The --master-data option for mysqldump requires certain privileges, but mysqldump generated a truncated dump file without producing an appropriate error message or exit status if the invoking user did not have those privileges. (Bug#21215) <br><br>- ALTER VIEW did not retain existing values of attributes that had been originally specified but were not changed in the ALTER VIEW statement. (Bug#21080) <br><br>- mysql crashed for very long arguments to the connect command. (Bug#21042) <br><br>- perror crashed on Solaris due to NULL return value of strerror() system call. (Bug#20145) <br><br>- The query command for mysqltest did not work. (Bug#19890) <br><br>- For certain queries, the server incorrectly resolved a reference to an aggregate function and crashed. (Bug#20868) <br><br>- When executing a SELECT with ORDER BY on a view that is constructed from a SELECT statement containing a stored function, the stored function was evaluated too many times. (Bug#19862) <br><br>- A SELECT that used a subquery in the FROM clause that did not select from a table failed when the subquery was used in a join. (Bug#21002) <br><br>- Subqueries on INFORMATION_SCHEMA tables could erroneously return an empty result. (Bug#21231) <br><br>- Issuing a SHOW CREATE FUNCTION or SHOW CREATE PROCEDURE statement without sufficient privileges could crash the mysql client. (Bug#20664) <br><br>- In a view defined with SQL SECURITY DEFINER, the CURRENT_USER() function returned the invoker, not the definer. (Bug#20570) <br><br>- DATE_ADD() and DATE_SUB() returned NULL when the result date was on the day '9999-12-31'. (Bug#12356) <br><br>- For a DATE parameter sent via a MYSQL_TIME data structure, mysql_stmt_execute() zeroed the hour, minute, and second members of the structure rather than treating them as read-only. (Bug#20152) <br><br>- The DATA DIRECTORY table option did not work for TEMPORARY tables. (Bug#8706) <br><br>- If the files for an open table were removed at the OS level (external to the server), the server exited with an assertion failure. (Bug#16532) <br><br>- Some memory leaks in the libmysqld embedded server were corrected. (Bug#16017) <br><br>- With the auto_increment_increment system variable set larger than 1, if the next generated AUTO_INCREMENT value would be larger than the column's maximum value, the value would be clipped down to that maximum value and inserted, even if the resulting value would not be in the generated sequence. This could cause problems for master-master replication. Now the server clips the value down to the previous value in the sequence, which correctly produces a duplicate-key error if that value already exists in the column. (Bug#20524) <br><br>- If a table on a slave server had a higher AUTO_INCREMENT counter than the corresponding master table (even though all rows of the two tables were identical), in some cases REPLACE or INSERT ... ON DUPLICATE KEY UPDATE would not replicate properly using statement-based logging. (Different values would be inserted on the master and slave.) (Bug#20188) <br><br>- mysqlslap did not enable the CLIENT_MULTI_RESULTS flag when connecting, which is necessary for executing stored procedures. (Bug#20365) <br><br>- When creating a table using CREATE...SELECT and a stored procedure, there would be a mismatch between the binary log and transaction cache which would cause a server crash. (Bug#21039) <br><br>- When run with the --use-threads option, mysqlimport returned a random exit code. (Bug#21188) <br><br>- The effect of a stored function or trigger that caused AUTO_INCREMENT values to be generated for multiple tables was not logged properly if statement-based logging was used. Only the first table's value was logged, causing replication to fail. Under mixed logging format, this is dealt with by switching to row-based logging for the function or trigger. For statement-based logging, this remains a problem. (Bug#19630) <br><br>- Changing the definition of a DECIMAL column with ALTER TABLE caused loss of column values. (Bug#18014) <br><br>- Under heavy load (executing more than 1024 simultaneous complex queries), a problem in the code that handles internal temporary tables could lead to writing beyond allocated space and memory corruption. Use of more than 1024 simultaneous cursors server wide also could lead to memory corruption. (This applies both to stored procedure and C API cursors.) (Bug#21206) <br><br>- A race condition during slave server shutdown caused an assert failure. (Bug#20850) <br><br>- mysqldump produced a malformed dump file when dumping multiple databases that contained views. (Bug#20221) <br><br>- Partitions were represented internally as the wrong data type, which led in some cases to failures of queries such as SELECT COUNT(*) FROM INFORMATION_SCHEMA.PARTITIONS WHERE PARTITION_NAME = 'partition_name'. (Bug#20340) <br><br>- Searches against a ZEROFILL column of a partitioned table could fail when the ZEROFILL column was part of the table's partitioning key. (Bug#20733) <br><br>- In mixed binary logging mode, a temporary switch from statement-based logging to row-based logging occurs when storing a row that uses a function such as UUID() into a temporary table. However, temporary table changes are not written to the binary log under row-based logging, so the row does not exist on the slave. A subsequent select from the temporary table to a non-temporary table using statement-based logging works correctly on the master, but not on the slave where the row does not exist. The fix for this is that replication does not switch back from row-based logging to statement-based logging until there are no temporary tables for the session. (Bug#20499) <br><br>- Re-executing a stored procedure with a complex stored procedure cursor query could lead to a server crash. (Bug#15217) <br><br>- Views created from prepared statements inside of stored procedures were created with a definition that included both SQL_CACHE and SQL_NO_CACHE. (Bug#17203) <br><br>- Updating a column of a FEDERATED table to NULL sometimes failed. (Bug#16494) <br><br>- Performing INSERT ... SELECT ... JOIN ... USING without qualifying the column names caused ERROR 1052 "column 'x' in field list is ambiguous" even in cases where the column references were unambiguous. (Bug#18080) <br><br>- Closing of temporary tables failed if binary logging was not enabled. (Bug#20919) <br><br>- For statements that have a DEFINER clause such as CREATE TRIGGER or CREATE VIEW, long usernames or hostnames could cause a buffer overflow. (Bug#16899) <br><br>- mysqldump would not dump views that had become invalid because a table named in the view definition had been dropped. Instead, it quit with an error message. Now you can specify the --force option to cause mysqldump to keep going and write a SQL comment containing the view definition to the dump output. (Bug#17371) <br><br>- InnoDB (Partitioning): Updating an InnoDB table using HASH partitioning with a composite primary key would cause the server to hang. (Bug#20852) <br><br>- Old partition and subpartition files were not always remo<br><br></field></field></td></tr></tbody></table></td></tr></tbody></table>
    <br><br>MyNA Web Siteにて更に多くのニュース記事をよむことができます<br><a href="../../index.html">http://www.mysql.gr.jp/frame</a><br><br>
        このニュース記事が掲載されているURL： <!-- Tag below can be used to display Permalink image --><!--img src="http://www.mysql.gr.jp/frame/modules/news/images/x.gif" /--><br>
        <a href="article.php%3Fstoryid%3D86.html">http://www.mysql.gr.jp/frame/article.php?storyid=86</a>
        </td></tr></tbody></table>
        
        
        </body></html>