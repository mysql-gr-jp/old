<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- $Id: theme.html,v 1.1.1.1 2003/04/21 14:30:51 jc Exp $ -->
<head>
<meta http-equiv="content-type" content="text/html; charset=EUC-JP" />
<meta http-equiv="content-language" content="ja" />
<meta name="robots" content="index,follow" />
<meta name="keywords" content="MySQL, User group, MyNA, Nippon, Japan, MySQLユーザ会" />
<meta name="description" content="MySQL is fast, robust, reliable open source database." />
<meta name="rating" content="general" />
<meta name="author" content="MyNA Webmaster" />
<meta name="copyright" content="Copyright ? 2001-2005" />
<meta name="generator" content="XOOPS" />
<title>MyNA Web Site</title>
<link href="../../favicon.ico" rel="SHORTCUT ICON" />
<link rel="stylesheet" type="text/css" media="all" href="../../xoops.css" />
<link rel="stylesheet" type="text/css" media="all" href="../../themes/myna/styleNN.css" />
<!-- RMV: added module header -->

<script type="text/javascript">
<!--
//--></script><script type="text/javascript" src="../../include/xoops.js.html"></script><script type="text/javascript"><!--
//-->
</script>
</head>
<body>

<!-- Main Table -->

<table id="main" cellspacing="0">
  <tr>
    <!-- Center Column -->
    <!-- Main Contents -->
    <td id="centerColumn">
      <div id="content">
      <div style="text-align: left; margin: 10px;"></div>

<hr width=70%>
<center><script type="text/javascript"><!--
google_ad_client = "pub-6416440120333674";
google_alternate_color = "FFFFFF";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="1464500678";
google_page_url = document.location;
google_color_border = "E8CCCA";
google_color_bg = "F1DFDE";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "111111";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center>
<hr width=70% size=3>

<center><font size=+1>- News -</font></center>
<div style="padding: 3px; margin-right:3px;">
<div class="item">
  <div class="itemHead"><span class="itemTitle"><a href='index.php%3Fstorytopic=6.html'>MySQL 5.0</a>&nbsp;:&nbsp;MySQL 5.0.67 リリース！</span></div>
  <div class="itemInfo">
    <span class="itemPoster">投稿者： <a href="../../userinfo.php%3Fuid=1.html">webmaster</a></span> <span class="itemPostDate">投稿日時： 2008-8-13 14:54:01</span> (<span class="itemStats">11731 ヒット</span>)
  </div>
  <div class="itemBody">
    
    <p class="itemText"> MySQL 5.0.67 がリリースされました。　<br />MySQL 5.0.51b 以来の 5.0.x-community のリリースとなります。<br /><br />非常に数多くの修正がなされており、特に Security fix や incompatible change なども多く含まれていますので、チェンジログを確認ください。<br /><br />ダウンロードはこちらから：<br />  <a href="http://dev.mysql.com/downloads/" target="_blank">http://dev.mysql.com/downloads/</a><br /><br /><br />------<br />以下チェンジログ：<br /><br /><br />■機能の追加と変更(5.0.67):<br />- Security Enhancement: To enable stricter control over the location from which user-defined functions can be loaded, the plugin_dir system variable has been backported from MySQL 5.1. If the value is non-empty, user-defined function object files can be loaded only from the directory named by this variable. If the value is empty, the behavior that is used before 5.0.67 applies: The UDF object files must be located in a directory that is searched by your system's dynamic linker. (Bug#37428)<br /><br />- Important Change: Incompatible Change: The FEDERATED storage engine is now disabled by default in the .cnf files shipped with MySQL distributions (my-huge.cnf, my-medium.cnf, and so forth). This affects server behavior only if you install one of these files. (Bug#37069)<br /><br />- Cluster API: Important Change: Because NDB_LE_MemoryUsage.page_size_kb shows memory page sizes in bytes rather than kilobytes, it has been renamed to page_size_bytes. The name page_size_kb is now deprecated and thus subject to removal in a future release, although it currently remains supported for reasons of backward compatibility. See The Ndb_logevent_type Type, for more information about NDB_LE_MemoryUsage. (Bug#30271)<br /><br />- Important Change: Some changes were made to CHECK TABLE ... FOR UPGRADE and REPAIR TABLE with respect to detection and handling of tables with incompatible .frm files (files created with a different version of the MySQL server). These changes also affect mysqlcheck because that program uses CHECK TABLE and REPAIR table, and thus also mysql_upgrade because that program invokes mysqlcheck.<br />    +  If your table was created by a different version of the MySQL server than the one you are currently running, CHECK TABLE ... FOR UPGRADE indicates that the table has an .frm file with an incompatible version. In this case, the result set returned by CHECK TABLE contains a line with a Msg_type value of error and a Msg_text value of Table upgrade required. Please do "REPAIR TABLE `tbl_name`" to fix it!<br />    +  REPAIR TABLE without USE_FRM upgrades the .frm file to the current version.<br />    +  If you use REPAIR TABLE ...USE_FRM and your table was created by a different version of the MySQL server than the one you are currently running, REPAIR TABLE will not attempt to repair the table. In this case, the result set returned by REPAIR TABLE contains a line with a Msg_type value of error and a Msg_text value of Failed repairing incompatible .FRM file.<br />   Previously, use of REPAIR TABLE ...USE_FRM with a table created by a different version of the MySQL server risked the loss of all rows in the table.  (Bug#36055)<br /><br />- mysql_upgrade now has a --tmpdir option to enable the location of temporary files to be specified. (Bug#36469)<br /><br />- The ndbd and ndb_mgmd manpages have been reclassified from volume 1 to volume 8. (Bug#34642)<br /><br />- For binary .tar.gz packages, mysqld and other binaries now are compiled with debugging symbols included to enable easier use with a debugger. If you do not need debugging symbols and are short on disk space, you can use strip to remove the symbols from the binaries. (Bug#33252)<br /><br />- mysqldump produces a -- Dump completed on DATE comment at the end of the dump if --comments is given. The date causes dump files for identical data take at different times to appear to be different. The new options --dump-date and --skip-dump-date control whether the date is added to the comment. --skip-dump-date suppresses date printing. The default is --dump-date (include the date in the comment). (Bug#31077)<br /><br />- mysqltest now has mkdir and rmdir commands for creating and removing directories. (Bug#31004)<br /><br />- The mysql_odbc_escape_string() C API function has been removed. It has multi-byte character escaping issues, doesn't honor the NO_BACKSLASH_ESCAPES SQL mode and is not needed anymore by Connector/ODBC as of 3.51.17. (Bug#29592)<br /><br />- The default value of the connect_timeout system variable was increased from 5 to 10 seconds. This might help in cases where clients frequently encounter errors of the form Lost connection to MySQL server at 'XXX', system error: errno. (Bug#28359)<br /><br />- The use of InnoDB hash indexes now can be controlled by setting the new innodb_adaptive_hash_index system variable at server startup. By default, this variable is enabled. See Section 13.2.13.3, “Adaptive Hash Indexes”.<br /><br />- The argument for the mysql-test-run.pl --do-test and --skip-test options is now interpreted as a Perl regular expression if there is a pattern metacharacter in the argument value. This allows more flexible specification of which tests to perform or skip.<br /><br /><br />■バグ修正(5.0.67):<br />- Important Change: Security Fix: It was possible to circumvent privileges through the creation of MyISAM tables employing the DATA DIRECTORY and INDEX DIRECTORY options to overwrite existing table files in the MySQL data directory. Use of the MySQL data directory in DATA DIRECTORY and INDEX DIRECTORY pathname is now disallowed. (Bug#32167, CVE-2008-2079)<br /><br />- Security Fix: Three vulnerabilities in yaSSL versions 1.7.5 and earlier were discovered that could lead to a server crash or execution of unauthorized code. The exploit requires a server with yaSSL enabled and TCP/IP connections enabled, but does not require valid MySQL account credentials. The exploit does not apply to OpenSSL.<br />      Note: The proof-of-concept exploit is freely available on the Internet. Everyone with a vulnerable MySQL configuration is advised to upgrade immediately. (Bug#33814, CVE-2008-0226, CVE-2008-0227)<br /><br />- Security Fix: Using RENAME TABLE against a table with explicit DATA DIRECTORY and INDEX DIRECTORY options can be used to overwrite system table information by replacing the symbolic link points. the file to which the symlink points.<br />      MySQL will now return an error when the file to which the symlink points already exists. (Bug#32111, CVE-2007-5969)<br /><br />- Security Fix: ALTER VIEW retained the original DEFINER value, even when altered by another user, which could allow that user to gain the access rights of the view. Now ALTER VIEW is allowed only to the original definer or users with the SUPER privilege. (Bug#29908)<br /><br />- Security Fix: When using a FEDERATED table, the local server could be forced to crash if the remote server returned a result with fewer columns than expected. (Bug#29801)<br /><br />- Security Enhancement: It was possible to force an error message of excessive length which could lead to a buffer overflow. This has been made no longer possible as a security precaution. (Bug#32707)<br /><br />- Incompatible Change: With ONLY_FULL_GROUP_BY SQL mode enabled, queries such as SELECT a FROM t1 HAVING COUNT(*)>2 were not being rejected as they should have been.<br /><br />      This fix results in the following behavior:<br />    +  There is a check against mixing group and non-group columns only when ONLY_FULL_GROUP_BY is enabled.<br />    +  This check is done both for the select list and for the HAVING clause if there is one.<br /><br />      This behavior differs from previous versions as follows:<br />    +  Previously, the HAVING clause was not checked when ONLY_FULL_GROUP_BY was enabled; now it is checked.<br />    +  Previously, the select list was checked even when ONLY_FULL_GROUP_BY was not enabled; now it is checked only when ONLY_FULL_GROUP_BY is enabled.<br />      (Bug#31794)<br /><br />- Incompatible Change: The MySQL 5.0.50 patch for this bug was reverted because it changed the behavior of a General Availability MySQL release. (Bug#30234)<br />      See also Bug#27525<br /><br />- Incompatible Change: Several type-preserving functions and operators returned an incorrect result type that does not match their argument types: COALESCE(), IF(), IFNULL(), LEAST(), GREATEST(), CASE. These now aggregate using the precise SQL types of their arguments rather than the internal type. In addition, the result type of the STR_TO_DATE() function is now DATETIME by default. (Bug#27216)<br /><br />- Incompatible Change: It was possible for option files to be read twice at program startup, if some of the standard option file locations turned out to be the same directory. Now duplicates are removed from the list of files to be read.<br />      Also, users could not override system-wide settings using ~/.my.cnf because SYSCONFDIR/my.cnf was read last. The latter file now is read earlier so that ~/.my.cnf can override system-wide settings.<br />      The fix for this problem had a side effect such that on Unix, MySQL programs looked for options in ~/my.cnf rather than the standard location of ~/.my.cnf. That problem was addressed as Bug#38180. (Bug#20748)<br /><br />- Important Change: MySQL Cluster: AUTO_INCREMENT columns had the following problems when used in NDB tables:<br />    +  The AUTO_INCREMENT counter was not updated correctly when such a column was updated.<br />    +  AUTO_INCREMENT values were not prefetched beyond statement boundaries.<br />    +  AUTO_INCREMENT values were not handled correctly with INSERT IGNORE statements.<br />    +  After being set, ndb_autoincrement_prefetch_sz showed a value of 1, regardless of the value it had actually been set to.<br />      As part of this fix, the behavior of ndb_autoincrement_prefetch_sz has changed. Setting this to less than 32 no longer has any effect on prefetching within statements (where IDs are now always obtained in batches of 32 or more), but only between statements. The default value for this variable has also changed, and is now 1. (Bug#25176, Bug#31956, Bug#32055)<br /><br />- Important Change: Replication: When the master crashed during an update on a transactional table while in AUTOCOMMIT mode, the slave failed. This fix causes every transaction (including AUTOCOMMIT transactions) to be recorded in the binlog as starting with a BEGIN and ending with a COMMIT or ROLLBACK. (Bug#26395)<br /><br />- Important Change: It was possible to use FRAC_SECOND as a synonym for MICROSECOND with DATE_ADD(), DATE_SUB(), and INTERVAL; now, using FRAC_SECOND with anything other than TIMESTAMPADD() or TIMESTAMPDIFF() produces a syntax error.<br />      It is now possible (and preferable) to use MICROSECOND with TIMESTAMPADD() and TIMESTAMPDIFF(), and FRAC_SECOND is now deprecated. (Bug#33834)<br /><br />- Important Change: The server no longer issues warnings for truncation of excess spaces for values inserted into CHAR columns. This reverts a change in the previous release that caused warnings to be issued. (Bug#30059)<br /><br />- Replication: Important Note: Network timeouts between the master and the slave could result in corruption of the relay log. This fix rectifies a long-standing replication issue when using unreliable networks, including replication over wide area networks such as the Internet. If you experience reliability issues and see many You have an error in your SQL syntax errors on replication slaves, we strongly recommend that you upgrade to a MySQL version which includes this fix. (Bug#26489)<br /><br />- MySQL Cluster: When configured with NDB support, MySQL failed to compile using gcc 4.3 on 64bit FreeBSD systems. (Bug#34169)<br /><br />- MySQL Cluster: The failure of a DDL statement could sometimes lead to node failures when attempting to execute subsequent DDL statements. (Bug#34160)<br /><br />- MySQL Cluster: Extremely long SELECT statements (where the text of the statement was in excess of 50000 characters) against NDB tables returned empty results. (Bug#34107)<br /><br />- MySQL Cluster: A periodic failure to flush the send buffer by the NDB TCP transporter could cause a unnecessary delay of 10 ms between operations. (Bug#34005)<br /><br />- MySQL Cluster: When all data and SQL nodes in the cluster were shut down abnormally (that is, other than by using STOP in the cluster management client), ndb_mgm used excessive amounts of CPU. (Bug#33237)<br /><br />- MySQL Cluster: An improperly reset internal signal was observed as a hang when using events in the NDB API but could result in various errors. (Bug#33206)<br /><br />- MySQL Cluster: Incorrectly handled parameters could lead to a crash in the Transaction Coordinator during a node failure, causing other data nodes to fail. (Bug#33168)<br /><br />- MySQL Cluster: The failure of a master node could lead to subsequent failures in local checkpointing. (Bug#32160)<br /><br />- MySQL Cluster: An uninitialized variable in the NDB storage engine code led to AUTO_INCREMENT failures when the server was compiled with gcc 4.2.1. (Bug#31848)<br />      This regression was introduced by Bug#27437<br /><br /><br />- MySQL Cluster: An error with an if statement in sql/ha_ndbcluster.cc could potentially lead to an infinite loop in case of failure when working with AUTO_INCREMENT columns in NDB tables. (Bug#31810)<br /><br />- MySQL Cluster: The NDB storage engine code was not safe for strict-alias optimization in gcc 4.2.1. (Bug#31761)<br /><br />- MySQL Cluster: Primary keys on variable-length columns (such as VARCHAR) did not work correctly. (Bug#31635)<br /><br />- MySQL Cluster: Transaction atomicity was sometimes not preserved between reads and inserts under high loads. (Bug#31477)<br /><br />- MySQL Cluster: Numerous NDBCLUSTER test failures occurred in builds compiled using icc on IA64 platforms. (Bug#31239)<br /><br />- MySQL Cluster: Transaction timeouts were not handled well in some circumstances, leading to excessive number of transactions being aborted unnecessarily. (Bug#30379)<br /><br />- MySQL Cluster: Having tables with a great many columns could cause Cluster backups to fail. (Bug#30172)<br /><br />- MySQL Cluster: Issuing an INSERT ... ON DUPLICATE KEY UPDATE concurrently with or following a TRUNCATE statement on an NDB table failed with NDB error 4350 Transaction already aborted. (Bug#29851)<br /><br />- MySQL Cluster: In some cases, the cluster managment server logged entries multiple times following a restart of mgmd. (Bug#29565)<br /><br />- MySQL Cluster: An interpreted program of sufficient size and complexity could cause all cluster data nodes to shut down due to buffer overruns. (Bug#29390)<br /><br />- MySQL Cluster: It was possible in config.ini to define cluster nodes having node IDs greater than the maximum allowed value. (Bug#28298)<br /><br />- MySQL Cluster: UPDATE IGNORE could sometimes fail on NDB tables due to the use of unitialized data when checking for duplicate keys to be ignored. (Bug#25817)<br /><br />- MySQL Cluster: When inserting a row into an NDB table with a duplicate value for a non-primary unique key, the error issued would reference the wrong key.<br />      This improves on an initial fix for this issue made in MySQL 5.0.30 and MySQL 5.0.33 (Bug#21072)<br /><br />- Replication: Some kinds of internal errors (such as Out of stack) cuased the server to crash. (Bug#37150)<br /><br />- Replication: CREATE PROCEDURE and CREATE FUNCTION statements containing extended comments were not written to the binary log correctly, causing parse errors on the slave. (Bug#36570)<br />      See also Bug#32575<br /><br />- Replication: INSERT_ID was not written to the binary log for inserts into BLACKHOLE tables. (Bug#35178)<br /><br />- Replication: The character sets and collations used for constant identifiers in stored procedures were not replicated correctly. (Bug#34289)<br /><br />- Replication: A CREATE USER, DROP USER, or RENAME USER statement that fails on the master, or that is a duplicate of any of these statements, is no longer written to the binlog; previously, either of these occurrences could cause the slave to fail.<br />      (Bug#33862)<br />      See also Bug#29749<br /><br />- Replication: SHOW BINLOG EVENTS could fail when the binlog contained one or more events whose size was close to the value of max_allowed_packet. (Bug#33413)<br /><br />- Replication: An extraneous ROLLBACK statement was written to the binary log by a connection that did not use any transactional tables. (Bug#33329)<br /><br />- Replication: When a stored routine or trigger, running on a master that used MySQL 5.0 or MySQL 5.1.11 or earlier, performed an insert on an AUTO_INCREMENT column, the INSERT_ID value was not replicated correctly to a slave running MySQL 5.1.12 or later (including any MySQL 6.0 release). (Bug#33029)<br />      See also Bug#19630<br /><br />- Replication: CREATE VIEW statements containing extended comments were not written to the binary log correctly, causing parse errors on the slave. Now, all comments are stripped from such statements before being written to the binary log. (Bug#32575)<br />      See also Bug#36570<br /><br />- Replication: SQL statements containing comments using -- syntax were not replayable by mysqlbinlog, even though such statements replicated correctly. (Bug#32205)<br /><br />- Replication: It was possible for the name of the relay log file to exceed the amount of memory reserved for it, possibly leading to a crash of the server. (Bug#31836)<br />      See also Bug#28597<br /><br />- Replication: Corruption of log events caused the server to crash on 64-bit Linux systems having 4 GB of memory or more. (Bug#31793)<br /><br />- Replication: STOP SLAVE did not stop connection attempts properly. If the IO slave thread was attempting to connect, STOP SLAVE waited for the attempt to finish, sometimes for a long period of time, rather than stopping the slave immediately. (Bug#31024)<br />      See also Bug#30932<br /><br />- Replication: Issuing a DROP VIEW statement caused replication to fail if the view did not actually exist. (Bug#30998)<br /><br />- Replication: One thread could read uninitialized memory from the stack of another thread. This issue was only known to occur in a mysqld process acting as both a master and a slave. (Bug#30752)<br /><br />- Replication: Setting server_id did not update its value for the current session. (Bug#28908)<br /><br />- Replication: Due a previous change in how the default name and location of the binlog file were determined, replication failed following some upgrades. (Bug#28597, Bug#28603)<br />      See also Bug#31836<br />      This regression was introduced by Bug#20166<br /><br />- Replication: MASTER_POS_WAIT() did not return NULL when the server was not a slave. (Bug#26622)<br /><br />- Replication: Stored procedures having BIT parameters were not replicated correctly. (Bug#26199)<br /><br />- Replication: Issuing SHOW SLAVE STATUS as mysqld was shutting down could cause a crash. (Bug#26000)<br /><br />- Replication: An UPDATE statement using a stored function that modified a non-transactional table was not logged if it failed. This caused the copy of the non-transactional table on the master have a row that the copy on the slave did not. (Bug#23333)<br /><br />      See also Bug#12713<br /><br />- Replication: The inspecific error message Wrong parameters to function register_slave resulted when START SLAVE failed to register on the master due to excess length of any the slave server options --report-host, --report-user, or --report-password. An error message specific to each of these options is now returned in such cases. The new error messages are:<br />    +  Failed to register slave: too long 'report-host'<br />    +  Failed to register slave: too long 'report-user'<br />    +  Failed to register slave; too long 'report-password'<br /><br />      (Bug#22989)<br />      See also Bug#19328<br /><br />- Replication: A replication slave sometimes failed to reconnect because it was unable to run SHOW SLAVE HOSTS. It was not necessary to run this statement on slaves (since the master should track connection IDs), and the execution of this statement by slaves was removed. (Bug#21132)<br />      See also Bug#13963, Bug#21869<br /><br />- Replication: START SLAVE UNTIL MASTER_LOG_POS=position issued on a slave that was using --log-slave-updates and that was involved in circular replication would cause the slave to run and stop one event later than that specified by the value of position. (Bug#13861)<br /><br />- Replication: PURGE BINARY LOGS TO and PURGE BINARY LOGS BEFORE did not handle missing binary log files correctly or in the same way. Now for both of these statements, if any files listed in the .index file are missing from the filesystem, the statement fails with an error.<br /><br />- Cluster API: When reading a BIT(64) value using NdbOperation:getValue(), 12 bytes were written to the buffer rather than the expected 8 bytes. (Bug#33750)<br /><br />- The fix for Bug#20748 caused a problem such that on Unix, MySQL programs looked for options in ~/my.cnf rather than the standard location of ~/.my.cnf. (Bug#38180)<br /><br />- The fix for Bug#33812 had the side effect of causing the mysql client not to be able to read some dump files produced with mysqldump. To address this, that fix was reverted. (Bug#38158)<br /><br />- Some binary distributions had a duplicate “-64bit” suffix in the filename. (Bug#37623)<br /><br />- On Windows 64-bit systems, temporary variables of long types were used to store ulong values, causing key cache initialization to receive distorted parameters. The effect was that setting key_buffer_size to values of 2GB or more caused memory exhaustion to due allocation of too much memory. (Bug#36705)<br /><br />- Multiple-table UPDATE statements that used a temporary table could fail to update all qualifying rows or fail with a spurious duplicate-key error. (Bug#36676)<br /><br />- A REGEXP match could return incorrect rows when the previous row matched the expression and used CONCAT() with an empty string. (Bug#36488)<br /><br />- mysqltest ignored the value of --tmpdir in one place. (Bug#36465)<br /><br />- The mysql client failed to recognize comment lines consisting of -- followed by a newline. (Bug#36244)<br /><br />- Conversion of a FLOAT ZEROFILL value to string could cause a server crash if the value was NULL. (Bug#36139)<br /><br />- On Windows, the installer attempted to use JScript to determine whether the target data directory already existed. On Windows Vista x64, this resulted in an error because the installer was attempting to run the JScript in a 32-bit engine, which wasn't registered on Vista. The installer no longer uses JScript but instead relies on a native WiX command. (Bug#36103)<br /><br />- An error in calculation of the precision of zero-length items (such as NULL) caused a server crash for queries that employed temporary tables. (Bug#36023)<br /><br />- For EXPLAIN EXTENDED, execution of an uncorrelated IN subquery caused a crash if the subquery required a temporary table for its execution. (Bug#36011)<br /><br />- The server crashed inside NOT IN subqueries with an impossible WHERE or HAVING clause, such as NOT IN (SELECT ... FROM t1, t2, ... WHERE 0). (Bug#36005)<br /><br />- Grouping or ordering of long values in unindexed BLOB or TEXT columns with the gbk or big5 character set crashed the server. (Bug#35993)<br /><br />- SET GLOBAL debug='' resulted in a Valgrind warning in DbugParse(), which was reading beyond the end of the control string. (Bug#35986)<br /><br />- An empty bit-string literal (b'') caused a server crash. Now the value is parsed as an empty bit value (which is treated as an empty string in string context or 0 in numeric context). (Bug#35658)<br /><br />- mysqlbinlog left temporary files on the disk after shutdown, leading to the pollution of the temporary directory, which eventually caused mysqlbinlog to fail. This caused problems in testing and other situations where mysqlbinlog might be invoked many times in a relatively short period of time. (Bug#35543)<br /><br />- There was a memory leak when connecting to a FEDERATED table using a connection string that had a host value of localhost or omitted the host and a port value of 0 or omitted the port. (Bug#35509)<br /><br />- The code for detecting a byte order mark (BOM) caused mysql to crash for empty input. (Bug#35480)<br /><br />- Using LOAD DATA INFILE with a view could crash the server. (Bug#35469)<br /><br />- The combination of GROUP_CONCAT(), DISTINCT, and LEFT JOIN could crash the server when the right table is empty. (Bug#35298)<br /><br />- When a view containing a reference to DUAL was created, the reference was removed when the definition was stored, causing some queries against the view to fail with invalid SQL syntax errors. (Bug#35193)<br /><br />- Debugging symbols were missing for some executables in Windows binary distributions. (Bug#35104)<br /><br />- A query that performed a ref_or_null join where the second table used a key having one or columns that could be NULL and had a column value that was NULL caused the server to crash. (Bug#34945)<br />      This regression was introduced by Bug#12144<br /><br />- Some binaries produced stack corruption messages due to being built with versions of bison older than 2.1. Builds are now created using bison 2.3. (Bug#34926)<br /><br />- mysqldump failed to return an error code when using the --master-data option without binary logging being enabled on the server. (Bug#34909)<br /><br />- Under some circumstances, the value of mysql_insert_id() following a SELECT ... INSERT statement could return an incorrect value. This could happen when the last SELECT ... INSERT did not involve an AUTO_INCREMENT column, but the value of mysql_insert_id() was changed by some previous statements. (Bug#34889)<br /><br />- Table and database names were mixed up in some places of the subquery transformation procedure. This could affect debugging trace output and further extensions of that procedure. (Bug#34830)<br /><br />- A malformed URL used for a FEDERATED table's CONNECTION option value in a CREATE TABLE statement was not handled correctly and could crash the server. (Bug#34788)<br /><br />- Queries such as SELECT ROW(1, 2) IN (SELECT t1.a, 2) FROM t1 GROUP BY t1.a (combining row constructors and subqueries in the FROM clause) could lead to assertion failure or unexpected error messages. (Bug#34763)<br /><br />- Using NAME_CONST() with a negative number and an aggregate function caused MySQL to crash. This could also have a negative impact on replication. (Bug#34749)<br /><br />- A memory-handling error associated with use of GROUP_CONCAT() in subqueries could result in a server crash. (Bug#34747)<br /><br />- For an indexed integer column col_name and a value N that is one greater than the maximum value allowed for the data type of col_name, conditions of the form WHERE col_name < N failed to return rows where the value of col_name is N - 1. (Bug#34731)<br /><br />- Executing a TRUNCATE statement on a table having both a foreign key reference and a DELETE trigger crashed the server. (Bug#34643)<br /><br />- Some subqueries using an expression that included an aggregate function could fail or in some cases lead to a crash of the server. (Bug#34620)<br /><br />- A server crash could occur if INFORMATION_SCHEMA tables built in memory were swapped out to disk during query execution. (Bug#34529)<br /><br />- CAST(AVG(arg) AS DECIMAL) produced incorrect results for non-DECIMAL arguments. (Bug#34512)<br /><br />- mysql_explain_log concatenated multiple-line statements, causing malformed results for statements that contained SQL comments beginning with --. (Bug#34339)<br /><br />- Executing an ALTER VIEW statement on a table crashed the server. (Bug#34337)<br /><br />- Several additional configuration scripts in the BUILD directory now are included in source distributions. These may be useful for users who wish to build MySQL from source. (See Section 2.4.15.3, “Installing from the Development Source Tree”, for information about what they do.) (Bug#34291)<br /><br />- Under some conditions, a SET GLOBAL innodb_commit_concurrency or SET GLOBAL innodb_autoextend_increment statement could fail. (Bug#34223)<br /><br />- mysqldump attempts to set the character_set_results system variable after connecting to the server. This failed for pre-4.1 servers that have no such variable, but mysqldump did not account for this and 1) failed to dump database contents; 2) failed to produce any error message alerting the user to the problem. (Bug#34192)<br /><br />- mysql_install_db failed if the server was running with a SQL mode of TRADITIONAL. This program now resets the SQL mode internally to avoid this problem. (Bug#34159)<br /><br />- For a FEDERATED table with an index on a nullable column, accessing the table could crash a server, return an incorrect result set, or return ERROR 1030 (HY000): Got error 1430 from storage engine. (Bug#33946)<br /><br />- Passing anything other than a integer to a LIMIT clause in a prepared statement would fail. (This limitation was introduced to avoid replication problems; for example, replicating the statement with a string argument would cause a parse failure in the slave). Now, arguments to the LIMIT clause are converted to integer values, and these converted values are used when logging the statement. (Bug#33851)<br /><br />- An internal buffer in mysql was too short. Overextending it could cause stack problems or segmentation violations on some architectures. (This is not a problem that could be exploited to run arbitrary code.) (Bug#33841)<br /><br />- A query using WHERE (column1='string1' AND column2=constant1) OR (column1='string2' AND column2=constant2), where col1 used a binary collation and string1 matched string2 except for case, failed to match any records even when matches were found by a query using the equivalent clause WHERE column2=constant1 OR column2=constant2. (Bug#33833)<br /><br />- The mysql client incorrectly parsed statements containing the word “delimiter” in mid-statement.      The fix for this bug had the side effect of causing the problem reported in Bug#38158, so it was reverted in MySQL 5.0.67. (Bug#33812)<br /><br />- Large unsigned integers were improperly handled for prepared statements, resulting in truncation or conversion to negative numbers. (Bug#33798)<br /><br />- Reuse of prepared statements could cause a memory leak in the embedded server. (Bug#33796)<br /><br />- The server crashed when executing a query that had a subquery containing an equality X=Y where Y referred to a named select list expression from the parent select. The server crashed when trying to use the X=Y equality for ref-based access. (Bug#33794)<br /><br />- Some queries using a combination of IN, CONCAT(), and an implicit type conversion could return an incorrect result. (Bug#33764)<br /><br />- In some cases a query that produced a result set when using ORDER BY ASC did not return any results when this was changed to ORDER BY DESC. (Bug#33758)<br /><br />- Disabling concurrent inserts caused some cacheable queries not to be saved in the query cache. (Bug#33756)<br /><br />- Use of uninitialized memory for filesort in a subquery caused a server crash. (Bug#33675)<br /><br />- The server could crash when REPEAT or another control instruction was used in conjunction with labels and a LEAVE instruction. (Bug#33618)<br /><br />- The parser allowed control structures in compound statements to have mismatched beginning and ending labels. (Bug#33618)<br /><br />- make_binary_distribution passed the --print-libgcc-file option to the C compiler, but this does not work with the ICC compiler. (Bug#33536)<br /><br />- Certain combinations of views, subselects with outer references and stored routines or triggers could cause the server to crash. (Bug#33389)<br /><br />- SET GLOBAL myisam_max_sort_file_size=DEFAULT set myisam_max_sort_file_size to an incorrect value. (Bug#33382)<br />      See also Bug#31177<br /><br />- SLEEP(0) failed to return on 64-bit Mac OS X due to a bug in pthread_cond_timedwait(). (Bug#33304)<br /><br />- CREATE TABLE ... SELECT created tables that for date columns used the obsolete Field_date type instead of Field_newdate. (Bug#33256)<br /><br />- Granting the UPDATE privilege on one column of a view caused the server to crash. (Bug#33201)<br /><br />- For DECIMAL columns used with the ROUND(X,D) or TRUNCATE(X,D) function with a non-constant value of D, adding an ORDER BY for the function result produced misordered output. (Bug#33143)<br />      See also Bug#33402, Bug#30617<br /><br />- Some valid SELECT statements could not be used as views due to incorrect column reference resolution. (Bug#33133)<br /><br />- The fix for Bug#11230 and Bug#26215 introduced a significant input-parsing slowdown for the mysql client. This has been corrected. (Bug#33057)<br /><br />- When MySQL was built with OpenSSL, the SSL library was not properly initialized with information of which endpoint it was (server or client), causing connection failures. (Bug#33050)<br /><br />- Under some circumstances a combination of aggregate functions and GROUP BY in a SELECT query over a view could lead to incorrect calculation of the result type of the aggregate function. This in turn could lead to incorrect results, or to crashes on debug builds of the server. (Bug#33049)<br /><br />- For DISTINCT queries, 4.0 and 4.1 stopped reading joined tables as soon as the first matching row was found. However, this optimzation was lost in MySQL 5.0, which instead read all matching rows. This fix for this regression may result in a major improvement in performance for DISTINCT queries in cases where many rows match. (Bug#32942)<br /><br />- The server was built even when configure was run with the --without-server option. (Bug#32898)<br />      See also Bug#23973<br /><br />- Repeated creation and deletion of views within prepared statements could eventually crash the server. (Bug#32890)<br />      See also Bug#34587<br /><br />- UNION constructs cannot contain SELECT ... INTO except in the final SELECT. However, if a UNION was used in a subquery and an INTO clause appeared in the top-level query, the parser interpreted it as having appeared in the UNION and raised an error. (Bug#32858)<br /><br />- The correct data type for a NULL column resulting from a UNION could be determined incorrectly in some cases: 1) Not correctly inferred as NULL depending on the number of selects; 2) Not inferred correctly as NULL if one select used a subquery. (Bug#32848)<br /><br />- An ORDER BY query using IS NULL in the WHERE clause did not return correct results. (Bug#32815)<br /><br />- For queries containing GROUP_CONCAT(DISTINCT col_list ORDER BY col_list), there was a limitation that the DISTINCT columns had to be the same as ORDER BY columns. Incorrect results could be returned if this was not true. (Bug#32798)<br /><br />- Incorrect assertions could cause a server crash for DELETE triggers for transactional tables. (Bug#32790)<br /><br />- Use of the cp932 character set with CAST() in an ORDER BY clause could cause a server crash. (Bug#32726)<br /><br />- Inserting strings with a common prefix into a table that used the ucs2 character set corrupted the table. (Bug#32705)<br /><br />- A subquery using an IS NULL check of a column defined as NOT NULL in a table used in the FROM clause of the outer query produced an invalid result. (Bug#32694)<br /><br />- Specifying a non-existent column for an INSERT DELAYED statement caused a server crash rather than producing an error. (Bug#32676)<br /><br />- Use of CLIENT_MULTI_QUERIES caused libmysqld to crash. (Bug#32624)<br /><br />- The INTERVAL() function incorrectly handled NULL values in the value list. (Bug#32560)<br /><br />- Use of a NULL-returning GROUP BY expression in conjunction with WITH ROLLUP could cause a server crash. (Bug#32558)<br />      See also Bug#31095<br /><br />- A SELECT ... GROUP BY bit_column query failed with an assertion if the length of the BIT column used for the GROUP BY was not an integer multiple of 8. (Bug#32556)<br /><br />- Using SELECT INTO OUTFILE with 8-bit ENCLOSED BY characters led to corrupted data when the data was reloaded using LOAD DATA INFILE. This was because SELECT INTO OUTFILE failed to escape the 8-bit characters. (Bug#32533)<br /><br />- For FLUSH TABLES WITH READ LOCK, the server failed to properly detect write-locked tables when running with low-priority updates, resulting in a crash or deadlock. (Bug#32528)<br /><br />- A build problem introduced in MySQL 5.0.52 was resolved: The x86 32-bit Intel icc-compiled server binary had unwanted dependences on Intel icc runtime libraries. (Bug#32514)<br /><br />- Queries using LIKE on tables having indexed CHAR columns using either of the eucjpms or ujis character sets did not return correct results. (Bug#32510)<br /><br />- The rules for valid column names were being applied differently for base tables and views. (Bug#32496)<br /><br />- Sending several KILL QUERY statements to target a connection running SELECT SLEEP() could freeze the server. (Bug#32436)<br /><br />- ssl-cipher values in option files were not being read by libmysqlclient. (Bug#32429)<br /><br />- Repeated execution of a query containing a CASE expression and numerous AND and OR relations could crash the server. The root cause of the issue was determined to be that the internal SEL_ARG structure was not properly initialized when created. (Bug#32403)<br /><br />- Referencing within a subquery an alias used in the SELECT list of the outer query was incorrectly permitted. (Bug#32400)<br /><br />- An ORDER BY query on a view created using a FEDERATED table as a base table caused the server to crash. (Bug#32374)<br /><br />- Comparison of a BIGINT NOT NULL column with a constant arithmetic expression that evaluated to NULL mistakenly caused the error Column '...' cannot be null (error 1048). (Bug#32335)<br /><br />- Assigning a 65,536-byte string to a TEXT column (which can hold a maximum of 65,535 bytes) resulted in truncation without a warning. Now a truncation warning is generated. (Bug#32282)<br /><br />- The LAST_DAY() function returns a DATE value, but internally the value did not have the time fields zeroed and calculations involving the value could return incorrect results. (Bug#32270)<br /><br />- MIN() and MAX() could return incorrect results when an index was present if a loose index scan was used. (Bug#32268)<br /><br />- Executing a prepared statement associated with a materialized cursor sent to the client a metadata packet with incorrect table and database names. The problem occurred because the server sent the the name of the temporary table used by the cursor instead of the table name of the original table.<br /><br />      The same problem occured when selecting from a view, in which case the name of the table name was sent, rather than the name of the view. (Bug#32265)<br /><br />- Memory corruption could occur due to large index map in Range checked for each record status reported by EXPLAIN SELECT. The problem was based in an incorrectly calculated length of the buffer used to store a hexadecimal representation of an index map, which could result in buffer overrun and stack corruption under some circumstances. (Bug#32241)<br /><br />- Various test program cleanups were made: 1) mytest and libmysqltest were removed. 2) bug25714 displays an error message when invoked with incorrect arguments or the --help option. 3) mysql_client_test exits cleanly with a proper error status. (Bug#32221)<br /><br />- The default grant tables on Windows contained information for host production.mysql.com, which should not be there. (Bug#32219)<br /><br />- Under certain conditions, the presence of a GROUP BY clause could cause an ORDER BY clause to be ignored. (Bug#32202)<br /><br />- For comparisons of the form date_col OP datetime_const (where OP is =, <, >, <=, or >=), the comparison is done using DATETIME values, per the fix for Bug#27590. However that fix caused any index on date_col not to be used and compromised performance. Now the index is used again. (Bug#32198)<br /><br />- DATETIME arguments specified in numeric form were treated by DATE_ADD() as DATE values. (Bug#32180)<br /><br />- InnoDB adaptive hash latches could be held too long, resulting in a server crash. This fix may also provide significant performance improvements on systems on which many queries using filesorts with temporary tables are being performed. (Bug#32149)<br /><br />- InnoDB does not support SPATIAL indexes, but could crash when asked to handle one. Now an error is returned. (Bug#32125)<br /><br />- The server crashed on optimizations involving a join of INT and MEDIUMINT columns and a system variable in the WHERE clause. (Bug#32103)<br /><br />- SHOW STATUS caused a server crash if InnoDB had not been initialized. (Bug#32083)<br /><br />- With lower_case_table_names set, CREATE TABLE LIKE was treated differently by libmysqld than by the non-embedded server. (Bug#32063)<br /><br />- Within a subquery, UNION was handled differently than at the top level, which could result in incorrect results or a server crash. (Bug#32036, Bug#32051)<br /><br />- User-defined functions are not loaded if the server is started with the --skip-grant-tables option, but the server did not properly handle this case and issued an Out of memory error message instead. (Bug#32020)<br /><br />- HOUR(), MINUTE(), and SECOND() could return non-zero values for DATE arguments. (Bug#31990)<br /><br />- A column with malformed multi-byte characters could cause the full-text parser to go into an infinite loop. (Bug#31950)<br /><br />- Changing the SQL mode to cause dates with “zero” parts to be considered invalid (such as '1000-00-00') could result in indexed and non-indexed searches returning different results for a column that contained such dates. (Bug#31928)<br /><br />- Queries testing numeric constants containing leading zeroes against ZEROFILL columns were not evaluated correctly. (Bug#31887)<br /><br />- In debug builds, testing the result of an IN subquery against NULL caused an assertion failure. (Bug#31884)<br /><br />- mysql-test-run.pl sometimes set up test scenarios in which the same port number was passed to multiple servers, causing one of them to be unable to start. (Bug#31880)<br /><br />- Comparison results for BETWEEN were different from those for operators like < and > for DATETIME-like values with trailing extra characters such as '2007-10-01 00:00:00 GMT-6'. BETWEEN treated the values as DATETIME, whereas the other operators performed a binary-string comparison. Now they all uniformly use a DATETIME comparison, but generate warnings for values with trailing garbage. (Bug#31800)<br /><br />- Name resolution for correlated subqueries and HAVING clauses failed to distinguish which of two was being performed when there was a reference to an outer aliased field. This could result in error messages about a HAVING clause for queries that had no such clause. (Bug#31797)<br /><br />- If an error occurred during file creation, the server sometimes did not remove the file, resulting in an unused file in the filesystem. (Bug#31781)<br /><br />- The server could crash during filesort for ORDER BY based on expressions with INET_NTOA() or OCT() if those functions returned NULL. (Bug#31758)<br /><br />- The mysqld crash handler failed on Windows. (Bug#31745)<br /><br />- For a fatal error during a filesort in find_all_keys(), the error was returned without the necessary handler uninitialization, causing an assertion failure. (Bug#31742)<br /><br />- The examined-rows count was not incremented for const queries. (Bug#31700)<br /><br />- The mysql_change_user() C API function was subject to buffer overflow. (Bug#31669)<br /><br />- For SELECT ... INTO OUTFILE, if the ENCLOSED BY string is empty and the FIELDS TERMINATED BY string started with a special character (one of n, t, r, b, 0, Z, or N), every occurrence of the character within field values would be duplicated. (Bug#31663)<br /><br />- SHOW COLUMNS and DESCRIBE displayed null as the column type for a view with no valid definer. This caused mysqldump to produce a non-reloadable dump file for the view. (Bug#31662)<br /><br />- The mysqlbug script did not include the correct values of CFLAGS and CXXFLAGS that were used to configure the distribution. (Bug#31644)<br /><br />- ucs2 does not work as a client character set, but attempts to use it as such were not rejected. Now character_set_client cannot be set to ucs2. This also affects statements such as SET NAMES and SET CHARACTER SET. (Bug#31615)<br /><br />- The server returned the error message Out of memory; restart server and try again when the actual problem was that the sort buffer was too small. Now an appropriate error message is returned in such cases. (Bug#31590)<br /><br />- A buffer used when setting variables was not dimensioned to accommodate the trailing '\0' byte, so a single-byte buffer overrun was possible. (Bug#31588)<br /><br />- HAVING could treat lettercase of table aliases incorrectly if lower_case_table_names was enabled. (Bug#31562)<br /><br />- The fix for Bug#24989 introduced a problem such that a NULL thread handler could be used during a rollback operation. This problem is unlikely to be seen in practice. (Bug#31517)<br /><br />- Killing a CREATE TABLE ... LIKE statement that was waiting for a name lock caused a server crash. When the statement was killed, the server attempted to release locks that were not held. (Bug#31479)<br /><br />- The length of the result from IFNULL() could be calculated incorrectly because the sign of the result was not taken into account. (Bug#31471)<br /><br />- Queries that used the ref access method or index-based subquery execution over indexes that have DECIMAL columns could fail with an error Column col_name cannot be null. (Bug#31450)<br /><br />- SELECT 1 REGEX NULL caused an assertion failure for debug servers. (Bug#31440)<br /><br />- Executing RENAME while tables were open for use with HANDLER statements could cause a server crash. (Bug#31409)<br /><br />- mysql-test-run.pl tried to create files in a directory where it could not be expected to have write permission. mysqltest created .reject files in a directory other than the one where test results go. (Bug#31398)<br /><br />- DROP USER caused an increase in memory usage. (Bug#31347)<br /><br />- For an almost-full MyISAM table, an insert that failed could leave the table in a corrupt state. (Bug#31305)<br /><br />- myisamchk --unpack could corrupt a table that when unpacked has static (fixed-length) row format. (Bug#31277)<br /><br />- CONVERT(val, DATETIME) would fail on invalid input, but processing was not aborted for the WHERE clause, leading to a server crash. (Bug#31253)<br /><br />- Allocation of an insufficiently large group-by buffer following creation of a temporary table could lead to a server crash. (Bug#31249)<br /><br />- Use of DECIMAL(n, n) ZEROFILL in GROUP_CONCAT() could cause a server crash. (Bug#31227)<br /><br />- When sorting privilege table rows, the server treated escaped wildcard characters (\% and \_) the same as unescaped wildcard characters (% and _), resulting in incorrect row ordering. (Bug#31194)<br /><br />- Server variables could not be set to their current values on Linux platforms. (Bug#31177)<br />      See also Bug#6958<br /><br />- WIth small values of myisam_sort_buffer_size, REPAIR TABLE for MyISAM tables could cause a server crash. (Bug#31174)<br /><br />- Use of the @@hostname system variable in inserts in mysql_system_tables_data.sql did not replicate. The workaround is to select its value into a user variable (which does replicate) and insert that. (Bug#31167)<br /><br />- If MAKETIME() returned NULL when used in an ORDER BY that was evaluated using filesort, a server crash could result. (Bug#31160)<br /><br />- Full-text searches on ucs2 columns caused a server crash. (FULLTEXT indexes on ucs2 columns cannot be used, but it should be possible to perform IN BOOLEAN MODE searches on ucs2 columns without a crash.) (Bug#31159)<br /><br />- Data in BLOB or GEOMETRY columns could be cropped when performing a UNION query. (Bug#31158)<br /><br />- An assertion designed to detect a bug in the ROLLUP implementation would incorrectly be triggered when used in a subquery context with non-cacheable statements. (Bug#31156)<br /><br />- Selecting spatial types in a UNION could cause a server crash. (Bug#31155)<br /><br />- Use of GROUP_CONCAT(DISTINCT bit_column) caused an assertion failure. (Bug#31154)<br /><br />- The server crashed in the parser when running out of memory. Memory handling in the parser has been improved to gracefully return an error when out-of-memory conditions occur in the parser. (Bug#31153)<br /><br />- MySQL declares a UNIQUE key as a PRIMARY key if it doesn't have NULL columns and is not a partial key, and the PRIMARY key must alway be the first key. However, in some cases, a non-first key could be reported as PRIMARY, leading to an assert failure by InnoDB. This is fixed by correcting the key sort order. (Bug#31137)<br /><br />- GROUP BY NULL WITH ROLLUP could cause a server crash. (Bug#31095)<br />      See also Bug#32558<br /><br />- REGEXP operations could cause a server crash for character sets such as ucs2. Now the arguments are converted to utf8 if possible, to allow correct results to be produced if the resulting strings contain only 8-bit characters. (Bug#31081)<br /><br />- Internal conversion routines could fail for several multi-byte character sets (big5, cp932, euckr, gb2312, sjis) for empty strings or during evaluation of SOUNDS LIKE. (Bug#31069, Bug#31070)<br /><br />- Many nested subqueries in a single query could led to excessive memory consumption and possibly a crash of the server. (Bug#31048)<br /><br />- The MOD() function and the % operator crashed the server for a divisor less than 1 with a very long fractional part. (Bug#31019)<br /><br />- On Windows, the pthread_mutex_trylock() implementation was incorrect. (Bug#30992)<br /><br />- A character set introducer followed by a hexadecimal or bit-value literal did not check its argument and could return an ill-formed result for invalid input. (Bug#30986)<br /><br />- CHAR(str USING charset) did not check its argument and could return an ill-formed result for invalid input. (Bug#30982)<br /><br />- The result from CHAR(str USING ucs2) did not add a leading 0x00 byte for input strings with an odd number of bytes. (Bug#30981)<br /><br />- On Windows, SHOW PROCESSLIST could display process entries with a State value of *** DEAD ***. (Bug#30960)<br /><br />- The GeomFromText() function could cause a server crash if the first argument was NULL or the empty string. (Bug#30955)<br /><br />- MAKEDATE() incorrectly moved year values in the 100-200 range into the 1970-2069 range. (This is legitimate for 00-99, but three-digit years should be used unchanged.) (Bug#30951)<br /><br />- When invoked with constant arguments, STR_TO_DATE() could use a cached value for the format string and return incorrect results. (Bug#30942)<br /><br />- GROUP_CONCAT() returned ',' rather than an empty string when the argument column contained only empty strings. (Bug#30897)<br /><br />- ROUND(X,D) or TRUNCATE(X,D) for non-constant values of D could crash the server if these functions were used in an ORDER BY that was resolved using filesort. (Bug#30889)<br /><br />- For MEMORY tables, lookups for NULL values in BTREE indexes could return incorrect results. (Bug#30885)<br /><br />- Calling NAME_CONST() with non-constant arguments triggered an assertion failure. Non-constant arguments are now disallowed. (Bug#30832)<br /><br />- For a spatial column with a regular (non-SPATIAL) index, queries failed if the optimizer tried to use the index. (Bug#30825)<br /><br />- Values for the --tc-heuristic-recover option incorrectly were treated as values for the --myisam-stats-method option. (Bug#30821)<br /><br />- The optimizer incorrectly optimized conditions out of the WHERE clause in some queries involving subqueries and indexed columns. (Bug#30788)<br /><br />- If an alias was used to refer to the value returned by a stored function within a subselect, the outer select recognized the alias but failed to retrieve the value assigned to it in the subselect. (Bug#30787)<br /><br />- Improper calculation of CASE expression results could lead to value truncation. (Bug#30782)<br /><br />- On Windows, the pthread_mutex_trylock() implementation was incorrect. One symptom was that invalidating the query cache could cause a server crash. (Bug#30768)<br /><br />- A multiple-table UPDATE involving transactional and non-transactional tables caused an assertion failure. (Bug#30763)<br /><br />- Under some circumstances, CREATE TABLE ... SELECT could crash the server or incorrectly report that the table row size was too large. (Bug#30736)<br /><br />- Using the MIN() or MAX() function to select one part of a multi-part key could cause a crash when the function result was NULL. (Bug#30715)<br /><br />- The optimizer could ignore ORDER BY in cases when the result set is ordered by filesort, resulting in rows being returned in incorrect order. (Bug#30666)<br /><br />- MyISAM tables could not exceed 4294967295 (2^32 - 1) rows on Windows. (Bug#30638)<br /><br />- mysql-test-run.pl could not run mysqld with root privileges. (Bug#30630)<br /><br />- Binary logging for a stored procedure differed depending on whether or not execution occurred in a prepared statement. (Bug#30604)<br /><br />- For MEMORY tables, DELETE statements that remove rows based on an index read could fail to remove all matching rows. (Bug#30590)<br /><br />- Using GROUP BY on an expression of the form timestamp_col DIV number caused a server crash due to incorrect calculation of number of decimals. (Bug#30587)<br /><br />- The options available to the CHECK TABLE statement were also allowed in OPTIMIZE TABLE and ANALYZE TABLE statements, but caused corruption during their execution. These options were never supported for the these statements, and an error is now raised if you try to apply these options to these statements. (Bug#30495)<br /><br />- When expanding a * in a USING or NATURAL join, the check for table access for both tables in the join was done using only the grant information of the first table. (Bug#30468)<br /><br />- When casting a string value to an integer, cases where the input string contained a decimal point and was long enough to overrun the unsigned long long type were not handled correctly. The position of the decimal point was not taken into account which resulted in miscalculated numbers and incorrect truncation to appropriate SQL data type limits. (Bug#30453)<br /><br />- Versions of mysqldump from MySQL 4.1 or higher tried to use START TRANSACTION WITH CONSISTENT SNAPSHOT if the --single-transaction and --master-data options were given, even with servers older than 4.1 that do not support consistent snapshots. (Bug#30444)<br /><br />- Replication of LOAD DATA INFILE could fail when read_buffer_size was larger than max_allowed_packet. (Bug#30435)<br /><br />- For CREATE ... SELECT ... FROM, where the resulting table contained indexes, adding SQL_BUFFER_RESULT to the SELECT part caused index corruption in the table. (Bug#30384)<br /><br />- An orphaned PID file from a no-longer-running process could cause mysql.server to wait for that process to exit even though it does not exist. (Bug#30378)<br /><br />- The optimizer made incorrect assumptions about the value of the is_member value for user-defined functions, sometimes resulting in incorrect ordering of UDF results. (Bug#30355)<br /><br />- Some valid euc-kr characters having the second byte in the ranges [0x41..0x5A] and [0x61..0x7A] were rejected. (Bug#30315)<br /><br />- Simultaneous ALTER TABLE statements for BLACKHOLE tables caused 100% CPU use due to locking problems. (Bug#30294)<br /><br />- Setting certain values on a table using a spatial index could cause the server to crash. (Bug#30286)<br /><br />- Tables with a GEOMETRY column could be marked as corrupt if you added a non-SPATIAL index on a GEOMETRY column. (Bug#30284)<br /><br />- Some INFORMATION_SCHEMA tables are intended for internal use, but could be accessed by using SHOW statements. (Bug#30079)<br /><br />- On some 64-bit systems, inserting the largest negative value into a BIGINT column resulted in incorrect data. (Bug#30069)<br /><br />- Specifying the --without-geometry option for configure caused server compilation to fail. (Bug#29972)<br /><br />- Under some circumstances, a UDF initialization function could be passed incorrect argument lengths. (Bug#29804)<br /><br />- configure did not find nss on some Linux platforms. (Bug#29658)<br /><br />- The mysql_config command would output CFLAGS values that were incompatible with C++ for the HP-UX platform. (Bug#29645)<br /><br />- InnoDB had a race condition for an adaptive hash rw-lock waiting for an X-lock. This fix may also provide significant speed improvements on systems experiencing problems with contention for the adaptive hash index. (Bug#29560)<br /><br />- Views were treated as insertable even if some base table columns with no default value were omitted from the view definition. (This is contrary to the condition for insertability that a view must contain all columns in the base table that do not have a default value.) (Bug#29477)<br /><br />- The mysql client program now ignores Unicode byte order mark (BOM) characters at the beginning of input files. Previously, it read them and sent them to the server, resulting in a syntax error.<br />      Presence of a BOM does not cause mysql to change its default character set. To do that, invoke mysql with an option such as --default-character-set=utf8. (Bug#29323)<br /><br />- For transactional tables, an error during a multiple-table DELETE statement did not roll back the statement. (Bug#29136)<br /><br />- The log and log_slow_queries system variables were displayed by SHOW VARIABLES but could not be accessed in expressions as @@log and @@log_slow_queries. Also, attempting to set them with SET produced an incorrect Unknown system variable message. Now these variables can be accessed in expressions and attempting to set their values produces an error message that the variable is read only. (Bug#29131)<br /><br />- Denormalized double-precision numbers cannot be handled properly by old MIPS pocessors. For IRIX, this is now handled by enabling a mode to use a software workaround. (Bug#29085)<br /><br />- SHOW VARIABLES did not display the relay_log, relay_log_index, or relay_log_info_file system variables. (Bug#28893)<br /><br />- The MySQL preferences pane did not work to start or stop MySQL on Mac OS X 10.5 (Leopard). (Bug#28854)<br /><br />- When doing a DELETE on table that involved a JOIN with MyISAM or MERGE tables and the JOIN referred to the same table, the operation could fail reporting ERROR 1030 (HY000): Got error 134 from storage engine. This was because scans on the table contents would change because of rows that had already been deleted. (Bug#28837)<br /><br />- On Windows, mysql_upgrade created temporary files in C:\ and did not clean them up. (Bug#28774)<br /><br />- Index hints specified in view definitions were ignored when using the view to select from the base table. (Bug#28702)<br /><br />- Views do not have indexes, so index hints do not apply. Use of index hints when selecting from a view is now disallowed. (Bug#28701)<br /><br />- After changing the SQL mode to a restrictive value that would make already-inserted dates in a column be considered invalid, searches returned different results depending on whether the column was indexed. (Bug#28687)<br /><br />- For upgrading to a new major version using RPM packages (such as 4.1 to 5.0), if the installation procedure found an existing MySQL server running, it could fail to shut down the old server, but also erroneously removed the server's socket file. Now the procedure checks for an existing server package from a different vendor or major MySQL version. In such case, it refuses to install the server and recommends how to safely remove the old packages before installing the new ones. (Bug#28555)<br /><br />- The result from CHAR() was incorrectly assumed in some contexts to return a single-byte result. (Bug#28550)<br /><br />- mysqlhotcopy silently skipped databases with names consisting of two alphanumeric characters. (Bug#28460)<br /><br />- The parser confused user-defined function (UDF) and stored function creation for CREATE FUNCTION and required that there be a default database when creating UDFs, although there is no such requirement. (Bug#28318, Bug#29816)<br /><br />- The SQL parser did not accept an empty UNION=() clause. This meant that, when there were no underlying tables specified for a MERGE table, SHOW CREATE TABLE and mysqldump both output statements that could not be executed.<br /><br />      Now it is possible to execute a CREATE TABLE or ALTER TABLE statement with an empty UNION=() clause. However, SHOW CREATE TABLE and mysqldump do not output the UNION=() clause if there are no underlying tables specified for a MERGE table. This also means it is now possible to remove the underlying tables for a MERGE table using ALTER TABLE ... UNION=(). (Bug#28248)<br /><br />- The result of a comparison between VARBINARY and BINARY columns differed depending on whether the VARBINARY column was indexed. (Bug#28076)<br /><br />- The metadata in some MYSQL_FIELD members could be incorrect when a temporary table was used to evaluate a query. (Bug#27990)<br /><br />- An ORDER BY at the end of a UNION affected individual SELECT statements rather than the overall query result. (Bug#27848)<br /><br />- comp_err created files with permissions such that they might be inaccessible during make install operations. (Bug#27789)<br /><br />- It was possible to exhaust memory by repeatedly running index_merge queries and never performing any FLUSH TABLES statements. (Bug#27732)<br /><br />- It was possible to create a view having a column whose name consisted of an empty string or space characters only. (Bug#27695)<br />      See also Bug#31202<br /><br />- The anonymous accounts were not being created during MySQL installation. (Bug#27692)<br /><br />- When utf8 was set as the connection character set, using SPACE() with a non-Unicode column produced an error. (Bug#27580)<br />      See also Bug#23637<br /><br />- A race condition between killing a statement and the thread executing the statement could lead to a situation such that the binary log contained an event indicating that the statement was killed, whereas the statement actually executed to completion. (Bug#27571)<br /><br />- Some queries using the NAME_CONST() function failed to return either a result or an error to the client, causing it to hang. This was due to the fact that there was no check to insure that both arguments to this function were constant expressions. (Bug#27545, Bug#32559)<br /><br />- With the read_only system variable enabled, CREATE DATABASE and DROP DATABASE were allowed to users who did not have the SUPER privilege. (Bug#27440)<br /><br />- resolveip failed to produce correct results for hostnames that begin with a digit. (Bug#27427)<br /><br />- In ORDER BY clauses, mixing aggregate functions and non-grouping columns is not allowed if the ONLY_FULL_GROUP_BY SQL mode is enabled. However, in some cases, no error was thrown because of insufficient checking. (Bug#27219)<br /><br />- For the --record_log_pos option, mysqlhotcopy now determines the slave status information from the result of SHOW SLAVE STATUS by using the Relay_Master_Log_File and Exec_Master_Log_Pos values rather than the Master_Log_File and Read_Master_Log_Pos values. This provides a more accurate indication of slave execution relative to the master. (Bug#27101)<br /><br />- The MySQL Instance Configuration Wizard would not allow you to choose a service name, even though the criteria for the service name were valid. The code that checks the name has been updated to support the correct criteria of any string less than 256 character and not containing either a forward or backward slash character. (Bug#27013)<br /><br />- mysqld sometimes miscalculated the number of digits required when storing a floating-point number in a CHAR column. This caused the value to be truncated, or (when using a debug build) caused the server to crash. (Bug#26788)<br />      See also Bug#12860<br /><br />- config-win.h unconditionally defined bool as BOOL, causing problems on systems where bool is 1 byte and BOOL is 4 bytes. (Bug#26461)<br /><br />- The internal init_time() library function was renamed to my_init_time() to avoid conflicts with external libraries. (Bug#26294)<br /><br />- On Windows, for distributions built with debugging support, mysql could crash if the user typed Control-C. (Bug#26243)<br /><br />- mysqlcheck -A -r did not correctly identify all tables that needed repairing. (Bug#25347)<br /><br />- On Windows, an error in configure.js caused installation of source distributions to fail. (Bug#25340)<br /><br />- Using mysqldump in MySQL 5.1 resulted in dump files that could not be loaded in MySQL 5.0 because USING type_name options in index definitions appeared after the index column list, whereas 5.0 accepted only the old syntax that has USING before the column list. The parser in 5.0 now accepts USING following the column list. (Bug#25162)<br /><br />- The client library had no way to return an error if no connection had been established. This caused problems such as mysql_library_init() failing silently if no errmsg.sys file was available. (Bug#25097)<br /><br />- On Mac OS X, the StartupItem for MySQL did not work. (Bug#25008)<br /><br />- For Windows 64-bit builds, enabling shared-memory support caused client connections to fail. (Bug#24992)<br /><br />- If the expected precision of an arithmetic expression exceeded the maximum precision supported by MySQL, the precision of the result was reduced by an unpredictable or arbitrary amount, rather than to the maximum precision. In some cases, exceeding the maximum supported precision could also lead to a crash of the server. (Bug#24907)<br /><br />- mysql did not use its completion table. Also, the table contained few entries. (Bug#24624)<br /><br />- If a user installed MySQL Server and set a password for the root user, and then uninstalled and reinstalled MySQL Server to the same location, the user could not use the MySQL Instance Config wizard to configure the server because the uninstall operation left the previous data directory intact. The config wizard assumed that any new install (not an upgrade) would have the default data directory where the root user has no password. The installer now writes a registry key named FoundExistingDataDir. If the installer finds an existing data directory, the key will have a value of 1, otherwise it will have a value of 0. When MySQLInstanceConfig.exe is run, it will attempt to read the key. If it can read the key, and the value is 1 and there is no existing instance of the server (indicating a new installation), the Config Wizard will allow the user to input the old password so the server can be configured. (Bug#24215)<br /><br />- The MySQL header files contained some duplicate macro definitions that could cause compilation problems. (Bug#23839)<br /><br />- SHOW COLUMNS on a TEMPOARY table caused locking issues. (Bug#23588)<br /><br />- For distributions compiled with the bundled libedit library, there were difficulties using the mysql client to enter input for non-ASCII or multi-byte characters. (Bug#23097)<br /><br />- For Windows Vista, MySQLInstanceConfig.exe did not include a proper manifest enabling it to run with administrative privileges. (Bug#22563)<br />      See also Bug#24732<br /><br />- On Mac OS X, mysqld did not react to Ctrl-C when run under gdb, even when run with the --gdb option. (Bug#21567)<br /><br />- mysql_config output did not include -lmygcc on some platforms when it was needed. (Bug#21158)<br /><br />- mysql-stress-test.pl and mysqld_multi.server.sh were missing from some binary distributions. (Bug#21023, Bug#25486)<br /><br />- mysqldumpslow returned a confusing error message when no configuration file was found. (Bug#20455)<br /><br /></p>
  </div>
  <div class="itemFoot">
    <span class="itemAdminLink"></span> <span class="itemPermaLink"></span>
  </div>
</div></div>

<div style="text-align: left; margin: 10px;"></div>

<div style="padding: 5px; text-align: right;
margin-right:3px;">
<a href="print.php%3Fstoryid=112.html"><img
src="images/print.gif" border="0"
alt="印刷用ページ" /></a> <a target="_top"
href="mailto:?subject=MyNA Web Siteで見つけた興味深いニュース&amp;body=以下はMyNA Web Siteで見つけた非常に興味深いニュース記事です：:  http://www.mysql.gr.jp/frame/modules/news/article.php?storyid=112"><img src="images/friend.gif"
border="0" alt="このニュースを友達に送る" /></a>
</div>

<!-- -->

<div style="margin:3px; padding: 3px;">
<!-- start comments loop -->
<table class="outer" cellpadding="5" cellspacing="1">
  <tr>
    <th width="20%">投稿者</td>
    <th>スレッド</td>
  </tr>
  </table><!-- end comments loop -->
</div>

      </div>

        <!-- Display center blocks if any -->
        
        <table cellspacing="0" id="centerContent">
          <tr>
            <td id="centerCcolumn" colspan="2">

            <!-- Start center-center blocks loop -->
                          <div style="padding: 5px;">
    <div class="blockContent"><hr width=90%>
<center>[AD]<br><script type="text/javascript"><!--
google_ad_client = "pub-6416440120333674";
google_alternate_color = "FFFFFF";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="1464500678";
google_page_url = document.location;
google_color_border = "E8CCCA";
google_color_bg = "F1DFDE";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "111111";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center></div>
</div>                        <!-- End center-center blocks loop -->

            </td>
          </tr>
          <tr>
            <td id="centerLcolumn">

            <!-- Start center-left blocks loop -->
                          <!-- End center-left blocks loop -->

            </td>
            <td id="centerRcolumn">

            <!-- Start center-right blocks loop -->
                          <!-- End center-right blocks loop -->

            </td>
          </tr>
        </table>

                <!-- End display center blocks -->

    </td>

  </tr>
</table>

<!-- Footer -->
<p id="copyright">
&lt;<a href="mailto:webmaster@mysql.gr.jp">webmaster@mysql.gr.jp</a>&gt;<br>
Copyright 2000-2005 &copy; <a href="../../../index.html" target="_TOP">MyNA</a>. All Rights Reserved. Feel free to link. 
</body>
</html>