<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" /><title>MyNA Web Site</title><meta name="AUTHOR" content="MyNA Web Site" /><meta name="COPYRIGHT" content="Copyright (c) 2005 by MyNA Web Site" /><meta name="DESCRIPTION" content="日本MySQLユーザ会" /><meta name="GENERATOR" content="XOOPS 2.0.16a JP" /><body bgcolor="#ffffff" text="#000000" onload="window.print()">
        <table border="0"><tr><td align="center">
        <table border="0" width="640" cellpadding="0" cellspacing="1" bgcolor="#000000"><tr><td>
        <table border="0" width="640" cellpadding="20" cellspacing="1" bgcolor="#ffffff"><tr><td align="center">
        <img src="../../images/logo.gif" border="0" alt="" /><br /><br />
        <h3>MySQL 4.0.20 リリース</h3>
        <small><b>投稿日時</b>&nbsp;2004-5-18 18:00:00 | <b>トピック：</b>&nbsp;MySQL</small><br /><br /></td></tr><tr valign="top" style="font:12px;"><td>MySQL 4.0.20 がリリースされました。<br /><br />直前に 4.0.19 がリリースされましたが、致命的な問題(*1) があったために急遽、4.0.20 に差し替えられたようです。<br /><br /><br />----<br />(*1)  SHOW PROCESSLIST や SHOW INNODB STATUS でクラッ<br />シュするバグ (Bug #3596) <br />■4.0.20 での変更点<br />Functionality added or changed: <br /><br />Phrase search in MATCH ... AGAINST ( ... IN BOOLEAN MODE) no longer matches partial words. <br />Bugs fixed: <br /><br />- Fixed a bug in division / reporting incorrect metadata (number of digits after the decimal point). It can be seen, e.g. in CREATE TABLE t1 SELECT "0.01"/"3". (Bug #3612) <br /><br />- Fixed a problem with non-working DROP DATABASE on some configurations (in particular, Linux 2.6.5 with ext3 are known to expose this bug). (Bug #3594) <br /><br />- Fixed that in some replication error messages, a very long query caused the rest of the message to be invisible (truncated), by putting the query last in the message. (Bug #3357) <br /><br /><br /><br />■4.0.19 での変更点<br />| Note: The MySQL 4.0.19 binaries were uploaded to the download<br />|  mirrors on May, 10th. However, a potential crashing bug was found <br />|  just before the 4.0.19 release was publicly announced and published <br />|  from the 4.0 download pages at <a href="http://dev.mysql.com/." target="_blank">http://dev.mysql.com/.</a> <br />| <br />| A fix for the bug was pushed into the MySQL source tree shortly after <br />| it could be reproduced and is included in MySQL 4.0.20. Users <br />| upgrading from MySQL 4.0.18 should upgrade directly to MySQL <br />| 4.0.20 or later. <br />| <br />| See (Bug #3596) for details (it was reported against MySQL-4.1, but<br />|  was confirmed to affect 4.0.19 as well). <br /><br />Functionality added or changed: <br /><br />- If length of a timestamp field is defined as 19, the timestamp will be displayed as "YYYY-MM-DD HH:MM:SS. This is done to make it easier to use tables created in MySQL 4.1 to be used in MySQL 4.0. <br /><br />- If you use RAID_CHUNKS with a value > 255 it will be set to 255. This was made to ensure that all raid directories are always 2 hex bytes. (Bug #3182) <br /><br />- Changed that the optimizer will now consider the index specified in FORCE INDEX clause as a candidate to resolve ORDER BY as well. <br /><br />- Non-standard behavior of UNION statements has changed to the standard ones. So far, a table name in the ORDER BY clause was tolerated. From now on a proper error message is issued (Bug #3064). <br /><br />- Added max_insert_delayed_threads system variable as a synonym for max_delayed_threads. <br /><br />- Added query_cache_wlock_invalidate system variable. It allow emulation of MyISAM table write-locking behavior, even for queries in the query cache. (Bug #2693) <br /><br />- The keyword MASTER_SERVER_ID is not reserved anymore. <br /><br />- The following is mainly relevant for Mac OS X users who use a case-insensitive filesystem. This is not relevant for Windows users as InnoDB in this case always stores file names in lower case: One can now force lower_case_table_names to 0 from the command line or a configuration file. This is useful with case-insensitive filesystems when you have previously not used lower_case_table_names=1 or lower_case_table_names=2 and your have already created InnoDB tables. With lower_case_table_names=0, InnoDB tables were stored in mixed case while setting lower_case_table_names <> 0 will now force it to lower case (to make the table names case insensitive). Because it's possible to crash MyISAM tables by referring to them with different case on a case-insensitive filesystem, we recommend that you use lower_case_table_names or lower_case_table_names=2 on such filesystems. The easiest way to convert to use lower_case_table_names=2 is to dump all your InnoDB tables with mysqldump, drop them and then restore them. <br /><br />- Changed that the relay log is flushed to disk by the slave I/O thread every time it reads a relay log event. This reduces the risk of losing some part of the relay log in case of brutal crash. <br /><br />- When a session having open temporary tables terminates, the statement automatically written to the binary log is now DROP TEMPORARY TABLE IF EXISTS instead of DROP TEMPORARY TABLE, for more robustness. <br /><br />- Added option --replicate-same-server-id. <br /><br /><br /><br />Bugs fixed: <br /><br /><br />- Added missing full-text variable ft_stopword_file to myisamchk. <br /><br />- Don't allow stray ',' at the end of field specifications. (Bug #3481) <br /><br />- INTERVAL now can handle big values for seconds, minutes and hours. (Bug #3498) <br /><br />- Blank hostname did not work as documented for table and column privileges. Now it's works the same way as '%'. (Bug #3473) <br /><br />- Fixed a harmless buffer overflow in `replace' utility. (Bug# 3541) <br /><br />- Fixed SOUNDEX() to ignore non-alphabetic characters also in the beginning of the string. (Bug #3556) <br /><br />- Fixed a bug in MATCH ... AGAINST() searches when another thread was doing concurrent inserts into the MyISAM table in question. The first --- full-text search -- query could return incorrect results in this case (e.g. ``phantom'' rows or not all matching rows, even an empty result set). The easiest way to check whether you are affected is to start `mysqld' with --skip-concurrent-insert switch and see if it helps. <br /><br />- Fixed bug when doing DROP DATABASE on a directory containing non- MySQL files. Now a proper error message is returned. <br /><br />- Fixed bug in ANALYZE TABLE on a BDB table inside a transaction that hangs server thread. (Bug #2342) <br /><br />- Fixed a symlink vulnerability in `mysqlbug' script. (Bug #3284) <br /><br />- Fixed core dump bug in SELECT DISTINCT where all selected parts where constants and there were hidden columns in the created temporary table. (Bug #3203) <br /><br />- Fixed core dump bug in COUNT(DISTINCT) when there was a lot of values and one had a big value for max_heap_table_size. <br /><br />- Fixed problem with multi-table-update and BDB tables. (Bug: #3098) <br /><br />- Fixed memory leak when dropping database with RAID tables. (Bug #2882) <br /><br />- Fixed core dump crash in replication during relay-log switch when the relay log went over max_relay_log_size and the slave thread did a flush_io_cache() at the same time. <br /><br />- Fixed hangup bug when issuing multiple SLAVE START from different threads at the same time. (Bug #2921) <br /><br />- Fixed bug when using DROP DATABASE with lower_case_table_names=2. <br /><br />- Fixed wrong result in UNION when using lower_case_table_names=2. (Bug #2858) <br /><br />- One can now kill threads that is 'stuck' in the join optimizer (can happen when there is MANY tables in the join in which case the optimizer can take really long time). (Bug #2825) <br /><br />- Rollback DELETE and UPDATE statements if thread is killed. (Bug #2422) <br /><br />- Ensure that all rows in an INSERT DELAYED statement is written at once if binary logging is enabled. (Bug #2491). <br /><br />- Fixed bug in query cache statistic, more accurate formula linked statistic variables mentioned in the manual. <br /><br />- Fixed a bug in parallel repair (myisamchk -p, myisam_repair_threads) - sometimes repair process failed to repair a table. (Bug #1334) <br /><br />- Fixed bugs with names of tables, databases and columns that end to space (Bug #2985) <br /><br />- Fixed a bug in multiple-table UPDATE statements involving at least one constant table. Bug was exhibited in allowing non matching row to be updated. (Bug #2996). <br /><br />- Fixed all bugs in scripts for creating/upgrading system database (Bug #2874) Added tests which guarantee against such bugs in the future. <br /><br />- Fixed bug in `mysql' command-line client in interpreting quotes within comments. (Bug #539) <br /><br />- --set-character-set and --character-sets-dir options in `myisamchk' now work. <br /><br />- Fixed a bug in mysqlbinlog that caused one pointer to be free'd twice in some cases. <br /><br />- Fixed a bug in boolean full-text search, that sometimes could lead to false matches in queries with several levels of subexpressions using + operator (for example, MATCH ... AGAINST('+(+(word1 word2)) +word3*' IN BOOLEAN MODE). <br /><br />- Fixed Windows-specific portability bugs in `myisam_ftdump'. <br /><br />- Fixed a bug in multiple-table DELETE that was caused by foreign key constraints. If the order of the tables established by MySQL optimizer did not match parent-child order, no rows were deleted and no error message was provided. (Bug #2799) <br /><br />- Fixed a few years old bug in the range optimizer that caused a segmentation fault on some very rare queries. (Bug #2698) <br /><br />- Replication: If a client connects to a slave server and issues an administrative statement for a table (for example, OPTIMIZE TABLE or REPAIR TABLE), this could sometimes stop the slave SQL thread. This does not lead to any corruption, but you must use START SLAVE to get replication going again. (Bug #1858) The bug was accidentally not fixed in 4.0.17 as it was unfortunately earlier said. <br /><br />- Fixed that when a Rotate event is found by the slave SQL thread in the middle of a transaction, the value of Relay_Log_Pos in SHOW SLAVE STATUS remains correct. (Bug #3017) <br /><br />- Corrected the master's binary log position that InnoDB reports when it is doing a crash recovery on a slave server. (Bug #3015) <br /><br />- Changed that when a DROP TEMPORARY TABLE statement is automatically written to the binary log when a session ends, the statement is recorded with an error code of value zero (this ensures that killing a SELECT on the master does not result in a superfluous error on the slave). (Bug #3063) <br /><br />- Changed that when a thread handling INSERT DELAYED (also known as a delayed_insert thread) is killed, its statements are recorded with an error code of value zero (killing such a thread does not endanger replication, so we thus avoid a superfluous error on the slave). (Bug #3081) <br /><br />- Fixed deadlock when two START SLAVE commands were run at the same time. (Bug #2921) <br /><br />- Fixed that a statement never triggers a superfluous error on the slave, if it must be excluded given the replicate-* options. The bug was that if the statement had been killed on the master, the slave would stop. (Bug #2983) <br /><br />- The --local-load option of mysqlbinlog now requires an argument. <br /><br />- Fixed a segmentation fault when running LOAD DATA FROM MASTER after RESET SLAVE. (Bug #2922) <br /><br />- Fixed a rare error condition that caused the slave SQL thread spuriously to print the message Binlog has bad magic number and stop when it was not necessary to do so. (Bug #3401) <br /><br />- Fixed the column Exec_master_log_pos (and its disk image in the relay-log.info file) to be correct if the master had version 3.23 (it was too big by 6 bytes). This bug does not exist in the 5.0 version. (Bug #3400) <br /><br />- Fixed that mysqlbinlog does not forget to print a USE command under rare circumstances where the binary log contained a LOAD DATA INFILE command. (Bug #3415) <br /><br />- Fixed a memory corruption when replicating a LOAD DATA INFILE when the master had version 3.23. Some smaller problems remain in this setup, See section 6.7 Replication Features and Known Problems. (Bug #3422) <br /><br />- Multiple-table DELETE statements were always replicated by the slave if there were some replicate-*-ignore-table options and no replicate-*-do-table options. (Bug #3461) <br /><br />- Fixed a crash of the MySQL slave server when it was built with --with-debug and replicating itself. (BUG #3568) <br /><br /><br /></td></tr></table></td></tr></table>
    <br /><br />MyNA Web Siteにて更に多くのニュース記事をよむことができます<br /><a href="../../index.html">http://www.mysql.gr.jp/frame</a><br /><br />
        このニュース記事が掲載されているURL： <!-- Tag below can be used to display Permalink image --><!--img src="http://www.mysql.gr.jp/frame/modules/news/images/x.gif" /--><br />
        <a href="article.php%3Fstoryid=8.html">http://www.mysql.gr.jp/frame/article.php?storyid=8</a>
        </td></tr></table>
        </body>
        </html>
        