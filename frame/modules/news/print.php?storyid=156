<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" /><title>MyNA Web Site</title><meta name="AUTHOR" content="MyNA Web Site" /><meta name="COPYRIGHT" content="Copyright (c) 2005 by MyNA Web Site" /><meta name="DESCRIPTION" content="日本MySQLユーザ会" /><meta name="GENERATOR" content="XOOPS 2.0.16a JP" /><body bgcolor="#ffffff" text="#000000" onload="window.print()">
        <table border="0"><tr><td align="center">
        <table border="0" width="640" cellpadding="0" cellspacing="1" bgcolor="#000000"><tr><td>
        <table border="0" width="640" cellpadding="20" cellspacing="1" bgcolor="#ffffff"><tr><td align="center">
        <img src="../../images/logo.gif" border="0" alt="" /><br /><br />
        <h3>MySQL 5.1.41 リリース</h3>
        <small><b>投稿日時</b>&nbsp;2009-11-19 14:42:44 | <b>トピック：</b>&nbsp;MySQL 5.1</small><br /><br /></td></tr><tr valign="top" style="font:12px;"><td>  MySQL 5.1.41 がリリースされました。<br />  <br />  このバージョンに含まれている InnoDB Plugin 1.0.5 が ついに RC (Release Candidate)になりました！<br />  GAになるのが楽しみですね。<br />  InnoDB Plugin が 従来の組込型 InnoDB と比べて何が優れているのかについては、<br />  サンマイクロシステムズ松信氏の以下のエントリに詳しいです。<br />  <a href="http://opendatabaselife.blogspot.com/2009/08/innodb-plugin-104-innodb.html" target="_blank">http://opendatabaselife.blogspot.com/2009/08/innodb-plugin-104-innodb.html</a><br /> <br />　(追記）InnoDB のバッファプール管理について、組込InnoDB と InnoDB Plugin の動作の違い（Plugin 化されて進化した部分）を sh2氏が非常にわかりやすくまとめています。<br /><a href="http://d.hatena.ne.jp/sh2/20091120" target="_blank">http://d.hatena.ne.jp/sh2/20091120</a><br />  <br /><br /><br />  ダウンロードはこちらから。<br />  <a href="http://dev.mysql.com/downloads/mysql/5.1.html" target="_blank">http://dev.mysql.com/downloads/mysql/5.1.html</a><br /><br />----------------------<br />　以下チェンジログ<br /><br /><br />  <br />■機能の追加と変更(5.1.41)：<br />* In the default operation of the InnoDB buffer pool, a block is<br />  loaded at the midpoint for the first access and then moved<br />  immediately to the head of the list as soon as another access<br />  occurs. In the case of a table scan (such as performed for a<br />  mysqldump operation), each block read by the scan ends up<br />  moving to the head of the list because multiple rows are<br />  accessed from each block. This occurs even for a one-time<br />  scan, where the blocks are not otherwise used by other<br />  queries. Blocks may also be loaded by the read-ahead<br />  background thread and then moved to the head of the new<br />  sublist by a single access. These effects are disadvantageous<br />  because they push blocks that are in heavy use by other<br />  queries out of the new sublist to the old sublist where they<br />  become subject to eviction.<br />  InnoDB Plugin now provides two system variables that enable<br />  LRU algorithm tuning:<br /><br />     + innodb_old_blocks_pct<br />       Specifies the approximate percentage of the buffer pool<br />       used for the old block sublist. The range of values is 5<br />       to 95. The default value is 37 (that is, 3/8 of the<br />       pool).<br /><br />     + innodb_old_blocks_time<br />       Specifies how long in milliseconds (ms) a block inserted<br />       into the old sublist must stay there before it can be<br />       moved to the new sublist. The default value is 0, so<br />       after a block is inserted into the old sublist, it moves<br />       immediately to the new sublist the next time it is<br />       accessed, no matter how soon after insertion the next<br />       access occurs. If the value is greater than 0, blocks<br />       remain in the old sublist until an access occurs at least<br />       that many ms after initial insertion. For example, a<br />       value of 1000 causes blocks to stay in the old sublist<br />       for 1 second before moving to the new sublist.<br />  For additional information, see Section 7.4.6, "The InnoDB<br />  Buffer Pool." (Bug#45015: <a href="http://bugs.mysql.com/45015" target="_blank">http://bugs.mysql.com/45015</a>)<br /><br />* For InnoDB Plugin, two new status variables have been added to<br />  SHOW STATUS output. Innodb_buffer_pool_read_ahead and<br />  Innodb_buffer_pool_read_ahead_evicted indicate the number of<br />  pages read in by the InnoDB read-ahead background thread, and<br />  the number of such pages evicted without ever being accessed,<br />  respectively. Also, the status variables<br />  Innodb_buffer_pool_read_ahead_rnd and<br />  Innodb_buffer_pool_read_ahead_seq status variables have been<br />  removed.<br />  The built-in version of InnoDB is not affected by these<br />  changes. (Bug#42885: <a href="http://bugs.mysql.com/42885" target="_blank">http://bugs.mysql.com/42885</a>)<br /><br />* InnoDB Plugin has been upgraded to version 1.0.5. This version<br />  is considered of Release Candidate (RC) quality.<br /><br />* The server now supports a Debug Sync facility for thread<br />  synchronization during testing and debugging. To compile in<br />  this facility, configure MySQL with the --enable-debug-sync<br />  option. The debug_sync system variable provides the user<br />  interface Debug Sync. mysqld and mysql-test-run.pl support a<br />  --debug-sync-timeout option to enable the facility and set the<br />  default synchronization point timeout.<br /><br /><br />■バグ修正(5.1.41)：<br />* Partitioning: An ALTER TABLE ... ADD PARTITION statement that<br />  caused open_files_limit to be exceeded led to a crash of the<br />  MySQL server. (Bug#46922: <a href="http://bugs.mysql.com/46922" target="_blank">http://bugs.mysql.com/46922</a>)<br />  See also Bug#47343: <a href="http://bugs.mysql.com/47343." target="_blank">http://bugs.mysql.com/47343.</a><br /><br />* Partitioning: The cardinality of indexes on partitioned tables<br />  was calculated using the first partition in the table, which<br />  could result in suboptimal query execution plans being chosen.<br />  Now the partition having the most records is used instead,<br />  which should result in better use of indexes and thus improved<br />  performance of queries against partitioned tables in many if<br />  not most cases. (Bug#44059: <a href="http://bugs.mysql.com/44059" target="_blank">http://bugs.mysql.com/44059</a>)<br /><br />* Replication: When using statement-based or mixed-format<br />  replication, the database name was not written to the binary<br />  log when executing a LOAD DATA statement. This caused problems<br />  when the table being loaded belonged to a database other than<br />  the current database; data could be loaded into the wrong<br />  table (if a table having the same name existed in the current<br />  database) or replication could fail (if no table having that<br />  name existed in the current database). Now a table referenced<br />  in a LOAD DATA statement is always logged using its fully<br />  qualified name when the database to which it belongs is not<br />  the current database.<br />  This issue occurred in MySQL 5.1.40 only.<br />  (Bug#48297: <a href="http://bugs.mysql.com/48297" target="_blank">http://bugs.mysql.com/48297</a>)<br /><br />* Replication: When a session was closed on the master,<br />  temporary tables belonging to that session were logged with<br />  the wrong database names when either of the following<br />  conditions was true:<br /><br />    1. The length of the name of the database to which the<br />       temporary table belonged was greater than the length of<br />       the current database name.<br /><br />    2. The current database was not set.<br />  (Bug#48216: <a href="http://bugs.mysql.com/48216" target="_blank">http://bugs.mysql.com/48216</a>)<br />  See also Bug#46861: <a href="http://bugs.mysql.com/46861" target="_blank">http://bugs.mysql.com/46861</a>,<br />  Bug#48297: <a href="http://bugs.mysql.com/48297." target="_blank">http://bugs.mysql.com/48297.</a><br /><br />* Replication: When using row-based replication, changes to<br />  non-transactional tables that occurred early in a transaction<br />  were not immediately flushed upon committing a statement. This<br />  behavior could break consistency since changes made to<br />  non-transactional tables become immediately visible to other<br />  connections. (Bug#47678: <a href="http://bugs.mysql.com/47678" target="_blank">http://bugs.mysql.com/47678</a>)<br />  See also Bug#47287: <a href="http://bugs.mysql.com/47287" target="_blank">http://bugs.mysql.com/47287</a>,<br />  Bug#46864: <a href="http://bugs.mysql.com/46864" target="_blank">http://bugs.mysql.com/46864</a>,<br />  Bug#43929: <a href="http://bugs.mysql.com/43929" target="_blank">http://bugs.mysql.com/43929</a>,<br />  Bug#46129: <a href="http://bugs.mysql.com/46129." target="_blank">http://bugs.mysql.com/46129.</a><br /><br />* Replication: When mysqlbinlog --verbose was used to read a<br />  binary log that had been recorded using the row-based format,<br />  the output for events that updated some but not all columns of<br />  tables was not correct.<br />  (Bug#47323: <a href="http://bugs.mysql.com/47323" target="_blank">http://bugs.mysql.com/47323</a>)<br /><br />* Replication: When using the row-based format to replicate a<br />  transaction involving both transactional and non-transactional<br />  engines, which contained a DML statement affecting multiple<br />  rows, the statement failed; if this transaction was followed<br />  by a COMMIT, the master and the slave could diverge, because<br />  the statement was correctly rolled back on the master, but was<br />  applied on the slave. (Bug#47287: <a href="http://bugs.mysql.com/47287" target="_blank">http://bugs.mysql.com/47287</a>)<br />  See also Bug#46864: <a href="http://bugs.mysql.com/46864." target="_blank">http://bugs.mysql.com/46864.</a><br /><br />* Replication: A problem with the BINLOG statement in the output<br />  of mysqlbinlog could break replication; statements could be<br />  logged with the server ID stored within events by the BINLOG<br />  statement rather than the ID of the running server. With this<br />  fix, the server ID of the server executing the statements can<br />  no longer be overridden by the server ID stored in the binary<br />  log's format description statement.<br />  (Bug#46640: <a href="http://bugs.mysql.com/46640" target="_blank">http://bugs.mysql.com/46640</a>)<br />  This regression was introduced by<br />  Bug#32407: <a href="http://bugs.mysql.com/32407." target="_blank">http://bugs.mysql.com/32407.</a><br /><br />* Replication: When using statement-based replication and the<br />  transaction isolation level was set to READ COMMITTED or a<br />  less strict level, InnoDB returned an error even if the<br />  statement in question was filtered out according to the<br />  --binlog-do-db or --binlog-ignore-db rules in effect at the<br />  time. (Bug#42829: <a href="http://bugs.mysql.com/42829" target="_blank">http://bugs.mysql.com/42829</a>)<br /><br />* Replication: FLUSH LOGS did not actually close and reopen the<br />  binary log index file.<br />  (Bug#34582: <a href="http://bugs.mysql.com/34582" target="_blank">http://bugs.mysql.com/34582</a>)<br /><br />* A build configured using the --without-server option did not<br />  compile the yaSSL code, so if --with-ssl was also used, the<br />  build failed. (Bug#47957: <a href="http://bugs.mysql.com/47957" target="_blank">http://bugs.mysql.com/47957</a>)<br /><br />* mysys/mf_keycache.c requires threading, but no test was made<br />  for thread support. (Bug#47923: <a href="http://bugs.mysql.com/47923" target="_blank">http://bugs.mysql.com/47923</a>)<br /><br />* The mysys/mf_strip.c file, which defines the strip_sp has been<br />  removed from the MySQL source. The function was no longer in<br />  use within the main build, and the supplied function was<br />  causing symbol errors on Windows builds.<br />  (Bug#47857: <a href="http://bugs.mysql.com/47857" target="_blank">http://bugs.mysql.com/47857</a>)<br /><br />* The Windows build for MySQL would compile the split.c and<br />  debug.c files unnecessarily, causing additional symbols to be<br />  included in mysqld. (Bug#47850: <a href="http://bugs.mysql.com/47850" target="_blank">http://bugs.mysql.com/47850</a>)<br /><br />* When building storage engines on Windows it was not possible<br />  to specify additional libraries within the CMake file required<br />  for the build. An ${engine}_LIBS macro has been added to the<br />  files to support these additional storage-engine specific<br />  libraries. (Bug#47797: <a href="http://bugs.mysql.com/47797" target="_blank">http://bugs.mysql.com/47797</a>)<br /><br />* When building a pluggable storage engine on Windows, the<br />  engine name could be based on the directory name where the<br />  engine was located, rather than the configured storage engine<br />  name. (Bug#47795: <a href="http://bugs.mysql.com/47795" target="_blank">http://bugs.mysql.com/47795</a>)<br /><br />* On Windows, when an idle named pipe connection was forcibly<br />  closed with a KILL statement or because the server was being<br />  shut down, the thread that was closing the connection would<br />  hang infinitely. (Bug#47571: <a href="http://bugs.mysql.com/47571" target="_blank">http://bugs.mysql.com/47571</a>,<br />  Bug#31621: <a href="http://bugs.mysql.com/31621" target="_blank">http://bugs.mysql.com/31621</a>)<br /><br />* A simple SELECT with implicit grouping could return many rows<br />  rather than a single row if the query was ordered by the<br />  aggregated column in the select list.<br />  (Bug#47280: <a href="http://bugs.mysql.com/47280" target="_blank">http://bugs.mysql.com/47280</a>)<br /><br />* An assertion could be raised for CREATE TABLE if there was a<br />  pending INSERT DELAYED or REPLACE DELAYED for the same table.<br />  (Bug#47274: <a href="http://bugs.mysql.com/47274" target="_blank">http://bugs.mysql.com/47274</a>)<br /><br />* Incorrect handling of predicates involving NULL by the range<br />  optimizer could lead to to an infinite loop during query<br />  execution. (Bug#47123: <a href="http://bugs.mysql.com/47123" target="_blank">http://bugs.mysql.com/47123</a>)<br /><br />* Repair by sort or parallel repair of MyISAM tables could fail<br />  to fail over to repair with key cache.<br />  (Bug#47073: <a href="http://bugs.mysql.com/47073" target="_blank">http://bugs.mysql.com/47073</a>)<br /><br />* If InnoDB reached its limit on the number of concurrent<br />  transactions (1023), it wrote a descriptive message to the<br />  error log but returned a misleading error message to the<br />  client, or an assertion failure occurred.<br />  (Bug#46672: <a href="http://bugs.mysql.com/46672" target="_blank">http://bugs.mysql.com/46672</a>)<br />  See also Bug#18828: <a href="http://bugs.mysql.com/18828." target="_blank">http://bugs.mysql.com/18828.</a><br /><br />* Concurrent INSERT INTO ... SELECT statements for an InnoDB<br />  table could cause an AUTO_INCREMENT assertion failure.<br />  (Bug#46650: <a href="http://bugs.mysql.com/46650" target="_blank">http://bugs.mysql.com/46650</a>)<br /><br />* Trailing spaces were not ignored for user-defined collations<br />  that mapped spaces to a character other than 0x20.<br />  (Bug#46448: <a href="http://bugs.mysql.com/46448" target="_blank">http://bugs.mysql.com/46448</a>)<br />  See also Bug#29468: <a href="http://bugs.mysql.com/29468." target="_blank">http://bugs.mysql.com/29468.</a><br /><br />* The GPL and commercial license headers had different sizes, so<br />  that error log, backtrace, core dump, and cluster trace file<br />  line numbers could be off by one if they were not checked<br />  against the version of the source used for the build. (For<br />  example, checking a GPL build backtrace against commercial<br />  sources.) (Bug#46216: <a href="http://bugs.mysql.com/46216" target="_blank">http://bugs.mysql.com/46216</a>)<br /><br />* InnoDB did not disallow creation of an index with the name<br />  GEN_CLUST_INDEX, which is used internally.<br />  (Bug#46000: <a href="http://bugs.mysql.com/46000" target="_blank">http://bugs.mysql.com/46000</a>)<br /><br />* During the build of the Red Hat IA64 MySQL server RPM, the<br />  system library link order was incorrect. This made the<br />  resulting Red Hat IA64 RPM depend on<br />  "libc.so.6.1(GLIBC_PRIVATE)(64bit)", thus preventing<br />  installation of the package.<br />  (Bug#45706: <a href="http://bugs.mysql.com/45706" target="_blank">http://bugs.mysql.com/45706</a>)<br /><br />* With InnoDB Plugin, renaming a table column and then creating<br />  an index on the renamed column caused a server crash to to the<br />  .frm file and the InnoDB data directory going out of sync. Now<br />  InnoDB Plugin 1.0.5 returns an error instead: ERROR 1034<br />  (HY000): Incorrect key file for table 'tbl_name'; try to<br />  repair it. To work around the problem, create another table<br />  with the same structure and copy the original table to it.<br />  (Bug#44571: <a href="http://bugs.mysql.com/44571" target="_blank">http://bugs.mysql.com/44571</a>)<br /><br />* An InnoDB error message incorrectly referred to the<br />  nonexistent innodb_max_files_open variable rather than to<br />  innodb_open_files. (Bug#44338: <a href="http://bugs.mysql.com/44338" target="_blank">http://bugs.mysql.com/44338</a>)<br /><br />* The FORCE INDEX FOR ORDER BY index hint was ignored when join<br />  buffering was used. (Bug#43029: <a href="http://bugs.mysql.com/43029" target="_blank">http://bugs.mysql.com/43029</a>)<br /><br />* Incorrect handling of range predicates combined with OR<br />  operators could yield incorrect results.<br />  (Bug#42846: <a href="http://bugs.mysql.com/42846" target="_blank">http://bugs.mysql.com/42846</a>)<br /><br />* Failure to treat BIT values as unsigned could lead to<br />  unpredictable results.<br />  (Bug#42803: <a href="http://bugs.mysql.com/42803" target="_blank">http://bugs.mysql.com/42803</a>)<br /><br />* Previously, InnoDB performed REPLACE INTO T SELECT ... FROM S<br />  WHERE ... by setting shared next-key locks on rows from S. Now<br />  InnoDB selects rows from from S with shared locks or as a<br />  consistent read, as for INSERT ... SELECT. This reduces lock<br />  contention between sessions.<br />  (Bug#37232: <a href="http://bugs.mysql.com/37232" target="_blank">http://bugs.mysql.com/37232</a>)<br /><br />* When an InnoDB tablespace filled up, an error was logged to<br />  the client, but not to the error log. Also, the error message<br />  was misleading and did not indicate the real source of the<br />  problem. (Bug#31183: <a href="http://bugs.mysql.com/31183" target="_blank">http://bugs.mysql.com/31183</a>)<br /><br />* In mysql, using Control-C to kill the current query resulted<br />  in a ERROR 1053 (08S01): Server shutdown in progress" message<br />  if the query was waiting for a lock.<br />  (Bug#28141: <a href="http://bugs.mysql.com/28141" target="_blank">http://bugs.mysql.com/28141</a>)<br /><br /><br /><br /><br /></td></tr></table></td></tr></table>
    <br /><br />MyNA Web Siteにて更に多くのニュース記事をよむことができます<br /><a href="../../index.html">http://www.mysql.gr.jp/frame</a><br /><br />
        このニュース記事が掲載されているURL： <!-- Tag below can be used to display Permalink image --><!--img src="http://www.mysql.gr.jp/frame/modules/news/images/x.gif" /--><br />
        <a href="article.php?storyid=156">http://www.mysql.gr.jp/frame/article.php?storyid=156</a>
        </td></tr></table>
        </body>
        </html>
        