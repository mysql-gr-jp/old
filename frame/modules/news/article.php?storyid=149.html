<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- $Id: theme.html,v 1.1.1.1 2003/04/21 14:30:51 jc Exp $ -->
<head>
<meta http-equiv="content-type" content="text/html; charset=EUC-JP" />
<meta http-equiv="content-language" content="ja" />
<meta name="robots" content="index,follow" />
<meta name="keywords" content="MySQL, User group, MyNA, Nippon, Japan, MySQLユーザ会" />
<meta name="description" content="MySQL is fast, robust, reliable open source database." />
<meta name="rating" content="general" />
<meta name="author" content="MyNA Webmaster" />
<meta name="copyright" content="Copyright ? 2001-2005" />
<meta name="generator" content="XOOPS" />
<title>MyNA Web Site</title>
<link href="../../favicon.ico" rel="SHORTCUT ICON" />
<link rel="stylesheet" type="text/css" media="all" href="../../xoops.css" />
<link rel="stylesheet" type="text/css" media="all" href="../../themes/myna/styleNN.css" />
<!-- RMV: added module header -->

<script type="text/javascript">
<!--
//--></script><script type="text/javascript" src="../../include/xoops.js.html"></script><script type="text/javascript"><!--
//-->
</script>
</head>
<body>

<!-- Main Table -->

<table id="main" cellspacing="0">
  <tr>
    <!-- Center Column -->
    <!-- Main Contents -->
    <td id="centerColumn">
      <div id="content">
      <div style="text-align: left; margin: 10px;"></div>

<hr width=70%>
<center><script type="text/javascript"><!--
google_ad_client = "pub-6416440120333674";
google_alternate_color = "FFFFFF";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="1464500678";
google_page_url = document.location;
google_color_border = "E8CCCA";
google_color_bg = "F1DFDE";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "111111";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center>
<hr width=70% size=3>

<center><font size=+1>- News -</font></center>
<div style="padding: 3px; margin-right:3px;">
<div class="item">
  <div class="itemHead"><span class="itemTitle"><a href='index.php%3Fstorytopic=5.html'>MySQL 5.1</a>&nbsp;:&nbsp;MySQL 5.1.39 リリース</span></div>
  <div class="itemInfo">
    <span class="itemPoster">投稿者： <a href="../../userinfo.php%3Fuid=1.html">webmaster</a></span> <span class="itemPostDate">投稿日時： 2009-9-21 12:00:00</span> (<span class="itemStats">3870 ヒット</span>)
  </div>
  <div class="itemBody">
    
    <p class="itemText"><br />　MySQL 5.1 シリーズの最新バージョン、MySQL 5.1.39 がリリースされました。<br />このバージョンにも、前バージョン(MySQL 5.1.38) で同梱された InnoDB Plugin 1.0.4 が含まれています。<br /><br />ダウンロードはこちらから：<br /><a href="http://dev.mysql.com/downloads/mysql/5.1.html" target="_blank">http://dev.mysql.com/downloads/mysql/5.1.html</a><br /><br />-----------------<br />以下チェンジログ：<br /><br />■バグ修正：<br />* Partitioning: An INSERT ... SELECT statement on an empty<br />  partition of a partitioned table failed with ERROR 1030<br />  (HY000): Got error 124 from storage engine. This issue also<br />  caused queries run against a partitioned table while a LOAD<br />  DATA CONCURRENT INFILE statement was in progress to fail with<br />  the same error. (Bug#46639: <a href="http://bugs.mysql.com/46639" target="_blank">http://bugs.mysql.com/46639</a>)<br />  See also Bug#35845: <a href="http://bugs.mysql.com/35845" target="_blank">http://bugs.mysql.com/35845</a>,<br />  Bug#44657: <a href="http://bugs.mysql.com/44657" target="_blank">http://bugs.mysql.com/44657</a>,<br />  Bug#45840: <a href="http://bugs.mysql.com/45840." target="_blank">http://bugs.mysql.com/45840.</a><br /><br />* Partitioning: A partitioned table having a TIMESTAMP column<br />  with a default value of CURRENT_TIMESTAMP and this column was<br />  not defined using an ON UPDATE option, an ALTER TABLE ...<br />  REORGANIZE PARTITION statement on the table caused the<br />  TIMESTAMP column value to be set to CURRENT_TIMESTAMP<br />  regardless. (Bug#46478: <a href="http://bugs.mysql.com/46478" target="_blank">http://bugs.mysql.com/46478</a>)<br /><br />* Partitioning: Attempting to access a partitioned table when<br />  partitioning support was disabled in a MySQL server binary<br />  that had been compiled with partitioning support caused the<br />  server to crash. (Bug#39893: <a href="http://bugs.mysql.com/39893" target="_blank">http://bugs.mysql.com/39893</a>)<br /><br />* Partitioning: The use of TO_DAYS() in the partitioning<br />  expression led to selection failures when the column having<br />  the date value contained invalid dates. This occurred because<br />  the function returns NULL in such cases, and the partition<br />  containing NULL values was pruned away. For example, this<br />  problem occurred if '2001-02-00' was inserted into a DATE<br />  column of such a table, and a subsequent query on this table<br />  used WHERE date_col < '2001-02-00' --- while '2001-01-01' is<br />  less than '2001-02-00', TO_DAYS('2001-02-00') evaluates as<br />  NULL, and so the row containing '2001-01-01' was not returned.<br />  Now, for tables using RANGE or LIST partitioning and having<br />  TO_DAYS() in the partitioning expression, the NULL partition<br />  is also scanned instead of being ignored.<br />  The fix for this issue also corrects misbehavior such that a<br />  query of the form SELECT * FROM table WHERE date_col <<br />  date_val on a table partitioned by RANGE or LIST was handled<br />  as though the server SQL mode included ALLOW_INVALID_DATES<br />  even if this was not actually part of the server SQL mode at<br />  the time the query was issued.<br />  (Bug#20577: <a href="http://bugs.mysql.com/20577" target="_blank">http://bugs.mysql.com/20577</a>)<br />  See also Bug#18198: <a href="http://bugs.mysql.com/18198" target="_blank">http://bugs.mysql.com/18198</a>,<br />  Bug#32021: <a href="http://bugs.mysql.com/32021" target="_blank">http://bugs.mysql.com/32021</a>,<br />  Bug#46362: <a href="http://bugs.mysql.com/46362." target="_blank">http://bugs.mysql.com/46362.</a><br /><br />* Replication: Performing a multi-row update of the<br />  AUTO_INCREMENT column of a transactional table could result in<br />  an inconsistency between master and slave when there was a<br />  trigger on the transactional table that updated a<br />  non-transactional table. When such an update failed on the<br />  master, no rows were updated on the master, but some rows<br />  could (erroneously) be updated on the slave.<br />  (Bug#46864: <a href="http://bugs.mysql.com/46864" target="_blank">http://bugs.mysql.com/46864</a>)<br /><br />* Replication: When using the --replicate-rewrite-db option and<br />  the database referenced by this option on the master was the<br />  current database when the connection to the slave was closed,<br />  any temporary tables existing in this database were not<br />  properly dropped. (Bug#46861: <a href="http://bugs.mysql.com/46861" target="_blank">http://bugs.mysql.com/46861</a>)<br /><br />* Replication: When a statement that changed both transactional<br />  and non-transactional tables failed, the transactional changes<br />  were automatically rolled back on the master but the slave<br />  ignored the error and did not roll them back, thus leading to<br />  inconsistencies between master and slave.<br />  This issue is fixed by automatically rolling back a statement<br />  that fails on the slave; however, the transaction is not<br />  rolled back unless a corresponding ROLLBACK statement is found<br />  in the relay log file.<br />  (Bug#46130: <a href="http://bugs.mysql.com/46130" target="_blank">http://bugs.mysql.com/46130</a>)<br />  See also Bug#33864: <a href="http://bugs.mysql.com/33864." target="_blank">http://bugs.mysql.com/33864.</a><br /><br />* Replication: When slave_transaction_retries is set, a<br />  statement that replicates, but is then rolled back due to a<br />  deadlock on the slave, should be retried. However, in certain<br />  cases, replication was stopped with error 1213 (Deadlock found<br />  when trying to get lock; try restarting transaction) instead,<br />  even when this variable was set.<br />  (Bug#45694: <a href="http://bugs.mysql.com/45694" target="_blank">http://bugs.mysql.com/45694</a>)<br /><br />* Replication: The binary logging behavior (and thus, the<br />  replication behavior) of CREATE DATABASE IF NOT EXISTS, CREATE<br />  TABLE IF NOT EXISTS, and CREATE EVENT IF NOT EXISTS was not<br />  consistent among these statements, nor with that of DROP<br />  DATABASE IF EXISTS, DROP TABLE IF EXISTS, and DROP EVENT IF<br />  EXISTS: A DROP ... IF EXISTS statement is always logged even<br />  if the database object named in the statement does not exist.<br />  However, of the CREATE ... IF NOT EXISTS statements, only the<br />  CREATE EVENT IF NOT EXISTS statement was logged when the<br />  database object named in the statement already existed.<br />  Now, every CREATE ... IF NOT EXISTS statement is written to<br />  the binary log (and thus replicated), whether the database<br />  object named in the statement exists or not. For more<br />  information, see Section 16.3.1.3, "Replication of CREATE ...<br />  IF NOT EXISTS Statements."<br />  Exception.  Replication and logging of CREATE TABLE IF NOT<br />  EXISTS ... SELECT continues to be handled according to<br />  existing rules. See Section 16.3.1.4, "Replication of CREATE<br />  TABLE ... SELECT Statements," for more information.<br />  (Bug#45574: <a href="http://bugs.mysql.com/45574" target="_blank">http://bugs.mysql.com/45574</a>)<br /><br />* Replication: When using statement-based replication,<br />  database-level character sets were not always honored by the<br />  replication SQL thread. This could cause data inserted on the<br />  master using LOAD DATA to be replicated using the wrong<br />  character set.<br /><br />  Note<br />  This was not an issue when using row-based replication.<br />  (Bug#45516: <a href="http://bugs.mysql.com/45516" target="_blank">http://bugs.mysql.com/45516</a>)<br /><br />* Replication: In some cases, a STOP SLAVE statement could cause<br />  the replication slave to crash. This issue was specific to<br />  MySQL on Windows or Macintosh platforms.<br />  (Bug#45238: <a href="http://bugs.mysql.com/45238" target="_blank">http://bugs.mysql.com/45238</a>,<br />  Bug#45242: <a href="http://bugs.mysql.com/45242" target="_blank">http://bugs.mysql.com/45242</a>,<br />  Bug#45243: <a href="http://bugs.mysql.com/45243" target="_blank">http://bugs.mysql.com/45243</a>,<br />  Bug#46013: <a href="http://bugs.mysql.com/46013" target="_blank">http://bugs.mysql.com/46013</a>,<br />  Bug#46014: <a href="http://bugs.mysql.com/46014" target="_blank">http://bugs.mysql.com/46014</a>,<br />  Bug#46030: <a href="http://bugs.mysql.com/46030" target="_blank">http://bugs.mysql.com/46030</a>)<br /><br />* Replication: Creating a scheduled event whose DEFINER clause<br />  was either set to CURRENT_USER or not set explicitly caused<br />  the master and the slave to become inconsistent. This issue<br />  stems from the fact that, in both cases, the DEFINER is set to<br />  the CURRENT_USER of the current thread. (On the master, the<br />  CURRENT_USER is the mysqld user; on the slave, the<br />  CURRENT_USER is empty.)<br />  This behavior has been modified as follows:<br /><br />     + If CURRENT_USER is used as the DEFINER, it is replaced<br />       with the value of CURRENT_USER before the CREATE EVENT<br />       statement is written to the binary log.<br /><br />     + If the definer is not set explicitly, a DEFINER clause<br />       using the value of CURRENT_USER is added to the CREATE<br />       EVENT statement before it is written to the binary log.<br />  (Bug#44331: <a href="http://bugs.mysql.com/44331" target="_blank">http://bugs.mysql.com/44331</a>)<br />  See also Bug#42217: <a href="http://bugs.mysql.com/42217." target="_blank">http://bugs.mysql.com/42217.</a><br /><br />* Replication: When using the statement-based logging format,<br />  the only possible safe combination of transactional and<br />  non-transactional statements within the same transaction is to<br />  perform any updates on non-transactional tables (such as<br />  MyISAM tables) first, before updating any transactional tables<br />  (such as those using the InnoDB storage engine). This is due<br />  to the fact that, although a modification made to a<br />  non-transactional table is immediately visible to other<br />  connections, the update is not immediately written to the<br />  binary log, which can lead to inconsistencies between master<br />  and slave. (Other combinations may hide a causal dependency,<br />  thus making it impossible to write statements updating<br />  non-transactional tables to the binary log in the correct<br />  order.)<br />  However, in some cases, this situation was not handled<br />  properly, and the determination whether a given statement was<br />  safe or not under these conditions was not always correct. In<br />  particular, a multi-table update that affected both<br />  transactional and non-transactional tables or a statement<br />  modifying data in a non-transactional table having a trigger<br />  that operated on a transactional table (or the reverse) was<br />  not determined to be unsafe when it should have been.<br />  With this fix, the following determinations regarding<br />  replication safety are made when combining updates to<br />  transactional and non-transactional tables within the same<br />  transaction in statement-based logging mode:<br /><br />    1. Any statement modifying data in a non-transactional table<br />       within a given transaction is considered safe if it is<br />       issued prior to any data modification statement accessing<br />       a transactional table within the same transaction.<br /><br />    2. A statement that updates transactional tables only is<br />       always considered safe.<br /><br />    3. A statement affecting both transactional and<br />       non-transactional tables within a transaction is always<br />       considered unsafe. It is not necessary that both tables<br />       be modified for this to be true; for example, a statement<br />       such as INSERT INTO innodb_table SELECT * FROM<br />       myisam_table is also considered unsafe.<br /><br />  Note<br />  The current fix is valid only when using statement-based<br />  logging mode; we plan to address similar issues occurring when<br />  using the MIXED or ROW format in a future MySQL release.<br />  (Bug#28976: <a href="http://bugs.mysql.com/28976" target="_blank">http://bugs.mysql.com/28976</a>)<br /><br />* Stack overflow checking did not account for the size of the<br />  structure stored in the heap.<br />  (Bug#46807: <a href="http://bugs.mysql.com/46807" target="_blank">http://bugs.mysql.com/46807</a>)<br /><br />* In queries for which the loose index scan access method was<br />  chosen, using a condition of the form col_name rather than the<br />  equivalent col_name <> 0 caused an assertion failure.<br />  (Bug#46607: <a href="http://bugs.mysql.com/46607" target="_blank">http://bugs.mysql.com/46607</a>)<br /><br />* Killing a query that was performing a sort could result in a<br />  memory leak. (Bug#45962: <a href="http://bugs.mysql.com/45962" target="_blank">http://bugs.mysql.com/45962</a>)<br /><br />* Truncation of DECIMAL values could lead to assertion failures;<br />  for example, when deducing the type of a table column from a<br />  literal DECIMAL value.<br />  (Bug#45261: <a href="http://bugs.mysql.com/45261" target="_blank">http://bugs.mysql.com/45261</a>)<br /><br />* Bulk insert performance could suffer with large<br />  read_buffer_size values.<br />  (Bug#44723: <a href="http://bugs.mysql.com/44723" target="_blank">http://bugs.mysql.com/44723</a>)<br /><br />* A buffer overflow could occur during handling of IS NULL<br />  ranges. (Bug#37044: <a href="http://bugs.mysql.com/37044" target="_blank">http://bugs.mysql.com/37044</a>)<br /><br />* mysqladmin --wait ping crashed on Windows systems.<br />  (Bug#35132: <a href="http://bugs.mysql.com/35132" target="_blank">http://bugs.mysql.com/35132</a>)<br /><br /></p>
  </div>
  <div class="itemFoot">
    <span class="itemAdminLink"></span> <span class="itemPermaLink"></span>
  </div>
</div></div>

<div style="text-align: left; margin: 10px;"></div>

<div style="padding: 5px; text-align: right;
margin-right:3px;">
<a href="print.php%3Fstoryid=149.html"><img
src="images/print.gif" border="0"
alt="印刷用ページ" /></a> <a target="_top"
href="mailto:?subject=MyNA Web Siteで見つけた興味深いニュース&amp;body=以下はMyNA Web Siteで見つけた非常に興味深いニュース記事です：:  http://www.mysql.gr.jp/frame/modules/news/article.php?storyid=149"><img src="images/friend.gif"
border="0" alt="このニュースを友達に送る" /></a>
</div>

<!-- -->

<div style="margin:3px; padding: 3px;">
<!-- start comments loop -->
<table class="outer" cellpadding="5" cellspacing="1">
  <tr>
    <th width="20%">投稿者</td>
    <th>スレッド</td>
  </tr>
  </table><!-- end comments loop -->
</div>

      </div>

        <!-- Display center blocks if any -->
        
        <table cellspacing="0" id="centerContent">
          <tr>
            <td id="centerCcolumn" colspan="2">

            <!-- Start center-center blocks loop -->
                          <div style="padding: 5px;">
    <div class="blockContent"><hr width=90%>
<center>[AD]<br><script type="text/javascript"><!--
google_ad_client = "pub-6416440120333674";
google_alternate_color = "FFFFFF";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="1464500678";
google_page_url = document.location;
google_color_border = "E8CCCA";
google_color_bg = "F1DFDE";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "111111";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center></div>
</div>                        <!-- End center-center blocks loop -->

            </td>
          </tr>
          <tr>
            <td id="centerLcolumn">

            <!-- Start center-left blocks loop -->
                          <!-- End center-left blocks loop -->

            </td>
            <td id="centerRcolumn">

            <!-- Start center-right blocks loop -->
                          <!-- End center-right blocks loop -->

            </td>
          </tr>
        </table>

                <!-- End display center blocks -->

    </td>

  </tr>
</table>

<!-- Footer -->
<p id="copyright">
&lt;<a href="mailto:webmaster@mysql.gr.jp">webmaster@mysql.gr.jp</a>&gt;<br>
Copyright 2000-2005 &copy; <a href="../../../index.html" target="_TOP">MyNA</a>. All Rights Reserved. Feel free to link. 
</body>
</html>