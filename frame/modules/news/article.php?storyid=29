<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- $Id: theme.html,v 1.1.1.1 2003/04/21 14:30:51 jc Exp $ -->
<head>
<meta http-equiv="content-type" content="text/html; charset=EUC-JP" />
<meta http-equiv="content-language" content="ja" />
<meta name="robots" content="index,follow" />
<meta name="keywords" content="MySQL, User group, MyNA, Nippon, Japan, MySQLユーザ会" />
<meta name="description" content="MySQL is fast, robust, reliable open source database." />
<meta name="rating" content="general" />
<meta name="author" content="MyNA Webmaster" />
<meta name="copyright" content="Copyright ? 2001-2005" />
<meta name="generator" content="XOOPS" />
<title>MyNA Web Site</title>
<link href="../../favicon.ico" rel="SHORTCUT ICON" />
<link rel="stylesheet" type="text/css" media="all" href="../../xoops.css" />
<link rel="stylesheet" type="text/css" media="all" href="../../themes/myna/styleNN.css" />
<!-- RMV: added module header -->

<script type="text/javascript">
<!--
//--></script><script type="text/javascript" src="../../include/xoops.js"></script><script type="text/javascript"><!--
//-->
</script>
</head>
<body>

<!-- Main Table -->

<table id="main" cellspacing="0">
  <tr>
    <!-- Center Column -->
    <!-- Main Contents -->
    <td id="centerColumn">
      <div id="content">
      <div style="text-align: left; margin: 10px;"></div>

<hr width=70%>
<center><script type="text/javascript"><!--
google_ad_client = "pub-6416440120333674";
google_alternate_color = "FFFFFF";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="1464500678";
google_page_url = document.location;
google_color_border = "E8CCCA";
google_color_bg = "F1DFDE";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "111111";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center>
<hr width=70% size=3>

<center><font size=+1>- News -</font></center>
<div style="padding: 3px; margin-right:3px;">
<div class="item">
  <div class="itemHead"><span class="itemTitle"><a href='index.php?storytopic=3'>MySQL</a>&nbsp;:&nbsp;MySQL 4.1.8 リリース！</span></div>
  <div class="itemInfo">
    <span class="itemPoster">投稿者： <a href="../../userinfo.php?uid=1">webmaster</a></span> <span class="itemPostDate">投稿日時： 2004-12-17 8:39:52</span> (<span class="itemStats">8556 ヒット</span>)
  </div>
  <div class="itemBody">
    
    <p class="itemText">MySQL 4.1.8 がリリースされました。<br />注目すべき点として、これまで「なんとなくダンプができるツール」だった mysqldump がてこ入れ（？）され、様々なオプションが追加になりました。<br /><br />◆mysqldump の新しいオプション<br />--order-by-primary<br />--master-data<br />--single-transaction<br />--lock-all-tables<br />--hex-blob<br /><br />また、NDBクラスター利用への準備も着々と進んでいる様子がうかがえます。<br /><br /><br />新機能および変更点は以下の通りです。<br />----<br /><br /><br />Changes in release 4.1.8:<br /><br />■機能の追加と変更：<br /><br />- For ALTER DATABASE, the database name now can be omitted to apply the change to the default database.<br /><br />- Added WITH CONSISTENT SNAPSHOT clause to START TRANSACTION to begin a transaction with a consistent read.<br /><br />- Added --order-by-primary to mysqldump, to sort each table's data in a dump file. This may be useful when dumping a MyISAM table which will be loaded into an InnoDB table. Dumping a MyISAM table with this option is considerably slower than without.<br /><br />- InnoDB: Do not periodically write SHOW INNODB STATUS information to a temporary file unless the configuration option innodb_status_file=1 is set.<br /><br />- InnoDB: Commit after every 10,000 copied rows when executing ALTER TABLE. This makes it much faster to recover from an aborted ALTER TABLE or OPTIMIZE TABLE.<br /><br />- FULLTEXT index block size is changed to be 1024 instead of 2048.<br /><br />- Added --disable-log-bin option to mysqlbinlog. Using this option you can disable binary logging for the statements produced by mysqlbinlog. That is, mysqlbinlog --disable-log-bin <file_name> | mysql won't write any statements to the MySQL server binary log.<br /><br />- The --master-data option for mysqldump now takes an optional argument of 1 or 2 to produce a non-commented or commented CHANGE MASTER TO statement. The default is 1 for backward compatibility.<br /><br />- mysqldump --single-transaction --master-data now is able to take an online (non-blocking) dump of InnoDB and report the corresponding binary log coordinates. This makes a backup suitable for point-in-time recovery, roll-forward or replication slave creation. See section 8.8 The mysqldump Database Backup Program.<br /><br />- Added --lock-all-tables to mysqldump to lock all tables by acquiring a global read lock.<br /><br />- Added --hex-blob option to mysqldump for dumping binary string columns using hexadecimal notation.<br /><br />- Added mysql_hex_string() C API function that hex-encodes a string.<br /><br />- In the normal log MySQL now prints the logposition for Binlog Dump requests.<br /><br />- Added [mysql_cluster] section to `my.cnf' file for configuration settings specific to MySQL Cluster. ndb-connectstring variable moved here.<br /><br />- A connection doing a rollback will now display "Rolling back" in the State column of SHOW PROCESSLIST.<br /><br />- mysqlbinlog now prints an informative commented line (thread id, timestamp, server id, etc) before each LOAD DATA INFILE, like it already does for other queries; unless --short-form is used.<br /><br />- Default port for ndb_mgmd was changed to 1186 (from 2200) as this port number was officially assigned to MySQL Cluster by IANA.<br /><br />- New command in ndb_mgm, PURGE STALE SESSIONS, as a workaround for cases where nodes fail to allocate a node id even if it is free to use.<br /><br />- New command in ndb_mgm, CONNECT.<br /><br />- The ndb executables have been changed to make use of the regular MySQL command line option parsing features. See section 16.4.5 Command Options for MySQL Cluster Processes for notes on changes.<br /><br />- As bonus of the above you can now specify all command line options in `my.cnf' using the executable names as sections, i.e. [ndbd], [ndb_mgmd], [ndb_mgm], [ndb_restore] etc.<br /> [ndbd]<br /> ndb-connectstring=myhost.domain.com:1234<br /> [ndb_mgm]<br /> ndb-connectstring=myhost.domain.com:1234<br /><br />- Added use of section [mysql_cluster] in `my.cnf'. All cluster executables, including mysqld, parse this section. Convenient place to put e.g. ndb-connectstring so that it only needs to be specified once.<br /><br />- Added cluster log info events on allocation and deallocation of node ids.<br /><br />- Added cluster log info events on connection refuse as a result of version mismatch.<br /><br />- Extended connectstring syntax to allow for leaving the port number out. E.g. ndb-connectstring|connect-string=myhost1,myhost2,myhost3 is a valid connectstring and connect will occur on default port 1186.<br /><br />- Clear text ndb error messages are also provided for error codes that are mapped to corresponding mysql error codes, by executing SHOW WARNINGS after an error has occurred which relates to the ndb storage engine.<br /><br />- Significant performance improvements [with NDB storage engine] done for read performance, especially for blobs.<br /><br />- Added some variables for performance tuning, ndb_force_send and ndb_use_exact_count. Do show variables like 'ndb%'; in mysql client for listing. Use set command to alter variables.<br /><br />- Added variables to set some options, ndb_use_transactions and ndb_autoincrement_prefetch_sz.<br /><br />■バグ修正：<br /><br />- InnoDB: Refuse to open new-style tables created with MySQL 5.0.3 or later. (Bug #7089)<br /><br />- Fixed incorrect referencing to column by name from subquery to outer query in case of using temporary table by outer query and placing subquery in the WHERE clause. (Bug #7079)<br /><br />- InnoDB: Do not call rewind() when displaying SHOW INNODB STATUS information on stderr.<br /><br />- Fixed a bug in authentication code that allowed a malicious user to crash the server with specially crafted packets (using a modified client library). (Bug #7187)<br /><br />- Fixed a crashing bug in a string function LEFT, when this function is part of the expression which is used as GROUP BY field. (Bug #7101)<br /><br />- Fixed bug which caused MySQL to require privileges on system time zone description tables for implicit access to them (i.e. if one set time_zone variable or used CONVERT_TZ() function) in case when some table-level or column-level privileges existed. (Bug #6765)<br /><br />- mysql_stmt_data_seek(stmt,0) will now rewind a counter and enable that buffered rows can be re-fetched on the client side. (Bug #6996)<br /><br />- Fixed an insufficient privilege check in SHOW CREATE TABLE command. (Bug #7043)<br /><br />- Fixed a rare memory corruption (that resulted in a crash) in MATCH ... AGAINST on columns that use multi-byte character sets. (Bug #6269)<br /><br />- Fixed NULL processing in ALL/SOME subqueries. (Bug #6247)<br /><br />- Fixed execution complex queries with subqueries. (Bug #6406, Bug #6841)<br /><br />- Fixed initialization of some internal structures for first execution. (Bug #6517)<br /><br />- Backported a fix for the fulltext interface from MySQL 5.0. (Bug #6523)<br /><br />- Fixed NULL value handling in case of empty results in subqueries. (Bug #6806)<br /><br />- Prevent adding CREATE TABLE .. SELECT query to the binary log when the insertion of new records partially failed. (Bug #6682)<br /><br />- INSERT ... SELECT no longer reports spurious "column truncated" warnings (Bug #6284)<br /><br />- Fixed a bug that could cause "Record has changed since last read in table" error message in some queires on HEAP tables that contain only one row. (Bug #6748)<br /><br />- mysqld_safe was in many cases ignoring any --no-defaults, --defaults-file, or --defaults-extra-file arguments. Those arguments are now honored, and this may change what options are passed to mysqld in some installations.<br /><br />- The server was interpreting CHAR BINARY and VARCHAR BINARY columns from 4.0 tables as having the BINARY and VARBINARY data types. Now they are interpreted as CHAR and VARCHAR columns that have the binary collation of the column's character set. (This is the same way that CHAR BINARY and VARCHAR BINARY are handled for new tables created in 4.1.)<br /><br />- Fixed spurious "duplicate key" error from REPLACE or INSERT ... ON DUPLICATE KEY UPDATE statements performing multiple-row insert in the table that had unique and fulltext indexes. (Bug #6784)<br /><br />- Fixed a bug in execution of subqueries in SET and DO statements which caused wrong results to be returned from subsequent queries. (Bug #6462)<br /><br />- Fixed a bug which allowed server to accept datetime values with wrong year part. Also now server will perform same checks for datetime values passed through MYSQL_TIME structure as for datetime values passed as strings. (Bug #6266)<br /><br />- Fixed a bug with INSERT for a table with FULLTEXT indexes. Under rare circumstances, this could result in a corrupted table if words of different lengths may be considered equal. This is possible in some collations, for example, in utf8_general_ci or latin1_german2_ci. (Bug #6265)<br /><br />- InnoDB: Made the foreign key parser better aware of quotes. (Bug #6340)<br /><br />- InnoDB: If one used INSERT IGNORE to insert several rows at a time, and the first inserts were ignored because of a duplicate key collision, then InnoDB in a replication slave assigned AUTO_INCREMENT values 1 bigger than in the master. This broke the MySQL replication. (Bug #6287)<br /><br />- InnoDB: Fixed a bug: InnoDB ignored in innodb_data_file_path the max specification in :autoextend:max:2000M. This bug was introduced in 4.1.1.<br /><br />- InnoDB: Fixed a bug: innodb_locks_unsafe_for_binlog still uses next-key locking (Bug #6747). InnoDB used next-key locking when record matched completely to search tuple. This unnecessary next-key locking is now removed when innodb_locks_unsafe_for_binlog option is used.<br /><br />- InnoDB: Fix two hangs: FOREIGN KEY constraints treated table and database names as case-insensitive. RENAME TABLE t TO T would hang in an endless loop if t had a foreign key constraint defined on it. Fix also a hang over the dictionary mutex that would occur if one tried in ALTER TABLE or RENAME TABLE to create a foreign key constraint name that collided with another existing name. (Bug #3478)<br /><br />- If STMT_ATTR_UPDATE_MAX_LENGTH is set for a prepared statement, mysql_stmt_store_result() will update field->max_length for numeric columns as well. (Bug#6096)<br /><br />- Prepared statements now handle zerofill when converting integer to string.<br /><br />- Fixed crash when a call to mysql_stmt_store_result() occurred without a preceding call to mysql_stmt_bind_result().<br /><br />- Fixed crash in prepared statements when using SELECT * FROM t1 NATURAL JOIN t2....<br /><br />- Fixed crash in prepared statements when using SELECT ... PROCEDURE.<br /><br />- Fixed crash in prepared statements when using subqueries.<br /><br />- GROUP_CONCAT(...ORDER BY) when used with prepared statements gave wrong sorting order. CREATE TABLE created_table didn't signal when table was created. This could cause a DROP TABLE created_table in another thread to wait "forever".<br /><br />- Server warnings now are reset when you execute a prepared statement.<br /><br />- Improved performance of identifier comparisons (if many tables or columns are specified).<br /><br />- OPTIMIZE TABLE, REPAIR TABLE, and ANALYZE TABLE are now replicated without any error code in the binary log. (Bug #5551)<br /><br />- LOAD DATA INFILE now works with option replicate-rewrite-db. (Bug #6353)<br /><br />- Fixed a bug which caused a crash when only the slave I/O thread was stopped and started. (Bug #6148)<br /><br />- Changed semantics of CREATE/ALTER/DROP DATABASE statements so that replication of CREATE DATABASE is possible when using --binlog-do-db and --binlog-ignore-db. (Bug #6391)<br /><br />- If a connection had an open transaction but had done no updates to transactional tables (for example if had just done a SELECT FOR UPDATE then executed a non-transactional update, that update automatically committed the transaction (thus releasing InnoDB's row-level locks etc). (Bug #5714)<br /><br />- If a connection was interrupted by a network error and did a rollback, the network error code got stored into the BEGIN and ROLLBACK binary log events; that caused superfluous slave stops. (Bug #6522)<br /><br />- A sequence of BEGIN (or SET AUTOCOMMIT=0), FLUSH TABLES WITH READ LOCK, transactional update, COMMIT, FLUSH TABLES WITH READ LOCK could hang the connection forever and possibly the MySQL server itself. This happened for example when running the innobackup script several times. (Bug #6732)<br /><br />- mysqlbinlog did not print SET PSEUDO_THREAD_ID statements in front of LOAD DATA INFILE statements inserting into temporary tables, thus causing potential problems when rolling forward these statements after restoring a backup. (Bug #6671)<br /><br />- (Bug #6919) all status only shows 2 nodes on an 8-node cluster<br /><br />- (Bug #6871) DBD execute failed: Got error 897 'Unknown error code' from ndbcluster<br /><br />- (Bug #6791) Segmentation fault when config.ini is not correctly set<br /><br />- (Bug #6775) failure in acc when running many mysql clients<br /><br />- (Bug #6696) ndb_mgm command line options inconsistent with behaviour<br /><br />- (Bug #6684) ndb_restore doesn't give error messages if improper command given<br /><br />- (Bug #6677) ndb_mgm can crash on "ALL CLUSTERLOG"<br /><br />- (Bug #6538) Error code returned when select max() on empty table with index<br /><br />- (Bug #6451) failing create table gives "ghost" tables which are impossible to remove<br /><br />- (Bug #6435) strange behaviour of left join<br /><br />- (Bug #6426) update with long pk fails<br /><br />- (Bug #6398) update of primary key fails<br /><br />- (Bug #6354) mysql does not complain about --ndbcluster option when NDB is not compiled in<br /><br />- (Bug #6331) INSERT IGNORE .. SELECT breaks subsequent inserts<br /><br />- (Bug #6288) cluster nodes crash on data import<br /><br />- (Bug #6031) To drop database you have to execute DROP DATABASE command twice<br /><br />- (Bug #6020) LOCK TABLE + delete returns error 208<br /><br />- (Bug #6018) REPLACE does not work for BLOBs + NDB<br /><br />- (Bug #6016) Strange crash with blobs + different DATABASES<br /><br />- (Bug #5973) ndb table belonging to different database shows up in show tables<br /><br />- (Bug #5872) ALTER TABLE with blob from ndb table to myisam fails<br /><br />- (Bug #5844) Failing mysql-test-run leaves stray NDB processes behind<br /><br />- (Bug #5824) HELP text messed up in ndb_mgm<br /><br />- (Bug #5786) Duplicate key error after restore<br /><br />- (Bug #5785) lock timeout during concurrent update<br /><br />- (Bug #5782) Unknown error when using LIMIT with ndb table<br /><br />- (Bug #5756) RESTART node from ndb_mgm fails<br /><br />- A few more not reported [NDB] bugs fixed<br /><br /></p>
  </div>
  <div class="itemFoot">
    <span class="itemAdminLink"></span> <span class="itemPermaLink"></span>
  </div>
</div></div>

<div style="text-align: left; margin: 10px;"></div>

<div style="padding: 5px; text-align: right;
margin-right:3px;">
<a href="print.php?storyid=29"><img
src="images/print.gif" border="0"
alt="印刷用ページ" /></a> <a target="_top"
href="mailto:?subject=MyNA Web Siteで見つけた興味深いニュース&amp;body=以下はMyNA Web Siteで見つけた非常に興味深いニュース記事です：:  http://www.mysql.gr.jp/frame/modules/news/article.php?storyid=29"><img src="images/friend.gif"
border="0" alt="このニュースを友達に送る" /></a>
</div>

<!-- -->

<div style="margin:3px; padding: 3px;">
<!-- start comments loop -->
<table class="outer" cellpadding="5" cellspacing="1">
  <tr>
    <th width="20%">投稿者</td>
    <th>スレッド</td>
  </tr>
  </table><!-- end comments loop -->
</div>

      </div>

        <!-- Display center blocks if any -->
        
        <table cellspacing="0" id="centerContent">
          <tr>
            <td id="centerCcolumn" colspan="2">

            <!-- Start center-center blocks loop -->
                          <div style="padding: 5px;">
    <div class="blockContent"><hr width=90%>
<center>[AD]<br><script type="text/javascript"><!--
google_ad_client = "pub-6416440120333674";
google_alternate_color = "FFFFFF";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_type = "text_image";
google_ad_channel ="1464500678";
google_page_url = document.location;
google_color_border = "E8CCCA";
google_color_bg = "F1DFDE";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "111111";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center></div>
</div>                        <!-- End center-center blocks loop -->

            </td>
          </tr>
          <tr>
            <td id="centerLcolumn">

            <!-- Start center-left blocks loop -->
                          <!-- End center-left blocks loop -->

            </td>
            <td id="centerRcolumn">

            <!-- Start center-right blocks loop -->
                          <!-- End center-right blocks loop -->

            </td>
          </tr>
        </table>

                <!-- End display center blocks -->

    </td>

  </tr>
</table>

<!-- Footer -->
<p id="copyright">
&lt;<a href="mailto:webmaster@mysql.gr.jp">webmaster@mysql.gr.jp</a>&gt;<br>
Copyright 2000-2005 &copy; <a href="../../../index.html" target="_TOP">MyNA</a>. All Rights Reserved. Feel free to link. 
</body>
</html>