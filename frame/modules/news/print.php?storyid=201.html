<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>MyNA Web Site</title><meta name="AUTHOR" content="MyNA Web Site"><meta name="COPYRIGHT" content="Copyright (c) 2005 by MyNA Web Site"><meta name="DESCRIPTION" content="日本MySQLユーザ会"><meta name="GENERATOR" content="XOOPS 2.0.16a JP"></head><body bgcolor="#ffffff" text="#000000" onload="window.print()">
        <table border="0"><tbody><tr><td align="center">
        <table border="0" width="640" cellpadding="0" cellspacing="1" bgcolor="#000000"><tbody><tr><td>
        <table border="0" width="640" cellpadding="20" cellspacing="1" bgcolor="#ffffff"><tbody><tr><td align="center">
        <img src="../../images/logo.gif" border="0" alt=""><br><br>
        <h3>MySQL 5.6.5 リリース</h3>
        <small><b>投稿日時</b>&nbsp;2012-4-10 8:00:00 | <b>トピック：</b>&nbsp;MySQL</small><br><br></td></tr><tr valign="top" style="font:12px;"><td>MySQL 5.6.5-m8 がリリースされました。<br>このバージョンは、MySQL 5.6 シリーズの最新バージョンです。<br>バージョン番号末尾の「m8」は、「マイルストンリリース８」をあらわしています。<br><br>ダウンロードはこちらから。<br><a href="http://dev.mysql.com/downloads/mysql/5.6.html" target="_blank">http://dev.mysql.com/downloads/mysql/5.6.html</a><br><br><br>以下、チェンジログ：<br>D.1.2. Changes in MySQL 5.6.5 (2012-April-10, Milestone 8)<br><br>Platform Notes<br><br>  * Beginning with MySQL 5.6.5 Oracle will no longer provide binaries<br>    for Mac OS X 10.5.  This aligns with Apple no longer providing<br>    updates or support for this platform.<br><br>Data Type Notes<br><br>  * Previously, at most one TIMESTAMP column per table could be<br>    automatically initialized or updated to the current date and<br>    time. This restriction has been lifted. Any TIMESTAMP column<br>    definition can have any combination of DEFAULT<br>    CURRENT_TIMESTAMP and ON UPDATE CURRENT_TIMESTAMP clauses. In<br>    addition, these clauses now can be used with DATETIME column<br>    definitions. For more information, see Section 11.3.4,<br>    "Automatic Initialization and Updating for TIMESTAMP and<br>    DATETIME."<br><br>Replication with GTIDs<br><br>  * Important Change: Replication: This release introduces global<br>    transaction identifiers (GTIDs) for MySQL Replication. A GTID<br>    is a unique identifier that is assigned to each transaction as<br>    it is committed; this identifier is unique on the MySQL Server<br>    where the transaction originated, as well as across all MySQL<br>    Servers in a given replication setup. Because GTID-based<br>    replication depends on tracking transactions, it cannot be<br>    employed with tables that employ a nontransactional storage<br>    engine such as MyISAM; thus, it is currently supported only<br>    with InnoDB tables.<br>    Because each transaction is uniquely identified, it is not<br>    necessary when using GTIDs to specify positions in the<br>    master's binary log when starting a new slave or failing over<br>    to a new master. This is reflected in the addition of a new<br>    MASTER_AUTO_POSITION option for the CHANGE MASTER TO statement<br>    which takes the place of the MASTER_LOG_FILE and<br>    MASTER_LOG_POS options when when executing this statement to<br>    prepare a MySQL Server to act as a replication slave.<br>    To enable GTIDs on a MySQL Server, the server must be started<br>    with the options<br>      --gtid-mode=ON --disable-gtid-unsafe-statements --log-bin<br>      --log-slave-updates<br>    These options are needed whether the server acts as a replication<br>    master or as a replication slave; the --gtid-mode and<br>    --disable-gtid-unsafe-statements options are new in this release.<br>    Once the master and slave have each been started with these options,<br>    it is necessary only to issue a CHANGE MASTER TO ...<br>    MASTER_AUTO_POSITION=1 followed by START SLAVE on the slave to start<br>    replication.<br>    A number of new server system variables have also been added<br>    for monitoring GTID usage. For more information about these<br>    options and variables, see Section 16.1.4.5, "Global<br>    Transaction ID Options and Variables."<br>    As part of these changes, three new mysqlbinlog options<br>        --include-gtids, --exclude-gtids, and --skip-gtids<br>    have been added for reading binary logs produced when the server<br>    participates in replication with GTIDs.<br><br>    Important<br>    Due to an issue discovered just prior to release, you cannot<br>    import a dump made using mysqldump from a MySQL 5.5 server to<br>    a MySQL 5.6.5 server and then use mysqlupgrade on the MySQL<br>    5.6.5 server while GTIDs are enabled; doing so makes it<br>    impossible to connect to the server normally following the<br>    upgrade. Instead, you should import the dump and run<br>    mysqlupgrade while the MySQL 5.6.5 server is running with<br>    --gtid-mode=OFF, then restart it with --gtid-mode=ON. (Bug<br>    #13833710.)<br>    For additional information about GTIDs and setting up<br>    GTID-based replication, see Section 16.1.3, "Replication with<br>    Global Transaction Identifiers."<br><br>Host Cache Notes<br><br>  * MySQL now provides more information about the causes of errors<br>    that occur when clients connect to the server, as well as<br>    improved access to the host cache, which contains client IP<br>    address and host name information and is used to avoid DNS<br>    lookups. These changes have been implemented:<br><br>       + New Connection_errors_xxx status variables provide<br>         information about connection errors that do not apply to<br>         specific client IP addresses.<br><br>       + Counters have been added to the host cache to track<br>         errors that do apply to specific IP addresses.<br><br>       + A new host_cache Performance Schema table exposes the<br>         contents of the host cache so that it can be examined<br>         using SELECT statements. Access to host cache contents<br>         makes it possible to answer questions such as how many<br>         hosts are cached, what kinds of connection errors are<br>         occurring for which hosts, or how close host error counts<br>         are to reaching the max_connect_errors system variable<br>         limit. The Performance Schema must be enabled or this<br>         table is empty.<br>         If you upgrade to this release of MySQL from an earlier<br>         version, you must run mysql_upgrade (and restart the<br>         server) to incorporate this change into the<br>         performance_schema database.<br><br>       + The host cache size now is configurable using the<br>         host_cache_size system variable. Setting the size to 0<br>         disables the host cache.This is similar to starting the<br>         server with --skip-host-cache, but host_cache_size is<br>         more flexible because it can also be used to resize,<br>         enable, or disable the host cache at runtime, not just at<br>         server startup. If you start the server with<br>         --skip-host-cache, the host cache cannot be re-enabled at<br>         runtime.<br><br>    For more information, see Section 8.11.5.2, "DNS Lookup<br>    Optimization and the Host Cache," and Section 20.9.8.1, "The<br>    host_cache Table." (Bug #22821, Bug #24906, Bug #45817, Bug<br>    #59404, Bug #11746048, Bug #11746269, Bug #11754244, Bug<br>    #11766316)<br><br>Optimizer Features<br><br>  * These query optimizer improvements were implemented:<br><br>       + The EXPLAIN statement now can produce output in JSON<br>         format. To select this, use EXPLAIN FORMAT = JSON<br>         explainable_stmt syntax. With FORMAT = JSON, the output<br>         includes regular EXPLAIN information, as well as extended<br>         and partition information.<br>         Traditional EXPLAIN output has also changed so that empty<br>         columns contain NULL rather the empty string. In<br>         addition, UNION RESULT rows have Using filesort in the<br>         Extra column because a temporary table is used to buffer<br>         UNION results.<br>         To work for both Optimizer Trace and JSON-format EXPLAIN<br>         output, the end_marker parameter for the optimizer_trace<br>         system variable has been moved to a separate<br>         end_markers_in_json system variable. This is an<br>         incompatible change to the optimizer_trace variable. For<br>         more information, see MySQL Internals: Optimizer tracing<br>         (<a href="http://forge.mysql.com/wiki/MySQL_Internals_Optimizer_tr" target="_blank">http://forge.mysql.com/wiki/MySQL_Internals_Optimizer_tr</a><br>         acing).<br><br>       + The optimizer tries to find the best query execution plan<br>         by beginning with the most promising table and<br>         recursively adding to the plan the most promising of the<br>         remaining tables. Partial execution plans with a higher<br>         cost than an already found plan are pruned. The optimizer<br>         now attempts to improve the order in which it adds tables<br>         to the plan, resulting in a reduction of the number of<br>         partial plans considered.<br>         Queries that are likely to have improved performance are<br>         joins of many tables, where most tables use eq_ref or ref<br>         join types (as indicated by EXPLAIN output).<br>         A new status variable, Last_query_partial_plans, counts<br>         the number of iterations the optimizer makes in execution<br>         plan construction for the previous query.<br><br>       + The optimizer uses semi-join and materialization<br>         strategies to optimize subquery execution. See Section<br>         8.13.15.1, "Optimizing Subqueries with Semi-Join<br>         Transformations," and Section 8.13.15.2, "Optimizing<br>         Subqueries with Subquery Materialization." In addition,<br>         the Batched Key Access (BKA) Join and Block Nested-Loop<br>         (BNL) Join algorithms used for inner join and outer join<br>         operations have been extended to support semi-join<br>         operations. For more information, see Section 8.13.11,<br>         "Block Nested-Loop and Batched Key Access Joins."<br>         Several flags have been added to the optimizer_switch<br>         system variable to enable control over semi-join and<br>         subquery materialization strategies. See Section 8.8.4.2,<br>         "Controlling Switchable Optimizations."<br><br>       + For expressions such as col_name IN(values) that compare<br>         a column to a list of values, the optimizer previously<br>         made row estimates using index dives for each value in<br>         the list. This becomes inefficient as the number of<br>         values becomes large. The optimizer now can make row<br>         estimates for such expressions using index statistics<br>         instead, which is less accurate but quicker for a large<br>         number of values. The point at which the optimizer<br>         switches from index dives to index statistics is<br>         configurable using the new eq_range_index_dive_limit<br>         system variable. For more information, see Section<br>         8.13.1.3, "Equality Range Optimization of Many-Valued<br>         Comparisons."<br><br>Performance Schema Notes<br><br>  * The Performance Schema has these additions:<br><br>       + The Performance Schema now has a host_cache table that<br>         exposes the contents of the host cache so that it can be<br>         examined using SELECT statements. See Host Cache Notes<br>         above.<br><br>       + The Performance Schema now maintains statement digest<br>         information. This normalizes and groups statements with<br>         the same "signature" and permits questions to be answered<br>         about the types of statements the server is executing and<br>         how often they occur.<br>            o A statement_digest consumer in the setup_consumers<br>              table controls whether the Performance Schema<br>              maintains digest information.<br>            o The statement event tables<br>              (events_statements_current,<br>              events_statements_history, and<br>              events_statements_history_long) have DIGEST and<br>              DIGEST_TEXT columns that contain digest MD5 values<br>              and the corresponding normalized statement text<br>              strings.<br>            o A events_statements_summary_by_digest table provides<br>              aggregated statement digest information.<br><br>    If you upgrade to this release of MySQL from an earlier<br>    version, you must run mysql_upgrade (and restart the server)<br>    to incorporate these changes into the performance_schema<br>    database.<br>    For more information, see Chapter 20, "MySQL Performance<br>    Schema."<br><br>Functionality Added or Changed<br><br>  * Security Fix: Passwords stored in the older format used before<br>    MySQL 4.1 are now deprecated, and the secure_auth system<br>    variable is enabled by default to prevent connections using<br>    accounts that have passwords stored in the old format. To<br>    permit such connections, start the server with<br>    --skip-secure-auth. (Bug #13586336)<br><br>  * Security Fix: MySQL client programs now issue a warning if a<br>    password is given on the command line that this can be<br>    insecure.<br><br>  * Incompatible Change: The obsolete OPTION modifier for the SET<br>    statement has been removed.<br><br>  * InnoDB Storage Engine: --ignore-builtin-innodb is now ignored<br>    if used. (Bug #13586262)<br><br>  * The MySQL-shared-compat RPM package enables users of Red<br>    Hat-provided mysql-*-5.1 RPM packages to migrate to<br>    Oracle-provided MySQL-*-5.5 packages. MySQL-shared-compat now<br>    replaces the Red Hat mysql-libs package by replacing<br>    libmysqlclient.so files of the latter package, thus satisfying<br>    dependencies of other packages on mysql-libs. This change<br>    affects only users of Red Hat (or Red Hat-compatible) RPM<br>    packages. Nothing is different for users of Oracle RPM<br>    packages. (Bug #13867506)<br><br>  * Temporary tables for INFORMATION_SCHEMA queries now use packed<br>    MyISAM format if they contain sufficiently large VARCHAR<br>    columns, resulting in space savings. (Bug #13627632)<br><br>  * As of MySQL 5.5.3, the LOW_PRIORITY modifier for LOCK TABLES<br>    ... LOW_PRIORITY WRITE has no effect. This modifier is now<br>    deprecated. Its use should be avoided and now produces a<br>    warning. Use LOCK TABLES ... WRITE instead. (Bug #13586314)<br><br>  * A new CMake option, MYSQL_PROJECT_NAME, can be set on Windows<br>    or Mac OS X to be used in the project name. (Bug #13551687)<br><br>  * If the log_queries_not_using_indexes system variable is<br>    enabled, slow queries that do not use indexes are written to<br>    the slow query log. In this case, it is now possible to put a<br>    logging rate limit on these queries by setting the new<br>    log_throttle_queries_not_using_indexes system variable, so<br>    that the slow query log does not grow too quickly. By default,<br>    this variable is 0, which means there is no limit. Positive<br>    values impose a per-minute limit on logging of queries that do<br>    not use indexes. (Bug #55323, Bug #11762697)<br><br>  * A new server option, --slow-start-timeout, controls the<br>    Windows service control manager's service start timeout. The<br>    value is the maximum number of milliseconds that the service<br>    control manager waits before trying to kill the MySQL service<br>    during startup. The default value is 15000 (15 seconds). If<br>    the MySQL service takes too long to start, you may need to<br>    increase this value. A value of 0 means there is no timeout.<br>    (Bug #45546, Bug #11754011)<br><br>  * The mysql client now supports an --init-command=str option.<br>    The option value is an SQL statement to execute after<br>    connecting to the server. If auto-reconnect is enabled, the<br>    statement is executed again after reconnection occurs. (Bug<br>    #45634, Bug #11754087)<br><br>  * Several subquery performance issues were resolved through the<br>    implementation of semi-join subquery optimization strategies.<br>    See Section 8.13.15.1, "Optimizing Subqueries with Semi-Join<br>    Transformations." (Bug #47914, Bug #11756048, Bug #58660, Bug<br>    #11765671, Bug #10815, Bug #11745162, Bug #9021, Bug<br>    #13519134, Bug #48763, Bug #11756798, Bug #25130, Bug<br>    #11746289)<br><br>  * New utf8_general_mysql500_ci and ucs2_general_mysql500_ci<br>    collations have been added that preserve the behavior of<br>    utf8_general_ci and ucs2_general_ci from versions of MySQL<br>    previous to 5.1.24. Bug #27877 corrected an error in the<br>    original collations but introduced an incompatibility for<br>    columns that contain German 'ß' LATIN SMALL LETTER SHARP S.<br>    (As a result of the fix, that character compares equal to<br>    characters with which it previously compared different.) A<br>    symptom of the problem after upgrading to MySQL 5.1.24 or<br>    newer from a version older than 5.1.24 is that CHECK TABLE<br>    produces this error:<br>Table upgrade required.<br>Please do "REPAIR TABLE `t`" or dump/reload to fix it!<br>    Unfortunately, REPAIR TABLE could not fix the problem. The new<br>    collations permit older tables created before MySQL 5.1.24 to<br>    be upgraded to current versions of MySQL.<br>    To convert an affected table after a binary upgrade that<br>    leaves the table files in place, alter the table to use the<br>    new collation. Suppose that the table t1 contains one or more<br>    problematic utf8 columns. To convert the table at the table<br>    level, use a statement like this:<br>ALTER TABLE t1<br>CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_mysql500_ci;<br>    To apply the change on a column-specific basis, use a<br>    statement like this (be sure to repeat the column definition<br>    as originally specified except for the COLLATE clause):<br>ALTER TABLE t1<br>MODIFY c1 CHAR(N) CHARACTER SET utf8 COLLATE utf8_general_mysql500_ci;<br>    To upgrade the table using a dump and reload procedure, dump<br>    the table using mysqldump, modify the CREATE TABLE statement<br>    in the dump file to use the new collation, and reload the<br>    table.<br>    After making the appropriate changes, CHECK TABLE should<br>    report no error.<br>    For more information, see Section 2.11.3, "Checking Whether<br>    Tables or Indexes Must Be Rebuilt," and Section 2.11.4,<br>    "Rebuilding or Repairing Tables or Indexes." (Bug #43593, Bug<br>    #11752408)<br><br>  * MySQL distributions no longer include the GPL readline<br>    input-editing library. This results in simpler maintenance and<br>    support, and simplifies licensing considerations.<br><br>  * The SET TRANSACTION and START TRANSACTION statements now<br>    support READ WRITE and READ ONLY modifiers to set the<br>    transaction access mode for tables used in transactions. The<br>    default mode is read/write, which is the same mode as<br>    previously. Read/write mode now may be specified explicitly<br>    with the READ WRITE modifier. Using READ ONLY prohibits table<br>    changes and may enable storage engines to make performance<br>    improvements that are possible when changes are not permitted.<br>    In addition, the new --transaction-read-only option and<br>    tx_read_only system variable permit the default transaction<br>    access mode to be set at server startup and runtime.<br>    For more information, see Section 13.3.6, "SET TRANSACTION<br>    Syntax," and Section 13.3.1, "START TRANSACTION, COMMIT, and<br>    ROLLBACK Syntax."<br><br>Bugs Fixed<br><br>  * Performance: InnoDB Storage Engine: The optimizer now takes<br>    into account InnoDB page sizes other than 16KB, which can be<br>    configured with the innodb_page_size option when creating a<br>    MySQL instance. This change improves the estimates of I/O<br>    costs for queries on systems with non-default InnoDB page<br>    sizes. (Bug #13623078)<br><br>  * Performance: InnoDB Storage Engine: Memory allocation for<br>    InnoDB tables was reorganized to reduce the memory overhead<br>    for large numbers of tables or partitions, avoiding situations<br>    where the "resident set size" could grow regardless of FLUSH<br>    TABLES statements. (Bug #11764622, Bug #57480)<br><br>  * Incompatible Change: Replication: CHANGE MASTER TO statements<br>    were written into the error log using quoted numeric values,<br>    although the syntax for this statement does not allow such<br>    option values to be quoted. This meant that such statements<br>    could not be copied from the error log and re-run verbatim.<br>    Now CHANGE MASTER TO statements are written to the error log<br>    without the extraneous quotation marks, and so are<br>    syntactically correct as logged.<br><br>  * Incompatible Change: A change in MySQL 5.6.3 caused LAST_DAY()<br>    to be more strict and reject incomplete dates with a day part<br>    of zero. For this function, a nonzero day part is not<br>    necessary, so the change has been reverted. (Bug #13458237)<br><br>  * Important Change: InnoDB Storage Engine: When a row grew in<br>    size due to an UPDATE operation, other (non-updated) columns<br>    could be moved to off-page storage so that information about<br>    the row still fit within the constraints of the InnoDB page<br>    size. The pointer to the new allocated off-page data was not<br>    set up until the pages were allocated and written, potentially<br>    leading to lost data if the system crashed while the column<br>    was being moved out of the page.<br>    A related issue was that during such an UPDATE operation, or<br>    an INSERT operation that reused a delete-marked record, other<br>    transactions could see invalid data for the affected column,<br>    regardless of isolation level.<br>    The fix corrects the order of operations for moving the column<br>    data off the original page and replacing it with a pointer.<br>    (Bug #13721257, Bug #12612184, Bug #12704861)<br><br>  * Important Change: Replication: The CHANGE MASTER TO statement<br>    was not checked for invalid characters in values for options<br>    such as MASTER_HOST and MASTER_USER. In addition, when the<br>    server was restarted, a value containing certain characters<br>    was trimmed, causing the loss of its original value. Now such<br>    values are validated, and in cases where the value contains<br>    invalid characters, including linefeed (\n or 0x0A)<br>    characters, the statement fails with an error<br>    (ER_MASTER_INFO). (Bug #11758581, Bug #50801)<br><br>  * Important Change: Replication: Moving the binary log file,<br>    relay log file, or both files to a new location, then<br>    restarting the server with a new value for --log-bin,<br>    --relay-log, or both, caused the server to abort on start.<br>    This was because the entries in the index file overrode the<br>    new location. In addition, paths were calculated relative to<br>    datadir (rather than to the --log-bin or --relay-log values).<br>    The fix for this problem means that, when the server reads an<br>    entry from the index file, it now checks whether the entry<br>    contains a relative path. If it does, the relative part of the<br>    path is replaced with the absolute path set using the<br>    --log-bin or --relay-log option. An absolute path remains<br>    unchanged; in such a case, the index must be edited manually<br>    to enable the new path or paths to be used. (Bug #11745230,<br>    Bug #12133)<br><br>  * InnoDB Storage Engine: A DDL operation such as ALTER TABLE ...<br>    ADD COLUMN could stall, eventually timing out with an Error<br>    1005: Can't create table message referring to<br>    fil_rename_tablespace. (Bug #13636122, Bug #62100, Bug #63553)<br><br>  * InnoDB Storage Engine: If InnoDB was started with<br>    innodb_force_recovery set to a value of 3 or 4, and there are<br>    transactions to roll back, normal shutdown would hang waiting<br>    for those transactions to complete. Now the shutdown happens<br>    immediately, without rolling back any transactions, because<br>    non-zero values for innodb_force_recovery are only appropriate<br>    for troubleshooting and diagnostic purposes. (Bug #13628420)<br><br>  * InnoDB Storage Engine: The MySQL server could hang in some<br>    cases if the configuration option innodb_use_native_aio was<br>    turned off. (Bug #13619598)<br><br>  * InnoDB Storage Engine: The configuration option<br>    innodb_sort_buf_size was renamed to innodb_sort_buffer_size<br>    for consistency. This work area is used while creating an<br>    InnoDB index. (Bug #13610358)<br><br>  * InnoDB Storage Engine: The server could crash when creating an<br>    InnoDB temporary table under Linux, if the $TMPDIR setting<br>    points to a tmpfs filesystem and innodb_use_native_aio is<br>    enabled, as it is by default in MySQL 5.5.4 and higher. The<br>    entry in the error log looked like:<br>101123  2:10:59  InnoDB: Operating system error number 22 in a file<br>operation.<br>InnoDB: Error number 22 means 'Invalid argument'.<br>    The crash occurred because asynchronous I/O is not supported<br>    on tmpfs in some Linux kernel versions. The workaround was to<br>    turn off the innodb_use_native_aio setting or use a different<br>    temporary directory. The fix causes InnoDB to turn off the<br>    innodb_use_native_aio setting automatically if it detects that<br>    the temporary file directory does not support asynchronous<br>    I/O. (Bug #13593888, Bug #11765450, Bug #58421)<br><br>  * InnoDB Storage Engine: During startup, the status variable<br>    Innodb_buffer_pool_dump_status could be empty for a brief time<br>    before being initialized to the correct value not started.<br>    (Bug #13513676)<br><br>  * InnoDB Storage Engine: The MySQL error log could contain<br>    messages like:<br>InnoDB: Ignoring strange row from mysql.innodb_index_stats WHERE ...<br>    The fix makes the contents of the innodb_index_stats and<br>    innodb_table_stats tables case-sensitive, to properly<br>    distinguish the statistics for tables whose names differ only<br>    in letter case. Other cases were fixed where the wrong name<br>    could be selected for an index while retrieving persistent<br>    statistics. (Bug #13432465)<br><br>  * InnoDB Storage Engine: The MySQL server could halt with an<br>    assertion error:<br>InnoDB: Failing assertion: page_get_n_recs(page) &gt; 1<br>    Subsequent restarts could fail with the same error. The error<br>    occurred during a purge operation involving the InnoDB change<br>    buffer. The workaround was to set the configuration option<br>    innodb_change_buffering=inserts. (Bug #13413535, Bug #61104)<br><br>  * InnoDB Storage Engine: When doing a live downgrade from MySQL<br>    5.6.4 or later, with innodb_page_size set to a value other<br>    than 16384, now the earlier MySQL version reports that the<br>    page size is incompatible with the older version, rather than<br>    crashing or displaying a "corruption" error. (Bug #13116225)<br><br>  * InnoDB Storage Engine: Certain CREATE TABLE statements could<br>    fail for InnoDB child tables containing foreign key<br>    definitions. This problem affected Windows systems only, with<br>    the setting lower_case_table_names=0. It was a regression from<br>    MySQL bug #55222. (Bug #13083023, Bug #60229)<br><br>  * InnoDB Storage Engine: If the server crashed during a TRUNCATE<br>    TABLE or CREATE INDEX statement for an InnoDB table, or a DROP<br>    DATABASE statement for a database containing InnoDB tables, an<br>    index could be corrupted, causing an error message when<br>    accessing the table after restart:<br>InnoDB: Error: trying to load index index_name for table table_name<br>InnoDB: but the index tree has been freed!<br>    (Bug #12861864, Bug5.1 #11766019)<br><br>  * InnoDB Storage Engine: InnoDB persistent statistics gave less<br>    accurate estimates for date columns than for columns of other<br>    data types. The fix changes the way cardinality is estimated<br>    for non-unique keys, and avoids situations where identical<br>    values could be counted twice if they occurred on different<br>    index pages. (Bug #12429443)<br><br>   * InnoDB Storage Engine: Improved the accuracy of persistent<br>    InnoDB statistics for large tables. The estimate of distinct<br>    records could be inaccurate if the index tree was more than 3<br>    levels deep. (Bug #12316365)<br><br>  * InnoDB Storage Engine: Shutdown could hang with messages like<br>    this in the log:<br>Waiting for purge thread  to be suspended<br>    After 1 hour, the shutdown times out and mysqld quits. This<br>    problem is most likely to occur with a high value for<br>    innodb_purge_threads. (Bug #11765863, Bug #58868, Bug #60939)<br><br>  * InnoDB Storage Engine: When DROP TABLE failed due to all undo<br>    slots being in use, the error returned was Unknown table '...'<br>    rather than the expected Too many active concurrent<br>    transactions. (Bug #11764724, Bug #57586)<br>    References: See also Bug #11764668, Bug #57529.<br><br>  * InnoDB Storage Engine: Server startup could produce an error<br>    for temporary tables using the InnoDB storage engine, if the<br>    path in the $TMPDIR variable ended with a / character. The<br>    error log would look like:<br>120202 19:21:26  InnoDB: Error: trying to open a table, but could not<br>InnoDB: open the tablespace file './t/#sql7750_1_0.ibd'!<br>    (Bug #11754376, Bug #45976)<br><br>  * Partitioning: When creating a view from a SELECT statement<br>    that used explicit partition selection, the partition<br>    selection portion of the query was ignored. (Bug #13559657)<br><br>  * Partitioning: Adding a partition to an already existing<br>    LIST-partitioned table did not work correctly if the number of<br>    items in the new partition was greater than 16. This could<br>    happen when trying to add a partition using an ALTER TABLE ...<br>    ADD PARTITION statement, or an ALTER TABLE ... REORGANIZE<br>    PARTITION statement. (Bug #13029508, Bug #62505)<br><br>  * Partitioning: A function internal to the code for finding<br>    matching subpartitions represented an unsigned number as<br>    signed, with the result that matching subpartitions were<br>    sometimes missed in results of queries. (Bug #12725206, Bug<br>    #61765)<br>    References: See also Bug #20257.<br><br>  * Partitioning: After updating a row of a partitioned table and<br>    selecting that row within the same transaction with the query<br>    cache enabled, then performing a ROLLBACK, the same result was<br>    returned by an identical SELECT issued in a new transaction.<br>    (Bug #11761296, Bug #53775)<br><br>  * Partitioning: An ALTER TABLE ... ADD PARTITION statement<br>    subsequent to ALTER TABLE ... REORGANIZE PARTITION failed on a<br>    table partitioned by HASH or KEY. (Bug #11764110, Bug #56909)<br><br>  * Replication: Executing mysqlbinlog with the --start-position=N<br>    option, where N was equal either to 0 or to a value greater<br>    than the length of the dump file, caused it to crash.<br>    This issue was introduced in MySQL 5.5.18 by the fix for Bug<br>    #32228 and Bug #11747416. (Bug #13593869, Bug #64035)<br><br>  * Replication: When starting the server, replication<br>    repositories were checked even when the --server-id was equal<br>    to 0 (the default), in spite of the fact that a valid nonzero<br>    value for --server-id must be supplied for a server that acts<br>    as either a master or a slave in MySQL replication.<br>    This could cause problems when trying to perform a live<br>    upgrade from MySQL 5.5, although it was possible to work<br>    around the issue by starting the server with<br>    --skip-slave-start (in addition to any other required<br>    options).<br>    To avoid this problem, replication repositories are now<br>    checked only when the server is started with --server-id using<br>    a nonzero value. (Bug #13427444, Bug #13504821)<br><br>  * Replication: Formerly, the default value shown for the Port<br>    column in the output of SHOW SLAVE HOSTS was 3306 whether the<br>    port had been set incorrectly or not set at all. Now, when the<br>    slave port is not set, 0 is used as the default. This change<br>    also affects the default used for the --report-port server<br>    option. (Bug #13333431)<br><br>  * Replication: A race condition could occur when running<br>    multiple instances of mysqld on a single machine, when more<br>    than slave thread was started at the same time, and each such<br>    thread tried to use the same temporary file concurrently. (Bug<br>    #12844302, Bug #62055)<br><br>  * Replication: Statements that wrote to tables with<br>    AUTO_INCREMENT columns based on an unordered SELECT from<br>    another table could lead to the master and the slave going out<br>    of sync, as the order in which the rows are retrieved from the<br>    table may differ between them. Such statements include any<br>    INSERT ... SELECT, REPLACE ... SELECT, or CREATE TABLE ...<br>    SELECT statement. Such statements are now marked as unsafe for<br>    statement-based replication, which causes the execution of one<br>    to throw a warning, and forces the statement to be logged<br>    using the row-based format if the logging format is MIXED.<br>    (Bug #11758263, Bug #50440)<br><br>  * Replication: On Windows replication slave hosts, STOP SLAVE<br>    took an excessive length of time to complete when the master<br>    was down. (Bug #11752315, Bug #43460)<br><br>  * The optimizer did not perform constant propagation for views,<br>    so a query containing views resulted in a less efficient<br>    execution plan than the corresponding query using only base<br>    tables. (Bug #13783777)<br><br>  * A memory leak could occur for queries containing a subquery<br>    that used GROUP BY on an outer column. (Bug #13724099)<br><br>  * After using an ALTER TABLE statement to change the<br>    KEY_BLOCK_SIZE property for an InnoDB table, for example when<br>    switching from an uncompressed to a compressed table,<br>    subsequent server restarts could fail with a message like:<br>InnoDB: Error: data file path/ibdata2 uses page size 1024,<br>InnoDB: but the only supported page size in this release is=16384<br>    This issue is a regression introduced in MySQL 5.5.20. (Bug<br>    #13698765, Bug #64160)<br><br>  * _mi_print_key() iterated one time too many when there was a<br>    NULL bit, resulting in Valgrind warnings. (Bug #13686970)<br><br>  * Pushing down to InnoDB an index condition that called a stored<br>    function resulted in a server crash. This kind of condition is<br>    no longer pushed down. (Bug #13655397)<br><br>  * A SELECT from a subquery that returned an empty result could<br>    itself fail to return an empty result as expected. (Bug<br>    #13651009, Bug #13650418)<br><br>  * If during server startup a signal such as SIGHUP was caught<br>    prior to full server initialization, the server could crash.<br>    This was due to a race condition between the signal handler<br>    thread and the main thread performing server initialization.<br>    To prevent this from happening, signal processing is now<br>    suspended until full initialization of all server components<br>    has been completed successfully. (Bug #13608371, Bug #62311)<br><br>  * The shared version of libmysqlclient did not export these<br>    functions for linking by client programs: get_tty_password(),<br>    handle_options(), my_print_help(). (Bug #13604121)<br><br>  * An aggregated expression of type MIN() or MAX() should return<br>    NULL but could instead return the empty set if the query was<br>    implicitly grouped and there was no HAVING clause that<br>    evaluates to FALSE. (Bug #13599013)<br><br>  * Left join queries could be incorrectly converted to inner<br>    joins and return erroneous result sets. (Bug #13595212)<br><br>  * Date-handling code could raise an assertion attempting to<br>    calculate the number of seconds since the epoch. (Bug<br>    #13545236)<br><br>  * For queries that used a join type of ref_or_null, the<br>    optimizer could skip the filesort operation and sort the<br>    results incorrectly. (Bug #13531865)<br><br>  * For some queries, a filesort operation was done even when the<br>    result contained only a single row and needed no sorting. (Bug<br>    #13529048)<br><br>  * The optimizer could return an incorrect select limit in some<br>    cases when a query included no explicit LIMIT clause. (Bug<br>    #13528826)<br><br>  * In some cases, the optimizer failed to use a covering index<br>    when that was possible and read data rows instead. (Bug<br>    #13514959)<br><br>  * The Performance Schema instrumentation for stages did not<br>    fully honor the ENABLED column in the schema.setup_instruments<br>    table. (Bug #13509513)<br><br>  * SELECT statements failed for the EXAMPLE storage engine. (Bug<br>    #13511529)<br>    References: This bug was introduced by Bug #11746275.<br><br>  * Converting a string ending with a decimal point (such as '1.')<br>    to a floating-point number raised a data truncation warning.<br>    (Bug #13500371)<br><br>  * Use of an uninitialized TABLE_SHARE member could cause a<br>    server crash. (Bug #13489996)<br><br>  * Some outer joins that used views as inner tables did not<br>    evaluate conditions correctly. (Bug #13464334)<br><br>  * A query that used an index on a CHAR column referenced in a<br>    BETWEEN clause could return invalid results. (Bug #13463488,<br>    Bug #63437)<br><br>  * Expressions that compared a BIGINT column with any non-integer<br>    constant were performed using integers rather than decimal or<br>    float values, with the result that the constant could be<br>    truncated. This could lead to any such comparison that used &lt;,<br>    &gt;, &lt;=, &gt;=, =, !=/&lt;&gt;, IN, or BETWEEN yielding false positive or<br>    negative results. (Bug #13463415, Bug #11758543, Bug #63502,<br>    Bug #50756)<br><br>  * Instantiating a derived table for a query with an empty result<br>    caused a server crash. (Bug #13457552)<br><br>  * When the optimizer performed conversion of DECIMAL values<br>    while evaluating range conditions, it could produce incorrect<br>    results. (Bug #13453382)<br><br>  * On Windows, rebuilds in a source distribution failed to create<br>    the initial database due to insufficient cleanup from the<br>    previous run or failure to find the proper server executable.<br>    (Bug #13431251)<br><br>  * Enabling index condition pushdown could cause performance<br>    degradation. (Bug #13430436)<br><br>  * Implicitly grouped queries with a const table and no matching<br>    rows could return incorrect results. (Bug #13430588)<br><br>  * When a fixed-width row was inserted into a MyISAM temporary<br>    table, the entire content of the record buffer was written to<br>    the table, including any trailing space contained in VARCHAR<br>    columns, the issue being that this trailing space could be<br>    uninitialized. This problem has been resolved by insuring that<br>    only the bytes actually used to store the VARCHAR (and none<br>    extra) are copied and inserted in such cases. (Bug #13389854)<br><br>  * Fractional seconds parts were lost for certain UNION ALL<br>    queries. (Bug #13375823)<br><br>  * Temporary MyISAM tables (unlike normal MyISAM tables) did not<br>    use the packed record format when they contained VARCHAR<br>    columns, resulting in larger temporary files (and more file<br>    I/O) than necessary. (Bug #13350136)<br><br>  * When merging ranges that effectively resulted in a full index<br>    scan, the optimizer did not discard the range predicate as<br>    unneeded. (Bug #13354910)<br><br>  * When executing EXPLAIN, it was assumed that only the default<br>    multi-range read implementation could produce an ordered<br>    result; this meant that when a query on a table that used a<br>    storage engine providing its own sorted MRR, it was ignored,<br>    so that EXPLAIN failed to report Using MRR even when a<br>    multi-range read was used. (Bug #13330645)<br><br>  * Performance Schema idle event timings were not normalized to<br>    the same units as wait timings. (Bug #13018537)<br><br>  * In MySQL 5.6.3, a number of status variables were changed to<br>    longlong types so that they would roll over much later.<br>    However, the format string used by mysqladmin status to print<br>    Queries per second values did not reflect this, causing such<br>    values to be misreported. (Bug #12990746)<br>    References: See also Bug #42698. This bug was introduced by<br>    Bug #11751727.<br><br>  * When the result of a stored function returning a non-integer<br>    type was evaluated for NULL, an incorrect type warning<br>    (Warning 1292 Truncated incorrect INTEGER value) is generated,<br>    although such a test for NULL should work with any type. This<br>    could cause stored routines not handling the warning correctly<br>    to fail.<br>    The issue could be worked around by wrapping the result in an<br>    expression, using a function such as CONCAT(). (Bug #12872824,<br>    Bug #62125)<br><br>  * When running mysqldump with both the --single-transaction and<br>    --flush-logs options, the flushing of the log performed an<br>    implicit COMMIT (see Section 13.3.3, "Statements That Cause an<br>    Implicit Commit"), causing more than one transaction to be<br>    used and thus breaking consistency. (Bug #12809202, Bug<br>    #61854)<br><br>  * A query that used an aggregate function such as MAX() or MIN()<br>    of an index with NOT BETWEEN in the WHERE clause could fail to<br>    match rows, thus returning an invalid result. (Bug #12773464,<br>    Bug #61925)<br><br>  * With ONLY_FULL_GROUP_BY SQL mode enabled, columns that were<br>    not aggregated in the the select list or named in a GROUP BY<br>    were incorrectly permitted in ORDER BY. (Bug #12626418)<br><br>  * Mishandling of NO_BACKSLASH_ESCAPES SQL mode within stored<br>    procedures on slave servers could cause replication failures.<br>    (Bug #12601974)<br><br>  * With ONLY_FULL_GROUP_BY SQL mode enabled, a query that uses<br>    GROUP BY on a column derived from a subquery in the FROM<br>    clause failed with a column isn't in GROUP BY error, if the<br>    query was in a view. (Bug #11923239)<br><br>  * Attempting to execute ALTER TABLE on a temporary MERGE table<br>    having an underlying temporary table rendered the MERGE table<br>    unusable, unless the ALTER TABLE specified a new list of<br>    underlying tables. (Bug #11764786, Bug #57657)<br><br>  * When used with the --xml option, mysqldump --routines failed<br>    to dump any stored routines, triggers, or events. (Bug<br>    #11760384, Bug #52792)<br><br>  * A HAVING clause in a query using MIN() or MAX() was sometimes<br>    ignored. (Bug #11760517, Bug #52935)<br>    References: See also Bug #11758970, Bug #51242, Bug #11759718,<br>    Bug #52051.<br><br>  * It was possible in the event of successive failures for<br>    mysqld_safe to restart quickly enough to consume excessive<br>    amounts of CPU. Now, on systems that support the sleep and<br>    date system utilities, mysqld_safe checks to see whether it<br>    has restarted more than 5 times in the current second, and if<br>    so, waits 1 second before attempting another restart. (Bug<br>    #11761530, Bug #54035)<br><br>  * It was possible on replication slaves where FEDERATED tables<br>    were in use to get timeouts on long-running operations, such<br>    as Error 1160 Got an error writing communication packets. The<br>    FEDERATED tables did not need to be replicated for the issue<br>    to occur. (Bug #11758931, Bug #51196)<br>    References: See also Bug #12896628, Bug #61790.<br><br>  * Previously, .OLD files were not included among the files<br>    deleted by DROP DATABASE. Files with this extension are now<br>    also deleted by the statement. (Bug #11751736, Bug #42708)<br><br>  * If an attempt to initiate a statement failed, the issue could<br>    not be reported to the client because it was not prepared to<br>    receive any error messages prior to the execution of any<br>    statement. Since the user could not execute any queries, they<br>    were simply disconnected without providing a clear error.<br>    After the fix for this issue, the client is prepared for an<br>    error as soon as it attempts to initiate a statement, so that<br>    the error can be reported prior to disconnecting the user.<br>    (Bug #11755281, Bug #47032)<br><br>  * A prepared statement using a view whose definition changed<br>    between preparation and execution continued to use the old<br>    definition, which could cause the prepared statement to return<br>    incorrect results. (Bug #11748352, Bug #36002)<br><br>  * Locale information for FORMAT() function instances was lost in<br>    view definitions. (Bug #63020, Bug #13344643)<br><br>  * mysqlhotcopy failed for databases containing views. (Bug<br>    #62472, Bug #13006947)<br><br>  * The VIO description string was initialized even for<br>    connections where it was unneeded. (Bug #62285, Bug #12951586)<br><br>  * The embedded server crashed when argc = 0. (Bug #57931, Bug<br>    #12561297)<br><br>  * The handle_segfault() signal-handler code in mysqld could<br>    itself crash due to calling unsafe functions. (Bug #54082, Bug<br>    #11761576)<br><br>  * UPDATE IGNORE returned an incorrect count for number of rows<br>    updated when there were duplicate-key conflicts in a<br>    multiple-table update. (Bug #59715, Bug #11766576)<br><br>  * The optimizer mishandled STRAIGHT_JOIN used with nested joins;<br>    for example, by not evaluating tables in the specified order.<br>    (Bug #59487, Bug #11766384, Bug #43368, Bug #11752239, Bug<br>    #60080, Bug #11766858)<br><br>  * A subquery involved in a comparison requiring a character set<br>    conversion caused an error that resulted in a server crash.<br>    (Bug #59185, Bug #11766143)<br><br>  * Assigning the result of a subquery to a user variable raised<br>    an assertion when the outer query included DISTINCT and GROUP<br>    BY. (Bug #57196, Bug #11764371)<br><br>  * On Windows, pasting multiple-line input including a CRLF<br>    terminator on the last line into the mysql client resulted in<br>    the first character of the last line being changed, resulting<br>    in erroneous statements. (Bug #60901, Bug #12589167)<br><br>  * If tables were locked by LOCK TABLES ... READ in another<br>    session, SET GLOBAL read_only = 1 failed to complete. (Bug<br>    #57612, Bug #11764747)<br><br>  * The contents of the shared and shared-compat RPM packages had<br>    been changed in versions 5.5.6 and 5.6.1 to avoid the overlap<br>    which they traditionally had (and still have in MySQL 5.0 and<br>    5.1). However, the RPM meta information had not been changed<br>    in accordance, and so RPM still assumed a conflict between<br>    shared and shared-compat RPM packages. This has been fixed.<br>    (Bug #60855, Bug #12368215)<br>    References: See also Bug #56150.<br><br>  * The result of SUBSTRING_INDEX() could be missing characters<br>    when used as an argument to conversion functions such as<br>    LOWER(). (Bug #60166, Bug #11829861)<br><br>  * A confusing CREATE TABLE error message was improved. (Bug<br>    #54963, Bug #11762377)<br><br>  * For comparisons containing out-of-range constants, the<br>    optimizer permitted warnings to leak through to the client,<br>    even though it accounted for the range issue internally. (Bug<br>    #56962, Bug #11764155)<br><br>  * Enabling myisam_use_mmap could cause the server to crash. (Bug<br>    #48726, Bug #11756764)<br><br>  * On Windows, the server incorrectly constructed the full path<br>    name of the plugin binary for INSTALL PLUGIN and CREATE<br>    FUNCTION ... SONAME. (Bug #45549, Bug #11754014)<br><br>  * Using myisamchk with the sort recover method to repair a table<br>    having fixed-width row format could cause the row pointer size<br>    to be reduced, effectively resulting in a smaller maximum data<br>    file size. (Bug #48848, Bug #11756869)<br><br>  * myisam_sort_buffer_size could not be set larger than 4GB on<br>    64-bit systems. (Bug #45702, Bug #11754145)<br><br>  * For MEMORY tables, a scan of a HASH index on a VARCHAR column<br>    could fail to find some rows if the index was on a prefix of<br>    the column. (Bug #47704, Bug #11755870)<br><br>  * The stored routine cache was subject to a small memory leak<br>    that over time or with many routines being used could result<br>    in out-of-memory errors. (Bug #44585, Bug #11753187)<br><br>  * Due to improper locking, concurrent inserts into an ARCHIVE<br>    table at the same time as repair and check operations on the<br>    table resulted in table corruption. (Bug #37280, Bug<br>    #11748748)<br><br>  * Under some circumstances, the result of SUBSTRING_INDEX()<br>    incorrectly depended on the contents of the previous row. (Bug<br>    #42404, Bug #11751514)<br><br>  * Setting an event to DISABLED status and with the ON COMPLETION<br>    NOT PRESERVE attribute caused it to be dropped at the next<br>    server restart. (Bug #37666, Bug #11748899)<br><br>  * Stored functions could produce an error message that referred<br>    to ORDER BY even though the offending statement within the<br>    function had no such clause. (Bug #35410, Bug #11748187)<br><br>  * The decision about how to sort a result set could be reported<br>    incorrectly by EXPLAIN for some statements, causing Using<br>    filesort or Using temporary to be reported when they should<br>    not have been or vice versa. This could occur for statements<br>    that included index hints, that had the form SELECT<br>    SQL_BIG_RESULT ... GROUP BY, that used SQL_CALC_FOUND_ROWS<br>    with LIMIT, or that used GROUP BY, ORDER BY, and LIMIT.<br><br><br></td></tr></tbody></table></td></tr></tbody></table>
    <br><br>MyNA Web Siteにて更に多くのニュース記事をよむことができます<br><a href="../../index.html">http://www.mysql.gr.jp/frame</a><br><br>
        このニュース記事が掲載されているURL： <!-- Tag below can be used to display Permalink image --><!--img src="http://www.mysql.gr.jp/frame/modules/news/images/x.gif" /--><br>
        <a href="article.php%3Fstoryid%3D201.html">http://www.mysql.gr.jp/frame/article.php?storyid=201</a>
        </td></tr></tbody></table>
        
        
        </body></html>