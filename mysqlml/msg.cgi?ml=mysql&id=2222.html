<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2222</title>
<link rel=stylesheet type="text/css" href="../css/w3ml.css">
</head>
<body>
<p class="button"><a href="mysql/msg/2221.html">[前]</a><a href="mysql/msg/2223.html">[次]</a><a href="mysql/list/2201-2300.html">[番号順一覧]</a><a href="mysql/thread/2201-2300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2222
</p>
<div class="header">
<p>
From: &lt;mtak@xxxxxxxxxx&gt;<br>
Date: Tue, 20 Jun 2000 11:53:49 +0900<br>
Subject: [mysql 02222] DATETIME の DEFAULT について<br>

</p>
</div>
<div class="body">
<pre>
瀧澤と申します。

CREATE TABLE時にdatetimeのdefault値にnow(),sysdate(),CURRENT_TIMESTAMP等
を指定し、INSERT時の日時を自動で入れたいのですが、以下のように
0000-00-00 00:00:00
となってしまいます。

INSERT時の日時をDEFAULTで入れることは出来ないのでしょうか？

バージョンは3.22.32です。

mysql&gt; create table test (
    -&gt; id   int,
    -&gt; dt   datetime default 'now()'
    -&gt; );
Query OK, 0 rows affected (0.00 sec)

mysql&gt; insert into test (id) values (1);
Query OK, 1 row affected (0.00 sec)

mysql&gt; select * from test;
+------+---------------------+
<span class="quote1">| id   | dt                  |</span>
+------+---------------------+
<span class="quote1">|    1 | 0000-00-00 00:00:00 |</span>
+------+---------------------+
1 row in set (0.00 sec)


create table時にdefault 'now()'をsysdate()やCURRENT_TIMESTAMPにしても、
select後は同じ結果になります。

mysql&gt; drop table test;
Query OK, 0 rows affected (0.00 sec)


ちなみに、now()を'や&quot;で囲まないとエラーになってしまいます。

mysql&gt; create table test (
    -&gt; id   int,
    -&gt; dt   datetime default now()
    -&gt; );
ERROR 1064: You have an error in your SQL syntax near 'now()
)' at line 3


- Tak

</pre>
</div>
<p class="button"><a href="mysql/msg/2221.html">[前]</a><a href="mysql/msg/2223.html">[次]</a><a href="mysql/list/2201-2300.html">[番号順一覧]</a><a href="mysql/thread/2201-2300.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="mysql/msg/2222.html">   2222 2000-06-20 11:53 [&lt;mtak@xxxxxxxxxx&gt;   ] DATETIME の DEFAULT について            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/2223.html">   2223 2000-06-20 12:01 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
</pre>
</body>
</html>
