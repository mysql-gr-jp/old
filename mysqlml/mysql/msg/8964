<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8964</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8963">[前]</a><a href="8965">[次]</a><a href="../list/8901-9000">[番号順一覧]</a><a href="../thread/8901-9000">[スレッド一覧]</a></p>
<p class="id">
mysql:8964
</p>
<div class="header">
<p>
From: 吉田祐一 &lt;吉田祐一 &lt;yoshida@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 12 Mar 2004 17:19:36 +0900<br>
Subject: [mysql 08964] MySQL のデータサイズが増えない？<br>

</p>
</div>
<div class="body">
<pre>
初めてメールを出します。よっしーと申します。

ちょっと頭を抱えています。
現在、他部署で使用しているデータベースで以下テーブルのレコード件数は定常的に
増えていくのにMySQLパーティションのディスクサイズが増えていかない、
という変な現象が出ています。
以下は１時間おきに、テーブル件数 x MySQLのディスク容量をチェックした結果ですが、
ある時間帯にどっと増えるまでMySQLのディスク容量が変わりません。

時間		レコード件数		DFコマンド(KB)
9:44			5638990					11779912
10:44			5733278					11779912
11:44			5825455					11779912
12:44			5914313					11779912
13:44			6004992					11779912
14:44			6060752					15384832
15:45			6158737					15384832
16:45			6254802					15384832

ひょっとしてHEAPテーブルを使っているのかと思い、
チェックしたところ問題ないようでした。

mysql&gt; desc test;
+-------+------------------+------+-----+---------------------+-------+
<span class="quote1">| Field | Type             | Null | Key | Default             | Extra |</span>
+-------+------------------+------+-----+---------------------+-------+
<span class="quote1">| a     | int(10) unsigned |      | PRI | 0                   |       |</span>
<span class="quote1">| b     | varchar(100)     | YES  |     | NULL                |       |</span>
<span class="quote1">| c     | bigint(20)       |      |     | 0                   |       |</span>
<span class="quote1">| d     | int(11)          |      |     | 0                   |       |</span>
<span class="quote1">| e     | varchar(18)      |      |     |                     |       |</span>
<span class="quote1">| f     | varchar(18)      |      |     |                     |       |</span>
<span class="quote1">| g     | text             | YES  |     | NULL                |       |</span>
<span class="quote1">| h     | varchar(10)      | YES  |     | NULL                |       |</span>
<span class="quote1">| i     | longblob         | YES  |     | NULL                |       |</span>
<span class="quote1">| j     | longblob         | YES  |     | NULL                |       |</span>
<span class="quote1">| k     | varchar(100)     |      |     |                     |       |</span>
<span class="quote1">| l     | int(10) unsigned | YES  |     | NULL                |       |</span>
<span class="quote1">| m     | datetime         |      | MUL | 0000-00-00 00:00:00 |       |</span>
<span class="quote1">| n     | datetime         |      | MUL | 0000-00-00 00:00:00 |       |</span>
<span class="quote1">| o     | varchar(4)       |      |     | NULL                |       |</span>
+-------+------------------+------+-----+---------------------+-------+
15 rows in set (0.00 sec)


mysql&gt; show table status;
+------+--------+------------+--------+----------------+-------------+----------
----------------+--------------+------------+----------------+------------------
-----+---------------------+---------------------+------------------------------
---------+---------+
<span class="quote1">| Name | Type   | Row_format | Rows   | Avg_row_length | Data_length | Max_data_length | Index_length | Data_free  | Auto_increment | Create_time</span>
     | Update_time         | Check_time          | Create_options                        | Comment |
+------+--------+------------+--------+----------------+-------------+----------
------------------+--------------+------------+----------------+----------------
-----+---------------------+---------------------+------------------------------
---------+---------+
<span class="quote1">| test | MyISAM | Dynamic    | 255391 |            773 |  1359423804 |   1099511627775 |     78961664 | 1161987352 |           NULL | 2004-03-08 10:5</span>
0:32 | 2004-03-12 13:45:00 | 2004-03-11 20:05:55 | max_rows=4294967295 avg_row_length=50 |         |
+------+--------+------------+--------+----------------+-------------+----------
------------------+--------------+------------+----------------+----------------
-----+---------------------+---------------------+------------------------------
---------+---------+

もしかしたらLinux側の問題かもしれませんが、MySQLのバージョンが古いのが少々気になります。MySQL設定側で上記が発生する要因って何かあるでしょうか。

環境は、
OS：Linux version 2.4.20
MySQL：3.23.52-log

です。宜しくお願いいたします。





</pre>
</div>
<p class="button"><a href="8963">[前]</a><a href="8965">[次]</a><a href="../list/8901-9000">[番号順一覧]</a><a href="../thread/8901-9000">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="8964">   8964 2004-03-12 17:19 [吉田祐一 &lt;yoshida@xx] MySQL のデータサイズが増えない？        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8965">   8965 2004-03-12 17:35 ┗[Katuhisa Uramoto &lt;ka]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8987">   8987 2004-03-16 09:43 　┗[吉田祐一 &lt;yoshida@xx]                                     </a></span>
</pre>
</body>
</html>
