<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5885</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5884">[前]</a><a href="5886">[次]</a><a href="../list/5801-5900">[番号順一覧]</a><a href="../thread/5801-5900">[スレッド一覧]</a></p>
<p class="id">
mysql:5885
</p>
<div class="header">
<p>
From: &quot;TANAKA Hidemune&quot; &lt;&quot;TANAKA Hidemune&quot; &lt;tanaka-h@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 31 Jul 2002 16:48:36 +0900<br>
Subject: [mysql 05885] Java からの利用で一部の日本語が文字化け<br>

</p>
</div>
<div class="body">
<pre>
始めまして。HDMと申します。


Windows上でJavaからMySQLを使用し、データベースへ更新を
行ったところ一見正常に動いているようなのですが、
日本語文字列のうち一部の文字（「表」という文字など）のみ
文字化けを起こすという現象が発生しました。

特定の漢字が文字列中に含まれている場合のみ、
その個所の１〜２文字だけ化けているという状況です。

例えば、Unicodeで「ファイル一覧を表示する」という文字列が、
DBに登録後には「ファイル一覧を侮ヲする（ヲは半角）」となって
しまいます。

以下はこの現象が発生するJavaのコードになります。
-----------------------------------------------
        // SQL文編集
        sqlQuery = &quot;日本語を含んだSQL文・・・&quot;;

        // SQL文をShift_JISに変換（MySQLの場合これが必要らしい）
        byte[] bytequery = sqlQuery.getBytes(&quot;Shift_JIS&quot;);
        // byte[] bytequery = sqlQuery.getBytes(&quot;EUC-JP&quot;);
        sqlQuery = new String(bytequery,&quot;iso-8859-1&quot;);

        // SQL文実行
        int numberOfUpdate = statement.executeUpdate(sqlQuery);
-----------------------------------------------

使用環境は、サーバ・クライアントとも
Windows2000 SP2（スタンドアロン）
MySQLのバージョンは
「mysql  Ver 11.18 Distrib 3.23.51, for Win95/Win98 (i32)」
JDBCドライバは、「mm.mysql-2.0.14-you-must-unjar-me.jar」を
解凍して使っています。
これらのソフトは特に何も設定しないで使っています。

今回の現象が出て「my.ini」に「default-character-set=sjis」を
追加してみたりもしたのですが、結果は変わらずでした。


どなたか同様の現象を解決された方はいらっしゃらないでしょうか？
よろしくお願いします。

========================================
田中　秀宗(Tanaka Hidemune)
朝日システム株式会社　公共システム部
〒960-8154 福島市伏拝字台田１−２
Tel 024-539-8894(ダイヤルイン)
Fax 024-539-8799
========================================


</pre>
</div>
<p class="button"><a href="5884">[前]</a><a href="5886">[次]</a><a href="../list/5801-5900">[番号順一覧]</a><a href="../thread/5801-5900">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="5885">   5885 2002-07-31 16:48 [&quot;TANAKA Hidemune&quot; &lt;t] Java からの利用で一部の日本語が文字化け </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5886">   5886 2002-07-31 17:07 ┣[&quot;Cold Winter&quot; &lt;coldw]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5887">   5887 2002-07-31 17:28 ┃┗[&quot;TANAKA Hidemune&quot; &lt;t]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5888">   5888 2002-07-31 17:52 ┃　┣[&quot;Cold Winter&quot; &lt;coldw]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5889">   5889 2002-07-31 17:56 ┃　┃┗[&quot;Cold Winter&quot; &lt;coldw]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5892">   5892 2002-07-31 18:24 ┃　┗[&quot;Hiroaki,Sakuma&quot; &lt;sa]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5893">   5893 2002-07-31 22:28 ┃　　┗[&quot;TAKAHASHI, Tomohiro]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5891">   5891 2002-07-31 18:12 ┣[HAMAI Kyoichi &lt;k-ham]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5900">   5900 2002-08-01 08:47 ┗[&quot;kosugi&quot; &lt;kosugi@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5901">   5901 2002-08-01 09:42 　┗[&quot;TANAKA Hidemune&quot; &lt;t]                                     </a></span>
</pre>
</body>
</html>
