<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11681</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="11680.html">[前]</a><a href="11682.html">[次]</a><a href="../list/11601-11700.html">[番号順一覧]</a><a href="../thread/11601-11700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11681
</p>
<div class="header">
<p>
From: "system" &lt;"system" &lt;hiokisys@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 5 Jul 2005 14:24:41 +0900<br>
Subject: [mysql 11681] Re: ***.MYI ファイルがこわれる<br>

</p>
</div>
<div class="body">
<pre>goudoです。

回答、どうも有難うございます。

それで、もう少しお聞きしたいのですが
（環境は　Windows２００３に　MｙSQLの４．１．９－ntです）

１．私が調べた限りでは、　システム変数にmax_open_files はなく、
　　それに順ずるのは、open_files_limit らしい。
　　　しかし、Windowsの場合、open_files_limitsの値は２０４８に
　　　固定されており、変更できない。
　　　この認識は正しいでしょうか？。
２．table_cache と max_connections は、
　　　mysql&gt;  set GLOVAL  table_cache=64  のように変更できる。

　　ゆえに、下記の警告文を防ぐには、table_cache と max_connections
　　　の値を変更する。
　　　　でよろしいのでしょうか？。


以上、よろしくお願いします。
　　　　


<span class="quote2">&gt;&gt; Changed limits: max_open_file:2048  max_connections:100 table_cache:969</span>
<span class="quote1">&gt; について。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Warinig が出力されるのは昨日織田さんも説明されていましたが、</span>
<span class="quote1">&gt; 　max_open_file = 10 + max_connections + table_cache * 2</span>
<span class="quote1">&gt; の計算結果が Windows 版の規定値 2048 を超えているからですね。</span>
<span class="quote1">&gt; MySQL の起動時かクライアントの新規接続がトリガーになると思われます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; また、table_cache の値が端数になっているのは、上記の結果、</span>
<span class="quote1">&gt; table_cache 値が再計算されてしまったことが原因です。</span>
<span class="quote1">&gt; 　table_cache(969) = max_open_file(2048) - 10 - max_connections(100) / 2;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 下記 URL の「同時読み取り」欄を読む限り、</span>
<span class="quote1">&gt; 　<a href="http://dev.mysql.com/doc/mysql/ja/windows-vs-unix.html">http://dev.mysql.com/doc/mysql/ja/windows-vs-unix.html</a></span>
<span class="quote1">&gt; （近い将来、とありますがまだ対応してません）</span>
<span class="quote1">&gt; open_files_limit ではなく、table_cache の値を調整した方がよさそうです。</span>
<span class="quote1">&gt; イベントビューアの警告については、この調整で消える可能性があります。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="11680.html">[前]</a><a href="11682.html">[次]</a><a href="../list/11601-11700.html">[番号順一覧]</a><a href="../thread/11601-11700.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="11605.html">  11605 2005-06-23 13:44 [Shu SATO &lt;shu@xxxxxx] CP932/Windows-31J対応版 Connector/J リリース</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11606.html">  11606 2005-06-23 14:34 ┣["shamy" &lt;shamy@xxxxx] レンタルサーバ屋さんにMySQLを導入してもらったのですが</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11607.html">  11607 2005-06-23 14:45 ┃┣["Ryousuke Wayama" &lt;w]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11609.html">  11609 2005-06-23 15:01 ┃┃┗["shamy" &lt;shamy@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11610.html">  11610 2005-06-23 15:20 ┃┃　┗["Ryousuke Wayama" &lt;w]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11613.html">  11613 2005-06-23 15:38 ┃┃　　┗["system" &lt;hiokisys@x] ***.MYI ファイルがこわれる    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11614.html">  11614 2005-06-23 17:22 ┃┃　　　┗[Sumito_Oda &lt;oda@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11622.html">  11622 2005-06-24 11:04 ┃┃　　　　┗["system" &lt;hiokisys@x]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11623.html">  11623 2005-06-24 16:17 ┃┃　　　　　┗["T.Sasaki" &lt;papasan2]                         </a></span>
<span class="current">-&gt;&nbsp;<a href="11681.html">  11681 2005-07-05 14:24 ┃┃　　　　　　┗["system" &lt;hiokisys@x]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11683.html">  11683 2005-07-05 14:47 ┃┃　　　　　　　┗["T.Sasaki" &lt;papasan2]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11684.html">  11684 2005-07-05 14:49 ┃┃　　　　　　　　┗["T.Sasaki" &lt;papasan2]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11611.html">  11611 2005-06-23 15:16 ┃┣[Manabu Kobayashi &lt;ma]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11612.html">  11612 2005-06-23 15:19 ┃┣[KIshii &lt;kn-ishi@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11617.html">  11617 2005-06-23 19:21 ┃┃┗["shamy" &lt;shamy@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11620.html">  11620 2005-06-24 09:12 ┃┃　┗["Ryousuke Wayama" &lt;w]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11621.html">  11621 2005-06-24 10:59 ┃┃　　┗["shamy" &lt;shamy@xxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11615.html">  11615 2005-06-23 19:00 ┃┗["shamy" &lt;shamy@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11608.html">  11608 2005-06-23 14:53 ┣[KAJIYAMA Ryusuke &lt;r-]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11618.html">  11618 2005-06-24 06:53 ┗[Tetsuro IKEDA &lt;ikdtt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11619.html">  11619 2005-06-24 06:56 　┗[Tetsuro IKEDA &lt;ikdtt]                                     </a></span>
</pre>


</body></html>