<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11810</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11809.html">[前]</a><a href="11811.html">[次]</a><a href="../list/11801-11900.html">[番号順一覧]</a><a href="../thread/11801-11900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11810
</p>
<div class="header">
<p>
From: &quot;T.Sasaki&quot; &lt;&quot;T.Sasaki&quot; &lt;papasan2000@xxxxxxxxxx&gt;&gt;<br>
Date: 27 Jul 2005 08:49:01 +0900<br>
Subject: [mysql 11810] Re: バックドア(BKDR_SHELLFUR.A)対策について<br>

</p>
</div>
<div class="body">
<pre>
佐々木です。
ふと思いついたので書いておきます。

<span class="quote1">&gt; パラメータのチェックを厳密にし、不要な権限は割り当てない。というのがSQL</span>
<span class="quote1">&gt; インジェクション攻撃に対する基本的な対策だと思いますが。保険としてさらに</span>
<span class="quote1">&gt; 取れる事は無いのでしょうか。</span>

COUNT を共通のパラメータチェッカーとして利用する手もあります。
目的の SQL を発行する前に、

SELECT COUNT(*) FROM `テーブル`;

というように FROM より前の部分だけを COUNT で置き換えて実行してみて、
想定外の件数が返って来たらエラーにするとか。

また、同じように EXPLAIN を利用すればデータベースへ高い負荷をかけるような
SQL をブロックすることが出来ると思います。

あと、プログラムが複雑になってもいいなら複数の異なるチェック関数を通して、
組み上がった SQL が異なる結果になればエラーで弾くという手もありますね。

プロ（？）の方々はもっと上手な手段をお持ちかも知れません。
個人的にはそういう方々の投稿を期待してます。

</pre>
</div>
<p class="button"><a href="11809.html">[前]</a><a href="11811.html">[次]</a><a href="../list/11801-11900.html">[番号順一覧]</a><a href="../thread/11801-11900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11804.html">  11804 2005-07-26 10:02 [&quot;pix@xxxxxxxxxx&quot; &lt;pi] バックドア(BKDR_SHELLFUR.A)対策について </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11805.html">  11805 2005-07-26 10:21 ┗[&quot;Keiji Watanabe&quot; &lt;ke]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11807.html">  11807 2005-07-26 17:41 　┗[&quot;pix@xxxxxxxxxx&quot; &lt;pi]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11808.html">  11808 2005-07-26 18:20 　　┗[Kiyotaka Doumae &lt;don]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11809.html">  11809 2005-07-26 23:52 　　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="11810.html">  11810 2005-07-27 08:49 　　　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                               </a></span>
</pre>
</body>
</html>
