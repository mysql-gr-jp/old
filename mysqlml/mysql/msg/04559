<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4559</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4558">[前]</a><a href="4560">[次]</a><a href="../list/4501-4600">[番号順一覧]</a><a href="../thread/4501-4600">[スレッド一覧]</a></p>
<p class="id">
mysql:4559
</p>
<div class="header">
<p>
From: Shin-ichi Tsurunaga &lt;Shin-ichi Tsurunaga &lt;ml-shin@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 25 Oct 2001 10:53:44 +0900<br>
Subject: [mysql 04559] Re: Proftpd + qmail + vpopmail<br>

</p>
</div>
<div class="body">
<pre>
鶴長です。すいません遅くなりました。

<span class="quote1">&gt;それでも分からない時は、アドバイスを頂けたら幸いです。</span>
<span class="quote1">&gt;（MySQL と無関係になってしまうので、DM させて頂くかもしれません。）</span>
私で分かることがあればご協力させていただきたいと思います。

<span class="quote1">&gt;それだと、</span>
<span class="quote1">&gt;/home/vpopmail/domains/hogehoge.or.jp/user/ に</span>
<span class="quote1">&gt;chroot しませんかね？</span>
<span class="quote1">&gt;でも、確かに全員の uid を同じにすると、</span>
<span class="quote1">&gt;他の人のメールも覗けてしまいますよね？</span>
<span class="quote1">&gt;何か打開策は無い物でしょうか？</span>
自身のホームディレクトリー以上に上れないようにはなってい
ると思います。

<span class="quote1">&gt;ちょっと説明が悪かったですね。</span>
<span class="quote1">&gt;えっと、私がしたいのは、vpopmail で作成されたユーザの</span>
<span class="quote1">&gt;パスワードを使用をして、MySQL を BASIC 認証に組み込めないかと。</span>
<span class="quote1">&gt;別件で、mod_mysql_auth を使えばというアドバイスも頂いたのですが...</span>
mod_mysql_authを使ってデータベース認証を取るのがスマート
のような気がします。ただ、mod_mysql_authは使ったことがな
いのでどうしたらいいのかまでは分からないのですが。すみま
せん。

<span class="quote1">&gt;よく考えてみたら、テーブルを一つにすると</span>
<span class="quote1">&gt;ftp でログインする時にアカウントがぶつかる可能性があるかと。</span>
<span class="quote1">&gt;それとも、vpopmail のように「user@xxxxxxxxxx」で入れるのでしょうか？</span>
私の環境(vpopmailとProftpdが別テーブル)ではProftpdが使うuserid
フィールドを「user@xxxxxxxxxx」としています。しか山本様
の環境ですとvpopmailとuseidフィールドを共有するため、この
ような指定は難しいと思います。

<span class="quote1">&gt;一つだけ質問なのですが、Proftpd + MySQL で環境を構築した場合、</span>
<span class="quote1">&gt;ユーザの追加はどうやってするのでしょうか？</span>
<span class="quote1">&gt;自分で insert するのでしょうか？</span>
vpopmailのようにユーザーを追加するコマンドは備えていない
ため直接DBを操作することになると思いますが、コマンドを１
つたたくのも、DBにステートメントを送るのもさほど変わらな
い労力だと思います。
今更で申し訳ないのですが、vpopmailとProfpdをわけて、ユー
ザーを追加するのも別々、パスワードを変えるのも別々にコマ
ンドやwebのインターフェースを備えるか、両方のDBを操作す
るperlスクリプトを用意した方が労力は少なくなると思います。

Proftpd+MySQL onlyの件でも構いませんので、またご質問下さ
い。

----
Shin-ichi Tsurunaga  shin@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="4558">[前]</a><a href="4560">[次]</a><a href="../list/4501-4600">[番号順一覧]</a><a href="../thread/4501-4600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4489">   4489 2001-10-16 18:33 [&quot;Taro Yamamoto&quot; &lt;tar] Proftpd + qmail + vpopmail              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4492">   4492 2001-10-16 21:10 ┗[Shin-ichi Tsurunaga ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4497">   4497 2001-10-17 08:45 　┗[&quot;Taro Yamamoto&quot; &lt;tar]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4498">   4498 2001-10-17 08:56 　　┣[&quot;Taro Yamamoto&quot; &lt;tar]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4505">   4505 2001-10-18 01:44 　　┗[Shin-ichi Tsurunaga ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4509">   4509 2001-10-18 09:40 　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4511">   4511 2001-10-18 14:06 　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4524">   4524 2001-10-19 19:53 　　　　　┗[Shin-ichi Tsurunaga ]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4525">   4525 2001-10-20 10:21 　　　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4526">   4526 2001-10-20 17:29 　　　　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4527">   4527 2001-10-20 18:18 　　　　　　　　┗[Shin-ichi Tsurunaga ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4528">   4528 2001-10-21 01:26 　　　　　　　　　┣[Shin-ichi Tsurunaga ]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4529">   4529 2001-10-21 02:12 　　　　　　　　　┣[&quot;Taro Yamamoto&quot; &lt;tar]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4531">   4531 2001-10-21 13:05 　　　　　　　　　┃┗[Shin-ichi Tsurunaga ]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4532">   4532 2001-10-21 15:40 　　　　　　　　　┃　┗[&quot;Taro Yamamoto&quot; &lt;tar]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4533">   4533 2001-10-21 22:49 　　　　　　　　　┃　　┗[&quot;Taro Yamamoto&quot; &lt;tar]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4535">   4535 2001-10-22 00:20 　　　　　　　　　┃　　　┣[&quot;Taro Yamamoto&quot; &lt;tar]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4536">   4536 2001-10-23 04:05 　　　　　　　　　┃　　　┗[Shin-ichi Tsurunaga ]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4537">   4537 2001-10-23 07:53 　　　　　　　　　┃　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4538">   4538 2001-10-23 11:26 　　　　　　　　　┃　　　　　┗[Shin-ichi Tsurunaga ]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4543">   4543 2001-10-23 21:43 　　　　　　　　　┃　　　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4556">   4556 2001-10-25 09:27 　　　　　　　　　┃　　　　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]     </a></span>
<span class="current">-&gt;&nbsp;<a href="4559">   4559 2001-10-25 10:53 　　　　　　　　　┃　　　　　　　　┣[Shin-ichi Tsurunaga ]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4584">   4584 2001-10-27 00:34 　　　　　　　　　┃　　　　　　　　┃┗[&quot;Taro Yamamoto&quot; &lt;tar] </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4595">   4595 2001-10-29 12:29 　　　　　　　　　┃　　　　　　　　┃　┗[Shin-ichi Tsurunaga ]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4596">   4596 2001-10-29 15:26 　　　　　　　　　┃　　　　　　　　┃　　┣[Seiji Tateyama &lt;tate]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4600">   4600 2001-10-30 02:29 　　　　　　　　　┃　　　　　　　　┃　　┃┗[&quot;Taro Yamamoto&quot; &lt;tar]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4599">   4599 2001-10-30 02:25 　　　　　　　　　┃　　　　　　　　┃　　┗[&quot;Taro Yamamoto&quot; &lt;tar]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4564">   4564 2001-10-25 23:59 　　　　　　　　　┃　　　　　　　　┗[とみたまさひろ &lt;tomm]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4585">   4585 2001-10-27 00:38 　　　　　　　　　┃　　　　　　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar] </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4530">   4530 2001-10-21 02:21 　　　　　　　　　┗[&quot;Taro Yamamoto&quot; &lt;tar]                     </a></span>
</pre>
</body>
</html>
