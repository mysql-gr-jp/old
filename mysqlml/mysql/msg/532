<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:532</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="531">[前]</a><a href="533">[次]</a><a href="../list/501-600">[番号順一覧]</a><a href="../thread/501-600">[スレッド一覧]</a></p>
<p class="id">
mysql:532
</p>
<div class="header">
<p>
From: 民斗 &lt;民斗 &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 13 Jan 1999 15:31:23 +0900<br>
Subject: [mysql 532] Re: mMySQL speed<br>

</p>
</div>
<div class="body">
<pre>

民斗です。

[Subject: <a href="531">[mysql 531]</a> mMySQL speed]
[Date: Wed, 13 Jan 1999 14:48:05 GMT  From:Tatsuya Ina]

<span class="quote1">&gt; 実は、今MySQLを使って工場内のデータを検索できるシステムを作ろうとしていますが、</span>
<span class="quote1">&gt; 私のところで動いているMySQLの検索スピードが妥当なのかどうか、まだチューニングの</span>
<span class="quote1">&gt; 余地があるのかどうか、皆さんに意見をお聞きしたくて、投稿させて頂きました。</span>
	:

<span class="quote1">&gt; OS: Slackware3.4ベース + Kernel 2.0.35)</span>
<span class="quote1">&gt; ハードウェア構成: PentiumII(400) + 128M memory + URTRA SCSI 4G</span>
<span class="quote1">&gt; MySQLはソースからコンパイル gcc version 2.7.2.3 + libc.so.5.4.38</span>
<span class="quote1">&gt; MySQL 3.21.33b+linuxthreads-0.6</span>

まず、MySQL のバージョンは 3.22.xx にした方がいいと思います。

<span class="quote1">&gt; 結果</span>
<span class="quote1">&gt; (1)select count(*) from Test_all_tab where lotno like 'D15A0%'</span>
<span class="quote1">&gt; この時、該当レコードは717505件あります。検索時間(3回の平均)は</span>
<span class="quote1">&gt;  Empress:37.5 sec    MySQL:553.36 sec</span>

lotno が、大文字小文字を区別しなくても良くて、日本語も入らないなら、
BINARY 属性をつけた方が若干速くなるかもしれません。

<span class="quote1">&gt; (2)select count(*) from Test_all_tab where stop_day between '1998/11/14 00:00:00' \</span>
<span class="quote1">&gt;    and '1998/12/14 23:59:59'</span>
<span class="quote1">&gt; この時、該当レコードは1118730件あります。検索時間(3回の平均)は</span>
<span class="quote1">&gt;  Empress:6.5 sec     MySQL:385.8 sec</span>

日付は 'yyyy/mm/dd' ではなくて 'yyyy-mm-dd' の方がいいと思います。
速度にはほとんど影響しないとは思いますが…。

<span class="quote1">&gt; 上記検索は、テスト用のものではなく、構築するシステムで、実際にもっとも使う検索</span>
<span class="quote1">&gt; を想定してのものなので、これではMySQLではシステムを構築することはできません。</span>
<span class="quote1">&gt; ハードウェア的にはEmpressの方が劣るのに、この差は「驚異的」です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; いくらEmpressがいわゆる「商用」であるとは言え、オープンソースソフトウェアに</span>
<span class="quote1">&gt; の力を信じている私としては、この結果に納得がいきません。</span>
<span class="quote1">&gt; safe_mysqldの起動時のパラメータもkey-buffer=16m sort_buffer=16m record_buffer=16m</span>
<span class="quote1">&gt; とかやってみましたが、10sec程度速くなる程度で、劇的に速くはなりませんでした。</span>

メモリが 128M もついているのなら、もっと大きくしてもいいように
思います。


…でも、私はこんな大規模なデータベースを扱ったことないんで、
速度が妥当かどうかについては、なんとも言えません…。

--
民斗 &lt;tommy@xxxxxxxxxx&gt;

</pre>
</div>
<p class="button"><a href="531">[前]</a><a href="533">[次]</a><a href="../list/501-600">[番号順一覧]</a><a href="../thread/501-600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="531">    531 1999-01-13 23:48 [Tatsuya Ina &lt;ina@xxx] mMySQL speed                            </a></span>
<span class="current">-&gt;&nbsp;<a href="532">    532 1999-01-13 15:31 ┣[民斗 &lt;tommy@xxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="535">    535 1999-01-14 01:34 ┃┣[Tatsuya Ina &lt;ina@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="538">    538 1999-01-13 16:53 ┃┗[民斗 &lt;tommy@xxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="534">    534 1999-01-13 15:44 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="541">    541 1999-01-13 17:39 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="546">    546 1999-01-14 08:58 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
</pre>
</body>
</html>
