<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5395</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5394.html">[前]</a><a href="5396.html">[次]</a><a href="../list/5301-5400.html">[番号順一覧]</a><a href="../thread/5301-5400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5395
</p>
<div class="header">
<p>
From: &quot;TAKAHASHI, Tomohiro&quot; &lt;&quot;TAKAHASHI, Tomohiro&quot; &lt;t_takahashi@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 23 Apr 2002 21:01:32 +0900<br>
Subject: [mysql 05395] Re: JDBC  でのエラーコード<br>

</p>
</div>
<div class="body">
<pre>
  高橋(智)です。ご利用ありがとうございます。

  getErrorCode()が返す値は、vendor-specificなerror codeです。
  どのような時どのようなエラーコード値を返せば良いのか、きち
んとした指標があれば良いのですが、現在のところは値を何もセット
せずに、SQLExceptionをスローしています。

  ただし、JDBC API を使いつつ、ベンダー固有のエラーに頼ってコー
ディングすることは、決して勧められたことではないのです。

  何か具体的で明快な改善案などあれば対応したいのですが... (^^;
  よろしくお願いいたします。


渥美　裕輝 wrote:
<span class="quote1">&gt; </span>
<span class="quote1">&gt; MySQLとの接続にgwe.sql.gweMysqlDriverを使用しています。</span>
<span class="quote1">&gt; データベースのエラーコードを取得したくて</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; int count = 0;</span>
<span class="quote1">&gt; try{</span>
<span class="quote1">&gt;     String sql = &quot;INSERT ...&quot;;</span>
<span class="quote1">&gt;     count = pre.executeUpdate(sql);</span>
<span class="quote1">&gt; }catch(SQLException e){</span>
<span class="quote1">&gt;     if(e.getErrorCode() == 1062) {</span>
<span class="quote1">&gt;         System.out.println(&quot;重複エラー&quot;);</span>
<span class="quote1">&gt;     }</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; のようなコードを書いていますが，</span>
<span class="quote1">&gt; SQLException#getErrorCode()の戻り値が全て0でかえってきてしまいます。</span>
<span class="quote1">&gt; 過去ログ検索してみたんですけど見当たらなくって・・・。</span>
<span class="quote1">&gt; 何か方法はないでしょうか？</span>
<span class="quote1">&gt; よろしくお願いいたします。</span>

-- 
高橋智宏
  Java読書会( <a href="http://www.t3-jpn.com/bof/">http://www.t3-jpn.com/bof/</a> )
  T3-Japan( <a href="http://www.t3-jpn.com/">http://www.t3-jpn.com/</a> )

</pre>
</div>
<p class="button"><a href="5394.html">[前]</a><a href="5396.html">[次]</a><a href="../list/5301-5400.html">[番号順一覧]</a><a href="../thread/5301-5400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5389.html">   5389 2002-04-23 15:48 [渥美　裕輝 &lt;hirohono] JDBC でのエラーコード                   </a></span>
<span class="current">-&gt;&nbsp;<a href="5395.html">   5395 2002-04-23 21:01 ┗[&quot;TAKAHASHI, Tomohiro]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5396.html">   5396 2002-04-24 10:09 　┗[渥美　裕輝 &lt;hirohono]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5400.html">   5400 2002-04-24 22:11 　　┗[&quot;TAKAHASHI, Tomohiro]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5402.html">   5402 2002-04-25 12:12 　　　┗[渥美　裕輝 &lt;hirohono]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5406.html">   5406 2002-04-25 22:04 　　　　┗[&quot;TAKAHASHI, Tomohiro]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5409.html">   5409 2002-04-26 09:21 　　　　　┗[渥美　裕輝 &lt;hirohono]                             </a></span>
</pre>
</body>
</html>
