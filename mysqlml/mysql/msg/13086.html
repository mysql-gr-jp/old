<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13086</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="13085.html">[前]</a><a href="13087.html">[次]</a><a href="../list/13001-13100.html">[番号順一覧]</a><a href="../thread/13001-13100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13086
</p>
<div class="header">
<p>
From: "rishiri.info" &lt;"rishiri.info" &lt;mail@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 8 Jun 2006 17:54:05 +0900<br>
Subject: [mysql 13086] 順位をつけたいのですが<br>

</p>
</div>
<div class="body">
<pre>risuと申します。お世話になっております。
マラソンのタイム順位を出そうと

SELECT k0.kno, s0.scode, s0.namae,
s0.frigana, sei.seibetsu, s0.nenrei,
MIN(k0.ktime) As ktime, COUNT(k1.ktime) As rank
FROM sensyu As s0, sei, kiroku As k0, kiroku As k1
WHERE s0.scode=k0.scode And s0.seicode=sei.seicode
And k1.ktime &lt;= k0.ktime GROUP BY k0.kno ORDER BY ktime;

でトータルのTIME順の順位であるrankで順位付けをおこなっているのですが
現在のSQLでは同着のタイムがあったとき順位が飛んでしまい同じ順位になってしま
います。

No. ゼッケン     氏名      ふりがな 性別  年齢     TIME      順位
--+------+--------+-------+----+----+-------+-----
 10        5   田中一郎   たなか     男     54      06:59:59     1
--+------+--------+-------+----+----+-------+-----
 11    196    鈴木次郎  すずき      男     42      07:00:00     3
--+------+--------+-------+----+----+-------+-----
   9       7    佐藤三郎   さとう       男     48      07:00:00     3
--+------+--------+-------+----+----+-------+-----
そこで、
以下のように

No. ゼッケン     氏名      ふりがな 性別  年齢     TIME      順位
--+------+--------+-------+----+----+-------+-----
 10        5   田中一郎   たなか     男     54      06:59:59     1
--+------+--------+-------+----+----+-------+-----
   9       7    佐藤三郎   さとう       男     48      07:00:00     2
--+------+--------+-------+----+----+-------+-----
 11    196    鈴木次郎  すずき      男     42      07:00:00     3
--+------+--------+-------+----+----+-------+-----
「同着ならば年齢が上の人に順位をつける」
というふうにできるでしょうか？
よろしくおねがいします。


--
No virus found in this outgoing message.
Checked by AVG Free Edition.
Version: 7.1.394 / Virus Database: 268.8.3/358 - Release Date: 2006/06/07


</pre>
</div>
<p class="button"><a href="13085.html">[前]</a><a href="13087.html">[次]</a><a href="../list/13001-13100.html">[番号順一覧]</a><a href="../thread/13001-13100.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="13086.html">  13086 2006-06-08 17:54 ["rishiri.info" &lt;mail] 順位をつけたいのですが                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13087.html">  13087 2006-06-08 21:08 ┗[buda &lt;buda@xxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13088.html">  13088 2006-06-08 21:27 　┗["rishiri.info" &lt;mail]                                     </a></span>
</pre>


</body></html>