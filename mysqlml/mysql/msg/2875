<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2875</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2874">[前]</a><a href="2876">[次]</a><a href="../list/2801-2900">[番号順一覧]</a><a href="../thread/2801-2900">[スレッド一覧]</a></p>
<p class="id">
mysql:2875
</p>
<div class="header">
<p>
From: (moeru) &lt;&lt;moeru@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 15 Dec 2000 17:07:22 +0900<br>
Subject: [mysql 02875] Re: メール配信 PGM  作成<br>

</p>
</div>
<div class="body">
<pre>

2000/12/14 14:09:19 +0900にSeiji Tateyama &lt;tateyan@xxxxxxxxxx&gt;さんに頂いた
「<a href="02863">[mysql 02863]</a> Re: メール配信PGM 作成」への返事です。

モエルです。

<span class="quote1">&gt; ここまではロジックを組めるのですが、メールアドレスが誤っている</span>
<span class="quote1">&gt; 為、リターンされたエラーメールについては次回からメールしない様、</span>
<span class="quote1">&gt; MySQLにメール送信不可BITをONする様な仕組みを作りたいのですが、</span>
<span class="quote1">&gt; 良いアイデアが思いつきません。</span>

この辺、ぼくのとこでは、まだ手動でやってまして
今後の課題でした。

実際、作業は、
User unknown
Sorry, I couldn't find any host named host.domain.com (#5.1.2)
Sorry, no mailbox here by that name. (#5.1.1)

この辺のメールを手動でメールアドレスだけ抽出して
ＰＨＰでＤＢにフラグを付けるプログラムを作り処理してます。

めちゃ面倒です(^^;

この辺をうまくやってるのは、メーリングリストのプログラムとかじゃないでしょうか？
まだ解析してないですが、たしかfmlとかはその辺のことをやってると思います。
ぼくもfml使ってますが、まだ調べてません。。

<span class="quote1">&gt;と&gt; Sendmail や qmail とかの代表的な MTA が返すエラーメッセージに</span>
<span class="quote1">&gt;と&gt; マッチングしてメールアドレスを抜き出す仕組みを作るとか…。</span>
<span class="quote1">&gt;と&gt; MTA によってエラーメッセージは異なるし、同じ MTA でも場合によって</span>
<span class="quote1">&gt;と&gt; 異なることがあるので大変かも…。</span>

この辺の仕様を共通化する政治をしてくれるところってないんですかね？
メールヘッダーになにか付けてくれるとか。。そういう解決。


<span class="quote1">&gt;あと　気をつける点としては　User Unknownで一回返ってきたからといって</span>
<span class="quote1">&gt;すぐに送信禁止を設定してよいかどうかという問題もあったりします...</span>
<span class="quote1">&gt;相手のサーバの一時的なミスも考えられますし...</span>
<span class="quote1">&gt;何回かエラーになった場合に送信禁止にする　といった配慮も考えたほうが</span>
<span class="quote1">&gt;良いでしょう</span>

たてやんさんが言ってる、この「何回かエラーになった場合」ってのは
エラーで返ってきたメールで分かるのでしょうか？

いつも、１回で処理しちゃってました(^^;



モエル


</pre>
</div>
<p class="button"><a href="2874">[前]</a><a href="2876">[次]</a><a href="../list/2801-2900">[番号順一覧]</a><a href="../thread/2801-2900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="2861">   2861 2000-12-13 23:45 [hashimoto &lt;look@xxxx] メール配信 PGM 作成                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2862">   2862 2000-12-14 00:31 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2863">   2863 2000-12-14 14:09 ┃┗[Seiji Tateyama &lt;tate]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="2875">   2875 2000-12-15 17:07 ┃　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2876">   2876 2000-12-16 00:01 ┗[hashimoto &lt;look@xxxx]                                       </a></span>
</pre>
</body>
</html>
