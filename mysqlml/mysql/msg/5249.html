<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5249</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5248.html">[前]</a><a href="5250.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5249
</p>
<div class="header">
<p>
From: &quot;Isamu Narimatsu&quot; &lt;&quot;Isamu Narimatsu&quot; &lt;isamu@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 15 Mar 2002 16:47:04 +0900<br>
Subject: [mysql 05249] Re: SELECT 文でマイナスの TIME  値を表示させるには？<br>

</p>
</div>
<div class="body">
<pre>
成松です。堤さんありがとうございます。

<span class="quote2">&gt; &gt;SELECT文でマイナスのTIME値を表示させるにはどうしたら良いのでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; mysql&gt; select CONCAT(now(),' +0900') as JST,</span>
<span class="quote1">&gt;     -&gt; CONCAT('-',DATE_FORMAT(DATE_SUB(now(), interval 9 hour),</span>
'%H:%i:%s'),' +0000') as GMT;

なるほど、マイナスを表示させること自体はCONCATで可能ですね。
さて、先ほどは舌足らずで申し訳ありませんでした。

用途ですが、スケジュールを想定しています。
オーストラリアの各都市で毎日定時（例えば深夜3時から早朝6時まで）に予定があ
り、それをスケジュールの画面で色分けをして表示するCGIを書いています。（各都
市の時差はGMT＋８～１０だと思います。）

各都市の予定を日本時間で表示する時、日本時間との相対時間ではなく、GMTを基準
とした絶対時間を使用しています。
例えば、シドニーではGMT＋１０ですので、現地深夜3時は -07:00:00 早朝6時
 -04:00:00 になります。
これをTIME値でテーブルに記録して、必要な時に別に作成した時差テーブルを参照し
て結果を求めるのです。

そのため、マイナスの値を持ったTIME値が必要となってくるのです。
さて、前述された方法では残念ながら、求めた結果とは異なりました。
なぜなら、日本時間の15:46:02では結果は逆にプラスの6:46:02にならないといけな
いからです。

しかしながら、アドバイスを頂けたこと心からありがたく思います。




</pre>
</div>
<p class="button"><a href="5248.html">[前]</a><a href="5250.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5247.html">   5247 2002-03-15 15:00 [&quot;Isamu Narimatsu&quot; &lt;i] SELECT 文でマイナスの TIME 値を表示させるには？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5248.html">   5248 2002-03-15 15:55 ┗[TSUTSUMI Thoru &lt;tutu]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="5249.html">   5249 2002-03-15 16:47 　┗[&quot;Isamu Narimatsu&quot; &lt;i]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5250.html">   5250 2002-03-16 11:26 　　┗[&quot;Isamu Narimatsu&quot; &lt;i]                                   </a></span>
</pre>
</body>
</html>
