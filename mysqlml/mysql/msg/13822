<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13822</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13821">[前]</a><a href="13823">[次]</a><a href="../list/13801-13900">[番号順一覧]</a><a href="../thread/13801-13900">[スレッド一覧]</a></p>
<p class="id">
mysql:13822
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 25 Mar 2007 23:45:17 +0900<br>
Subject: [mysql 13822] Re: UTF8 問題<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Sat, 24 Mar 2007 23:37:34 +0900
MORIYAMA Masayuki &lt;msyk@xxxxxxxxxx&gt; wrote:

<span class="quote3">&gt; &gt;&gt; OSC2007 の松信さんのプレゼンを聞いていないので、話が掴めていません。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; プレゼン中で 4バイト UTF-8 への対応として、現状の utf8 は最大3バイトの</span>
<span class="quote2">&gt; &gt; ままにしておき、最大4バイトを扱えるものをたとえば utf8_4 というような</span>
<span class="quote2">&gt; &gt; 名前で導入する…という話がありました。</span>

ちょっと誤解を招く書き方だったかもしれません。

決定ではなく、「utf8_4 という名前で導入する方法もあるかもしれない」く
らいの意味合いだったと思います。

<span class="quote1">&gt; なるほど、ありがとうございます。</span>
<span class="quote1">&gt; 従来の utf8 は、正しく実装されていなかったのだけれども、互換性維持の為に</span>
<span class="quote1">&gt; に、従来の実装を残して正しい UTF-8 を utf8_4 として実装するという事です</span>
<span class="quote1">&gt; ね。(MySQL の utf8 は、CESU-8 だったという事)</span>

<span class="quote1">&gt; たとえば、次のような感じになる。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt; select hex(convert(_utf8 0xEDA080EDB080 using utf8));</span>
<span class="quote1">&gt; +-----------------------------------------------+</span>
<span class="quote2">&gt; | hex(convert(_utf8 0xEDA080EDB080 using utf8)) |</span>
<span class="quote1">&gt; +-----------------------------------------------+</span>
<span class="quote2">&gt; | EDA080EDB080                                  |</span>
<span class="quote1">&gt; +-----------------------------------------------+</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt; select hex(convert(_utf8 0xEDA080EDB080 using utf8_4));</span>
<span class="quote1">&gt; +-------------------------------------------------+</span>
<span class="quote2">&gt; | hex(convert(_utf8 0xEDA080EDB080 using utf8_4)) |</span>
<span class="quote1">&gt; +-------------------------------------------------+</span>
<span class="quote2">&gt; | F0908080                                        |</span>
<span class="quote1">&gt; +-------------------------------------------------+</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt; select hex(convert(_utf8_4 0xF0908080 using utf8));</span>
<span class="quote1">&gt; +---------------------------------------------+</span>
<span class="quote2">&gt; | hex(convert(_utf8_4 0xF0908080 using utf8)) |</span>
<span class="quote1">&gt; +---------------------------------------------+</span>
<span class="quote2">&gt; | EDA080EDB080                                |</span>
<span class="quote1">&gt; +---------------------------------------------+</span>

ん〜、従来のは CESU-8 なんでしょうかね…。

サロゲートペアを意識して変換してくれるかというと、そこまでは実装されな
いような気がするので、単に3バイト以下に制限された UTF-8 ということだと
思います。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="13821">[前]</a><a href="13823">[次]</a><a href="../list/13801-13900">[番号順一覧]</a><a href="../thread/13801-13900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13812">  13812 2007-03-22 09:08 [&quot;Hiro Yoshioka&quot; &lt;hyo] UTF8 問題                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13813">  13813 2007-03-22 20:02 ┗[MORIYAMA Masayuki &lt;m]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13819">  13819 2007-03-24 05:55 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13820">  13820 2007-03-24 09:55 　　┣[&quot;TAKAHASHI, Tomohiro]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13821">  13821 2007-03-24 23:37 　　┗[MORIYAMA Masayuki &lt;m]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="13822">  13822 2007-03-25 23:45 　　　┗[とみたまさひろ &lt;tomm]                                 </a></span>
</pre>
</body>
</html>
