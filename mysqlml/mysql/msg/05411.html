<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5411</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="5410.html">[前]</a><a href="5412.html">[次]</a><a href="../list/5401-5500.html">[番号順一覧]</a><a href="../thread/5401-5500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5411
</p>
<div class="header">
<p>
From: "KAWAI,Takanori" &lt;"KAWAI,Takanori" &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 26 Apr 2002 10:52:49 +0900<br>
Subject: [mysql 05411] Re: Full-text Search<br>

</p>
</div>
<div class="body">
<pre>全文検索に萌えている（？）川合孝典です。

----- Original Message -----
From: &lt;moeru@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Friday, April 26, 2002 9:47 AM
Subject: <a href="05410.html">[mysql 05410]</a> Re: Full-text Search


<span class="quote1">&gt;</span>
<span class="quote1">&gt; 2002/04/26 07:44:13 +0900に"KAWAI,Takanori" &lt;GCD00051@xxxxxxxxxx&gt;さんに頂</span>
いた
<span class="quote1">&gt; 「<a href="05408.html">[mysql 05408]</a> Re: Full-text Search」への返事です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; モエルです。</span>
（中略）
<span class="quote1">&gt; 全件表示</span>
<span class="quote1">&gt; <a href="http://www.hippo2000.info/cgi-bin/myfull/fullTst.pl">http://www.hippo2000.info/cgi-bin/myfull/fullTst.pl</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; を検索させるのに</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 検索文字列をChaSenで分解して結果を表示ってやってるんですよね？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; MATCH(bodySrch) AGAINST(?)って使ったこと無いので</span>
<span class="quote1">&gt; まだ理解できてないんですが</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; FullText Searchって</span>
<span class="quote1">&gt; where keyword = A or keyword = B or keyword = C</span>
<span class="quote1">&gt; と同じことをやってますか？</span>
ちゃいます。詳しくは

12 MySQL Full-text Search
<a href="http://www.mysql.gr.jp/jpdoc/3.23/manual.ja_Fulltext_Search.html#Fulltext_Se">http://www.mysql.gr.jp/jpdoc/3.23/manual.ja_Fulltext_Search.html#Fulltext_Se</a>
arch

にある通りなのですが、ちょっと長いのですが引用すると
&lt;引用&gt;
The function MATCH matches a natural language query AGAINST a
text collection (which is simply the set of columns covered by a
FULLTEXT index). For every row in a table it returns relevance - a
similarity measure between the text in that row (in the columns that
are part of the collection) and the query. When it is used in a WHERE
clause (see example above) the rows returned are automatically sorted
with relevance decreasing. Relevance is a non-negative floating-point
number. Zero relevance means no similarity. Relevance is computed
based on the number of words in the row, the number of unique words
in that row, the total number of words in the collection, and the number
 of documents (rows) that contain a particular word.
&lt;/引用&gt;
MATCHで指定された列の内容のAGAINSTで指定された文字列に対して
Relevance（妥当性、類似性）を計算することによって取得してくるようです。
計算方法はその内容の単語の数や指定された単語が含まれる行の
数に依存するようです。

<span class="quote1">&gt; ぼくが欲しいとしたら、中間一致の方だったりします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; なので、最初思ったのは、本文をChaSenで分解して</span>
<span class="quote1">&gt; FullText Search用のテーブルを作って格納しておき</span>
<span class="quote1">&gt; それを検索させるのかな？って思ってました。。</span>
MySQLのFull-text Searchということでは、ここで示している
MATCH ... AGAINSTを使う方法というだと思っています。
で、現在、私が使っているサーバーのMATCH...の値の出方から
するとORにつなぎに近いのかなぁといった感じです。
12.2 New Features of Full-text Search to Appear in MySQL 4.0
によれば、4.0ではもうちょっと限定できそうな気もしますが。

ただ全文検索＝MySQLのFull-text Searchだけではありませんし、
<a href="05386.html">[mysql 05386]</a> Re: Full-text Search　にも書きましたが、要は
どんな風に検索したいかによってやり方が変わってくるでしょう。

===================================================
川合 孝典 (Hippo2000)
   DBI日本語メーリングリスト管理人、Kansai.pm所属
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>
   <a href="http://www.hippo2000.info/">http://www.hippo2000.info/</a>
「Perlを256倍使うための本　DBI編」　発売中
<a href="http://member.nifty.ne.jp/hippo2000/p256dbi/p256dbi.htm">http://member.nifty.ne.jp/hippo2000/p256dbi/p256dbi.htm</a>
===================================================




</pre>
</div>
<p class="button"><a href="5410.html">[前]</a><a href="5412.html">[次]</a><a href="../list/5401-5500.html">[番号順一覧]</a><a href="../thread/5401-5500.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="5375.html">   5375 2002-04-20 22:23 [&lt;moeru@xxxxxxxxxx&gt;  ] Full-text Search                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5376.html">   5376 2002-04-20 23:19 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5377.html">   5377 2002-04-20 23:35 　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5378.html">   5378 2002-04-21 00:34 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5379.html">   5379 2002-04-21 00:47 　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5381.html">   5381 2002-04-21 07:37 　　　　┣["KAWAI,Takanori" &lt;GC]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5383.html">   5383 2002-04-21 11:13 　　　　┃┗[&lt;moeru@xxxxxxxxxx&gt;  ]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5386.html">   5386 2002-04-21 23:19 　　　　┃　┗["KAWAI,Takanori" &lt;GC]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5387.html">   5387 2002-04-22 00:13 　　　　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5401.html">   5401 2002-04-25 11:06 　　　　┃　　　┗["KAWAI,Takanori" &lt;GC]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5403.html">   5403 2002-04-25 12:14 　　　　┃　　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5404.html">   5404 2002-04-25 14:10 　　　　┃　　　　　┣["KAWAI,Takanori" &lt;GC]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5407.html">   5407 2002-04-26 01:10 　　　　┃　　　　　┃┣[&lt;moeru@xxxxxxxxxx&gt;  ]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5408.html">   5408 2002-04-26 07:44 　　　　┃　　　　　┃┃┗["KAWAI,Takanori" &lt;GC]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5410.html">   5410 2002-04-26 09:47 　　　　┃　　　　　┃┃　┗[&lt;moeru@xxxxxxxxxx&gt;  ]             </a></span>
<span class="current">-&gt;&nbsp;<a href="5411.html">   5411 2002-04-26 10:52 　　　　┃　　　　　┃┃　　┣["KAWAI,Takanori" &lt;GC]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5417.html">   5417 2002-04-27 00:22 　　　　┃　　　　　┃┃　　┃┣[&lt;moeru@xxxxxxxxxx&gt;  ]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5419.html">   5419 2002-04-27 12:30 　　　　┃　　　　　┃┃　　┃┗[Tatsuhiko Miyagawa &lt;]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5421.html">   5421 2002-04-27 12:46 　　　　┃　　　　　┃┃　　┃　┣["TOYOSHIMA, Masayuki]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5422.html">   5422 2002-04-27 13:06 　　　　┃　　　　　┃┃　　┃　┃┣[Tatsuhiko Miyagawa &lt;]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5423.html">   5423 2002-04-28 11:50 　　　　┃　　　　　┃┃　　┃　┃┃┗["TOYOSHIMA, Masayuki]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5424.html">   5424 2002-04-28 18:36 　　　　┃　　　　　┃┃　　┃　┃┗["KAWAI,Takanori" &lt;GC]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5425.html">   5425 2002-04-28 18:50 　　　　┃　　　　　┃┃　　┃　┗["KAWAI,Takanori" &lt;GC]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5432.html">   5432 2002-05-05 14:58 　　　　┃　　　　　┃┃　　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5416.html">   5416 2002-04-26 20:20 　　　　┃　　　　　┃┃　　┗[Hidetoshi OKAWA &lt;hid]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5420.html">   5420 2002-04-27 12:46 　　　　┃　　　　　┃┗[Tatsuhiko Miyagawa &lt;]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5405.html">   5405 2002-04-25 18:33 　　　　┃　　　　　┗[Hidetoshi OKAWA &lt;hid]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5382.html">   5382 2002-04-21 08:04 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
</pre>


</body></html>