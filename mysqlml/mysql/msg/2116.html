<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2116</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="2115.html">[前]</a><a href="2117.html">[次]</a><a href="../list/2101-2200.html">[番号順一覧]</a><a href="../thread/2101-2200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2116
</p>
<div class="header">
<p>
From: Shin-ichi Tsurunaga &lt;Shin-ichi Tsurunaga &lt;ml-shin@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 25 May 2000 12:15:31 +0900<br>
Subject: [mysql 02116] Re: about MySQL JDBC Driver<br>

</p>
</div>
<div class="body">
<pre>鶴長です。

Tomohiro Takahashi さんは書きました:
<span class="quote1">&gt;  結局、--set-variable=max_allowed_packet=16M として mysqld を起動する</span>
<span class="quote1">&gt;ことで、数メガ程度のバイナリデータを格納することができました。</span>
なるほど。サーバー側で解決できるんですね。エラーメッセージを素直に読みと
るべきでしたね。反省。

<span class="quote1">&gt;  ここでやはり気になったのは、「MM Mysql JDBC DRIVER」は送信するSQL文を</span>
<span class="quote1">&gt;一度完成させてから一気にパケットを送り出しているため、パケット用のバッファ</span>
<span class="quote1">&gt;を確保できずに、内部で例外を発生させることがありますね。JavaVMの起動オプ</span>
<span class="quote1">&gt;ションでメモリを多めに確保しておけば問題ないですが。</span>
確かに、せっかくPreparedStatementにsetBinaryStreamを使っても、
MM MySQL JDBCでbyte[]にいったん格納されちゃいます。

<span class="quote1">&gt;  その点、修正を加えた gwe JDBC Driver では、64K 程度のバッファを使いま</span>
<span class="quote1">&gt;わすようにしてます。そのかわり、UPDATE ... SET BINDATA=0x00010203....</span>
<span class="quote1">&gt;というように 16進表記 のSQL文を使用しているので、送り出すパケットは 2倍</span>
<span class="quote1">&gt;に脹れ上がります。(最終的なパケット長を早期に計算するためです)</span>
すばらしい。今のプロジェクトが一段落したら１度参考にさせていただきたいと
思いますので、その際はよろしくお願いします。

----
Shin-ichi Tsurunaga  shin@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="2115.html">[前]</a><a href="2117.html">[次]</a><a href="../list/2101-2200.html">[番号順一覧]</a><a href="../thread/2101-2200.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="2096.html">   2096 2000-05-23 22:00 [Tomohiro Takahashi &lt;] about MySQL JDBC Driver                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2105.html">   2105 2000-05-24 15:58 ┗[Shin-ichi Tsurunaga ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2108.html">   2108 2000-05-24 18:16 　┣[Tomohiro KATO &lt;tomop]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2112.html">   2112 2000-05-24 21:10 　┃┗[Shin-ichi Tsurunaga ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2110.html">   2110 2000-05-24 19:49 　┗[Tomohiro Takahashi &lt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2111.html">   2111 2000-05-24 20:32 　　┗[Shin-ichi Tsurunaga ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2113.html">   2113 2000-05-24 22:29 　　　┗[Tomohiro Takahashi &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2114.html">   2114 2000-05-24 23:52 　　　　┗[Tomohiro Takahashi &lt;]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="2116.html">   2116 2000-05-25 12:15 　　　　　┗[Shin-ichi Tsurunaga ]                             </a></span>
</pre>


</body></html>