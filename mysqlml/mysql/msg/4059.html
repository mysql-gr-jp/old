<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4059</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="4058.html">[前]</a><a href="4060.html">[次]</a><a href="../list/4001-4100.html">[番号順一覧]</a><a href="../thread/4001-4100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4059
</p>
<div class="header">
<p>
From: == Kobayasi Hiroyuki == &lt;== Kobayasi Hiroyuki == &lt;kobayasi@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 26 Jul 2001 12:37:51 +0900<br>
Subject: [mysql 04059] Re: データベースの複製<br>

</p>
</div>
<div class="body">
<pre>小林です。コメントありがとうございます。

tateyan@xxxxxxxxxx wrote:
<span class="quote1">&gt; 800M を毎回　コピーするのはちょっと...</span>
<span class="quote1">&gt; なんで</span>

　それが、差分だけをみるrsync なので意外と、速いんですよ。。

<span class="quote1">&gt; 私なら　各テーブルを見直して　それぞれのテーブルの</span>
<span class="quote1">&gt; フィールドにタイムスタンプをつけるか、更新情報用の</span>
<span class="quote1">&gt; フラグを持つようにします</span>

　差分コピーも考えたのですが、抽出に時間がかかるのと、
（timestamp にindex をはってないのですが、すでにある大きな
テーブルに add index をかけるのがやっかいでやめました）
大きな変更がmaster にあった場合、かなり時間がかかって
しまうんです。。。これも設計が悪いのですが(^^; 復元も
SQL文レベルだと時間がかかります。

<span class="quote1">&gt;データベース自体のデータは　月一回とか週一回ぐらい完全</span>
<span class="quote1">&gt;な同期を取るって具合にすれば違いは減るかもしれませんね</span>

　そうですね・・・。差分同期と、全部の両方を用意しておくのは
必要ですね・・。参考になりました。

　でも、rsync ・・・いいと思うんですけどね(^^;;;
mysqlhotcopy と併用すれば、バックアップと同期のために
ファイルが流用できますし。。


--
Livin' on the EDGE Co.,LTD.
小林 博幸 &lt;kobayasi@xxxxxxxxxx&gt;

-- AD --
カンタン、らくちん、無料。AD4Commerceで広告収入ゲット！！
<a href="http://admin.ad4commerce.com/e/m.pl?h=876&amp;g=5&amp;m=1&amp;t=mail">http://admin.ad4commerce.com/e/m.pl?h=876&amp;g=5&amp;m=1&amp;t=mail</a>



</pre>
</div>
<p class="button"><a href="4058.html">[前]</a><a href="4060.html">[次]</a><a href="../list/4001-4100.html">[番号順一覧]</a><a href="../thread/4001-4100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="4049.html">   4049 2001-07-23 13:41 [== Kobayasi Hiroyuki] データベースの複製                      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4050.html">   4050 2001-07-24 22:24 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4051.html">   4051 2001-07-24 23:27 ┃┗[== Kobayasi Hiroyuki]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4052.html">   4052 2001-07-24 23:44 ┗[tateyan &lt;tateyan@xxx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4059.html">   4059 2001-07-26 12:37 　┗[== Kobayasi Hiroyuki]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4060.html">   4060 2001-07-26 22:11 　　┗[tateyan &lt;tateyan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4061.html">   4061 2001-07-26 22:21 　　　┣[Tatsuhiko Miyagawa &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4063.html">   4063 2001-07-26 22:32 　　　┃┣[== Kobayasi Hiroyuki]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4064.html">   4064 2001-07-26 22:40 　　　┃┗[tateyan &lt;tateyan@xxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4062.html">   4062 2001-07-26 22:30 　　　┗[== Kobayasi Hiroyuki]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4065.html">   4065 2001-07-26 22:42 　　　　┗[Tatsuhiko Miyagawa &lt;]                               </a></span>
</pre>


</body></html>