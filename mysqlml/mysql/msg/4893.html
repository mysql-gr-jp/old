<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4893</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4892.html">[前]</a><a href="4894.html">[次]</a><a href="../list/4801-4900.html">[番号順一覧]</a><a href="../thread/4801-4900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4893
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 10 Jan 2002 01:45:09 +0900<br>
Subject: [mysql 04893] 排他制御<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Tue, 8 Jan 2002 03:07:24 +0900
&quot;Takuji Hidaka&quot; &lt;takuji-h@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; テーブルに、INSERT,UPDATE,DELETEのような「書き換える」</span>
<span class="quote1">&gt; ような作業を行うときの排他制御について質問します。</span>
<span class="quote1">&gt; 「MySQL徹底入門」やいくつかの雑誌で、掲示板のような</span>
<span class="quote1">&gt; スクリプトの&quot;ログファイル&quot;として、MySQLを利用する方法を</span>
<span class="quote1">&gt; 取り上げられていますが、この場合「排他制御を考えなくてよい」</span>
<span class="quote1">&gt; というような表現が見られます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; CGIスクリプトのログファイルにテキストファイルを利用する場合、</span>
<span class="quote1">&gt; 上書き等のときにログがすべて消失してしまう可能性があるため、</span>
<span class="quote1">&gt; ファイルロックやダブルファイルなどの処理を行います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ■このような全ログ消失は、MySQLでは起こる可能性はありますか？</span>
<span class="quote1">&gt; ■また起こる可能性がある場合、それを極力避ける処理はありますか？</span>

MySQL を使うのならそもそも排他制御は不要です。プログラムが排他制御を行な
わなかったことが原因でデータが消えてしまうことはないでしょう。もしあった
としたらデータベースシステムとして使い物にならないと思います。

<span class="quote1">&gt; 完全に同時にUPDATEなどの処理が行われた場合、当該ログの</span>
<span class="quote1">&gt; 被害はともかく、全ログの消失だけは絶対に避けたいのです。</span>
<span class="quote1">&gt; （想定しているのは、サーバーダウンなどの状況は考えず、</span>
<span class="quote1">&gt; きわめて正常にプログラムが動いている場合のみです。）</span>

「完全に同時にUPDATEなどの処理が行われた場合」でも、MySQL が適切に処理し
てくれるので、当該ログが失われることはありません。

--
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="4892.html">[前]</a><a href="4894.html">[次]</a><a href="../list/4801-4900.html">[番号順一覧]</a><a href="../thread/4801-4900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4851.html">   4851 2001-12-27 21:31 [&lt;donald@xxxxxxxxxx&gt; ]                                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4865.html">   4865 2002-01-04 10:46 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4871.html">   4871 2002-01-07 14:05 　┗[&lt;donald@xxxxxxxxxx&gt; ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4872.html">   4872 2002-01-07 15:57 　　┣[田倉 &lt;g_sec@xxxxxxxx] MySQL-3.23.45 + MyODBC について   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4978.html">   4978 2002-01-18 17:58 　　┃┗[ken &lt;kenn@xxxxxxxxxx] mm.mysql.Driver での 2000 年問題？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4979.html">   4979 2002-01-18 22:01 　　┃　┣[&quot;TAKAHASHI, Tomohiro]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4980.html">   4980 2002-01-18 22:09 　　┃　┗[&quot;TAKAHASHI, Tomohiro]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4874.html">   4874 2002-01-08 03:07 　　┣[&quot;Takuji Hidaka&quot; &lt;tak]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="4893.html">   4893 2002-01-10 01:45 　　┃┗[とみたまさひろ &lt;tomm] 排他制御                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4894.html">   4894 2002-01-10 04:31 　　┃　┗[&quot;Takuji Hidaka&quot; &lt;tak]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4891.html">   4891 2002-01-10 00:59 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4895.html">   4895 2002-01-10 17:36 　　　┗[&lt;donald@xxxxxxxxxx&gt; ]                                 </a></span>
</pre>
</body>
</html>
