<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8565</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8564.html">[前]</a><a href="8566.html">[次]</a><a href="../list/8501-8600.html">[番号順一覧]</a><a href="../thread/8501-8600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8565
</p>
<div class="header">
<p>
From: ML account &lt;ML account &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 07 Jan 2004 16:37:35 +0900<br>
Subject: [mysql 08565] Re: count(*) の合計の仕方<br>

</p>
</div>
<div class="body">
<pre>
　こんにちは。

zai &lt;zai91210@xxxxxxxxxx&gt;さんの
&lt;20040107151326.36EC.ZAI91210@xxxxxxxxxx&gt;
&quot;<a href="08561.html">[mysql 08561]</a> Re: count(*)の合計の仕方&quot;


　回答は出ていますが、一言だけ。

<span class="quote1">&gt; MySQLは、集合演算子が非力だな〜と感じ、少し後悔をし始めていたところでし</span>
<span class="quote1">&gt; た。</span>

　postgreやoracleやDB2は、確かに色々な操作が可能ですが、それは何のペナル
ティも無しに行えるものでは無いのです。非常に限定された機能しか持たない
SQLでも色々凝った書き方は出来ますが、それも何のペナルティも無しに行える
ものでは無いという点では同じです。

　今回の場合、対象のテーブルtable1は、

　　　　create table table1 (item1 varchar(50),item2 varchar(50),
　　　　    code1 varchar(50),code2 varchar(50),code3 varchar(50),
　　　　    code4 varchar(50),code5 varchar(50))

の様な定義と考えます。この様なベタな構造ではなく、正規化した、

　　　　create table table1 (id int,item1 varchar(50),item2 varchar(50))
及び
　　　　create table table1b (id int,codono int,code varchar(50))

の形であれば、目的である集計のクエリは、

　　　　select count(*) from table1b where between 'c555' and 'd998'

でOKとなります。

　ベタなテーブル構造は考えやすいという利点はあるものの、今回の様に同様の
意味を持つフィールドを集計する場合には、クエリが難しくなるというペナルティ
以外に、大量のレコードを含んだテーブルの場合には致命的に遅くなるという重
大なペナルティを背負い込む場合があります。

　もっとも、DBMSの限界、正確にはそれを操作するSQLなる言語の限界によって、
正規化したDB設計が最適解とは限らない現実はあります。実際に正規形ではなく
ベタなテーブルを敢えて使う場合もありますが、それは正規形を考慮しない事と
は違います。



　　　　松枝知直　　　　&lt;tomom@xxxxxxxxxx&gt;
　　　　　　　　　　　　<a href="http://www.argus.ne.jp/~tomom/">http://www.argus.ne.jp/~tomom/</a>



</pre>
</div>
<p class="button"><a href="8564.html">[前]</a><a href="8566.html">[次]</a><a href="../list/8501-8600.html">[番号順一覧]</a><a href="../thread/8501-8600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8558.html">   8558 2004-01-07 02:39 [zai &lt;zai91210@xxxxxx] count(*) の合計の仕方                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8559.html">   8559 2004-01-07 04:59 ┣[UNO Shintaro &lt;uno@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8561.html">   8561 2004-01-07 15:29 ┃┗[zai &lt;zai91210@xxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8562.html">   8562 2004-01-07 15:56 ┃　┣[&lt;lavlav@xxxxxxxxxx&gt; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8563.html">   8563 2004-01-07 16:00 ┃　┃┗[&lt;lavlav@xxxxxxxxxx&gt; ]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="8565.html">   8565 2004-01-07 16:37 ┃　┗[ML account &lt;ml@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8566.html">   8566 2004-01-07 16:46 ┃　　┗[ML account &lt;ml@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8564.html">   8564 2004-01-07 16:22 ┣[Kazuhiro Yoshida &lt;mo]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8790.html">   8790 2004-02-14 01:48 ┗[zai &lt;zai91210@xxxxxx] 機種の変更に伴う不具合                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8791.html">   8791 2004-02-14 15:43 　┣[Seto &lt;seto@xxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8792.html">   8792 2004-02-14 20:09 　┣[&lt;konet218@xxxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8793.html">   8793 2004-02-15 03:21 　┃┗[zai &lt;zai91210@xxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8794.html">   8794 2004-02-15 03:43 　┃　┣[&lt;konet218@xxxxxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8816.html">   8816 2004-02-19 05:35 　┃　┃┗[zai &lt;zai91210@xxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8796.html">   8796 2004-02-15 06:28 　┃　┗[Seto &lt;seto@xxxxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8818.html">   8818 2004-02-19 06:35 　┃　　┗[zai &lt;zai91210@xxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8795.html">   8795 2004-02-15 04:18 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8817.html">   8817 2004-02-19 06:26 　　┗[zai &lt;zai91210@xxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8819.html">   8819 2004-02-19 09:47 　　　┣[Seto &lt;seto@xxxxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8820.html">   8820 2004-02-19 15:29 　　　┃┣[&lt;lavlav@xxxxxxxxxx&gt; ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8824.html">   8824 2004-02-19 21:12 　　　┃┃┗[zai &lt;zai91210@xxxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8823.html">   8823 2004-02-19 21:02 　　　┃┗[zai &lt;zai91210@xxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8826.html">   8826 2004-02-19 21:57 　　　┃　┗[bon &lt;bon@xxxxxxxxxx&gt;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8827.html">   8827 2004-02-20 02:19 　　　┃　　┗[zai &lt;zai91210@xxxxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8821.html">   8821 2004-02-19 18:52 　　　┗[Hiroto Tsubaki &lt;jak@]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8825.html">   8825 2004-02-19 21:46 　　　　┗[zai &lt;zai91210@xxxxxx] Re: 機種の変更に伴う不具合（大感謝）</a></span>
</pre>
</body>
</html>
