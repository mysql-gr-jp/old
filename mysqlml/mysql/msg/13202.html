<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13202</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13201.html">[前]</a><a href="13203.html">[次]</a><a href="../list/13201-13300.html">[番号順一覧]</a><a href="../thread/13201-13300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13202
</p>
<div class="header">
<p>
From: &lt;miyamotoyu@xxxxxxxxxx&gt;<br>
Date: Mon, 31 Jul 2006 17:17:23 +0900<br>
Subject: [mysql 13202] Re: MySQL のエラーを自動でメール送信させたい<br>

</p>
</div>
<div class="body">
<pre>

はじめまして宮本です。
Hinemosの開発をしているので、キーワードに反応してみます。

 
<span class="quote2">&gt;&gt; 「エラーログをメールで送るなど、落ちればすぐわかる」</span>
<span class="quote2">&gt;&gt; 　落ちにくいでは通用しないのが企業ですので・・・　</span>
<span class="quote2">&gt;&gt; 【ポートが開いてるかどうか】のレベルではなく、Oracleの例ばかりで</span>
<span class="quote2">&gt;&gt;申し訳ないのですが【容量オーバーしていて行の追加できない】や、【バック</span>
<span class="quote2">&gt;&gt; アップができなかった】など、運用に関わる事をメールで来てほしい状態です</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;要するに、MySQL に対応した運用管理・監視ツールがあればいいんですよね。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;以下のプロジェクトに対して「MySQL にも対応してくれぃ」とリクエストを</span>
<span class="quote1">&gt;出すといいのかも(笑)　PostgreSQL には対応してるそうです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;　Hinemos</span>
<span class="quote1">&gt;　<a href="http://sourceforge.jp/projects/hinemos/">http://sourceforge.jp/projects/hinemos/</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;　概要説明はこっちのほうがいいかな</span>
<span class="quote1">&gt;　<a href="http://www.nttdata.co.jp/services/hinemos/index.html">http://www.nttdata.co.jp/services/hinemos/index.html</a></span>


HinemosのSQL監視は、MySQLでも使えます。
<a href="http://sourceforge.jp/forum/forum.php?thread_id=11530&amp;forum_id=9605">http://sourceforge.jp/forum/forum.php?thread_id=11530&amp;forum_id=9605</a>
このSQL監視では、select文の結果の数値に対して閾値を超えたかチェックします。
閾値を超えた場合には、メールを送信することができます。


以降は一般論ですが、MySQＬの調子がおかしい場合には、いくつかの情報から
判断するのではないでしょうか？そのための情報として、

・マシン負荷が高い　    　　　　 →　リソース情報の監視
・プロセスが落ちた       　　　　 →  プロセスの監視
・異常を示すログが出た　　　　 →　ログ監視
・DBMSとしてうまく動作しない → 上記のSQL監視

といったところが考えられます。
私はLinuxしか知らないですが、Hinemos以外にもリモートで監視できるOSSは
あります。

リソースの監視、プロセスの監視は、Net-SNMPで設定してあげると、
外部から取得できます。後は何がしかのツールで定期的にポーリングしてあげる
ことになるでしょう。（OpenNMSとかで）
ログ監視はswatchでファイルに吐かれるログを監視してメールすることが感じでしょ
うか。

windowsでは、同様のツールはあるんでしょうかね？


--
宮本　洋輔
miyamotoyu@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="13201.html">[前]</a><a href="13203.html">[次]</a><a href="../list/13201-13300.html">[番号順一覧]</a><a href="../thread/13201-13300.html">[スレッド一覧]</a></p>
</body>
</html>
