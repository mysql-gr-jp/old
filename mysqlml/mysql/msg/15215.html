<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15215</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15214.html">[前]</a><a href="15216.html">[次]</a><a href="../list/15201-15300.html">[番号順一覧]</a><a href="../thread/15201-15300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15215
</p>
<div class="header">
<p>
From: Akio Imai &lt;Akio Imai &lt;suzuro2045@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 10 Mar 2010 20:43:31 +0900<br>
Subject: [mysql 15215] Re: [mysql 15214] Re: テーブル名の重複<br>

</p>
</div>
<div class="body">
<pre>
Imai です。

ドットの前にスペースがある「aaa_bb 」のファイルが
frm ファイルのみ単体で存在するのようなので
その該当ファイルを削除することにより消すことが可能です。
※通常はそんなことしちゃダメですが

一応、MySQL 公式にもそのように記載されているので大丈夫だと思います。

<a href="http://dev.mysql.com/doc/refman/5.1/ja/innodb-troubleshooting-datadict.html">http://dev.mysql.com/doc/refman/5.1/ja/innodb-troubleshooting-datadict.html</a>

<span class="quote1">&gt; 対応するテーブルを持たない孤立した .frm  ファイルがある事を意味します。孤立した .frm  ファイルは、マニュアルで削除する事でドロップできます。</span>




2010年3月10日20:25 tk &lt;tk@xxxxxxxxxx&gt;:
<span class="quote1">&gt; 中瀬さん、遠藤さん、ミヤタさん、松山さん</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ありがとうございます。</span>
<span class="quote1">&gt; 外出していたもので、お返事が遅くなって申し訳ありません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; datadir内に、</span>
<span class="quote1">&gt; aaa_bb.frm</span>
<span class="quote1">&gt; aaa_bb.MVI</span>
<span class="quote1">&gt; aaa_bb.MYD</span>
<span class="quote1">&gt; aaa_bb .frm（ドットの前にスペース）</span>
<span class="quote1">&gt; という名前のファイルがありました。</span>
<span class="quote1">&gt; ドットの前にスペースの入ったものは、</span>
<span class="quote1">&gt; MVI、MYDファイルはありませんでした。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; この&quot;aaa_bb .frm（スペース入り）&quot;を削除すると解決するとか、</span>
<span class="quote1">&gt; ありますでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; よろしくお願い申し上げます。</span>
<span class="quote1">&gt; tk</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Nakase Hiroaki wrote:</span>
<span class="quote2">&gt;&gt; 中瀬です</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; MySQLの実行プラットフォームが書いてないので不明ですが、Windows</span>
<span class="quote2">&gt;&gt; 以外(Unix)であれば、my.cnfの中でdatadirを指定してるか、デフォルト</span>
<span class="quote2">&gt;&gt; のDB格納フォルダ内でDB名を見つけて、その中に各テーブル名の</span>
<span class="quote2">&gt;&gt; フォルダがあると思います。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; そこに今該当しているテーブル名を見つけて、その名前でdrop文</span>
<span class="quote2">&gt;&gt; を発行してみては？</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 以上</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; &lt;4B9689A5.30006@xxxxxxxxxx&gt; の、</span>
<span class="quote2">&gt;&gt;  &quot;<a href="15202.html">[mysql 15202]</a> テーブル名の重複&quot; において、</span>
<span class="quote2">&gt;&gt;  &quot;tk &lt;tk@xxxxxxxxxx&gt;&quot;さんは書きました：</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; お世話になります。</span>
<span class="quote3">&gt;&gt;&gt; tkと申します。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 間違って、同じ名前（見た目は）のテーブルができてしまいました。</span>
<span class="quote3">&gt;&gt;&gt; show table status;</span>
<span class="quote3">&gt;&gt;&gt; で見てみても、同じ名前、たとえば</span>
<span class="quote3">&gt;&gt;&gt; +-----------</span>
<span class="quote4">&gt;&gt;&gt; |　Name　|　Type　　|　Row_format</span>
<span class="quote3">&gt;&gt;&gt; +-----------</span>
<span class="quote4">&gt;&gt;&gt; |　aaa_bb　|　MyISAM　|　Dynamic</span>
<span class="quote4">&gt;&gt;&gt; |　aaa_bb　|　MyISAM　|　Dynamic</span>
<span class="quote4">&gt;&gt;&gt; |　abc_de　|　MyISAM　|　Dynamic</span>
<span class="quote4">&gt;&gt;&gt; |　fghde　|　MyISAM　|　Dynamic</span>
<span class="quote3">&gt;&gt;&gt; という具合に、同じに見える名前と、それ以下の項目は全て同じの</span>
<span class="quote3">&gt;&gt;&gt; statusが表示されます。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; drop table aaa_bb;</span>
<span class="quote3">&gt;&gt;&gt; としてみると、片側だけが削除されますが、もう一つは残ります。</span>
<span class="quote3">&gt;&gt;&gt; 違うテーブルをもう一つ作り、そちらに移行すれば良いのかも知れませんが、</span>
<span class="quote3">&gt;&gt;&gt; 気持ちが悪いので、解決したいと思っています。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 違いを明確にして、不要な一つを削除するには、どのようにすれば良いでしょうか？</span>
<span class="quote3">&gt;&gt;&gt; ご教授よろしくお願い申し上げます。</span>
<span class="quote3">&gt;&gt;&gt; MySQL version: 3.23.58</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; --------------------------</span>
<span class="quote2">&gt;&gt; 中瀬</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; <a href="http://cmssvr.sytes.net/">http://cmssvr.sytes.net/</a></span>
<span class="quote2">&gt;&gt; --------------------------</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="15214.html">[前]</a><a href="15216.html">[次]</a><a href="../list/15201-15300.html">[番号順一覧]</a><a href="../thread/15201-15300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15202.html">  15202 2010-03-10 02:47 [tk &lt;tk@xxxxxxxxxx&gt;  ] テーブル名の重複                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15203.html">  15203 2010-03-10 11:47 ┣[Suzuro 2045 &lt;suzuro2] Re: [mysql 15202] テーブル名の重複    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15204.html">  15204 2010-03-10 13:10 ┃┣[宮田 昌紀 &lt;moyata@xx] Re: テーブル名の重複                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15205.html">  15205 2010-03-10 14:09 ┃┃┗[tk &lt;tk@xxxxxxxxxx&gt;  ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15206.html">  15206 2010-03-10 14:42 ┃┃　┗[宮田 昌紀 &lt;moyata@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15208.html">  15208 2010-03-10 14:55 ┃┃　　┗[tk &lt;tk@xxxxxxxxxx&gt;  ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15209.html">  15209 2010-03-10 17:58 ┃┃　　　┗[遠藤 俊裕 &lt;endo@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15210.html">  15210 2010-03-10 18:13 ┃┃　　　　┣[遠藤 俊裕 &lt;endo@xxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15211.html">  15211 2010-03-10 19:10 ┃┃　　　　┗[宮田 昌紀 &lt;moyata@xx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15212.html">  15212 2010-03-10 19:26 ┃┃　　　　　┗[遠藤 俊裕 &lt;endo@xxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15213.html">  15213 2010-03-10 19:31 ┃┗[Masaaki Matsuyama &lt;m] Re: テーブル名の重複                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15207.html">  15207 2010-03-10 14:51 ┗[Nakase Hiroaki &lt;h_na]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15214.html">  15214 2010-03-10 20:25 　┗[tk &lt;tk@xxxxxxxxxx&gt;  ]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="15215.html">  15215 2010-03-10 20:43 　　┗[Akio Imai &lt;suzuro204] Re: [mysql 15214] Re: テーブル名の重複</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15217.html">  15217 2010-03-11 09:06 　　　┗[tk &lt;tk@xxxxxxxxxx&gt;  ] Re: テーブル名の重複            </a></span>
</pre>
</body>
</html>
