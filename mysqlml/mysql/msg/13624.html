<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13624</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="13623.html">[前]</a><a href="13625.html">[次]</a><a href="../list/13601-13700.html">[番号順一覧]</a><a href="../thread/13601-13700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13624
</p>
<div class="header">
<p>
From: taki &lt;taki &lt;taki@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 15 Dec 2006 14:05:16 +0900<br>
Subject: [mysql 13624] Re: 値が null 以外のフィールドを抽出したいのですが<br>

</p>
</div>
<div class="body">
<pre>
たきです。

テーブルデザインを変更できない。最適化再設計が出来ない場合など。
以下の方法で抽出してみてはどうでしょうか？強引ですが。

select
  concat(
    if(A is null, '', concat('', A)),
    if(B is null, '', concat(':',B)),
    if(C is null, '', concat(':',C)),
    if(D is null, '', concat(':',D)),
    if(E is null, '', concat(':',E)),
    if(F is null, '', concat(':',F)),
    ...
    if(Z is null, '', concat(':',Z))
  ) as catstr
  from word
  where A = '条件'
;

例ではcatstrというカラム名で結果が':'で区切られて返ります。
PHPのsplit(':', 結果)で分割すればいいかとおもいますが。
':'は'\t'でタブにも変更できますので適した文字で区切ってください。

皆さんも言われているように、これから設計して構築するのでしたら、
是非、データモデリングを再設計することをお勧めします。

On Fri, 15 Dec 2006 09:36:36 +0900 (JST)
syokora &lt;ryuubi_1109@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; テーブル名：word </span>
<span class="quote1">&gt; Ａ　　Ｂ　　Ｃ　　Ｄ　　Ｆ・・・フィールド </span>
<span class="quote1">&gt; PC　　IP　　UDP　null　null </span>
<span class="quote1">&gt; TCP　　MAC　ARP　RIP　　null </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; として、PCという値のあるレコードを取り出す際に、null以外</span>
<span class="quote1">&gt; つまり、 フィールドA,B,Cのみを取り出したいのですが。</span>

-- 
taki &lt;taki@xxxxxxxxxx&gt;



</pre>
</div>
<p class="button"><a href="13623.html">[前]</a><a href="13625.html">[次]</a><a href="../list/13601-13700.html">[番号順一覧]</a><a href="../thread/13601-13700.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13616.html">  13616 2006-12-14 23:12 [syokora &lt;ryuubi_1109] 値が null 以外のフィールドを抽出したいのですが</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13617.html">  13617 2006-12-15 09:13 ┣[Tatematsu &lt;tatemax@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13618.html">  13618 2006-12-15 09:14 ┗[高橋政利 &lt;takahashi@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13619.html">  13619 2006-12-15 09:36 　┗[syokora &lt;ryuubi_1109]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13620.html">  13620 2006-12-15 10:55 　　┣[Tatematsu &lt;tatemax@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13621.html">  13621 2006-12-15 11:38 　　┣[土田 崇 &lt;takatsuchid]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13622.html">  13622 2006-12-15 12:00 　　┃┗[syokora &lt;ryuubi_1109]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13623.html">  13623 2006-12-15 12:23 　　┃　┗[高橋政利 &lt;takahashi@]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="13624.html">  13624 2006-12-15 14:05 　　┗[taki &lt;taki@xxxxxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13625.html">  13625 2006-12-16 17:26 　　　┗[bisuke &lt;ryuubi_1109@]                                 </a></span>
</pre>
</body>
</html>
