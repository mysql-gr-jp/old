<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4311</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="4310.html">[前]</a><a href="4312.html">[次]</a><a href="../list/4301-4400.html">[番号順一覧]</a><a href="../thread/4301-4400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4311
</p>
<div class="header">
<p>
From: Kitajima &lt;Kitajima &lt;kitajima@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 13 Sep 2001 11:17:56 +0900<br>
Subject: [mysql 04311] Re: バッチでパラメーター<br>

</p>
</div>
<div class="body">
<pre>
これは[tateyan]様が['01,09,12 22:26:38]に送信された、
[<a href="04310.html">[mysql 04310]</a> Re: バッチでパラメーター]への返信です。
───────────────────────────────────
遠藤さん、たてやんさん、お返事ありがとうございます。


私の環境はWindowsですが、Command.com＋BATファイルでも遠藤さんの
技が使えると思います。
私ももともとUNIXを使っていた(我が社のダウンサイジング化が進んで
私の作業端末もPCになってしまった)のでcshやPerlやawkなどを使えれば
使いたいのですが、同社の業務部に配布して使っていただく(私は開発部)
ので、いちいちPerlをインストールして廻るのもちょっと…(^^;って
カンジで。

BATのechoでは複雑な表示が難しく、特に複数行にわたるSQL(例えばテーブルの
dropとtableの作成と権限の付与とインデックスの作成)を毎回echoを行頭に書いて
行くのも…。と思いまして。

両名からお教えいただいた方法で検討いたします。


tateyan&gt; たてやんっす
tateyan&gt; 
tateyan&gt; 遠藤 俊裕さんの
tateyan&gt; 題名「<a href="04305.html">[mysql 04305]</a> Re: バッチでパラメーター」のメールからの引用です
tateyan&gt; &gt; 遠藤です。
tateyan&gt; &gt; 
tateyan&gt; &gt; Kitajima さんは書きました:
tateyan&gt; &gt; &gt;mysqlでのバッチ実行について知りたいことがあるのですが、
tateyan&gt; &gt; &gt;通常、mysql.exe test &lt; aaa.sql の様に実行しますが、
tateyan&gt; &gt; &gt;このaaa.sqlファイルの中にパラメーターを与えることは可能ですか？
tateyan&gt; &gt; 
tateyan&gt; &gt; create table 文を引数で生成する shell script を書いて、
tateyan&gt; &gt; 
tateyan&gt; &gt; /that_shell 01 | mysql test
tateyan&gt; &gt; 
tateyan&gt; &gt; ぢゃ駄目ですか？^^;
tateyan&gt; 多分質問者は　Windwos環境ですよん　って突っ込みいれちゃおっと
tateyan&gt; cygwin とか使えばshell scriptは可能ですけど...
tateyan&gt; 
tateyan&gt; でバッチですが
tateyan&gt; @echo off
tateyan&gt; echo create table u_%1 ( id int,name char(20)); | mysql test
tateyan&gt; 
tateyan&gt; ではどうでしょう？
tateyan&gt; ただ　複雑になると... call だの使って
tateyan&gt; 
tateyan&gt; だからcygwin でbash やtcshを使うとか
tateyan&gt; シェルにこだわらなければ　active perl やruby など
tateyan&gt; スクリプト言語つかいませんかってのに　１票
tateyan&gt; 
tateyan&gt; 
tateyan&gt; bat の中で　bat　を　というのであれば
tateyan&gt; たとえば　上述のバッチを　ctable.bat として
tateyan&gt; 
tateyan&gt; aaa.bat を
tateyan&gt; @echo off
tateyan&gt; call ctable 01
tateyan&gt; call ctable 02
tateyan&gt; call ctable 03
tateyan&gt; call ctable 04
tateyan&gt; 
tateyan&gt; とかで　いかがっしょ
tateyan&gt; もっともバッチファイルなんて　もう　忘れかけてる状態なんで(^^ゞ
tateyan&gt; 
tateyan&gt; 
tateyan&gt; =================
tateyan&gt;   彡彡从        たてやんっす
tateyan&gt;  d□/□-ｂ      &lt;tateyan@xxxxxxxxxx&gt;
tateyan&gt;  ヽ&quot;ー&quot;丿
tateyan&gt; 


Kitajima. kitajima@xxxxxxxxxx
━━━━────────────────────────────


</pre>
</div>
<p class="button"><a href="4310.html">[前]</a><a href="4312.html">[次]</a><a href="../list/4301-4400.html">[番号順一覧]</a><a href="../thread/4301-4400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4304.html">   4304 2001-09-12 14:51 [Kitajima &lt;kitajima@x] バッチでパラメーター                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4305.html">   4305 2001-09-12 15:30 ┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4310.html">   4310 2001-09-12 22:26 　┣[tateyan &lt;tateyan@xxx]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="4311.html">   4311 2001-09-13 11:17 　┃┣[Kitajima &lt;kitajima@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4312.html">   4312 2001-09-13 12:52 　┃┃┗[Seiji Tateyama &lt;tate]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4313.html">   4313 2001-09-13 13:35 　┃┃　┗[Kitajima &lt;kitajima@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4314.html">   4314 2001-09-13 16:37 　┃┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4317.html">   4317 2001-09-14 00:32 　┃　┗[tateyan &lt;tateyan@xxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4315.html">   4315 2001-09-13 17:01 　┗[豊島＠クロスネット &lt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4316.html">   4316 2001-09-13 18:04 　　┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4318.html">   4318 2001-09-14 00:50 　　　┗[豊島＠クロスネット &lt;]                                 </a></span>
</pre>
</body>
</html>
