<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14774</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="14773.html">[前]</a><a href="14775.html">[次]</a><a href="../list/14701-14800.html">[番号順一覧]</a><a href="../thread/14701-14800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14774
</p>
<div class="header">
<p>
From: Mikiya Okuno &lt;Mikiya Okuno &lt;Mikiya.Okuno@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 12 Mar 2009 09:50:46 +0900<br>
Subject: [mysql 14774] Re: MySQL による ORDER BY  の最適化<br>

</p>
</div>
<div class="body">
<pre>こんにちは。

そもそも「キー部分」とはマルチカラムインデックスにおける一部のカラムのことを指しています。
例えば、INDEX (col1, col2, col3)というような場合、それぞれのカラムがキー部分である
というわけです。

SELECT * FROM t1 WHERE col1=const ORDER BY col2=const;

これは ORDER BY においてインデックスが使用されます。
しかし、次のような場合は使用されません。

SELECT * FROM t1 WHERE colX=const ORDER BY col2=const;
※ キーを構成しているカラム以外のカラムが使用されている。

SELECT * FROM t1 WHERE col1=const ORDER BY col3=const;
※ col2を抜かしてしまっているので連続していない。

このページはわかり辛いので、下記にソートについてまとめてあります。
手前味噌ですがご参考まで。
<a href="http://nippondanji.blogspot.com/2008/12/2008.html">http://nippondanji.blogspot.com/2008/12/2008.html</a>

--
Mikiya Okuno, MySQL Support Engineer
Sun Microsystems KK, Tokyo, Japan
<a href="http://www-jp.mysql.com/">http://www-jp.mysql.com/</a>

On 12/03/2009, at 9:31 AM, linux@xxxxxxxxxx wrote:

<span class="quote1">&gt; ヨコタと申します。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 以下のページで理解出来ない箇所があるのですが・・</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; MySQL による ORDER BY の最適化</span>
<span class="quote1">&gt; <a href="http://dev.mysql.com/doc/refman/4.1/ja/order-by-optimisation.html">http://dev.mysql.com/doc/refman/4.1/ja/order-by-optimisation.html</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; -------------------------------------------------</span>
<span class="quote1">&gt; MySQL で ORDER BY の解決にインデックスを使用できない場合は以下のとおりです</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 「連続しないキー部分に対して ORDER BY を実行する場合。 </span>
<span class="quote1">&gt; SELECT * FROM t1 WHERE key2=constant ORDER BY key_part2 」</span>
<span class="quote1">&gt; -------------------------------------------------</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 「連続しないキー部分に対して」とは、どういう事なのでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; よろしくお願い致します。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>


</pre>
</div>
<p class="button"><a href="14773.html">[前]</a><a href="14775.html">[次]</a><a href="../list/14701-14800.html">[番号順一覧]</a><a href="../thread/14701-14800.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="14773.html">  14773 2009-03-12 09:31 ["linux@xxxxxxxxxx" &lt;] MySQL による ORDER BY の最適化          </a></span>
<span class="current">-&gt;&nbsp;<a href="14774.html">  14774 2009-03-12 09:50 ┣[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14775.html">  14775 2009-03-12 10:05 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14776.html">  14776 2009-03-12 10:20 　┗[HIRATSUKA Sadao &lt;hir]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14777.html">  14777 2009-03-12 19:46 　　┗["linux@xxxxxxxxxx" &lt;]                                   </a></span>
</pre>


</body></html>