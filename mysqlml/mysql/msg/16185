<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:16185</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="16184">[前]</a><a href="16186">[次]</a><a href="../list/16101-16200">[番号順一覧]</a><a href="../thread/16101-16200">[スレッド一覧]</a></p>
<p class="id">
mysql:16185
</p>
<div class="header">
<p>
From: 志澤 敦 &lt;志澤 敦 &lt;atsushi.shizawa@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 12 Dec 2014 14:22:07 +0900<br>
Subject: [mysql 16185] 高速に「INTO OUTFILE → File.Delete → 繰り返し」でエラー(already exists:1086)となります。<br>

</p>
</div>
<div class="body">
<pre>
志澤と申します。
初めて投稿させて頂きます。

MySQLWindowsのケースは少ないかとも思いますが、
お心あたり御座いましたら、ご頂けると幸いです。

---環境---
OS ：Windows2012 Std(Memory24GB)
DB ：MySQL 5.6.21
Coccector ：Net 6.9.5
FrameWork ：.NET FrameWork 4.5
IDE ：VS2012 Pro

---事象---
・同一ファイルパスにおいて、INTO OUTFILE →File.Deleteを高速に行うと、
　IF(File.Exists==TRUE){File.Delete}が機能せず、
SQL発行時にMySqlExceptionが発生。

・エラー内容は、「1086：already exists」

・その際、OS上にもファイルは残っており、通常のファイルとして読み書きが出 
来る状態。

---検証内容---
・VS2012でのデバッグ時に、ステップ実行でも発生。
・File.Delete→INTO OUTFILEの間に、Sleepを5秒挟んだりしても発生する。
・Win2008R2でも同様に発生。
・CentOSでも同様に発生。
・MySQL5.5でも同様に発生。
--例外事象--
・MySQL5.0では発生しない。


以上となります。
DBというより、ConnectorやOS由来な気もしておりますが、
何か情報御座いましたら、ご助言の程を何卒お願い致します。


</pre>
</div>
<p class="button"><a href="16184">[前]</a><a href="16186">[次]</a><a href="../list/16101-16200">[番号順一覧]</a><a href="../thread/16101-16200">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="16185">  16185 2014-12-12 14:22 [志澤 敦 &lt;atsushi.shi] 高速に「INTO OUTFILE → File.Delete → 繰り返し」でエラー(already exists:1086)となります。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16186">@ 16186 2014-12-14 23:35 ┗[&quot;yoku ts.&quot; &lt;yoku0825] Re: [mysql 16185] 高速に「INTO OUTFILE → File.Delete → 繰り返し」でエラー(already exists:1086)となります。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16187">@ 16187 2014-12-15 15:57 　┗[志澤 敦 &lt;atsushi.shi] Re: 高速に「INTO OUTFILE → File.Delete → 繰り返し」でエラー(already exists:1086)となります。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16188">@ 16188 2014-12-15 18:32 　　┗[&quot;yoku ts.&quot; &lt;yoku0825] Re: [mysql 16187] Re: 高速に「INTO OUTFILE → File.Delete → 繰り返し」でエラー(already exists:1086)となります。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16189">  16189 2014-12-15 21:20 　　　┗[HIRATSUKA Sadao &lt;sh2] Re: 高速に「INTO OUTFILE  → File.Delete  → 繰り返し」でエラー(already exists:1086)となります。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16195">  16195 2014-12-17 16:58 　　　　┗[&quot;atsushi.shizawa&quot; &lt;a]                               </a></span>
</pre>
</body>
</html>
