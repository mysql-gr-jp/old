<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10164</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10163.html">[前]</a><a href="10165.html">[次]</a><a href="../list/10101-10200.html">[番号順一覧]</a><a href="../thread/10101-10200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10164
</p>
<div class="header">
<p>
From: 渡邊昌之 &lt;渡邊昌之 &lt;mark@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 15 Sep 2004 17:28:18 +0900<br>
Subject: [mysql 10164] Re: 標準偏差値が違う<br>

</p>
</div>
<div class="body">
<pre>
渡邊と申します。

不偏分散ってのを調べてみました。
波多様ありがとうございます。

波多様のおっしゃるとおり、Mysqlはデータをサンプルとは思わず
母集団全体だと思って標準偏差を計算している為、標準偏差の定義通りの
値を返している訳ですね。

で、Excelや通常使われる標準偏差というのは、データをサンプルと考えて
元の母集団の標準偏差を出そうとしている・・・
ということで、式の違いだけを吸収するなら
stddev(num)*sqrt(count(num)/(count(num)-1)) 
で出てきますね。
とりあえず数が多ければ誤差の範囲ですか

今取ろうとしているデータが全データであって、推定する必要が無い
テストの成績とか
の場合はこんな小細工はせず、単にstddevを取った方が正しいわけですね。

データがサンプルである場合
アンケート結果とか、実験結果とか
の場合は上記の小細工を入れた方が正解に近いということでしょうか。

なんか間違っているような気もするけど、もし間違ってたら
どなたか訂正お願いします。

PQ6A-TSMT@xxxxxxxxxx (Toshimitsu Akihiko) wrote:

<span class="quote1">&gt; </span>
<span class="quote1">&gt; 解決方法はわからないのですが、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysqlのマニュアルだと、</span>
<span class="quote1">&gt; <a href="http://dev.mysql.com/doc/mysql/ja/GROUP-BY-Functions.html">http://dev.mysql.com/doc/mysql/ja/GROUP-BY-Functions.html</a></span>
<span class="quote1">&gt; ＞＞VARIANCE(expr)</span>
<span class="quote1">&gt; ＞＞    expr の標準偏差を返す</span>
<span class="quote1">&gt; ＞＞（レコードはサンプルではなく、母集団全体とみなされる。</span>
<span class="quote1">&gt; ＞＞そのため、この関数はレコード数を分母として取る）。</span>
<span class="quote1">&gt; ＞＞これは SQL-99 に対する拡張（バージョン 4.1 以降で使用可能）。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; でExcelの関数ですと</span>
<span class="quote1">&gt; <a href="http://www2.odn.ne.jp/excel/function.html">http://www2.odn.ne.jp/excel/function.html</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＞＞STDEV：母集団の標本を使って標準偏差を返します。</span>
<span class="quote1">&gt; ＞＞STDEVP：母集団全体を対象に標準偏差を返します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ExcelでSTDEVPで計算すると11.7047になりませんか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt;芦田と申します。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;よろしくお願いします。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;MySQLで用意されているグループ関数で標準偏差を計算するSTDDEV関数を</span>
<span class="quote2">&gt; &gt;使用した結果と、Excelの分析ツールで計算した結果が違うのですが</span>
<span class="quote2">&gt; &gt;どうしてでしょう？</span>
<span class="quote2">&gt; &gt;Webで公開されている解析ツール等で標準偏差を確認しても、Excelでの</span>
<span class="quote2">&gt; &gt;計算結果とは一致するのですが、MySQLでの結果が違います。(&gt;_&lt;)</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;原因がわかる方よろしくお願いします。　m(__)m</span>
<span class="quote2">&gt; &gt;</span>

_______________________________________
渡邊昌之
mark@xxxxxxxxxx
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

</pre>
</div>
<p class="button"><a href="10163.html">[前]</a><a href="10165.html">[次]</a><a href="../list/10101-10200.html">[番号順一覧]</a><a href="../thread/10101-10200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10163.html">  10163 2004-09-15 16:42 [&lt;PQ6A-TSMT@xxxxxxxxx] Re: $BI8=`JP:9CM$,0c$&amp;amp;(B          </a></span>
<span class="current">-&gt;&nbsp;<a href="10164.html">  10164 2004-09-15 17:28 ┗[渡邊昌之 &lt;mark@xxxxx] Re: 標準偏差値が違う                  </a></span>
</pre>
</body>
</html>
