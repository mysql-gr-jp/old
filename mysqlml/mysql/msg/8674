<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8674</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8673">[前]</a><a href="8675">[次]</a><a href="../list/8601-8700">[番号順一覧]</a><a href="../thread/8601-8700">[スレッド一覧]</a></p>
<p class="id">
mysql:8674
</p>
<div class="header">
<p>
From: Takashi Mikami &lt;Takashi Mikami &lt;rx78@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 30 Jan 2004 02:20:45 +0900<br>
Subject: [mysql 08674] Re: 負荷分散（軽減方法）について質問します<br>

</p>
</div>
<div class="body">
<pre>
みかみです。

<span class="quote1">&gt; 私の場合、アクセスデータはファイルに保存して、</span>
<span class="quote1">&gt; 毎朝アクセスの少ない時にcron等でDBに入れてます。</span>

リアルタイムでデータ解析が必要なければその方法も良いかと思いますが・・

ただ、以前に200万アクセス/日の解析をsatoさんよりスペックの低いサーバーで
行っていた事がるのですが、
CPU使用率が上がるのはinsert処理よりもselectの方なんですよね。
insertのみであれば、100万〜200万程度のアクセス数であれば、
そのスペックのサーバーを使っていれば問題ないと思われます。
(プログラム的に無駄な処理をしていなければ)

ファイルでの処理を行うのであれば逆に、insertはリアルタイムで行って
早朝などに前日の解析結果を表示させるページをcron等で作成するほうが良いと
思います。

Too many connectionsが出るのであれば、当然max_connectionsを増やせば
その問題は解決されるでしょうが、重いのは変わらないでしょうね。
satoさんの場合はアクセス解析サイトをなさっているとの事で、
おそらくユーザーが解析画面を見る時の処理でCPU使用率が格段に上がっている
のではないでしょうか？
その辺りの処理(tableの構造等も含めて)を見直すのも1つの手ですね。(例えば
上記の方法)

他にも方法がなくはないですけど、問題はどの部分の処理で一番負荷がかかって
いるかですから。
こういう問題は行き着く所まで行ってからしか出て来ないので突然困る事になり
ますよねぇ・・・大規模検索サイトの負荷分散処理がどうなってるのか知りたい
です。


</pre>
</div>
<p class="button"><a href="8673">[前]</a><a href="8675">[次]</a><a href="../list/8601-8700">[番号順一覧]</a><a href="../thread/8601-8700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8635">   8635 2004-01-21 19:22 [&quot;yabu@xxxxxxxxxx&quot; &lt;y] 負荷分散（軽減方法）について質問します  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8639">   8639 2004-01-21 21:02 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8641">   8641 2004-01-22 01:59 　┗[&quot;yabu@xxxxxxxxxx&quot; &lt;y]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8643">   8643 2004-01-22 10:34 　　┗[きたぢま &lt;kitajima@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8647">   8647 2004-01-22 11:37 　　　┗[&quot;竹本　靖&quot; &lt;take@xxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8673">   8673 2004-01-30 01:05 　　　　┗[&lt;konet218@xxxxxxxxxx]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="8674">   8674 2004-01-30 02:20 　　　　　┗[Takashi Mikami &lt;rx78]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8675">   8675 2004-01-30 11:17 　　　　　　┗[&lt;lavlav@xxxxxxxxxx&gt; ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8676">   8676 2004-01-30 12:44 　　　　　　　┣[Takashi Mikami &lt;rx78]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8677">   8677 2004-01-30 13:38 　　　　　　　┗[ML account &lt;ml@xxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8678">   8678 2004-01-30 13:49 　　　　　　　　┣[&lt;lavlav@xxxxxxxxxx&gt; ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8679">   8679 2004-01-30 14:09 　　　　　　　　┗[&lt;lavlav@xxxxxxxxxx&gt; ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8680">   8680 2004-01-31 10:22 　　　　　　　　　┗[ML account &lt;ml@xxxxx]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8682">   8682 2004-02-02 13:25 　　　　　　　　　　┗[とみたまさひろ &lt;tomm]                   </a></span>
</pre>
</body>
</html>
