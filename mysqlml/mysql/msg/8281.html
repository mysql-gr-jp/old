<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8281</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="8280.html">[前]</a><a href="8282.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8281
</p>
<div class="header">
<p>
From: seiji takegata &lt;seiji takegata &lt;takegata@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 16 Oct 2003 03:32:53 +0900<br>
Subject: [mysql 08281] Re: ランキングをつける方法？<br>

</p>
</div>
<div class="body">
<pre>
竹形です。

<span class="quote1">&gt; </span>
<span class="quote1">&gt; 僕のやりたい事は、毎日の売り上げを月で締め、その商品をカテゴリーごとに集計</span>
<span class="quote1">&gt; し、ランキング（順位をつけて）して表示するイメージです。</span>
<span class="quote1">&gt; </span>

この説明では、どのように集計して順位を付けようとしているのか分かりませんぜ。
売り上げの金額なのか、個数なのか、カテゴリーの総売上なのか、カテゴリー内の
商品のランキングなのか。それらの元になるデータはどのようにテーブルに格納
されているのか（1個売れたら1レコードが追加されるのか、毎日売れた個数or金額が
1つのレコードに加算されていくのか）といったことが分からないとSQL文は書けませ
んね。

1つ売れるごとにjournalテーブルに1レコード(year,month,date,item_id,price)が
追加され、1ヶ月で売れた数を多い順に並べたいのなら、

 SELECT item_id,count(*) AS count 
 FROM journal 
 WHERE year=2003 AND month=10 
 GROUP BY item_id 
 ORDER BY count DESC;

こんな感じかな。合ってる？
売り上げだったらcount(*)の代わりにsum(price)とか。


--
seiji takegata
takegata@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="8280.html">[前]</a><a href="8282.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8272.html">   8272 2003-10-15 20:47 [TORU NOMURA &lt;toru200] ランキングをつける方法？                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8273.html">   8273 2003-10-15 21:51 ┗[UNO Shintaro &lt;uno@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8274.html">   8274 2003-10-15 22:16 　┗[TORU NOMURA &lt;toru200]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8275.html">   8275 2003-10-15 22:40 　　┣[&quot;HIGUCHI Koichi&quot; &lt;ko]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8276.html">   8276 2003-10-15 23:09 　　┃┗[TORU NOMURA &lt;toru200]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8277.html">   8277 2003-10-15 23:20 　　┃　┣[mohri &lt;mohri@xxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8278.html">   8278 2003-10-15 23:31 　　┃　┗[UNO Shintaro &lt;uno@xx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8279.html">   8279 2003-10-15 23:34 　　┃　　┗[UNO Shintaro &lt;uno@xx]                             </a></span>
<span class="current">-&gt;&nbsp;<a href="8281.html">   8281 2003-10-16 03:32 　　┗[seiji takegata &lt;take]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8282.html">   8282 2003-10-16 19:56 　　　┗[TORU NOMURA &lt;toru200]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8292.html">   8292 2003-10-18 04:26 　　　　┗[seiji takegata &lt;take]                               </a></span>
</pre>
</body>
</html>
