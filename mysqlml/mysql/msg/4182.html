<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4182</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="4181.html">[Á°]</a><a href="4183.html">[¼¡]</a><a href="../list/4101-4200.html">[ÈÖ¹æ½ç°ìÍ÷]</a><a href="../thread/4101-4200.html">[¥¹¥ì¥Ã¥É°ìÍ÷]</a></p>
<p class="id">
mysql:4182
</p>
<div class="header">
<p>
From: Yasuhide OMORI / Âç¿¹ÊÝ±Ñ &lt;Yasuhide OMORI / Âç¿¹ÊÝ±Ñ &lt;omori@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 17 Aug 2001 09:11:41 +0900<br>
Subject: [mysql 04182] Re: nss-mysql ¤Ë¤è¤ëÇ§¾Ú (Re:  ¥¢¥«¥¦¥ó¥È´ÉÍý)<br>

</p>
</div>
<div class="body">
<pre>
On Fri, Aug 17, 2001 at 12:59:58AM +0900,
tateyan &lt;tateyan@xxxxxxxxxx&gt; wrote:
<span class="quote1">&gt; £±¡Ë¡¡nss_mysql.spec ¤Ç¡¡shadow ¤¬¥³¥á¥ó¥È¥¢¥¦¥È¤Ë¤Ê¤Ã¤Æ¤Þ¤¹¤¬</span>
<span class="quote1">&gt; ¡¡¡¡¡¡shadow ¥Ñ¥¹¥ï¡¼¥É¤Ï»È¤Ã¤Æ¤¤¤Ê¤¤¤Î¤Ç¤·¤ç¤¦¤«¡©</span>

shadow ¤òÍ­¸ú¤Ë¤·¤ÆÆ°¤«¤Ê¤«¤Ã¤¿¤Î¤Ç¡¢¤è¤ê¥·¥ó¥×¥ë¤ÊÊý¤¬¤¤¤¤¤Î¤Ç¤Ï¤Ê¤¤
¤«¤È»×¤¤¡¢»î¤·¤Ë shadow ¤òÌµ¸ú¤Ë¤·¤Æ¤¤¤Þ¤¹¡£
¥·¥¹¥Æ¥à¤ÎÂ¦¤ÎÀßÄê¤È¤·¤Æ¤Ï¡¢shadow + MD5 password ¤Ç¤¹¡£

<span class="quote1">&gt; £²¡Ë¥æ¡¼¥¶hoho ¤ËÆþ¤ì¤Æ¤ë¥Ñ¥¹¥ï¡¼¥É¤ÏÀ¸¥Ñ¥¹¥ï¡¼¥É¤Ç¤Ï¤Ê¤¤¤Ç¤¹¤è¤Í¡©</span>
<span class="quote1">&gt; ¡¡¡¡¤³¤³¤ËÆþ¤ì¤ë¤Ù¤­¥Ñ¥¹¥ï¡¼¥É¤Ï crypt¥¨¥ó¥³¡¼¥É¤µ¤ì¤¿¤â¤Î¤«</span>
<span class="quote1">&gt; ¡¡¡¡¤¢¤ë¤¤¤ÏMD5¤Ç¥¨¥ó¥³¡¼¥É¤µ¤ì¤¿¥Ñ¥¹¥ï¡¼¥É¤¬É¬Í×¤Ç¤¹</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¡¡¡¡¡¡À¸¤Ç¤¢¤ì¤Ð encrypt('hoppfcCGi9P8I') ¤È½ñ¤¯¤³¤È¤â¤Ç¤­¤Þ¤¹</span>
<span class="quote1">&gt; ¡¡¡¡¡¡salt¤ò»ØÄê¤¹¤ë¤Ê¤é¤Ð¡¡encrypt('hoppfcCGi9P8I','xx')</span>
<span class="quote1">&gt;        salt ¤Ï°Å¹æ²½¤Î¤¿¤á¤Î¼ï¡¡xx ¤ÏÇ¤°Õ¤Î£²Ê¸»ú</span>
<span class="quote1">&gt; ¡¡¡¡¡¡¡¡¡Ê¤·¤Ã¤Æ¤Þ¤¹¤è¤ÍÇ°¤Î¤¿¤á¡Ë</span>
<span class="quote1">&gt; ¡¡¡¡¡¡¡ôgrant ¤Ç½ñ¤¯¥Ñ¥¹¥ï¡¼¥É¤ÏÀ¸¤Ç¤¹¤¬¡¢¤³¤ÎÉôÊ¬¤Ï°ã¤¤¤Þ¤¹¤Î¤Ç</span>
<span class="quote1">&gt; ¡¡¡¡¡¡¡ôº®Æ±¤·¤Ê¤¤¤è¤¦¤Ë¤Í¤§</span>

encrypt ´Ø¿ô¤ÏÃÎ¤ê¤Þ¤»¤ó¤Ç¤·¤¿¡£¤¢¤ê¤¬¤È¤¦¤´¤¶¤¤¤Þ¤¹¡£

$ perl -e &quot;print crypt('password','XX')&quot;

¤È¤«¤¤¤¦É÷¤Ë¼Â¹Ô¤·¤Æ password ¥¨¥ó¥È¥ê¤òºîÀ®¤·¤Æ¤Þ¤·¤¿¡£

<span class="quote1">&gt; ¤³¤ÎÊÕ¤Înss_ ¤Ë´Ö¤¹¤ë¾ðÊó¤È¤·¤Æ¤Ï¤¢¤È¤Ï</span>
<span class="quote1">&gt; /etc/nsswitch.conf ¤¬¤É¤¦ÀßÄê¤·¤Æ¤¤¤ë¤«</span>
<span class="quote1">&gt; ¤È¤¤¤¦¤Î¤â¾ðÊó¤È¤·¤Æ¤ÏÉ¬Í×¤Ç¤¹</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; °ÊÁ°½ñ¤¤¤¿¤â¤Î¤Ç¤Ï</span>
<span class="quote1">&gt; passwd:         files mysql</span>
<span class="quote1">&gt; group:          files mysql</span>
<span class="quote1">&gt; shadow:         files mysql</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¤Ç¤¹¤¬¡¡¤¿¤¤¤Æ¤¤¤Ïcompat¤Ä¤«¤Ã¤Æ¤¿¤ê¤·¤Þ¤¹¤Î¤Ç</span>
<span class="quote1">&gt; passwd:         compat mysql</span>
<span class="quote1">&gt; group:          compat mysql</span>
<span class="quote1">&gt; shadow:         compat mysql</span>
<span class="quote1">&gt; ¤Ç¤â²Ä¤Ç¤·¤¿</span>

$ egrep '^(passwd|group|shadow):' /etc/nsswitch.conf 
passwd:     files nisplus nis mysql
shadow:     files nisplus nis mysql
group:      files nisplus nis mysql

¤È¤¤¤¦ÆâÍÆ¤Ç¡¢ÊÑ¹¹ÆâÍÆ¤Ï

$ rcsdiff -u /etc/nsswitch.conf 
===================================================================
RCS file: /etc/RCS/nsswitch.conf,v
retrieving revision 1.1
diff -u -r1.1 /etc/nsswitch.conf
--- /etc/nsswitch.conf  2001/08/06 07:24:28     1.1
+++ /etc/nsswitch.conf  2001/08/16 02:23:30
@@ -30,9 +30,9 @@
 #shadow:    db files nisplus nis
 #group:     db files nisplus nis
 
-passwd:     files nisplus nis
-shadow:     files nisplus nis
-group:      files nisplus nis
+passwd:     files nisplus nis mysql
+shadow:     files nisplus nis mysql
+group:      files nisplus nis mysql
 
 #hosts:     db files nisplus nis dns
 hosts:      files nisplus nis dns

¤È¤¤¤¦¤¢¤ó¤Ð¤¤¤Ç¤¹¡£

<span class="quote2">&gt; &gt; ¾åµ­¤Î SQL Ê¸¤ò¼Â¹Ô¤·¤¿¾å¤ÇÇ§¾Ú¤ò»î¤ß¤Þ¤·¤¿¤¬¡¢¤ä¤Ï¤ê¥í¥°¤ò¸«¤ë¸Â¤ê¤Ç</span>
<span class="quote2">&gt; &gt; ¤Ï password ¤ò SELECT ¤·¤Æ¤¤¤ëÍÍ»Ò¤Ï¤Ê¤¯¡¢/var/log/messages ¤Ç¤Ï</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; Aug 16 11:25:19 vine libnss_mysql[2307]: endpwent called</span>
<span class="quote2">&gt; &gt; Aug 16 11:25:19 vine libnss_mysql[2307]: endpwent: pwent was NULL</span>
<span class="quote2">&gt; &gt; Aug 16 11:25:19 vine libnss_mysql[2307]: endpwent finished</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; ¤È¤¤¤¦É÷¤Ê¥í¥°¤¬Íî¤Á¤Æ¤¤¤Þ¤·¤¿¡£</span>
<span class="quote1">&gt; ¤È¤¤¤¦¤³¤È¤Ï¡¡libnss_mysql¤ÏÇ§¼±¤µ¤ì¤Æ¤Þ¤¹¤Î¤Ç</span>
<span class="quote1">&gt; ¤¢¤È¤Ï¡¡ËÜÅö¤ËÀßÄê¥Õ¥¡¥¤¥ë¤«¥³¥ó¥Ñ¥¤¥ë¥ª¥×¥·¥ç¥ó¤¬°­¤¤¤À¤±¤È»×¤¤¤Þ¤¹</span>

»ÅÀÚ¤ê¤Ê¤ª¤·¤¿Êý¤¬Áá¤«¤Ã¤¿¤ê¤¹¤ë¤Î¤«¤Ê¤¡¡Ä?

<span class="quote2">&gt; &gt; MySQL-3.23.37</span>
<span class="quote2">&gt; &gt; glibc-2.1.3</span>
<span class="quote2">&gt; &gt; linux-2.2.18</span>
<span class="quote2">&gt; &gt; (Vine-2.1.5 + updates)</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; ¤È¤¤¤¦´Ä¶­¤Ê¤Î¤Ç¤¹¤¬¡Ä°ìÂÎ¤É¤³¤ËÌäÂê¤¬¤¢¤ë¤Î¤Ç¤·¤ç¤¦¤«?</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; ¥½¡¼¥¹¤ò¤Á¤ç¤Ã¤ÈÆÉ¤ó¤Ç¤ß¤¿¤Î¤Ç¤¹¤¬¡¢_nss_mysql_endpwent ¤Î¸Æ½Ð¸µ¤¬²¿¤Ê</span>
<span class="quote2">&gt; &gt; ¤Î¤«¡¢¤µ¤Ã¤Ñ¤êÊ¬¤«¤é¤ººÃÀÞ¤·¤Þ¤·¤¿ (;_;)</span>
<span class="quote1">&gt; ¤¨¤Ã¤È¡¡¤³¤ÎÊÕ¤Ï¤â¤¦¡¡man nsswitch.conf ¤«¤é¤¿¤É¤Ã¤¿¤ê¤·¤Ê¤±¤ì¤Ð...</span>
<span class="quote1">&gt; ¤·¤Þ¤¤¤Ë¤Ï¡¡pam ¤â¤«¤«¤ï¤Ã¤Æ¤­¤Æ...</span>
<span class="quote1">&gt; ÆÍ¤Ã¹þ¤Þ¤ì¤ë¤È»ä¤â¤ª¼ê¾å¤²¤Ç¤¹</span>

GNU/Linux ¤Î¾ì¹ç¡¢nss ´Ø·¸¤Ï info libc ¤òÆÉ¤à¤Î¤¬°ìÈÖ¤¤¤¤¤Î¤Ç¤·¤ç¤¦¤«¡Ä?

PAM ¤ÎÂ¦¤Ç»²¹Í¤Ë¤Ê¤ë¤Î¤Ï
<a href="http://www.kernel.org/pub/linux/libs/pam/Linux-PAM-html/pam_modules.html">http://www.kernel.org/pub/linux/libs/pam/Linux-PAM-html/pam_modules.html</a>
¤¢¤¿¤ê¤¬°ì¼¡¾ðÊó¤Î¤è¤¦¤Ç¤¹¡£

ÊÌÃÊµÞ¤¤¤Ç¤¤¤ëÌõ¤Ç¤Ï¤Ê¤¤¤Î¤Ç¤¹¤¬¡¢Â¿Ê¬¾¯¤·¤º¤Ä»þ´Ö¤ò¼è¤Ã¤Æ¾Ã²½¤·¤Æ¤ª¤«
¤Ê¤¤¤È´Î¿´¤Ê¤È¤­¤Ë¤Ê¤Ã¤Æ¾Ç¤ë¤³¤È¤Ë¤Ê¤ê¤½¤¦¡Ä¡£

<span class="quote1">&gt; ¤Õ¤¦¡¡¥Ç¥£¥¹¥¯¥¯¥é¥Ã¥·¥å¤Ç¡¡¤è¤¦¤ä¤¯¥á¡¼¥ë¤ä¤ê¼è¤ê¤Ç¤­¤ë´Ä¶­¤Ë¤Ê¤Ã¤¿</span>

¤ªÈè¤ì¤µ¤Þ¤Ç¤¹¡£
»ä¤Î¼«Âð¥Þ¥·¥ó¤Ï 7/29 ¤Ë¥×¥é¥¤¥Þ¥ê¥Þ¥¹¥¿¤Î HDD (Win 95 ÍÑ) ¤¬¤ªË´¤¯¤Ê
¤ê¤Ë¤Ê¤Ã¤Æ¡¢¤½¤ì°ÊÍèÅÅ¸»Æþ¤ì¤Æ¤Þ¤»¤ó ^^;;;
-- 
Yasuhide OMORI / Âç¿¹ÊÝ±Ñ

</pre>
</div>
<p class="button"><a href="4181.html">[Á°]</a><a href="4183.html">[¼¡]</a><a href="../list/4101-4200.html">[ÈÖ¹æ½ç°ìÍ÷]</a><a href="../thread/4101-4200.html">[¥¹¥ì¥Ã¥É°ìÍ÷]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="2707.html">   2707 2000-11-17 02:42 [tateyan &lt;tateyan@xxx] ¥¢¥«¥¦¥ó¥È´ÉÍý                          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2710.html">   2710 2000-11-18 21:12 ¨²[Tatsuo Hiramatsu &lt;ta]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2711.html">   2711 2000-11-19 00:32 ¨­¨²[¤È¤ß¤¿¤Þ¤µ¤Ò¤í &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2712.html">   2712 2000-11-19 00:50 ¨­¨±[inano &lt;inano@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2721.html">   2721 2000-11-19 19:25 ¨­¡¡¨±[Tatsuo Hiramatsu &lt;ta] Ê¡²¬»ÙÉô¡©                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2726.html">   2726 2000-11-21 14:29 ¨­¡¡¡¡¨²[Tatsuo Hiramatsu &lt;ta]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2727.html">   2727 2000-11-21 15:37 ¨­¡¡¡¡¨±[Tatsuo Hiramatsu &lt;ta]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2730.html">   2730 2000-11-24 11:53 ¨­¡¡¡¡¡¡¨±[Michiaki Mitachi &lt;mi]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2731.html">   2731 2000-11-24 14:14 ¨­¡¡¡¡¡¡¡¡¨±[Tatsuo Hiramatsu &lt;ta]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2732.html">   2732 2000-11-24 20:55 ¨­¡¡¡¡¡¡¡¡¡¡¨±[inano &lt;inano@xxxxxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2734.html">   2734 2000-11-25 19:14 ¨­¡¡¡¡¡¡¡¡¡¡¡¡¨±[Tatsuo Hiramatsu &lt;ta]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4168.html">@  4168 2001-08-13 20:06 ¨±[Yasuhide OMORI / Âç¿] nss-mysql ¤Ë¤è¤ëÇ§¾Ú (Re:  ¥¢¥«¥¦¥ó¥È´ÉÍý)</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4169.html">   4169 2001-08-13 22:40 ¡¡¨±[tateyan &lt;tateyan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4170.html">   4170 2001-08-13 23:04 ¡¡¡¡¨±[tateyan &lt;tateyan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4176.html">   4176 2001-08-16 11:32 ¡¡¡¡¡¡¨±[Yasuhide OMORI / Âç¿]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4178.html">   4178 2001-08-16 20:17 ¡¡¡¡¡¡¡¡¨²[¤È¤ß¤¿¤Þ¤µ¤Ò¤í &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4181.html">   4181 2001-08-17 08:52 ¡¡¡¡¡¡¡¡¨­¨±[Yasuhide OMORI / Âç¿]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4180.html">   4180 2001-08-17 00:59 ¡¡¡¡¡¡¡¡¨±[tateyan &lt;tateyan@xxx]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="4182.html">   4182 2001-08-17 09:11 ¡¡¡¡¡¡¡¡¡¡¨±[Yasuhide OMORI / Âç¿]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4183.html">   4183 2001-08-17 12:46 ¡¡¡¡¡¡¡¡¡¡¡¡¨±[Seiji Tateyama &lt;tate]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4184.html">   4184 2001-08-17 23:04 ¡¡¡¡¡¡¡¡¡¡¡¡¡¡¨±[tateyan &lt;tateyan@xxx]                         </a></span>
</pre>
</body>
</html>
