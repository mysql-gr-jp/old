<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11211</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11210.html">[前]</a><a href="11212.html">[次]</a><a href="../list/11201-11300.html">[番号順一覧]</a><a href="../thread/11201-11300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11211
</p>
<div class="header">
<p>
From: kiseki &lt;kiseki &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 19 Mar 2005 23:58:42 +0900 (JST)<br>
Subject: [mysql 11211] Re: 4.1.1と3.23.58での違い<br>

</p>
</div>
<div class="body">
<pre>
 こんばんわ。kisekiです。

From: kiseki &lt;ml@xxxxxxxxxx&gt;
Subject: <a href="11210.html">[mysql 11210]</a> Re: 4.1.1と3.23.58での違い
Date: Sat, 19 Mar 2005 23:34:24 +0900 (JST)

<span class="quote2">&gt; &gt; 以下のようなテーブルがレンタルサーバ上にあります。MySQL 4.1.1です。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; InnoDB</span>
<span class="quote2">&gt; &gt; +--------+---------------+------+-----+---------+-------+</span>
<span class="quote3">&gt; &gt; | Field  | Type          | Null | Key | Default | Extra |</span>
<span class="quote2">&gt; &gt; +--------+---------------+------+-----+---------+-------+</span>
<span class="quote3">&gt; &gt; | uniqid | varchar(32)   |      | PRI |         |       |</span>
<span class="quote3">&gt; &gt; | email  | varchar(40)   | YES  |     | NULL    |       |</span>
<span class="quote3">&gt; &gt; | dt     | timestamp(14) | YES  |     | NULL    |       |</span>
<span class="quote2">&gt; &gt; +--------+---------------+------+-----+---------+-------+</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; それに対してPHPから以下のようなSQLを発行し、正常に実行されていたのですが、</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; mysql_query(&quot;insert into tempid (uniqid, email) values('&quot;.$uid.&quot;', '&quot;.$email.&quot;')&quot;)</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; レンタルサーバを移転しMySQL 3.23.58となりましたところ、インサートされなくなってしまいました。</span>
<span class="quote2">&gt; &gt; どこが問題なのでしょうか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 試した訳でも無いので外していたらすみませんです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; <a href="http://dev.mysql.com/doc/mysql/ja/innodb-in-mysql-3-23.html">http://dev.mysql.com/doc/mysql/ja/innodb-in-mysql-3-23.html</a></span>
<span class="quote2">&gt; |  3.23 では、少なくとも innodb_data_file_path でデータファイルの名前</span>
<span class="quote2">&gt; | とサイズを指定する必要があります。my.cnf で innodb_data_home_dir を</span>
<span class="quote2">&gt; | 指定しない場合は、デフォルトで MySQL の datadir にこれらのファイルが</span>
<span class="quote2">&gt; | 作成されます。innodb_data_home_dir を空の文字列として指定すれば、</span>
<span class="quote2">&gt; | innodb_data_file_path でデータファイルへの絶対パスを指定できます。</span>
<span class="quote2">&gt; | これを最小限の方法で変更するには、[mysqld] セクションに次の行を追加</span>
<span class="quote2">&gt; | します。</span>
<span class="quote2">&gt; | innodb_data_file_path=ibdata:30M</span>
<span class="quote1">&gt; とありますので、/your_home_dir/.my.cnf に以下を記載して試されては如何</span>
<span class="quote1">&gt; でしょうか?</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; .my.cnfに記載する内容</span>
<span class="quote1">&gt; [mysqld]</span>
<span class="quote1">&gt; innodb_data_file_path=ibdata:30M</span>

あっ…良く考えたら、my.cnfを反映させる為にはmysqldを再起動せんと駄目な気
がします。レンタルサーバを御利用なのですよね…InnoDBのテーブルをご利用と
の事ですがMyISAMだと駄目なのでしょうか?トランザクションが必要だとかでしょ
うか?MyISAMでも構わないのであればテーブルをMyISAMで再構築されては如何でし
ょう?どうしてもInnoDBで無いといけないのであれば、ご利用のレンタルサーバに
mysqldを再起動してもらうとか相談されては?

# ちうか…今更、3.*って…


/* ml@xxxxxxxxxx */

</pre>
</div>
<p class="button"><a href="11210.html">[前]</a><a href="11212.html">[次]</a><a href="../list/11201-11300.html">[番号順一覧]</a><a href="../thread/11201-11300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11209.html">  11209 2005-03-19 22:41 [荒木　満 &lt;araki@xxxx] 4.1.1と3.23.58での違い                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11210.html">  11210 2005-03-19 23:34 ┗[kiseki &lt;ml@xxxxxxxxx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11211.html">  11211 2005-03-19 23:58 　┗[kiseki &lt;ml@xxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11212.html">  11212 2005-03-19 23:57 　　┗[荒木　満 &lt;araki@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11213.html">  11213 2005-03-20 00:56 　　　┗[kiseki &lt;ml@xxxxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11214.html">  11214 2005-03-20 09:19 　　　　┗[荒木　満 &lt;araki@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11215.html">  11215 2005-03-20 10:06 　　　　　┗[Tadashi Jokagi &lt;ml@x]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11216.html">  11216 2005-03-20 10:25 　　　　　　┗[荒木　満 &lt;araki@xxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11217.html">  11217 2005-03-20 17:01 　　　　　　　┗[Hirokazu Aoyama &lt;aoy]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11221.html">  11221 2005-03-21 00:26 　　　　　　　　┗[荒木　満 &lt;araki@xxxx]                       </a></span>
</pre>
</body>
</html>
