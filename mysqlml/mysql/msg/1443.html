<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1443</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1442.html">[前]</a><a href="1444.html">[次]</a><a href="../list/1401-1500.html">[番号順一覧]</a><a href="../thread/1401-1500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1443
</p>
<div class="header">
<p>
From: akon &lt;akon &lt;akon@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 04 Jan 2000 17:31:21 +0900<br>
Subject: [mysql 01443] Re: LEFT JOIN は実用に耐えるか<br>

</p>
</div>
<div class="body">
<pre>
とみたさん 早々のレスありがとうございます。

<span class="quote1">&gt; インデックスの設定に問題があるかもしれないので、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 	explain select count(*) from TableA left join TableB using(key)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; の結果で何かわかるかもしれません。</span>

試してみました

mysql&gt; explain select count(*) from TableA left join TableBe using(key1);
+-----------+------+---------------+------+---------+------+--------+-------+
<span class="quote1">| table     | type | possible_keys | key  | key_len | ref  | rows   | Extra |</span>
+-----------+------+---------------+------+---------+------+--------+-------+
<span class="quote1">| TableA    | ALL  | NULL          | NULL |    NULL | NULL | 252790 |       |</span>
<span class="quote1">| TableB    | ALL  | PRIMARY       | NULL |    NULL | NULL | 134750 |       |</span>
+-----------+------+---------------+------+---------+------+--------+-------+
2 rows in set (0.00 sec)

です。よく分かりません。


<span class="quote1">&gt; また、MySQL は join を使うより、where で条件を指定した方が速いようなので、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 	select count(*) from TableA, TableB where TableA.key = TableB.key</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; としてみると違う結果になるかもしれません。</span>
<span class="quote1">&gt; </span>
そうですね これだと 数十秒で戻ってきます。
が 要件は あくまで ＬＥＦＴ ＪＯＩＮ なんです。
Select 句は 実際は、COUNT(*)ではなくいくつかの項目を指定したいわけで
TableB に一致しないものも含め TableA 全件 なんです。



</pre>
</div>
<p class="button"><a href="1442.html">[前]</a><a href="1444.html">[次]</a><a href="../list/1401-1500.html">[番号順一覧]</a><a href="../thread/1401-1500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1441.html">   1441 2000-01-04 16:37 [akon &lt;akon@xxxxxxxxx] LEFT JOIN は実用に耐えるか              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1442.html">   1442 2000-01-04 16:35 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="1443.html">   1443 2000-01-04 17:31 　┗[akon &lt;akon@xxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1444.html">   1444 2000-01-04 17:32 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1445.html">   1445 2000-01-04 18:37 　　　┗[akon &lt;akon@xxxxxxxxx]                                 </a></span>
</pre>
</body>
</html>
