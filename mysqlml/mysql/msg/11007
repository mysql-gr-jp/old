<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11007</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11006">[前]</a><a href="11008">[次]</a><a href="../list/11001-11100">[番号順一覧]</a><a href="../thread/11001-11100">[スレッド一覧]</a></p>
<p class="id">
mysql:11007
</p>
<div class="header">
<p>
From: naya &lt;naya &lt;SNA02388@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 16 Feb 2005 13:06:40 +0900<br>
Subject: [mysql 11007] Re: 大量にinsertするとブルースクリーンになる<br>

</p>
</div>
<div class="body">
<pre>
みなさん、いろいろアドバイスありがとうございます。
本当に感謝にたえません。

とりあえず、昼休みにDaijuさんと川合さんにご提示いただいた
LOAD DATA INFILE　というのを試してみました。

▼川合さん

<span class="quote1">&gt; DIR /s /b c:\ &gt; c:\file.txt</span>
<span class="quote1">&gt; mysql -uhogehoge -e</span>
<span class="quote1">&gt; &quot;LOAD DATA INFILE 'c:/file.txt' REPLACE INTO TABLE t_url&quot; url</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; といった2行のバッチでよいのでは？</span>

すばらしいです、私には一生思いつかないアイデア...です(^^;

予め
DIR /s /b c:\ &gt; c:\file.txt
しておいてから（これに３分くらいかかるので）、

cd mysql\bin
mysql -e &quot;LOAD DATA INFILE 'c:/file.txt' REPLACE INTO TABLE t_url&quot; url
pause

としてみたら、本当にINSERTされてるの？ってくらい
一瞬で処理が完了してしまい、驚いてます。

検索結果もばっちりでした。
あとは、file.txt内の\を打ち消す(\\に)置換処理を施せばそれで完成っぽいで
す。

Daijuさんの
<span class="quote1">&gt; phpで表示させる段階で，: を \ に置換して表示</span>
これもとても興味ありますが…


▼ bonさん
<span class="quote1">&gt; nayaさんがinsertしてる方法は「表」が悪さをしてるんじゃないですか？</span>
<span class="quote1">&gt; 「表」は0x955Cで\=0x5Cなんで。</span>

その他の「表」を含むレコードをINSERTしてみましたが、なぜだか
Query OK, 1 row affected (0.00 sec)
とうまくいきました。。。（なぜだったんでしょうね・・・）



---

ちなみに、なぜ最新版でなく　MySQL 4.0.14b(Win)なのかというと
「-uのユーザ名」というのがよくわからなかったからです。
セットアップ後デフォルトで用意されているデータベース：mysqlとtestのうち
前者が見えなかったりするのがユーザー名の登録に起因するらしく（わたしの調
べによると(^^;）

川合さんの方法なら最新版MySQLでもイケそうですね。試してみます。

--
naya,
SNA02388@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="11006">[前]</a><a href="11008">[次]</a><a href="../list/11001-11100">[番号順一覧]</a><a href="../thread/11001-11100">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10992">  10992 2005-02-15 13:58 [naya &lt;SNA02388@xxxxx] 大量にinsertするとブルースクリーンになる</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10995">  10995 2005-02-15 15:30 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10997">  10997 2005-02-15 17:34 ┃┗[naya &lt;SNA02388@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10998">  10998 2005-02-15 19:09 ┃　┗[川合孝典 &lt;gcd00051@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10999">  10999 2005-02-15 22:00 ┃　　┣[Kikuo Taniguchi &lt;ki-]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11000">  11000 2005-02-15 22:16 ┃　　┃┣[Kikuo Taniguchi &lt;ki-]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11002">  11002 2005-02-15 23:46 ┃　　┃┗[naya &lt;SNA02388@xxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11003">  11003 2005-02-16 05:47 ┃　　┃　┗[Daiju &lt;d.is.here@xxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11001">  11001 2005-02-15 23:42 ┃　　┗[naya &lt;SNA02388@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11005">  11005 2005-02-16 08:19 ┃　　　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="11007">  11007 2005-02-16 13:06 ┃　　　　┗[naya &lt;SNA02388@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11008">  11008 2005-02-16 13:20 ┃　　　　　┗[Daiju &lt;d.is.here@xxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10996">  10996 2005-02-15 16:34 ┣[Daiju &lt;d.is.here@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11006">  11006 2005-02-16 12:38 ┣[bon &lt;bon@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11025">  11025 2005-02-21 13:04 ┗[naya &lt;SNA02388@xxxxx] 【御礼】 Re: 大量にinsertするとブルースクリーンになる</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11027">  11027 2005-02-21 14:13 　┗[sheep &lt;sheep@xxxxxxx] Re: Windowsのタスクによる任意間隔の実行</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11028">  11028 2005-02-21 14:59 　　┗[naya &lt;SNA02388@xxxxx] （御礼）Re: Windowsのタスクによる任意間隔の実行</a></span>
</pre>
</body>
</html>
