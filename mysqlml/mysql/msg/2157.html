<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2157</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2156.html">[前]</a><a href="2158.html">[次]</a><a href="../list/2101-2200.html">[番号順一覧]</a><a href="../thread/2101-2200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2157
</p>
<div class="header">
<p>
From: "Ningfeng Yang" &lt;"Ningfeng Yang" &lt;yang@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 2 Jun 2000 22:08:06 +0900<br>
Subject: [mysql 02157] Re: フィールドに入っているデータに後方一致した場合エラーを返す方法<br>

</p>
</div>
<div class="body">
<pre><span class="quote1">&gt; 質問１：limit 1ですが、大量にデータを抽出する場合で</span>
<span class="quote1">&gt; 　　　　検索するデーター数が決まっているのならば</span>
<span class="quote1">&gt; 　　　　これを付ければ、メモリの解放やプログラムの実行速度が速くなると理解</span>
していいでしょうか？
無駄な検索が強制禁止されるから、もちろん実行スピードが速くなると思います。

<span class="quote1">&gt;</span>
<span class="quote1">&gt; 質問２：</span>
<span class="quote1">&gt; INSTRで解決したと思ったのですが(^^;</span>
<span class="quote1">&gt; まだ問題があるので相談させてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; $separate = '@';</span>
<span class="quote1">&gt; $mail = explode($separate, $email);</span>
<span class="quote1">&gt; $result = mysql_query ("SELECT maillist FROM kickemail WHERE</span>
INSTR('$mail[1]',maillist) limit 1");
<span class="quote1">&gt; $num = mysql_num_rows($result);</span>
<span class="quote1">&gt; if ($num &gt; 0){</span>
<span class="quote1">&gt; echo "このメールアドレスは使えません &lt;BR&gt;";</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; exit;</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; $mail[1]に、例えば、abc.comが入っているとして、maillistにもabc.comが入って</span>
います。
<span class="quote1">&gt; キックしたいのは、abc.comとそのサブドメイン全てなのですが</span>
<span class="quote1">&gt; INSTRでやると、abcabc.comなどの別のドメインもキックすることになってしまう</span>
ことに気づきました。。
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; INSTR('$mail[1]',maillist)の'$mail[1]'の部分になにか正規表現ができるといい</span>
なと思ってるのですが
<span class="quote1">&gt; ＳＱＬだとそういうことできるでしょうか？</span>
実際に使ってみると、いろいろな問題が出てくるんですね。私が考えられる方法とし
て、$mail[1]とmaillistの前に、一文字を追加して、たとえば、"＠"を追加したら、
"＠abc.com"と
"＠bacabc.com"となり、そうしてからINSTRを使う。
愚かな解決方法かもしれかせんが、実際にちゃんと動いてくれました。

正規表現あまり詳しくないが、正規表現使えば、もっと簡単な書き方ができるかもし
れません。

楊


</pre>
</div>
<p class="button"><a href="2156.html">[前]</a><a href="2158.html">[次]</a><a href="../list/2101-2200.html">[番号順一覧]</a><a href="../thread/2101-2200.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="2145.html">   2145 2000-06-01 20:51 [&lt;moeru@xxxxxxxxxx&gt;  ] フィールドに入っているデータに後方一致した場合エラーを返す方法</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2146.html">   2146 2000-06-01 21:32 ┗["Ningfeng Yang" &lt;yan]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2147.html">   2147 2000-06-01 22:07 　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2148.html">   2148 2000-06-01 22:40 　　┗["Ningfeng Yang" &lt;yan]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2149.html">   2149 2000-06-01 23:36 　　　┣[&lt;moeru@xxxxxxxxxx&gt;  ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2152.html">   2152 2000-06-02 00:04 　　　┃┗["Ningfeng Yang" &lt;yan]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2155.html">   2155 2000-06-02 18:55 　　　┃　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                             </a></span>
<span class="current">-&gt;&nbsp;<a href="2157.html">   2157 2000-06-02 22:08 　　　┃　　┣["Ningfeng Yang" &lt;yan]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2159.html">   2159 2000-06-02 23:41 　　　┃　　┗[とみたまさひろ &lt;tomm]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2160.html">   2160 2000-06-03 00:47 　　　┃　　　┣["Ningfeng Yang" &lt;yan]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2161.html">   2161 2000-06-03 00:51 　　　┃　　　┃┗["Ningfeng Yang" &lt;yan]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2162.html">   2162 2000-06-03 00:54 　　　┃　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2150.html">   2150 2000-06-01 23:48 　　　┗[とみたまさひろ &lt;tomm]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2151.html">   2151 2000-06-02 00:02 　　　　┗["Ningfeng Yang" &lt;yan]                               </a></span>
</pre>


</body></html>