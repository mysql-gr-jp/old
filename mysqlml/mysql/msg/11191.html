<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11191</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11190.html">[前]</a><a href="11192.html">[次]</a><a href="../list/11101-11200.html">[番号順一覧]</a><a href="../thread/11101-11200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11191
</p>
<div class="header">
<p>
From: Toshinori Kawai &lt;Toshinori Kawai &lt;kawai@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 18 Mar 2005 17:28:38 +0900<br>
Subject: [mysql 11191] MYSQL4.1.9をアンインストールし、MYSQL4.0.23をインストールしたときの状況<br>

</p>
</div>
<div class="body">
<pre>河合と申します。
以前よりお世話になっております。

結構昔の話なのですが・・・
現在の状況を・・・・。
以下の現象の件で「mysqld --print-defaults」を調べようと試みたのですが、

こういう現象になりました。
DOSプロンプト上では、
--basedir=C:/mysql 
--datadir=c:/mysql/data 
--datadir=C:/mysql/data 
--language=japanese 
--default-character-set=ujis 
というパラメータが出力されました。

その後、OSのMysqlサービスが強制終了されました（予告もなく）。
OSのイベントログを確認してみたのですが、

・MySql: 'host.MYI' ・ユ・。・、・・ウォ、ッサ、ャ、ヌ、ュ、″、サ、・(errno: 142)
というログ、
・Fatal error: Can't open privilege tables: File 'C:\mysql\share\charsets\?.conf' not found (Errcode: 22)
というログ、
・MySql: Shutdown エーホサ
というログの３つが出力されました。

ちなみにOSはWindowsXP ServicePack2を使用しています。
たしかにMYSQL4.1.9の「何か」の設定は残っていそうですが、これらの情報でわ
かることってありますか？

あと、OSの再インストールだけは避けたいので・・・・。
よろしくお願いいたします。

<span class="quote2">&gt; &gt; １．現象１</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; MYSQL4.1.9をアンインストールし、MYSQL4.0.23をインスト</span>
<span class="quote1">&gt; ール。</span>
<span class="quote2">&gt; &gt; 設定し終え、MYSQLサービスを立ち上げようとすると、</span>
<span class="quote2">&gt; &gt; 「システムエラーが発生しました。　システムエラー　1067</span>
<span class="quote1">&gt; が発生しました。　</span>
<span class="quote2">&gt; &gt; プロセスを途中で強制終了しました」</span>
<span class="quote2">&gt; &gt; となる。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ver4.1.9を使用していたときの設定が残っていたりしませんか</span>
<span class="quote1">&gt; ？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; インストール/アンインストールを繰り返した場合、</span>
<span class="quote1">&gt; basedirやdatadirの設定が実は残っていてそれで</span>
<span class="quote1">&gt; 起動に失敗するというケースがあります。</span>
<span class="quote1">&gt; （古い設定情報に基づいたパスにはmysqlが無い）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; まずは、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; prompt&gt; mysqld --print-defaults</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; などで起動時にどういったパラメータを使用しているか</span>
<span class="quote1">&gt; 確認されるのが良いと思います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; また、Windowsのサービスで起動する場合には、サービスの</span>
<span class="quote1">&gt; プロパティ→全般→実行ファイルのパス、のところで、</span>
<span class="quote1">&gt; --defaults-file=### が指定されている場合がありますので</span>
<span class="quote1">&gt; （インストーラを使用した場合）、そこで指定されている</span>
<span class="quote1">&gt; my.iniの設定も確認する必要があります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --defaults-fileが指定されると、C:\my.ini等は読まれません</span>
<span class="quote1">&gt; 。</span>



</pre>
</div>
<p class="button"><a href="11190.html">[前]</a><a href="11192.html">[次]</a><a href="../list/11101-11200.html">[番号順一覧]</a><a href="../thread/11101-11200.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="11150.html">  11150 2005-03-10 23:42 [Toshinori Kawai &lt;zan] マルチ質問                              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11151.html">  11151 2005-03-11 00:23 ┣[Manabu Kobayashi &lt;ma] Re: [mysql 11150] マルチ質問          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11152.html">  11152 2005-03-11 09:38 ┣[Tetsuro Ikeda &lt;ikdtt]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11191.html">  11191 2005-03-18 17:28 ┃┗[Toshinori Kawai &lt;kaw] MYSQL4.1.9をアンインストールし、MYSQL4.0.23をインストールしたときの状況</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11218.html">  11218 2005-03-20 18:55 ┃　┗[Toshinori Kawai &lt;zan] Re: 【自己解決】 MYSQL4.1.9をアンインストールし、MYSQL4.0.23をインストールしたときの状況</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11153.html">  11153 2005-03-11 10:03 ┗["kondo kondo" &lt;umius]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11154.html">  11154 2005-03-12 01:28 　┗["Takashi Hoshizawa" ] MySQLを使ったフリーのサーチエンジン </a></span>
</pre>


</body></html>