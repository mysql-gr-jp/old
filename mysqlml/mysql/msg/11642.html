<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11642</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11641.html">[前]</a><a href="11643.html">[次]</a><a href="../list/11601-11700.html">[番号順一覧]</a><a href="../thread/11601-11700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11642
</p>
<div class="header">
<p>
From: &lt;a2cf@xxxxxxxxxx&gt;<br>
Date: Wed, 29 Jun 2005 12:31:51 +0900<br>
Subject: [mysql 11642] MySQL4.1.12でのLIKE演算子<br>

</p>
</div>
<div class="body">
<pre>
はじめまして、atsushiといいます。

ネットで調べたのですがわからなかったので教えてください。
MySQL4.1.12で、バイト数指定のインデックスを張ったテーブルに対して、LIKE演算子を使ったselectを実行すると条件によって検索結果が0件になります。
具体的には以下の方法で作成したtest1テーブルのData列に対して、インデックスに指定した5バイト数より長い文字列の後に%や_で条件を指定してもマッチしなくなります。
念のため4.0.22でも調べたところ問題ありませんでした。
これは仕様なのでしょうか？また、他の方でも発生しておりますでしょうか？

何とぞよろしくお願いします。


●テストテーブルtest1作成 
CREATE TABLE test1 (
    Data VARCHAR(50) NOT NULL,
    INDEX  IdxData (Data(5))
  ) TYPE = InnoDB;

insert into test1 (Data) values ('abcdefg');
insert into test1 (Data) values ('abcde101');
insert into test1 (Data) values ('abcde102');
insert into test1 (Data) values ('abcde103');
insert into test1 (Data) values ('abcde111');
insert into test1 (Data) values ('abcde112');
insert into test1 (Data) values ('abcde113');


●4.1.12の場合 (Linux (x86, glibc-2.2, static, gcc) Standard版)
select Data from test1 where Data like 'abcde%';  →7件 正常
select Data from test1 where Data like 'abcdef%';  →0件 異常
select Data from test1 where Data like 'abcde1%';  →0件 異常
select Data from test1 where Data like 'abcde10%';  →0件 異常
select Data from test1 where Data like 'abcde__';  →1件 正常
select Data from test1 where Data like 'abcde___';  →6件 正常
select Data from test1 where Data like 'abcdef_';  →0件 異常
select Data from test1 where Data like 'abcde1__';  →0件 異常


●4.0.22の場合 (Linux (x86, glibc-2.2, static, gcc) Standard版)
select Data from test1 where Data like 'abcde%';  →7件 正常
select Data from test1 where Data like 'abcdef%';  →1件 正常
select Data from test1 where Data like 'abcde1%';  →6件 正常
select Data from test1 where Data like 'abcde10%';  →3件 正常
select Data from test1 where Data like 'abcde101%';  →1件 正常
select Data from test1 where Data like 'abcde__';  →1件 正常
select Data from test1 where Data like 'abcde___';  →6件 正常
select Data from test1 where Data like 'abcdef_';  →1件 正常
select Data from test1 where Data like 'abcde1__';  →6件 正常




</pre>
</div>
<p class="button"><a href="11641.html">[前]</a><a href="11643.html">[次]</a><a href="../list/11601-11700.html">[番号順一覧]</a><a href="../thread/11601-11700.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="11642.html">  11642 2005-06-29 12:31 [&lt;a2cf@xxxxxxxxxx&gt;   ] MySQL4.1.12でのLIKE演算子               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11643.html">  11643 2005-06-29 13:13 ┗[&quot;Ryousuke Wayama&quot; &lt;w]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11644.html">  11644 2005-06-29 13:21 　┗[&quot;T.Sasaki&quot; &lt;papasan2]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11645.html">  11645 2005-06-29 14:52 　　┗[&lt;a2cf@xxxxxxxxxx&gt;   ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11646.html">  11646 2005-06-29 16:36 　　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11650.html">  11650 2005-06-30 01:28 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11651.html">  11651 2005-06-30 06:39 　　　　　┣[&quot;T.Sasaki&quot; &lt;papasan2]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11652.html">  11652 2005-06-30 09:33 　　　　　┣[&lt;a2cf@xxxxxxxxxx&gt;   ]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11661.html">  11661 2005-06-30 11:21 　　　　　┃┗[とみたまさひろ &lt;tomm]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11662.html">  11662 2005-06-30 11:54 　　　　　┃　┣[&lt;a2cf@xxxxxxxxxx&gt;   ]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11663.html">  11663 2005-06-30 12:04 　　　　　┃　┗[&quot;T.Sasaki&quot; &lt;papasan2]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11653.html">  11653 2005-06-30 09:53 　　　　　┗[&quot;Shuichi Tamagawa&quot; &lt;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11654.html">  11654 2005-06-30 10:18 　　　　　　┣[&lt;takeshi@xxxxxxxxxx&gt;]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11656.html">  11656 2005-06-30 10:44 　　　　　　┃┣[&quot;T.Sasaki&quot; &lt;papasan2]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11657.html">  11657 2005-06-30 10:52 　　　　　　┃┃┗[&quot;T.Sasaki&quot; &lt;papasan2]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11660.html">  11660 2005-06-30 11:18 　　　　　　┃┃　┗[&quot;T.Sasaki&quot; &lt;papasan2]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11665.html">  11665 2005-07-01 05:05 　　　　　　┃┗[&quot;Shuichi Tamagawa&quot; &lt;]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11655.html">  11655 2005-06-30 10:43 　　　　　　┗[&lt;a2cf@xxxxxxxxxx&gt;   ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11658.html">  11658 2005-06-30 11:11 　　　　　　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11659.html">  11659 2005-06-30 11:15 　　　　　　　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                       </a></span>
</pre>
</body>
</html>
