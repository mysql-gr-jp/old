<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7455</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="7454.html">[前]</a><a href="7456.html">[次]</a><a href="../list/7401-7500.html">[番号順一覧]</a><a href="../thread/7401-7500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7455
</p>
<div class="header">
<p>
From: &lt;hatanaka@xxxxxxxxxx&gt;<br>
Date: Thu, 10 Apr 2003 16:31:31 +0900<br>
Subject: [mysql 07455] Re: MySQL に JDBC による接続時に java.io . IOException<br>

</p>
</div>
<div class="body">
<pre>
はたなかです。申し訳ございません、長文になりました。

まず、netstat -l を実行したところ、

[root@rasis136 sbin]# netstat -l
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 *:1024                  *:*                     LISTEN
tcp        0      0 localhost:1025          *:*                     LISTEN
tcp        0      0 *:1027                  *:*                     LISTEN
tcp        0      0 *:swat                  *:*                     LISTEN
tcp        0      0 *:mysql                 *:*                     LISTEN
tcp        0      0 *:netbios-ssn           *:*                     LISTEN
tcp        0      0 *:sunrpc                *:*                     LISTEN
tcp        0      0 *:x11                   *:*                     LISTEN
tcp        0      0 *:http                  *:*                     LISTEN
tcp        0      0 *:ftp                   *:*                     LISTEN
tcp        0      0 *:ssh                   *:*                     LISTEN
tcp        0      0 *:https                 *:*                     LISTEN
udp        0      0 *:1024                  *:*
udp        0      0 localhost:1025          *:*
udp        0      0 rasis136:netbios-ns     *:*
udp        0      0 *:netbios-ns            *:*
udp        0      0 rasis136:netbios-dgm    *:*
udp        0      0 *:netbios-dgm           *:*
udp        0      0 *:sunrpc                *:*

・・・以下続く

と表示されました。
mysql という文字列がありますが、これは/etc/servicesに記述されているポート番
号（3306）に置き換わるものと考えてよいのでしょうか？

それから、

<span class="quote1">&gt;木下＠初心者と申します。</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt; MySQLが稼動しているマシンで上のソース（IPアドレスは"locahost"に変えて）</span>
を実
<span class="quote2">&gt;&gt; 行すると、エラーなくMySQLに接続できるのですが、</span>
<span class="quote2">&gt;&gt; 別のマシンからになると、以下のエラーが出ます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;「localhost だと接続できる」とあるので、MySQLサーバは起動しているみたいで</span>
すね。
<span class="quote1">&gt;</span>
<span class="quote1">&gt;コマンドプロンプトから、</span>
<span class="quote1">&gt;MySQL\bin\mysql.exe -h localhost -u root とかだと接続できて、</span>
<span class="quote1">&gt;MySQL\bin\mysql.exe -h ホスト名 -u root</span>
<span class="quote1">&gt; とかだと接続できないんですよね。きっと</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;きっと、マニュアルに書いてあると思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;きっと、mysql スキーマの、hostテーブルとか、</span>
<span class="quote1">&gt;user テーブルにエントリを追加すればいいのかも。</span>

コマンドプロンプトからmysql.exeってことは、もしかして、もしかし
て、Windows2000マシンにもMySQLをインストールしないといけないんでしょうか？
LinuxマシンにあるMySQLサーバーに、LAN越しにWIN2000マシンから接続したいので
すが・・・
Linuxにも、WIN2000にも、JCBCドライバは入れてあります。

私のコードはスタックトレースをすべて表示しない仕様になっていたので、表示す
るように変えてみたところ以下のエラーが出ています。

java.sql.SQLException: Communication link failure: java.io.IOException
        at com.mysql.jdbc.MysqlIO.init(Unknown Source)
        at com.mysql.jdbc.Connection.connectionInit(Unknown Source)
        at com.mysql.jdbc.jdbc2.Connection.connectionInit(Unknown Source)
        at com.mysql.jdbc.Driver.connect(Unknown Source)
        at java.sql.DriverManager.getConnection(DriverManager.java:512)
        at java.sql.DriverManager.getConnection(DriverManager.java:171)
        at Sample1.main(Sample1.java:18)

それから、LinuxのMySQLのuserテーブルには、localhostのtestユーザー、マシン名
のtestユーザー共に登録してあります。




</pre>
</div>
<p class="button"><a href="7454.html">[前]</a><a href="7456.html">[次]</a><a href="../list/7401-7500.html">[番号順一覧]</a><a href="../thread/7401-7500.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="7455.html">   7455 2003-04-10 16:31 [&lt;hatanaka@xxxxxxxxxx] Re: MySQL に JDBC による接続時に java.io . IOException</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7456.html">   7456 2003-04-10 17:00 ┣[KazukiSugiyama &lt;k-su]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7458.html">   7458 2003-04-10 17:00 ┣["Yoshifumi Kinoshita]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7459.html">   7459 2003-04-10 17:04 ┗[Hironaka &lt;hironaka@x]                                       </a></span>
</pre>


</body></html>