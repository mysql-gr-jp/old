<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10108</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10107.html">[前]</a><a href="10109.html">[次]</a><a href="../list/10101-10200.html">[番号順一覧]</a><a href="../thread/10101-10200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10108
</p>
<div class="header">
<p>
From: 渡邊昌之 &lt;渡邊昌之 &lt;mark@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 10 Sep 2004 15:43:02 +0900<br>
Subject: [mysql 10108] Re: datetime型の年月検索<br>

</p>
</div>
<div class="body">
<pre>
渡邊と申します。

WHERE DATE_FORMAT(regDateTime, &quot;%Y-%m-%d) = &quot;2004-09-09&quot;
だとかなり処理が重いんじゃないかと思われます。

処理の重さという点では、

where regDateTime&gt;='2004-09-09' and regDateTime&lt;'2004-09-10'

というのがいいんじゃないかと思います。
00:00:00は省略すると、そう解釈されるみたいなので
上記の構文で行けるはずです。

フィールドに何らかの処理をしてから比較するのは、最悪の場合すべてのレコードに
処理をしてから、比較する事になるので、レコード数が多くなると
処理が重くなる傾向に有ります。
なるべくフィールドそのものはいじらずに、直接評価できるように
した方が効率がいいと思います。

他の部分の文法じゃなくて、datetimeというのはもちろんフィールド名に
書き換えたと思われますが、&amp;&amp;が問題ではないかと思います。

yoshiki &lt;yoshiki@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; 　yoshikiです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; レス有難うございました。</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt;where datetime&gt;='2004-09-09 00:00:00' &amp;&amp; datetime&lt;'2004-09-10 00:00:00'</span>
<span class="quote1">&gt; では他の部分の文法が悪いのか動かず。</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt;SELECT * FROM jobrecords WHERE date(datetime) = &quot;2004-09-09&quot;;</span>
<span class="quote1">&gt; では使用しているMYSQLがMySQL 4.0.18-standardなので動かず。</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt;LIKEでも　いいのでは？</span>
<span class="quote1">&gt; LIKEの使用方法がわからず。</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; date関数を使えばOKではないのでしょうか？ 外している？</span>
<span class="quote1">&gt; ではシンタックスエラーで動かず。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 結局、これ</span>
<span class="quote1">&gt; WHERE DATE_FORMAT(regDateTime, &quot;%Y-%m-%d) = &quot;2004-09-09&quot;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; になりました。お騒がせいたしました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 力になって頂いてどうも有り難うございました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


_______________________________________
渡邊昌之
mark@xxxxxxxxxx
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

</pre>
</div>
<p class="button"><a href="10107.html">[前]</a><a href="10109.html">[次]</a><a href="../list/10101-10200.html">[番号順一覧]</a><a href="../thread/10101-10200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10090.html">  10090 2004-09-10 02:11 [yoshiki &lt;yoshiki@xxx] datetime型の年月検索                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10091.html">  10091 2004-09-10 03:24 ┣[&lt;jo@xxxxxxxxxx&gt;     ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10096.html">  10096 2004-09-10 11:31 ┃┗[Hirofumi Fujiwara &lt;f]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10098.html">  10098 2004-09-10 13:08 ┃　┗[yoshiki &lt;yoshiki@xxx]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="10108.html">  10108 2004-09-10 15:43 ┃　　┗[渡邊昌之 &lt;mark@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10092.html">  10092 2004-09-10 03:44 ┣[平松 幸治 &lt;kouji@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10095.html">  10095 2004-09-10 07:26 ┣[Kazki MIURA &lt;mi_ikza]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10111.html">  10111 2004-09-10 19:27 ┗[&lt;konet218@xxxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10112.html">  10112 2004-09-10 19:30 　┗[&lt;konet218@xxxxxxxxxx]                                     </a></span>
</pre>
</body>
</html>
