<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6786</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6785">[前]</a><a href="6787">[次]</a><a href="../list/6701-6800">[番号順一覧]</a><a href="../thread/6701-6800">[スレッド一覧]</a></p>
<p class="id">
mysql:6786
</p>
<div class="header">
<p>
From: tateyan &lt;tateyan &lt;tateyan@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 06 Jan 2003 23:47:55 +0900<br>
Subject: [mysql 06786] Re: SQL サーバのセキュリティ確保<br>

</p>
</div>
<div class="body">
<pre>
たてやんっす

MySQL 自体は　3306 ポートをふさぐことでとりあえず外部からMySQL
直接の攻撃はできなくなります
もっと安心なのは　外部とMySQLをつなぐことが不要ならばUNIXソケットのみ
使ってPHPやPerlと接続すれば安全性は高まります（あえて安全とは言いませ
ん）
my.cnf の[mysqld]　セクション内に
skip-networking
と記述するか、mysqldの起動オプションとして--skip-networkingを
記述します

WebサーバのCGIと組み合わせる限り上記でも安心とはいかないのが現状です

moeruさんの
題名「<a href="06782">[mysql 06782]</a> Re: SQL サーバのセキュリティ確保」のメールからの引用です
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; モエルです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 便乗で勉強させて下さい。</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt;　　直接Webサーバをインターネット閲覧者に見せるのは怖いですよ。</span>
<span class="quote2">&gt; &gt;　　（OSやWebサーバソフトにもよるのですが、、、攻撃が一杯です。）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 実際、攻撃の被害を受けたことがあります(^^;</span>
<span class="quote1">&gt; なので、今後MySQLを単独に分けたいと思ってます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 現在、WEB ServerにMySQL Serverも入ってます。</span>
<span class="quote1">&gt; NIC３枚というお話も出てますが、２枚じゃ弱いでしょうか？</span>
WEB ServerにNIC３枚ということでしょうか？
でも　WebServerから直接MySQL Server に接続できるなら変わらないのでは？

<span class="quote1">&gt; こんな感じの設定を考えています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; インターネット</span>
<span class="quote2">&gt; |</span>
<span class="quote1">&gt; ルーター(MySQLのport3306は拒否)</span>
<span class="quote2">&gt; |</span>
<span class="quote2">&gt; |</span>
<span class="quote1">&gt; WEB Server（インターネットのユーザーは、PHP経由でMySQLＤＢを閲覧・更新）</span>
<span class="quote1">&gt; 　　　　　　ipchains,iptables等で必要以外のポートを拒否</span>
<span class="quote1">&gt; 　　　　　 eth0(グローバルアドレス)</span>
<span class="quote1">&gt; 　　　　　 eth1(192.168.0.1) </span>
<span class="quote2">&gt;                   |</span>
<span class="quote2">&gt;                   |</span>
<span class="quote1">&gt;                   MySQL Server eth0(192.168.0.2)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＊外部に公開するプログラムでＤＢの更新可能(update,insert)の権限になってる場合</span>
<span class="quote1">&gt; 　プログラムに穴があれば、WEB Serverがローカルネットでもアタックされますよね？たぶん。。</span>
アタックといってもいろんなものがありますね
　侵入（書き換えなど）・侵入後バックドアによる踏み台・
　サービス不能攻撃などなど、考えるとどんなことしてもサービスをユーザに
提供する限りはアタックありです（上記構造でも　サービス不能攻撃はありと
言いたいだけ）
　　
たとえば　Webサーバからユーザのデータ照会をMySQLを利用する部分のCGIのURL
を外部のWebブラウザから繰り返しリロードするだけで、結構な負担になります
まぁ　Webサーバ自体も俗に言うF5攻撃されると・・・
この辺は　Apache付属のab (apache bench)などを利用してどの程度までの負担
に耐えられるのかもあらかじめ検証しておくことも必要かも知れません。
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  彡彡从        たてやんっす
 d□/□-ｂ      &lt;tateyan@xxxxxxxxxx&gt;
 ヽ&quot;ー&quot;丿

Key fingerprint = 5D56 8EA3 B9FE A721 4866  FB4A 0041 672C 08DD C33A




</pre>
</div>
<p class="button"><a href="6785">[前]</a><a href="6787">[次]</a><a href="../list/6701-6800">[番号順一覧]</a><a href="../thread/6701-6800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="6777">   6777 2003-01-06 16:58 [&lt;antoku@xxxxxxxxxx&gt; ] Re: SQL サーバのセキュリティ確保        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6780">   6780 2003-01-06 17:35 ┣[cat1288 &lt;cat1288@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6781">   6781 2003-01-06 19:18 ┃┗[豊島 &lt;toyoshima@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6782">   6782 2003-01-06 19:19 ┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6783">   6783 2003-01-06 20:44 　┣[KUZE Masanori &lt;kuze@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6784">   6784 2003-01-06 23:27 　┃┗[tateyan &lt;tateyan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6785">   6785 2003-01-06 23:36 　┣[豊島 &lt;toyoshima@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6789">   6789 2003-01-07 00:43 　┃┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6792">   6792 2003-01-07 13:26 　┃　┗[豊島 &lt;toyoshima@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6793">   6793 2003-01-07 14:52 　┃　　┣[cat1288 &lt;cat1288@xxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6794">   6794 2003-01-07 16:38 　┃　　┃┗[&quot;kosugi&quot; &lt;kosugi@xxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6795">   6795 2003-01-07 22:13 　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6796">   6796 2003-01-07 22:54 　┃　　　┣[&quot;TOYOSHIMA,Masayuki&quot;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6798">   6798 2003-01-07 23:27 　┃　　　┃┣[&lt;moeru@xxxxxxxxxx&gt;  ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6801">   6801 2003-01-08 09:27 　┃　　　┃┃┗[&quot;TOYOSHIMA,Masayuki&quot;]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6803">   6803 2003-01-08 18:22 　┃　　　┃┃　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6799">   6799 2003-01-07 23:43 　┃　　　┃┗[Inano Shin_ichi &lt;ina]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6797">   6797 2003-01-07 23:02 　┃　　　┗[Tatsuhiko Miyagawa &lt;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6800">   6800 2003-01-08 00:08 　┃　　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                           </a></span>
<span class="current">-&gt;&nbsp;<a href="6786">   6786 2003-01-06 23:47 　┣[tateyan &lt;tateyan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6787">   6787 2003-01-07 00:24 　┣[Tatsuhiko Miyagawa &lt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6790">   6790 2003-01-07 12:42 　┗[&lt;n.futami@xxxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6791">   6791 2003-01-07 13:05 　　┗[&quot;TOYOSHIMA,Masayuki&quot;]                                   </a></span>
</pre>
</body>
</html>
