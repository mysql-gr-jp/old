<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13224</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="13223.html">[前]</a><a href="13225.html">[次]</a><a href="../list/13201-13300.html">[番号順一覧]</a><a href="../thread/13201-13300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13224
</p>
<div class="header">
<p>
From: SAKAI Kei &lt;SAKAI Kei &lt;sak@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 09 Aug 2006 15:00:16 +0900<br>
Subject: [mysql 13224] Re: Can't connect to MySQL server 'localhost' (10048)  が頻繁に発生する<br>

</p>
</div>
<div class="body">
<pre>
坂井です

<span class="quote1">&gt; max-connectionsは200です。</span>
<span class="quote1">&gt; max-connectionsを1000にしても、あまり変化はないように思</span>

  話の流れを拝見しているとクライアント側の問題の可能性が
  高いようですが、
  念のためサーバー側のコネクションを食いつぶしていないことを、
  ストレステスト中にmysqlコマンドラインクライアントから接続して
  
mysql&gt; show status like &quot;%conn%&quot;;
  
  などで確認してみてはどうでしょう。
  たとえば Threads_connected が、今まさに接続されている数、です。
  
以上


On Wed, 9 Aug 2006 13:01:16 +0900 (JST)
堀 不二夫 &lt;fujiohori@xxxxxxxxxx&gt; wrote:
<span class="quote1">&gt; 堀です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 池田様、早速回答ありがとうございます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; max-connectionsは200です。</span>
<span class="quote1">&gt; max-connectionsを1000にしても、あまり変化はないように思</span>
<span class="quote1">&gt; えます。</span>
<span class="quote1">&gt; ちなみに、thread_cache_sizeは32です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; とりあえず、一般クエリログを採取し、眺めてみます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; では。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --- Tetsuro IKEDA &lt;te.ikeda@xxxxxxxxxx&gt; wrote:</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; 池田です。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; サーバ変数&quot;max-connections&quot;の設定は大丈夫ですか？</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; また、一般クエリログを出力して、サーバ側が把握している</span>
<span class="quote1">&gt; 情報を</span>
<span class="quote2">&gt; &gt; 眺めてみるのもトラブルシューティングに役立つかもしれま</span>
<span class="quote1">&gt; せん。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 堀 不二夫 wrote:</span>
<span class="quote3">&gt; &gt; &gt; ほりです。お世話になっています。</span>
<span class="quote3">&gt; &gt; &gt; </span>
<span class="quote3">&gt; &gt; &gt;</span>
<span class="quote2">&gt; &gt; ODBC接続でOpen、Select、Update、Closeする処理のストレ</span>
<span class="quote1">&gt; ス</span>
<span class="quote3">&gt; &gt; &gt; テスト(1分間に10000回)を行っていますが、</span>
<span class="quote3">&gt; &gt; &gt; Open時に「Can't connect to MySQL server</span>
<span class="quote2">&gt; &gt; 'localhost'</span>
<span class="quote3">&gt; &gt; &gt; (10048)</span>
<span class="quote3">&gt; &gt; &gt; 」が頻繁に発生します。</span>
<span class="quote3">&gt; &gt; &gt; ODBC接続では、無理があるのでしょうか？</span>
<span class="quote3">&gt; &gt; &gt; 対処方法がありましたら、ご教授お願い致します。</span>
<span class="quote3">&gt; &gt; &gt; </span>
<span class="quote3">&gt; &gt; &gt; OS:Windows Server 2003 R2</span>
<span class="quote3">&gt; &gt; &gt; MySQL:5.0.19</span>
<span class="quote3">&gt; &gt; &gt; ODBC:3.51.11-1</span>
<span class="quote3">&gt; &gt; &gt; </span>
<span class="quote3">&gt; &gt; &gt; アプリケーションはAPS.NET、.NET Framework1.1です。</span>
<span class="quote3">&gt; &gt; &gt; </span>
<span class="quote3">&gt; &gt; &gt; </span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; -- </span>
<span class="quote2">&gt; &gt; Tetsuro IKEDA</span>
<span class="quote2">&gt; &gt; Sumisho Computer Systems Corp.</span>
<span class="quote2">&gt; &gt; Open Source System Div.</span>
<span class="quote2">&gt; &gt; te.ikeda@xxxxxxxxxx</span>
<span class="quote2">&gt; &gt; TEL +81-3-5166-2420</span>
<span class="quote2">&gt; &gt; FAX +81-3-5166-1189</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; </span>
<span class="quote1">&gt; </span>




</pre>
</div>
<p class="button"><a href="13223.html">[前]</a><a href="13225.html">[次]</a><a href="../list/13201-13300.html">[番号順一覧]</a><a href="../thread/13201-13300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13216.html">  13216 2006-08-09 10:58 [堀 不二夫 &lt;fujiohori] Can't connect to MySQL server 'localhost' (10048) が頻繁に発生する</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13217.html">  13217 2006-08-09 11:08 ┣[Tetsuro IKEDA &lt;te.ik]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13218.html">  13218 2006-08-09 13:01 ┃┗[堀 不二夫 &lt;fujiohori]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="13224.html">  13224 2006-08-09 15:00 ┃　┗[SAKAI Kei &lt;sak@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13225.html">  13225 2006-08-09 15:43 ┃　　┗[堀 不二夫 &lt;fujiohori]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13219.html">  13219 2006-08-09 13:16 ┣[Hiroshi Nagasaka &lt;h-]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13221.html">  13221 2006-08-09 13:25 ┃┗[堀 不二夫 &lt;fujiohori]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13220.html">  13220 2006-08-09 13:20 ┗[天野　潔 &lt;kiyoshi.am]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13222.html">  13222 2006-08-09 13:36 　┣[堀 不二夫 &lt;fujiohori]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13223.html">  13223 2006-08-09 13:44 　┣[Hiroshi Nagasaka &lt;h-]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13226.html">  13226 2006-08-09 16:30 　┗[Tasuku SUENAGA &lt;a@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13227.html">  13227 2006-08-09 19:15 　　┗[&lt;matsuo.yasuhiro@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13228.html">  13228 2006-08-10 10:40 　　　┗[堀 不二夫 &lt;fujiohori]                                 </a></span>
</pre>
</body>
</html>
