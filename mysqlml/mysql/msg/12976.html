<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12976</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="12975.html">[前]</a><a href="12977.html">[次]</a><a href="../list/12901-13000.html">[番号順一覧]</a><a href="../thread/12901-13000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12976
</p>
<div class="header">
<p>
From: Kazuhiro Yoshida &lt;Kazuhiro Yoshida &lt;moriq@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 05 May 2006 03:57:50 +0900<br>
Subject: [mysql 12976] Re: ApolloでMySQLに接続するには<br>

</p>
</div>
<div class="body">
<pre>もりきゅうです。

wada toshiki wrote:
<span class="quote1">&gt; 実行すると、</span>
<span class="quote1">&gt; C:/project/mysql_connect.rb:2: in `active=': SQL エラー：マップの失敗</span>
<span class="quote1">&gt; (EDatabaseError)</span>
<span class="quote1">&gt; Runtime error 216 at 4000572A</span>

再現できました。

<span class="quote2">&gt;&gt;MySQL4.1であれば</span>
<span class="quote2">&gt;&gt;<a href="http://sourceforge.net/projects/opendbx">http://sourceforge.net/projects/opendbx</a></span>
<span class="quote2">&gt;&gt;で配布されているものに差し替えてください。</span>

にはTODOがたくさん残っていて、meta dataが対応できていないためにschema
infoを取りに行くところでこけているようです。

MySQL5.0版のを確認してみると、対応されているようなので、
<a href="http://www.justsoftwaresolutions.co.uk/delphi/dbexpress_and_mysql_5.html">http://www.justsoftwaresolutions.co.uk/delphi/dbexpress_and_mysql_5.html</a>
こちらからIndexCursor.pasをいただいて、適用してみるとうまくいきました。
Delphi6用パッチ (要IndexCursor.pas):
<a href="http://www.moriq.com/apollo/archive/dbxdriver-getIndices-fix.patch">http://www.moriq.com/apollo/archive/dbxdriver-getIndices-fix.patch</a>
Delphi6でビルドし直したバイナリ (dbxopenmysql41.dll):
<a href="http://www.moriq.com/apollo/archive/dbxopenmysql41-getIndices-fix.zip">http://www.moriq.com/apollo/archive/dbxopenmysql41-getIndices-fix.zip</a>
これを試してみていただけますか。

ただ、まだgetTablesには対応できていないので、
<span class="quote1">&gt; #-- テーブル名の一覧を見る。</span>
<span class="quote1">&gt; puts connection.table_names</span>
は空になってしまいます。

というわけで、MySQL4.1版のdbx driverはまだ試行錯誤しないと使えそうにない
かもです。


</pre>
</div>
<p class="button"><a href="12975.html">[前]</a><a href="12977.html">[次]</a><a href="../list/12901-13000.html">[番号順一覧]</a><a href="../thread/12901-13000.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="12973.html">  12973 2006-05-03 11:54 [wada toshiki &lt;wada-t] ApolloでMySQLに接続するには             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12974.html">  12974 2006-05-03 15:52 ┗[Kazuhiro Yoshida &lt;mo]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12975.html">  12975 2006-05-04 11:29 　┗[wada toshiki &lt;wada-t]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="12976.html">  12976 2006-05-05 03:57 　　┗[Kazuhiro Yoshida &lt;mo]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12977.html">  12977 2006-05-05 12:22 　　　┗[wada toshiki &lt;wada-t]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12978.html">  12978 2006-05-06 11:01 　　　　┗[Kazuhiro Yoshida &lt;mo]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12979.html">  12979 2006-05-06 19:35 　　　　　┗[wada toshiki &lt;wada-t]                             </a></span>
</pre>


</body></html>