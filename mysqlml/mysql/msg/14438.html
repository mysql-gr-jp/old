<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14438</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="14437.html">[前]</a><a href="14439.html">[次]</a><a href="../list/14401-14500.html">[番号順一覧]</a><a href="../thread/14401-14500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14438
</p>
<div class="header">
<p>
From: sakurai yuichi &lt;sakurai yuichi &lt;yu1sk@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 16 Apr 2008 12:14:37 +0900<br>
Subject: [mysql 14438] Re: バージョンアップによる日本語文字化けからの復旧（操作可能範囲が制限された環境下での）<br>

</p>
</div>
<div class="body">
<pre>
桜井です。

Ykawa様、ご助言ありがとうございます。

DB側の文字コード(文字化けしているテーブルの文字コード)は教えていただいた
SQLで確認しても

Collation: utf8_general_ci

で、これはphpmyadminのテーブル表示機能の表示結果と同じでした。（直接入力
したSQLもphpmyadmin経由で実行しているからかもしれませんが。）

phpおよびmysqlの実行環境自体には手を出せないので、念のため、phpプログラ
ム（XOOPS）がmysqlとやりとりをする部分の文字セットを「utf8_general_ci」
とmysql側の設定に合わせてみましたが、単にphpmyadmin経由でデータを見たも
のと同じ文字化け内容が表示されるだけでした。

最初の投稿に書いたように、XOOPS CUBEのデフォルト文字セットであるujis(EUC
-JP)を含め、XOOPS側（phpプログラム側）でmysqlを呼び出す際の文字セットは
いろいろ変えて見ましたが、ダメでした。

XOOPSはさておき、DB内のデータを文字化けなしで見られる方法があればいいの
ですが…


Yoshio Kawano さんは書きました:
<span class="quote1">&gt; こんばんは、Ykawaです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 説明されている環境で開発を行ったことが無いので、</span>
<span class="quote1">&gt; 回答が的を得ていなかもしれません。</span>
<span class="quote1">&gt; その辺りは、ご了承ください。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mySQL側と、PHP側の文字コードに相違があるように感じられます。</span>
<span class="quote1">&gt; mySQL側の文字コードを、下記のSQL文などで確認してみては、如何でしょうか？</span>
<span class="quote1">&gt; そもそも、下記のクエリをPHP経由で実行できるのか分かりませんが</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＊対象のテーブルの文字コードを確認してみるとか</span>
<span class="quote1">&gt; 　mysql&gt; show table status;</span>
<span class="quote2">&gt; | Name   | Engine | Version | Row_format | Rows | Avg_row_length |</span>
<span class="quote1">&gt; Data_length | Max_data_length  | Index_length | Data_free |</span>
<span class="quote1">&gt; Auto_increment | Create_time         | Update_time         | Check_time</span>
<span class="quote2">&gt; | Collation       | Checksum | Create_options | Comment |</span>
<span class="quote1">&gt; +--------+--------+---------+------------+------+----------------+------</span>
<span class="quote1">&gt; -------+------------------+--------------+-----------+----------------+-</span>
<span class="quote1">&gt; --------------------+---------------------+------------+----------------</span>
<span class="quote1">&gt; -+----------+----------------+---------+</span>
<span class="quote2">&gt; | testaa | MyISAM |      10 | Fixed      |    2 |             13 |</span>
<span class="quote1">&gt; 26 | 3659174697238527 |         2048 |         0 |           NULL |</span>
<span class="quote1">&gt; 2008-04-07 19:34:42 | 2008-04-07 19:34:42 | NULL       | utf8_general_ci</span>
<span class="quote2">&gt; |     NULL |                |         |</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＊システムの環境を除いてみるとか</span>
<span class="quote1">&gt; mysql&gt; status;</span>
<span class="quote1">&gt; --------------</span>
<span class="quote1">&gt; mysql  Ver 14.12 Distrib 5.0.51, for pc-linux-gnu (i686) using readline</span>
<span class="quote1">&gt; 5.1</span>
<span class="quote1">&gt; Server characterset:    utf8</span>
<span class="quote1">&gt; Db     characterset:    utf8</span>
<span class="quote1">&gt; Client characterset:    utf8</span>
<span class="quote1">&gt; Conn.  characterset:    utf8</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="14437.html">[前]</a><a href="14439.html">[次]</a><a href="../list/14401-14500.html">[番号順一覧]</a><a href="../thread/14401-14500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14435.html">  14435 2008-04-15 16:51 [sakurai yuichi &lt;yu1s] バージョンアップによる日本語文字化けからの復旧（操作可能範囲が制限された環境下での）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14436.html">  14436 2008-04-15 23:21 ┗[&quot;Yoshio Kawano&quot; &lt;yka]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="14438.html">  14438 2008-04-16 12:14 　┗[sakurai yuichi &lt;yu1s]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14439.html">  14439 2008-04-16 14:31 　　┣[&quot;Yoshio Kawano&quot; &lt;yka]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14441.html">  14441 2008-04-16 16:09 　　┃┗[sakurai yuichi &lt;yu1s]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14440.html">  14440 2008-04-16 15:30 　　┗[deppsea &lt;deepsea200x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14442.html">  14442 2008-04-16 20:58 　　　┗[sakurai yuichi &lt;yu1s]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14443.html">  14443 2008-04-16 21:02 　　　　┗[&quot;TOYOSHIMA,Masayuki&quot;]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14444.html">  14444 2008-04-17 00:04 　　　　　┗[sakurai yuichi &lt;yu1s]                             </a></span>
</pre>
</body>
</html>
