<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15982</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15981.html">[前]</a><a href="15983.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15982
</p>
<div class="header">
<p>
From: 松野弘法 &lt;松野弘法 &lt;hiro_matsuno3@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 25 Jun 2013 13:53:51 +0900<br>
Subject: [mysql 15982] Re: ネットワーク越しでのmysqlの更新がうまくできない？<br>

</p>
</div>
<div class="body">
<pre>松野と申します。
mysql-mlの皆様初めまして。

これ読まさせて頂きましたが。
大垣さんが書かれたようにphpの書き方の問題だと思います。

普通デバックでブラウザ上に表示する場合はechoではなくprint()だと思われます。
printは変数の中身を表示させるために利用します。
echoでは変数の表示形式しか持ち込めないので表示できないのです。
echo $SQLとなっている部分をprint($SQL)に置き換えるだけで実行されるSQL文
は表示されます。

あと正常に成功しているというお話ですので念の為にprint_r($STS)にてデータ
が取得できているか確認しておいたほうが良いでしょ う。
print_rは配列のデータを表示するための関数です。

デバックが初めての方だと思われますので悩まれていると思い書かせて頂きました。

私も1年半前に同じ事で悩んでましたから。

(2013/06/25 11:22), ram wrote:
<span class="quote1">&gt; Ohgaki 様　コメント有難うございました。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; レスが遅れまして失礼いたしました。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; その後、別の会議室などで尋ねてみたり、ネットで調べているのですがまだ解</span>
<span class="quote1">&gt; 決していません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 仰る通り、mysqlの原因でないことが判ってきました。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 画面が真っ白になるphpスクリプトは、元のphpスクリプトから呼び出している</span>
<span class="quote1">&gt; のですが、</span>
<span class="quote1">&gt; そのスクリプト自体が何も画面表示されないので、なんともデバッグのしよう</span>
<span class="quote1">&gt; が有りません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; その時にlocation.href=.....で呼び出しているのがうまくいってない？よう</span>
<span class="quote1">&gt; な気がします。</span>
<span class="quote1">&gt; mysqlの更新自体はうまくいっているので画面表示ができていないだけなのも</span>
<span class="quote1">&gt; 不思議ですが、</span>
<span class="quote1">&gt; phpとブラウザの仕様によるものみたいです。</span>
<span class="quote1">&gt; phpのフォーラムでこの現象として尋ねてみようと思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; (2013/06/20 14:47), Yasuo Ohgaki wrote:</span>
<span class="quote2">&gt;&gt; 2013年6月19日 9:27 ram &lt;ram@xxxxxxxxxx &lt;mailto:ram@xxxxxxxxxx&gt;&gt;:</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;     $SQL = $SQL." WHERE npdate = {$ck_ym} AND sycd = '{$ck_sycd}'";</span>
<span class="quote2">&gt;&gt;     echo mysql_errno($cn) . ": " . mysql_error($cn) . "\n";</span>
<span class="quote2">&gt;&gt;     echo $SQL;</span>
<span class="quote2">&gt;&gt;     $sts = mysql_query($SQL,$cn);</span>
<span class="quote2">&gt;&gt;     if (!$sts) {</span>
<span class="quote2">&gt;&gt;     print "&lt;br&gt;&lt;img src='img/error.jpg' width=32 height=32&gt;";</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;     mysql_queryの前にecho文を加えてみましたが、これさえも表示されず、</span>
<span class="quote2">&gt;&gt;     ブラウ</span>
<span class="quote2">&gt;&gt;     ザが空白な状態で固まった状態になりますが、</span>
<span class="quote2">&gt;&gt;     更新は正常に行われています。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; エラーが出てハンドラで出力バッファをクリアしていたり、クラッシュして</span>
<span class="quote2">&gt;&gt; いたらブラウザには何も出力されません。エラーログファ イル を設定し、</span>
<span class="quote2">&gt;&gt; error_log()でログに出力した方が良いです。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; IEだけで起きるならブラウザ判定コードの何処かに問題がある？</span>
<span class="quote2">&gt;&gt; ブラウザの3rdパーティークッキーが無効になっている？</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; のかも知れません。</span>
<span class="quote2">&gt;&gt; 多分、PHPコードの問題ですね。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; --</span>
<span class="quote2">&gt;&gt; Yasuo Ohgaki</span>
<span class="quote2">&gt;&gt; yohgaki@xxxxxxxxxx &lt;mailto:yohgaki@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt;</span>


-- 
******************************************************
　　　松野 弘法　
　　　hiro_matsuno3@xxxxxxxxxx
******************************************************



</pre>
</div>
<div class="attach">
<h3 class="attachtitle">添付ファイル</h3>
<ul>
<li><a href="15982/0/index.html"> [text/html]</a>
</li></ul>
</div>
<p class="button"><a href="15981.html">[前]</a><a href="15983.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="15971.html">  15971 2013-06-14 13:13 [ram &lt;ram@xxxxxxxxxx&gt;] ネットワーク越しでのmysqlの更新がうまくできない？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15972.html">  15972 2013-06-14 13:23 ┣[Isamu Moriyama &lt;mori]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15973.html">  15973 2013-06-14 14:45 ┃┗[ram &lt;ram@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15975.html">  15975 2013-06-14 21:00 ┣[Watanabe Tomoyuki &lt;W]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15976.html">  15976 2013-06-17 16:11 ┃┗[ram &lt;ram@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15977.html">  15977 2013-06-19 09:27 ┗[ram &lt;ram@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15978.html">  15978 2013-06-19 22:40 　┣[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15979.html">  15979 2013-06-20 14:45 　┃┗[ram &lt;ram@xxxxxxxxxx&gt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15980.html">@ 15980 2013-06-20 14:47 　┗[Yasuo Ohgaki &lt;yohgak]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15981.html">@ 15981 2013-06-25 11:22 　　┗[ram &lt;ram@xxxxxxxxxx&gt;]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="15982.html">@ 15982 2013-06-25 13:53 　　　┣[松野弘法 &lt;hiro_matsu]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15983.html">  15983 2013-06-27 22:33 　　　┗[舘山 聖司 &lt;tateyan@x]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15984.html">  15984 2013-06-27 22:54 　　　　┗[舘山 聖司 &lt;tateyan@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15985.html">  15985 2013-06-28 10:51 　　　　　┗[松野弘法 &lt;hiro_matsu]                             </a></span>
</pre>


</body></html>