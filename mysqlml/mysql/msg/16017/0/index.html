<html><head></head><body><div dir="ltr">とみたまさひろさん<div><br></div><div>ご返信ありがとうございます。</div><div>広江です。</div><div>ひとつのテーブルに大量の件数をLOADです。</div><div><br></div><div>しかしすごい実験されたんですね。。。(^^)</div></div><div class="gmail_extra"><br><br><div class="gmail_quote">
2013年8月2日 22:58 とみたまさひろ <span dir="ltr">&lt;<a href="mailto:tommy@mysql.gr.jp" target="_blank">tommy@mysql.gr.jp</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
On Thu, 1 Aug 2013 02:23:29 +0900<br>
ayako hiroe &lt;<a href="mailto:roeaya03@gmail.com">roeaya03@gmail.com</a>&gt; wrote:<br>
<br>
&gt; おっしゃる通り、x64です。<br>
&gt; メモリ食いすぎなんですよね・・同じ件数のloadを繰り返しているだけなのにだんだん使用率が増えるのです。<br>
<br>
もしかして、大量のテーブルを作ったりしてませんか。<br>
<br>
昔、数十万テーブルを作るのを試してみたことがあったのですが、テーブルをオープンするたびに mysqld(というか InnoDB)がメモリを少しずつ使っていって、最終的にメモリを食いつぶしたことがありました。<br>
<br>
どうやら、当時の InnoDB は一度オープンしたテーブル用のメモリ領域はテーブルをクローズしたとしても解放されない作りのようでした。今もそのようになっているのかはわかりません。<br>
<span class="HOEnZb"><font color="#888888"><br>
--<br>
とみたまさひろ &lt;<a href="mailto:tommy@mysql.gr.jp">tommy@mysql.gr.jp</a>&gt;<br>
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp" target="_blank">http://www.mysql.gr.jp</a><br>
<br>
</font></span></blockquote></div><br></div>
</body></html>