<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12575</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12574.html">[前]</a><a href="12576.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12575
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 16 Dec 2005 04:18:27 +0900<br>
Subject: [mysql 12575] Re: MySQLへの日本語データ格納方法について<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Thu, 15 Dec 2005 11:18:00 +0900
〓〓　〓〓〓 &lt;kanamaru@xxxxxxxxxx&gt; wrote:

<span class="quote2">&gt; &gt; ということは、データベースには SJIS でデータが格納されているということ</span>
<span class="quote2">&gt; &gt; ですかね。</span>
<span class="quote2">&gt; &gt; select colname,hex(colname) from tablename; としてみたら、文字とコード</span>
<span class="quote2">&gt; &gt; の対応が得られるので、はっきりすると思います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt; select Id, hex(Id), Birth, hex(Birth) from MEMBER;</span>
<span class="quote1">&gt; +----------+---------+-------+------------+</span>
<span class="quote2">&gt; | Id       | hex(Id) | Birth | hex(Birth) |</span>
<span class="quote1">&gt; +----------+---------+-------+------------+</span>
<span class="quote2">&gt; | 4950013  | 4B87FD  |       | NULL       |</span>
<span class="quote2">&gt; | 27950011 | 1AA7BBB |       | NULL       |</span>
<span class="quote2">&gt; | 15930005 | F31295  | 1947  | 79B        |</span>
<span class="quote2">&gt; | 43830205 | 29CCBBD | 1942  | 796        |</span>
<span class="quote2">&gt; | 13890056 | D3F208  | 1954  | 7A2        |</span>
<span class="quote2">&gt; | 28990028 | 1BA5A4C | 1975  | 7B7        |</span>

あ、いや、文字化けしない ASCII 文字でやっても意味ないです。日本語のカ
ラムでやらないと…。

<span class="quote1">&gt; mysql&gt;のプロンプト上で、です。TeraTermがEUCですと</span>
<span class="quote1">&gt; mysql&gt; select Name_Kanji from MEMBER where Access_count &gt; 5;</span>
<span class="quote1">&gt; +--------------+</span>
<span class="quote2">&gt; | Name_Kanji   |</span>
<span class="quote1">&gt; +--------------+</span>
<span class="quote2">&gt; |</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; F   ・</span>
<span class="quote1">&gt; KY   |</span>
<span class="quote1">&gt; NY   |</span>
<span class="quote2">&gt; | コ@L     |</span>
<span class="quote2">&gt; | 冴マ</span>
<span class="quote1">&gt;      鉚 |</span>
<span class="quote2">&gt; | 冴@袮 |</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; と文字化けしてしまいます。</span>

文字化けじゃない正しい文字列は何ですか？

<span class="quote2">&gt; &gt; MySQL のバージョンは何でしょうか？ 「set names」が使えるのは 4.1.x 以</span>
<span class="quote2">&gt; &gt; 降です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql  Ver 11.18 Distrib 3.23.58, for unknown-freebsd4.8 (i386)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; となりました。ということはset namesは使えないということなのでしょうか・・・</span>

そうですね。

<span class="quote1">&gt; statusコマンドでみたところ、</span>
<span class="quote1">&gt; Client characterset:    ujis</span>
<span class="quote1">&gt; Server characterset:    ujis</span>
<span class="quote1">&gt; と表示されたので、ujisということになるんでしょうか。</span>

そうなります。

<span class="quote1">&gt; そうするとEUCでselectした日本語データは化けるのは</span>
<span class="quote1">&gt; なぜなのかわかりません。前任者はどうやってデータを</span>
<span class="quote1">&gt; 入れたのか聞ければ楽なのですが・・・</span>

おそらくデータベースが ujis なのに sjis データを突っ込んでたんだと思い
ます。

# 3.23 の時はそれが出来たんですよね…。いい時代だった… (^^;

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="12574.html">[前]</a><a href="12576.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12557.html">  12557 2005-12-12 16:00 [&lt;kanamaru@xxxxxxxxxx] MySQLへの日本語データ格納方法について   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12561.html">  12561 2005-12-15 00:36 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12566.html">  12566 2005-12-15 11:18 ┃┗[&lt;kanamaru@xxxxxxxxxx]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="12575.html">  12575 2005-12-16 04:18 ┃　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12583.html">  12583 2005-12-16 17:41 ┗[班石悦夫 &lt;madara@xxx]                                       </a></span>
</pre>
</body>
</html>
