<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10985</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10984">[前]</a><a href="10986">[次]</a><a href="../list/10901-11000">[番号順一覧]</a><a href="../thread/10901-11000">[スレッド一覧]</a></p>
<p class="id">
mysql:10985
</p>
<div class="header">
<p>
From: naya &lt;naya &lt;SNA02388@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 14 Feb 2005 22:17:50 +0900<br>
Subject: [mysql 10985] Re: MySQL+PHPでファイル／フォルダ名検索システムを作りたい<br>

</p>
</div>
<div class="body">
<pre>
みなさん、たくさんの参考になるアドバイス、ありがとうございます。

マルチレスで失礼しますが、その前に。
最初の投稿で、背景情報を省略していました。まず導入に至る経緯について
補足させてください。

職場のファイルサーバは整理が不十分なので、業務効率が上がればと、最近
別のPCにIISやNamazuを導入してみました。これはこれで職場では好評ながら、
その利便性に各自がどれだけ気づけてくれているかは未知数です(^^;

他方、Namazuを導入しても変わらない光景があります。それは以下のような。

Aさん「Bさん、あのファイルどこに置いた？」
Bさん（Aさんの席までいって）「Zドライブ、そう、そのフォルダの・・」
    {数日後]
Aさん「Bさん、ごめんごめん、また場所わからなくなった」
Bさん「ああ、あれなら・・・」

このような会話が日々繰り返されていることが歯がゆくてなりません。ここで
気づいたことは、こうした「ファイルどこだっけ？」に有用なのは、全文検索シ
ステムより、むしろファイル／フォルダ名検索システムの方ではないかと。

Namazuでは、ファイル名やフォルダの検索を +uri:????  などのフィールド検索
で近いことはできるらしいです。でも、フォルダそのものを検索結果リストに加
えることは標準ではできないです。そもそもNamazu本来の目的とは全文検索であ
り、ファイル名検索とは全く別の問題と捉えたほうがよさそうにも思います。

Namazu機は常時起動で、タスクマネージャにより、一日一回深夜にIndexを更新
してます。よって、標記検索システムを考えるにも、タスクマネージャ＋DOSの
batファイルという構成も都合がいいかと考えた次第です。また、Webベースのシ
ステムを強く希望するのも、検索フォームをNamazuと並列させたいためです。

他方、PHP+MySQLという構成を思いついたのは、単にこれらに興味をもっていた
からです。目標があれば勉強するキッカケもなると思った次第です。わたしは、
データベースというとMS Accessすら使ったこともありません。SQL構文の入門本
を勉強した程度で、スキルはほぼゼロです。従いまして、

▼ 長谷さん
<span class="quote1">&gt; クライアントから検索要求があったら、検索プログラムをサーバー</span>
<span class="quote1">&gt; で実行します。これは何も BAT とか WS ではなくて、何の言語で</span>
<span class="quote1">&gt; もいいので、SendMessage で [F3} キーを押したことと同じ状態</span>
<span class="quote1">&gt; を作り出して［ファイルとフォルダ検索］ダイアログを呼び出します。</span>

▼ bonさん
<span class="quote1">&gt; IISが5.1ということはXPなので、ソートする為のsort.exeと</span>
<span class="quote1">&gt; 比較する為のfc.exeが使用できます。</span>
<span class="quote1">&gt; これによって、時間がかかるのはファイルリストを作るのみになります。</span>

ありがたいアドバイス、大変勉強になります。ただ、ちょっと今のスキルでは敷
居が高いかもしれません…（しり込みしたくはないですが）

▼ 岡村さん
<span class="quote1">&gt; PHPでのファイル操作はここを参照されると良いと思います。</span>
<span class="quote1">&gt; 単にWEBでファイルをダウンロードしたいならこれで解決。</span>

▼ 古畑さん
<span class="quote1">&gt; PHPで検索インターフェースを作成し、与えられたファイル名（またはパス？）</span>
<span class="quote1">&gt; を元に対象ディレクトリを検索。一致したものを表示。</span>
<span class="quote1">&gt; で、十分ではないでしょうか。</span>

▼ 和山さん
<span class="quote1">&gt; PHP＆MySQLではないですが、やりたいことは</span>
<span class="quote1">&gt; WebDAVでできるのではないでしょうか？</span>

もしシンプルに解決できるならMySQLの導入にこだわるつもりもありません、
和山さん・岡村さんご紹介のURLはよく勉強させていただきます。

▼ 川合さん
<span class="quote1">&gt; 上記の処理をDOSのバッチとしてもいいでしょうけど、</span>
<span class="quote1">&gt; PerlやPHPなどデータベースが扱える言語で1つのスクリプトを作ればよいのでは？</span>

直感的には一番キレイな解決方法のように思えますが、手元にある入門本（数冊）
で説明されている範疇を超えており・・・

<span class="quote1">&gt; それにデータベース丸ごと落とすよりテーブルのDROPとか、</span>
<span class="quote1">&gt; テーブルのTRUNCATEとかのほうがいいかと思うんだけど。</span>

まったくおっしゃる通りです(^^;　初めての経験なので、まず、ご指摘のような
発想がありませんでした…

▼ ohiromasさん

<span class="quote1">&gt; こうゆうものですね。</span>
<span class="quote1">&gt; <a href="http://www.vector.co.jp/soft/winnt/util/se259268.html">http://www.vector.co.jp/soft/winnt/util/se259268.html</a></span>

こういうものもあるんですね。参考になります。Windowsの[F3]よりよっぽど
速そうですが・・

ただ、検索窓も検索結果もWebベースでやりたいという希望があります。
現在、全員が冒頭のNamazu窓や職場の関連リンクを含めたhtmlファイルをIE6の
'ホームページ'としています。よって追加的にexeを導入することは今のところ
考えていません。せっかくご紹介いただいたのにすみません（個人的には、利用
させていただきます）

以上、まずは御礼申し上げます。

--
naya,
SNA02388@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="10984">[前]</a><a href="10986">[次]</a><a href="../list/10901-11000">[番号順一覧]</a><a href="../thread/10901-11000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10976">  10976 2005-02-14 12:59 [naya &lt;SNA02388@xxxxx] MySQL+PHPでファイル／フォルダ名検索システムを作りたい</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10977">  10977 2005-02-14 13:42 ┣[&quot;waya&quot; &lt;wayama@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10978">  10978 2005-02-14 14:01 ┣[川合孝典 &lt;gcd00051@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10982">  10982 2005-02-14 17:21 ┃┗[深海水草 &lt;VYG01106@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10983">  10983 2005-02-14 18:16 ┃　┗[okkan ufo &lt;okkanufo@]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10979">  10979 2005-02-14 16:08 ┣[bon &lt;bon@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10980">  10980 2005-02-14 16:36 ┃┗[bon &lt;bon@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10981">  10981 2005-02-14 16:43 ┣[Kousuke Furuhata &lt;fu]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10984">  10984 2005-02-14 21:06 ┣[Hiromasa Ochiai &lt;ohi]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="10985">  10985 2005-02-14 22:17 ┗[naya &lt;SNA02388@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11013">  11013 2005-02-17 14:54 　┗[深海水草 &lt;VYG01106@x]                                     </a></span>
</pre>
</body>
</html>
