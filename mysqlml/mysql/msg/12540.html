<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12540</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12539.html">[前]</a><a href="12541.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12540
</p>
<div class="header">
<p>
From: &quot;KIMURA, Meiji&quot; &lt;&quot;KIMURA, Meiji&quot; &lt;kimura804@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 6 Dec 2005 16:59:15 +0900 (JST)<br>
Subject: [mysql 12540] Re: 接続中のデータベース以外のデータベース名取得 SQL<br>

</p>
</div>
<div class="body">
<pre>
こんばんわ、木村明治＠キムラデービーです。

平野さんの環境はMySQL 5.0.16ということで、
MySQLの5.xでは、SHOW文の他に、一般的なDBにある情報スキーマが使えるので、
SHOW databasesの代わりに、

SELECT SCHEMA_NAME
    FROM INFORMATION_SCHEMA.SCHEMATA; 

を使って、これと、select database();を組み合わせてやれば、
お望みの結果が得られませんか？(すみません、試してはみてません....)

See.
<a href="http://dev.mysql.com/doc/refman/5.0/en/schemata-table.html">http://dev.mysql.com/doc/refman/5.0/en/schemata-table.html</a>

--- バリュー　平野 &lt;hirano@xxxxxxxxxx&gt; からのメッセージ：
<span class="quote1">&gt; 平野と申します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 「接続中以外のデータベース一覧」</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; を取得するSQLが書けずに困っています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --接続中のデータベース名</span>
<span class="quote1">&gt; select database();</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --存在するデータベース一覧</span>
<span class="quote1">&gt; show databases;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; この二つを駆使して、</span>
<span class="quote1">&gt; show databases not like (select database() limit 1);</span>
<span class="quote1">&gt; のように書きたいのですが、そもそもSHOWに使えるLike</span>
<span class="quote1">&gt; 条件には、NOTを付加できない様子。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 良い案をご存知の方、よろしくお願い致します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Windows2000 sp4</span>
<span class="quote1">&gt; MySQL 5.0.16-nt  (sjis)</span>
<span class="quote1">&gt; MySQL ODBC 3.51 Driver  </span>
<span class="quote1">&gt; ADO(MDAC2.7 SP1)</span>

(snip)

</pre>
</div>
<p class="button"><a href="12539.html">[前]</a><a href="12541.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12539.html">  12539 2005-12-06 16:27 [バリュー　平野 &lt;hira] 接続中のデータベース以外のデータベース名取得SQL</a></span>
<span class="current">-&gt;&nbsp;<a href="12540.html">  12540 2005-12-06 16:59 ┗[&quot;KIMURA, Meiji&quot; &lt;kim]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12541.html">  12541 2005-12-06 17:17 　┗[バリュー　平野 &lt;hira]                                     </a></span>
</pre>
</body>
</html>
