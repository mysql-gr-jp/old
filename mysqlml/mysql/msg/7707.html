<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7707</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7706.html">[前]</a><a href="7708.html">[次]</a><a href="../list/7701-7800.html">[番号順一覧]</a><a href="../thread/7701-7800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7707
</p>
<div class="header">
<p>
From: ga-ko &lt;ga-ko &lt;kuga_ko@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 14 May 2003 17:52:36 +0900 (JST)<br>
Subject: [mysql 07707] MAX 関数について <br>

</p>
</div>
<div class="body">
<pre>
はじめまして、ga-koと申します。

SunOS 5.8、mysql 3.23.53 において
200万件のレコードが格納されているテーブルに対し、
MAX関数を使用して select文 を実行すると１分程度かかって
しまいます。

mysql&gt; SELECT MAX(DATE_FORMAT(OUTYMD, '%Y/%m/%d%H:%i:%s'))
OUTYMD
    -&gt; FROM OUTINF
    -&gt; WHERE PRJNAME = 'prjname'
    -&gt; AND SVNAME = 'svname'
    -&gt; AND ITEM Like 'item_name%'
    -&gt; GROUP BY PRJNAME, SVNAME;
1 row in set (1 min 0.55 sec)

試しに「select MAX(OUTYMD) FROM OUTINF;」としたところ、
1 row in set (55.78 sec)
とあまり変化がありませんでした。

上のSQL文の処理速度を１０秒程度にすることは可能でしょう
か？

テーブルの構造は
CREATE TABLE OUTINF (
       prjname              VARCHAR(20) NOT NULL,
       svname               VARCHAR(20) NOT NULL,
       outymd               DATETIME NOT NULL,
       item                 VARCHAR(20) NOT NULL,
       status               VARCHAR(20) NOT NULL,
       detail               VARCHAR(255) NOT NULL,
       trkymd               DATETIME NULL,
       updymd               DATETIME NULL,
       updid                VARCHAR(10) NULL
);

CREATE INDEX IDX_OUTINF ON OUTINF ( prjname, svname,
outymd, item ) ;

チューニングに関しましては
<a href="http://www.atmarkit.co.jp/flinux/rensai/mysql11/mysql11a.html">http://www.atmarkit.co.jp/flinux/rensai/mysql11/mysql11a.html</a>
『Linux Square：MySQLの高度な管理とチューニングテクニッ
ク』の■サーバプロセスのチューニング
を参照し設定しています。

以上、よろしくお願いします。


__________________________________________________
Do You Yahoo!?
Yahoo! BB is Broadband by Yahoo!
<a href="http://bb.yahoo.co.jp/">http://bb.yahoo.co.jp/</a>


</pre>
</div>
<p class="button"><a href="7706.html">[前]</a><a href="7708.html">[次]</a><a href="../list/7701-7800.html">[番号順一覧]</a><a href="../thread/7701-7800.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="7707.html">   7707 2003-05-14 17:52 [ga-ko &lt;kuga_ko@xxxxx] MAX 関数について                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7709.html">   7709 2003-05-14 18:09 ┗[SUGAWARA Hajime &lt;sug]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7710.html">   7710 2003-05-14 18:48 　┗[ga-ko &lt;kuga_ko@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7711.html">   7711 2003-05-14 19:01 　　┣[&lt;matics@xxxxxxxxxx&gt; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7713.html">   7713 2003-05-14 19:11 　　┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7714.html">   7714 2003-05-14 19:27 　　　┣[&lt;matics@xxxxxxxxxx&gt; ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7716.html">   7716 2003-05-14 19:56 　　　┃┗[SUGAWARA Hajime &lt;sug]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7715.html">   7715 2003-05-14 19:44 　　　┗[ga-ko &lt;kuga_ko@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7717.html">   7717 2003-05-14 20:05 　　　　┗[SUGAWARA Hajime &lt;sug]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7718.html">   7718 2003-05-14 21:43 　　　　　┗[ga-ko &lt;kuga_ko@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7720.html">   7720 2003-05-15 02:46 　　　　　　┗[ga-ko &lt;kuga_ko@xxxxx]                           </a></span>
</pre>
</body>
</html>
