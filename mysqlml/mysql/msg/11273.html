<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11273</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="11272.html">[前]</a><a href="11274.html">[次]</a><a href="../list/11201-11300.html">[番号順一覧]</a><a href="../thread/11201-11300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11273
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 26 Mar 2005 02:37:01 +0900<br>
Subject: [mysql 11273] Re: mysqldump での文字化け（自己解決）<br>

</p>
</div>
<div class="body">
<pre>とみたです。

On Wed, 23 Mar 2005 08:53:33 +0900
wac54348@xxxxxxxxxx wrote:

<span class="quote1">&gt; MySQL ver 4.1.9-standard で下記のようにデフォルトで利用しています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt; SHOW VARIABLES LIKE '%character\_set%';</span>
<span class="quote1">&gt; +--------------------------+----------------------------+</span>
<span class="quote2">&gt; | Variable_name            | Value                      |</span>
<span class="quote1">&gt; +--------------------------+----------------------------+</span>
<span class="quote2">&gt; | character_set_client     | latin1                     |</span>
<span class="quote2">&gt; | character_set_connection | latin1                     |</span>
<span class="quote2">&gt; | character_set_database   | latin1                     |</span>
<span class="quote2">&gt; | character_set_results    | latin1                     |</span>
<span class="quote2">&gt; | character_set_server     | latin1                     |</span>
<span class="quote2">&gt; | character_set_system     | utf8                       |</span>
<span class="quote2">&gt; | character_sets_dir       | /usr/share/mysql/charsets/ |</span>
<span class="quote1">&gt; +--------------------------+----------------------------+</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysqldump をオプションなしで実行すると、テーブルの内容（ujis）が文字化けして</span>
<span class="quote1">&gt; しまいました。</span>
<span class="quote1">&gt; --default-character-set=latin1　を明示すると、文字化けがなくなりました。</span>

mysqldump はデフォルトでは utf8 で文字列を出力します。フィールドの型が 
utf8 でない場合は自動的に変換されます。そのために文字化けしてるように
見えてしまいます。

--default-character-set=latin1 を指定すると、サーバとクライアントで文
字コードが同一になり、文字コードの変換が発生しないので、文字化けしません。

ところで、latin1 のフィールドに ujis を入れるのはやめた方がいいと思い
ます。「昔話」と「聡明」と「総論」が同じと見なされたりするので… (^^;

	mysql&gt; set names latin1;
	mysql&gt; select "昔話"="聡明", "昔話"="総論";
	+---------------+---------------+
	| "昔話"="聡明" | "昔話"="総論" |
	+---------------+---------------+
	|             1 |             1 |
	+---------------+---------------+

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="11272.html">[前]</a><a href="11274.html">[次]</a><a href="../list/11201-11300.html">[番号順一覧]</a><a href="../thread/11201-11300.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="11241.html">  11241 2005-03-23 08:53 [&lt;wac54348@xxxxxxxxxx] mysqldump での文字化け（自己解決）      </a></span>
<span class="current">-&gt;&nbsp;<a href="11273.html">  11273 2005-03-26 02:37 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11323.html">  11323 2005-04-14 20:42 　┗[&lt;wac54348@xxxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11334.html">  11334 2005-04-20 08:27 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
</pre>


</body></html>