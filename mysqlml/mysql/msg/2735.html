<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2735</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="2734.html">[前]</a><a href="2736.html">[次]</a><a href="../list/2701-2800.html">[番号順一覧]</a><a href="../thread/2701-2800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2735
</p>
<div class="header">
<p>
From: Koji Dokai &lt;Koji Dokai &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 26 Nov 2000 09:29:03 +0900<br>
Subject: [mysql 02735] install_driver(mysql) failed<br>

</p>
</div>
<div class="body">
<pre>

こんにちは、百海と申します。

MySQL 3.22.32 を RedHat 5.2 にインストールし、DBI経由でアクセスしようと
すると以下のようなエラーが出てしまいます。別サーバーの RedHat 6.2 では
問題なく動作していました。

<span class="quote1">&gt; install_driver(mysql) failed: Can't load</span>
<span class="quote1">&gt; '/usr/lib/perl5/site_perl/i386-linux/auto/DBD/mysql/mysql.so' for module</span>
<span class="quote1">&gt; DBD::mysql: /usr/lib/perl5/site_perl/i386-linux/auto/DBD/mysql/mysql.so:</span>
<span class="quote1">&gt; undefined sym</span>
<span class="quote1">&gt; bol: open64 at /usr/lib/perl5/i386-linux/5.00404/DynaLoader.pm line 168.</span>

<span class="quote1">&gt;  at (eval 1) line 2</span>
<span class="quote1">&gt; Perhaps a required shared library or dll isn't installed where expected</span>
<span class="quote1">&gt;  at /home/www/sample.pl line 293</span>


DBI-1.14 をインストールし、Msql-Mysql-modules-1.2215 のインストールの際に
make test を行うとやはり上記と同様のエラーが表示されてしまいます。

mysql.so、DynaLoader.pm のファイルも存在しており原因がわからずお手上げ
状態です。同じような現象になられた方がいたらぜひ教えてください。
よろしくお願いします。

<span class="quote1">&gt; [root@www Msql-Mysql-modules-1.2215]# make test</span>
<span class="quote1">&gt; make[1]: Entering directory `/usr/local/src/Msql-Mysql-modules-1.2215/mysql'</span>
<span class="quote1">&gt; cc -c -I/usr/lib/perl5/site_perl/i386-linux/auto/DBI -I/usr/local/mysql/include -I../dbd -I/usr/lib/perl5/site_perl/i386-linux/auto/DBI -I/usr/lib/perl5/i386-linux/5.00404 -Dbool=char -DHAS_BOOL -I/us</span>
<span class="quote1">&gt; r/local/include -O2    -DVERSION=\&quot;2.0415\&quot; -DXS_VERSION=\&quot;2.0415\&quot; -fpic -I/usr/lib/perl5/i386-linux/5.00404/CORE -DDBD_MYSQL dbdimp.c</span>
<span class="quote1">&gt; cc -c -I/usr/lib/perl5/site_perl/i386-linux/auto/DBI -I/usr/local/mysql/include -I../dbd -I/usr/lib/perl5/site_perl/i386-linux/auto/DBI -I/usr/lib/perl5/i386-linux/5.00404 -Dbool=char -DHAS_BOOL -I/us</span>
<span class="quote1">&gt; r/local/include -O2    -DVERSION=\&quot;2.0415\&quot; -DXS_VERSION=\&quot;2.0415\&quot; -fpic -I/usr/lib/perl5/i386-linux/5.00404/CORE -DDBD_MYSQL mysql.c</span>
<span class="quote1">&gt; Running Mkbootstrap for DBD::mysql ()</span>
<span class="quote1">&gt; chmod 644 mysql.bs</span>
<span class="quote1">&gt; LD_RUN_PATH=&quot;/usr/local/mysql/lib:/lib:/usr/lib:/usr/lib/gcc-lib/i386-redhat-linux/2.7.2.3&quot; cc -o .././blib/arch/auto/DBD/mysql/mysql.so  -shared -L/usr/local/lib dbdimp.o mysql.o -L/usr/local/mysql/l</span>
<span class="quote1">&gt; ib    -L/usr/local/mysql/lib -lmysqlclient -lm -lz -L/usr/lib/gcc-lib/i386-redhat-linux/2.7.2.3 -lgcc</span>
<span class="quote1">&gt; chmod 755 .././blib/arch/auto/DBD/mysql/mysql.so</span>
<span class="quote1">&gt; cp mysql.bs .././blib/arch/auto/DBD/mysql/mysql.bs</span>
<span class="quote1">&gt; chmod 644 .././blib/arch/auto/DBD/mysql/mysql.bs</span>
<span class="quote1">&gt; Manifying .././blib/man3/DBD::mysql.3</span>
<span class="quote1">&gt; Manifying .././blib/man3/Bundle::DBD::mysql.3</span>
<span class="quote1">&gt; Manifying .././blib/man3/Mysql.3</span>
<span class="quote1">&gt; make[1]: Leaving directory `/usr/local/src/Msql-Mysql-modules-1.2215/mysql'</span>
<span class="quote1">&gt; make[1]: Entering directory `/usr/local/src/Msql-Mysql-modules-1.2215/mysql'</span>
<span class="quote1">&gt; PERL_DL_NONLAZY=1 /usr/local/bin/perl -I.././blib/arch -I.././blib/lib -I/usr/lib/perl5/i386-linux/5.00404 -I/usr/lib/perl5 -e 'use Test::Harness qw(&amp;runtests $verbose); $verbose=0; runtests @ARGV;' t</span>
<span class="quote1">&gt; /*.t</span>
<span class="quote1">&gt; t/00base............install_driver(mysql) failed: Can't load '.././blib/arch/auto/DBD/mysql/mysql.so' for module DBD::mysql: .././blib/arch/auto/DBD/mysql/mysql.so: undefined symbol: open64 at /usr/li</span>
<span class="quote1">&gt; b/perl5/i386-linux/5.00404/DynaLoader.pm line 168.</span>

<span class="quote1">&gt;  at (eval 1) line 2</span>
<span class="quote1">&gt; Perhaps a required shared library or dll isn't installed where expected</span>
<span class="quote1">&gt;  at t/00base.t line 38</span>
<span class="quote1">&gt; dubious</span>
<span class="quote1">&gt;         Test returned status 2 (wstat 512, 0x200)</span>
<span class="quote1">&gt; Undefined subroutine &amp;Test::Harness::WCOREDUMP called at /usr/lib/perl5/Test/Harness.pm line 252.</span>
<span class="quote1">&gt; make[1]: *** [test_dynamic] Error 2</span>
<span class="quote1">&gt; make[1]: Leaving directory `/usr/local/src/Msql-Mysql-modules-1.2215/mysql'</span>
<span class="quote1">&gt; make: *** [test] Error 2</span>




Koji Dokai / info@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="2734.html">[前]</a><a href="2736.html">[次]</a><a href="../list/2701-2800.html">[番号順一覧]</a><a href="../thread/2701-2800.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="2735.html">   2735 2000-11-26 09:29 [Koji Dokai &lt;ml@xxxxx] install_driver(mysql) failed            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2737.html">   2737 2000-11-26 20:19 ┗[Satoshi Koiwa &lt;koiwa]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2738.html">   2738 2000-11-27 07:21 　┗[Koji Dokai &lt;ml@xxxxx]                                     </a></span>
</pre>
</body>
</html>
