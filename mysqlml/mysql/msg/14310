<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14310</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14309">[前]</a><a href="14311">[次]</a><a href="../list/14301-14400">[番号順一覧]</a><a href="../thread/14301-14400">[スレッド一覧]</a></p>
<p class="id">
mysql:14310
</p>
<div class="header">
<p>
From: nakayama &lt;nakayama &lt;nakayama@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 17 Nov 2007 18:36:44 +0900<br>
Subject: [mysql 14310] Fedora 7 に mysql-5.0.45  をインストールしたい<br>

</p>
</div>
<div class="body">
<pre>
中山です。

自宅サーバ(Fedora 7)にmysql-5.0.45 をソースからインストールしました。
ディーモン（mysqld_safe）の起動で失敗しています。
なにか問題があれば、
ご指摘のほどよろしくお願いします。

「インストール手順」

# yum remove mysql-bench
# yum remove mysql-devel
# yum remove mysql-server
# yum remove mysql

# wget -P /usr/local/src
<a href="ftp://ftp.iij.ad.jp/pub/db/mysql/Downloads/MySQL-5.0/mysql-5.0.45.tar.gz">ftp://ftp.iij.ad.jp/pub/db/mysql/Downloads/MySQL-5.0/mysql-5.0.45.tar.gz</a>
# cd /usr/local/src
# tar xzf mysql-5.0.45.tar.gz
# cd mysql-5.0.45
# ./configure \
 --prefix=/usr/local/mysql \
 --with-charset=ujis \
 --with-extra-charsets=all \
 --without-readline \
 --with-embedded-server \
 --enable-local-infle \
 --enable-thread-safe-client \
 --with-mysqld-user=mysql \
 --with-mysqld-ldflags=-all-static \
 --with-client-ldflags=-all-static

# make
# make install

# /usr/local/mysql/bin/mysql_install_db --user=mysql

## 次のディレクトリーが作成されていなかったので、強制的に作成しました。
## configureのときに、--localstatedir=/usr/local/mysql/var
## を追加して試してみましたが、作成はされませんでした。

# mkdir /usr/local/mysql/var

# cp /usr/local/mysql/share/mysql/my-medium.cnf /usr/local/mysql/var/my.cnf

# chown -R mysql /usr/local/mysql/var
# chgrp -R mysql /usr/local/mysql/var

##  次でエラーとなります！！

# /usr/local/mysql/bin/mysqld_safe --user=mysql
--default-character-set=ujis &amp;
[2] 4339
# WARNING: Found /usr/local/mysql/var/my.cnf
Datadir is deprecated place for my.cnf, please move it to /usr/local/mysql

nohup: ignoring input and redirecting stderr to stdout
Starting mysqld daemon with databases from /var/lib/mysql
STOPPING server from pid file /var/run/mysqld/mysqld.pid
071117 18:03:58  mysqld ended

#

その他の前準備
最初のインストールではエラーがでていましたので、
下記の対応をしています。

***************************************************************
# wget -P /usr/local/src
<a href="http://ftp.gnu.org/pub/gnu/ncurses/ncurses-5.6.tar.gz">http://ftp.gnu.org/pub/gnu/ncurses/ncurses-5.6.tar.gz</a>
# cd /usr/local/src
# tar xzf ncurses-5.6.tar.gz
# cd ncurses-5.6
# ./configure --prefix=/usr/local --without-cxx-binding
# make
# make install
***************************************************************

***************************************************************
# wget -P /usr/local/src
<a href="http://ftp.gnu.org/pub/gnu/readline/readline-5.2.tar.gz">http://ftp.gnu.org/pub/gnu/readline/readline-5.2.tar.gz</a>
# cd /usr/local/src
# tar xzf readline-5.2.tar.gz
# cd readline-5.2
# ./configure --prefix=/usr/local
# make
# make install
***************************************************************

以上

</pre>
</div>
<p class="button"><a href="14309">[前]</a><a href="14311">[次]</a><a href="../list/14301-14400">[番号順一覧]</a><a href="../thread/14301-14400">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="14310">  14310 2007-11-17 18:36 [nakayama &lt;nakayama@x] Fedora 7 に mysql-5.0.45  をインストールしたい</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14311">  14311 2007-11-19 09:57 ┗[Tetsuro IKEDA &lt;te.ik]                                       </a></span>
</pre>
</body>
</html>
