<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2354</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2353.html">[前]</a><a href="2355.html">[次]</a><a href="../list/2301-2400.html">[番号順一覧]</a><a href="../thread/2301-2400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2354
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Mon, 07 Aug 2000 08:43:30 +0900<br>
Subject: [mysql 02354] Re: バージョンアップの方法<br>

</p>
</div>
<div class="body">
<pre>
At Sun, 6 Aug 2000 23:38:26 +0900,
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; あれ？ この問題は前にも話題になりましたよね。<a href="01818.html">[mysql 01818]</a></span>
<span class="quote1">&gt; <a href="http://www.mysql.gr.jp/mysqlml/msg.cgi?id=1818">http://www.mysql.gr.jp/mysqlml/msg.cgi?id=1818</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; で、3.22.32 には 3.23 対応の mysqldump がついているので、3.22.32 の</span>
<span class="quote1">&gt; サーバに対して使ってもそうなってしまうってことだったと思います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; もともとマルチバイトのデータベース名やテーブル名を 3.22 で使えるのは</span>
<span class="quote1">&gt; おまけみたいなもんで、正式に使えるようになったのは 3.23 のいつかから</span>
<span class="quote1">&gt; なので、しょうがないのかなとも思いますが…。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 一応私が作ったパッチもあります。<a href="01824.html">[mysql 01824]</a></span>
<span class="quote1">&gt; <a href="http://www.mysql.gr.jp/mysqlml/msg.cgi?id=1824">http://www.mysql.gr.jp/mysqlml/msg.cgi?id=1824</a></span>

あ、思い出しました。
3.22.32 の mysqldump のパッチを Monty からもらっていたのでした。
mysqldump の話を TcX としていて、3.22.32 の次のリリースで
パッチをいれるかどうかのはなしをしているうちに、
3.23 の作業の方に開発主体が移行したので、対応されないままでした。
すっかり、3.22.32 で対応させていたと思い違いしてました。すみません。
(SoftAgency の Debian package だけ、パッチをあてていた...
そりゃ、私の mysqldump だけがまともに動いてあたりまえでした.)

A better patch is the following:

*** /my/monty/master/mysql-3.23.13a-alpha/client/mysqldump.c	Sat Feb 26 19:18:11 2000
--- ./mysqldump.c	Tue Mar 28 15:32:12 2000
***************
*** 514,522 ****
--- 514,524 ----
  
  static bool test_if_special_chars(const char *str)
  {
+ #if MYSQL_VERSION_ID &gt;= 32300
    for ( ; *str ; str++)
      if (!isvar(*str) &amp;&amp; *str != '$')
        return 1;
+ #endif
    return 0;
  } /* test_if_special_chars */

-- 
 村上 毅  takeshi@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="2353.html">[前]</a><a href="2355.html">[次]</a><a href="../list/2301-2400.html">[番号順一覧]</a><a href="../thread/2301-2400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="2348.html">   2348 2000-08-05 09:54 [Hiroyuki Hasegawa &lt;a] バージョンアップの方法                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2351.html">   2351 2000-08-05 20:23 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2353.html">   2353 2000-08-06 23:38 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="2354.html">   2354 2000-08-07 08:43 　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2355.html">   2355 2000-08-08 09:05 　　　┗[Hiroyuki Hasegawa &lt;a]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2356.html">   2356 2000-08-08 12:27 　　　　┗[Yasuhide OMORI / 大�]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2357.html">   2357 2000-08-08 13:15 　　　　　┗[Hiroyuki Hasegawa &lt;a]                             </a></span>
</pre>
</body>
</html>
