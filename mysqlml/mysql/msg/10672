<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10672</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10671">[前]</a><a href="10673">[次]</a><a href="../list/10601-10700">[番号順一覧]</a><a href="../thread/10601-10700">[スレッド一覧]</a></p>
<p class="id">
mysql:10672
</p>
<div class="header">
<p>
From: &quot;Kageyama Takahiro&quot; &lt;&quot;Kageyama Takahiro&quot; &lt;kageyama329@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 15 Dec 2004 22:35:26 +0900<br>
Subject: [mysql 10672] Re: 長い検索の途中でキャンセル(中断)<br>

</p>
</div>
<div class="body">
<pre>

すぎやまかずきさん、高橋（智）さん、ご回答ありがとう御座います。

<span class="quote2">&gt; &gt;  java.sql.Statementのcloseメソッドは、あくまでも Statementリソースの</span>
<span class="quote2">&gt; &gt;closeであって、クエリーのcancelでは無いと思います。</span>
<span class="quote2">&gt; &gt;  実際、私の作成している gwe JDBC Driver や、officialのConnector/J でも、</span>

<span class="quote2">&gt; &gt;closeメソッドは何もしません。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;  やはり、汎用性などを考慮して、別スレッドから java.sql.Connection の</span>
<span class="quote2">&gt; &gt;closeメソッドをcallするのが良いと思います。(※ただし、この場合でも、</span>
<span class="quote2">&gt; &gt;Connectionプールなどが間に介在している場合には、好ましくないコードになる</span>
<span class="quote2">&gt; &gt;と思います)</span>

なるほど Connection のクローズは、クエリーの cancel なのですね。


<span class="quote2">&gt; &gt;  結局、JDBC Driver 依存ですが、Driverによっては事前にtimeout値を設定</span>
<span class="quote2">&gt; &gt;出来るようなので、仕様上可能ならtimeoutを利用するのが一番安全かもしれませ</span>
ん。
<span class="quote1">&gt;</span>
<span class="quote1">&gt;が固そうですね。</span>
<span class="quote1">&gt;MySQLのバージョンにも左右されなさそうですし。</span>

確かに、別スレッドからキャンセルするよりは Timeout の方が安全そうですね。
仕様をもう一度考慮した方が無難そうです。


色々と知らないことが分かり大変勉強になりました。
ありがとう御座いました。



</pre>
</div>
<p class="button"><a href="10671">[前]</a><a href="10673">[次]</a><a href="../list/10601-10700">[番号順一覧]</a><a href="../thread/10601-10700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10666">  10666 2004-12-15 18:22 [&quot;Kageyama Takahiro&quot; ] 長い検索の途中でキャンセル(中断)        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10667">  10667 2004-12-15 19:05 ┗[KazukiSugiyama &lt;k-su]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10668">  10668 2004-12-15 20:17 　┣[&quot;Kageyama Takahiro&quot; ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10671">  10671 2004-12-15 21:25 　┃┗[KazukiSugiyama &lt;k-su]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="10672">  10672 2004-12-15 22:35 　┃　┗[&quot;Kageyama Takahiro&quot; ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10673">  10673 2004-12-15 23:40 　┃　　┗[&quot;TAKAHASHI, Tomohiro]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10680">  10680 2004-12-16 11:03 　┃　　　┗[&quot;Kageyama Takahiro&quot; ]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10670">  10670 2004-12-15 20:28 　┗[&quot;TAKAHASHI, Tomohiro]                                     </a></span>
</pre>
</body>
</html>
