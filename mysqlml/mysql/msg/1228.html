<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1228</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1227.html">[前]</a><a href="1229.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1228
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Thu, 09 Sep 1999 09:30:54 +0900<br>
Subject: [mysql 01228] Re: new myodbc<br>

</p>
</div>
<div class="body">
<pre>
At Thu, 09 Sep 1999 00:41:23 +0900,
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt; wrote:
<span class="quote1">&gt; </span>
<span class="quote1">&gt; とみたです。</span>

<span class="quote1">&gt; これとは別のアプローチで、libmysql のレベルで変換を行なう方法も思いつき</span>
<span class="quote1">&gt; ました。つまり、mysql_query() や mysql_store_result() 中で行なうわけです。</span>
<span class="quote1">&gt; そうすれば、myodbc や mysql コマンドは何も変更しなくてもそのまま使えるか</span>
<span class="quote1">&gt; も…。</span>

うわ、同じことをこの kanji.2.zip 公開前に挑戦してました。(^^;;;
myodbc の場合、libmysql.c 一つだけだったのでいけるかなと
思ったのですが、メモリの割り当てをどうするかでその時は挫折しました
漢字フラグが必要なので、それを取得する部分だけ、myodbc/ の変更ですむ
ので楽かなとおもいます
# ただし binary も問答無用で変換ルーチンに入ります

あ、myodbc.dll を、昔のように SJIS 版、EUC 版 2つ用意しましょうか
ただし、名前を変えて。

例えば SJIS なら myodbcsj.dll , EUC は myodbcuj.dll
control panel - odbc のセットアップで、日本語にするには
myodbcsj.dll か myodbcuj.dll を選んでもらうと。

# ODBC driver の登録は registry の決まったところに名前を
# 入れるだけですから簡単

良い点は
1. TCX の英語版も生きます
   installer で conflict もしません。
2. libmysql.c の変更にした場合、myodbc/ 以下の変更がなくなる
3. 今、EUC, SJIS を混在させて一つのアプリから呼ぶとおかしくなる
   現象がなくなる
   (実はこれ、色々見ていると、kanji のフラグを渡すには
    ODBC の規格外のパラメターをいくつかの構造体や関数に
    入れることになりそうなので、直しようがないと思ってます)

欠点
1. DSN 設定し直し(Driver の変更だけですが)

-- 
 村上 毅  takeshi@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="1227.html">[前]</a><a href="1229.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1161.html">   1161 1999-08-26 20:08 [&lt;takeshi@xxxxxxxxxx&gt;] new myodbc                              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1163.html">   1163 1999-08-26 21:13 ┣[&quot;Sugawara Hajime&quot; &lt;s]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1164.html">   1164 1999-08-27 08:36 ┃┗[&lt;takeshi@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1165.html">   1165 1999-08-27 10:54 ┃　┗[&quot;Sugawara Hajime&quot; &lt;s]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1168.html">   1168 1999-08-27 14:28 ┃　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1166.html">   1166 1999-08-27 11:14 ┗[&quot;Shoku Yanagawa&quot; &lt;ya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1167.html">   1167 1999-08-27 14:27 　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1169.html">   1169 1999-08-27 14:48 　　┣[&quot;Shoku Yanagawa&quot; &lt;ya]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1186.html">   1186 1999-09-01 14:05 　　┃┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1197.html">   1197 1999-09-02 16:23 　　┃　┗[&quot;Sugawara Hajime&quot; &lt;s]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1198.html">   1198 1999-09-02 17:02 　　┃　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1199.html">   1199 1999-09-02 17:18 　　┃　　　┗[&quot;Sugawara Hajime&quot; &lt;s]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1200.html">   1200 1999-09-02 19:39 　　┃　　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1219.html">   1219 1999-09-08 00:18 　　┃　　　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1223.html">   1223 1999-09-08 10:22 　　┃　　　　　　┣[&quot;Sugawara Hajime&quot; &lt;s]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1224.html">   1224 1999-09-08 12:21 　　┃　　　　　　┃┗[&lt;takeshi@xxxxxxxxxx&gt;]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1225.html">   1225 1999-09-08 14:17 　　┃　　　　　　┃　┗[kaiser &lt;kaiser@xxxxx]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1232.html">   1232 1999-09-09 15:33 　　┃　　　　　　┗[&quot;Shoku Yanagawa&quot; &lt;ya]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1234.html">   1234 1999-09-09 15:53 　　┃　　　　　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1235.html">   1235 1999-09-09 16:52 　　┃　　　　　　　　┗[&quot;Shoku Yanagawa&quot; &lt;ya]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1220.html">   1220 1999-09-08 02:28 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1221.html">   1221 1999-09-08 03:23 　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1222.html">   1222 1999-09-08 04:02 　　　　┣[kaiser &lt;kaiser@xxxxx] Re: new myodbc EUC            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1233.html">   1233 1999-09-09 15:48 　　　　┃┗[&quot;Shoku Yanagawa&quot; &lt;ya]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1227.html">   1227 1999-09-09 00:41 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="1228.html">   1228 1999-09-09 09:30 　　　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                             </a></span>
</pre>
</body>
</html>
