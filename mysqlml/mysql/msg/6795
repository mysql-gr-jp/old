<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6795</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6794">[前]</a><a href="6796">[次]</a><a href="../list/6701-6800">[番号順一覧]</a><a href="../thread/6701-6800">[スレッド一覧]</a></p>
<p class="id">
mysql:6795
</p>
<div class="header">
<p>
From: &lt;moeru@xxxxxxxxxx&gt;<br>
Date: Tue, 07 Jan 2003 22:13:01 +0900<br>
Subject: [mysql 06795] Re: SQL サーバのセキュリティ確保<br>

</p>
</div>
<div class="body">
<pre>

2003/01/07 13:26:54 +0900に豊島 &lt;toyoshima@xxxxxxxxxx&gt;さんに頂いた
「<a href="06792">[mysql 06792]</a> Re: SQL サーバのセキュリティ確保」への返事です。

モエルです。

<span class="quote1">&gt;　保守性や、まさかのセキュリティホール、などを考慮すれば、Web,DB,Adminとそれぞれ</span>
<span class="quote1">&gt;マシンを切り分けるのが安全性を高める上ではとても有用ですし、他にもいろいろ利点が</span>
<span class="quote1">&gt;あります。</span>
<span class="quote1">&gt;　クラスタリングなどの拡張性。</span>
<span class="quote1">&gt;　システムの負荷分散。などなど</span>

MySQLを単独サーバにしようと思ってるのは、システムの負荷分散が大きな目的なんですけど、
昨年だけでも、apacheやphpなどのセキュリティホールがいろいろ出ましたよね。。

任意のコードを発行するとroot権限を奪われるとかのセキュリティホールも結構でてましたよね。
root権限を奪われてしまうと
以下のようにMySQL Serverをローカルサーバにしても、MySQL Serverも乗っ取られてしまいますよね？

そう考えるとグローバルアドレスが余っていれば、
あえてプライベートネットワークに持っていく必要はないって事でしょうか？

WEB Server（インターネットのユーザーは、PHP経由でMySQLＤＢを閲覧・更新）
　　　　　　ipchains,iptables等で必要以外のポートを拒否
　　　　　 eth0(グローバルアドレス)
　　　　　 eth1(192.168.0.1) 
                  |
                  |
                  MySQL Server eth0(192.168.0.2)

ＩＰフォワード等でＩＰを変換する分、レスポンスは遅くならないかな？とか
負荷はかからないのかな？とか素人的には考えてしまいました。。


たてやんさんへの返事です。

＞たとえば　Webサーバからユーザのデータ照会をMySQLを利用する部分のCGIのURL
＞を外部のWebブラウザから繰り返しリロードするだけで、結構な負担になります
＞まぁ　Webサーバ自体も俗に言うF5攻撃されると・・・
＞この辺は　Apache付属のab (apache bench)などを利用してどの程度までの負担
＞に耐えられるのかもあらかじめ検証しておくことも必要かも知れません。

F5攻撃なんて用語は知らなかったです(^^;
リロード攻撃って、htmlコンテンツだとダメっぽいですけど
cgiやphpだったら、対策できそうですね。。

ＩＰと読み込んだ時間と回数を記録して、Ｘ秒以内にＸ回読み込んだら攻撃と見なして
「通報しました」とか表示して、どっかのＨＰに飛ばしちゃうとか？
そのぶん、重いプログラムになるでしょうけど。。

＊httpd.confあたりでこういう対策の設定が出来ればいいのに。。



モエル

</pre>
</div>
<p class="button"><a href="6794">[前]</a><a href="6796">[次]</a><a href="../list/6701-6800">[番号順一覧]</a><a href="../thread/6701-6800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="6777">   6777 2003-01-06 16:58 [&lt;antoku@xxxxxxxxxx&gt; ] Re: SQL サーバのセキュリティ確保        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6780">   6780 2003-01-06 17:35 ┣[cat1288 &lt;cat1288@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6781">   6781 2003-01-06 19:18 ┃┗[豊島 &lt;toyoshima@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6782">   6782 2003-01-06 19:19 ┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6783">   6783 2003-01-06 20:44 　┣[KUZE Masanori &lt;kuze@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6784">   6784 2003-01-06 23:27 　┃┗[tateyan &lt;tateyan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6785">   6785 2003-01-06 23:36 　┣[豊島 &lt;toyoshima@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6789">   6789 2003-01-07 00:43 　┃┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6792">   6792 2003-01-07 13:26 　┃　┗[豊島 &lt;toyoshima@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6793">   6793 2003-01-07 14:52 　┃　　┣[cat1288 &lt;cat1288@xxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6794">   6794 2003-01-07 16:38 　┃　　┃┗[&quot;kosugi&quot; &lt;kosugi@xxx]                             </a></span>
<span class="current">-&gt;&nbsp;<a href="6795">   6795 2003-01-07 22:13 　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6796">   6796 2003-01-07 22:54 　┃　　　┣[&quot;TOYOSHIMA,Masayuki&quot;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6798">   6798 2003-01-07 23:27 　┃　　　┃┣[&lt;moeru@xxxxxxxxxx&gt;  ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6801">   6801 2003-01-08 09:27 　┃　　　┃┃┗[&quot;TOYOSHIMA,Masayuki&quot;]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6803">   6803 2003-01-08 18:22 　┃　　　┃┃　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6799">   6799 2003-01-07 23:43 　┃　　　┃┗[Inano Shin_ichi &lt;ina]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6797">   6797 2003-01-07 23:02 　┃　　　┗[Tatsuhiko Miyagawa &lt;]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6800">   6800 2003-01-08 00:08 　┃　　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6786">   6786 2003-01-06 23:47 　┣[tateyan &lt;tateyan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6787">   6787 2003-01-07 00:24 　┣[Tatsuhiko Miyagawa &lt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6790">   6790 2003-01-07 12:42 　┗[&lt;n.futami@xxxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6791">   6791 2003-01-07 13:05 　　┗[&quot;TOYOSHIMA,Masayuki&quot;]                                   </a></span>
</pre>
</body>
</html>
