<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15065</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="15064.html">[前]</a><a href="15066.html">[次]</a><a href="../list/15001-15100.html">[番号順一覧]</a><a href="../thread/15001-15100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15065
</p>
<div class="header">
<p>
From: "YAMAKITA, naomichi" &lt;"YAMAKITA, naomichi" &lt;yamakita@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 13 Nov 2009 16:51:07 +0900<br>
Subject: [mysql 15065] Re: "Commands out of sync"エラー<br>

</p>
</div>
<div class="body">
<pre>山北です。

<span class="quote1">&gt; 何の言語を使用しているのかわかりませんが、ライブラリ側で制 </span>
<span class="quote1">&gt; 御できないと</span>
<span class="quote1">&gt; いうことは、マルチスレッドとかでしょうか。</span>

Objective-Cを使ってるんですが、マルチスレッド環境下で
発生していました。

昨日あれから色々試した結果、2-3の間をロックすることで問題を
回避することができました。
助言ありがとうございます。


MySQLのサイトにも書いてありましたが見逃してました。。

<a href="http://dev.mysql.com/doc/refman/5.1/ja/threaded-clients.html">http://dev.mysql.com/doc/refman/5.1/ja/threaded-clients.html</a>

 &gt; 同じ接続に複数のスレッドを使いたい場合、mysql_query()と
 &gt; mysql_store_result()の呼び出しペアの回にあるりにmutexを
 &gt; ロックさせなければなりません。
 &gt; mysql_store_result()の準備が終わった途端に、ロックを
 &gt; 解放することが出来、他のスレッドが同じ接続を尋ねることが
 &gt; 許されます。


</pre>
</div>
<p class="button"><a href="15064.html">[前]</a><a href="15066.html">[次]</a><a href="../list/15001-15100.html">[番号順一覧]</a><a href="../thread/15001-15100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="15063.html">  15063 2009-11-13 01:06 ["YAMAKITA, naomichi"] &amp;quot;Commands out of sync&amp;quot;エラー  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15064.html">  15064 2009-11-13 07:41 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="15065.html">  15065 2009-11-13 16:51 　┗["YAMAKITA, naomichi"]                                     </a></span>
</pre>


</body></html>