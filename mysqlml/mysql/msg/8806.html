<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8806</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8805.html">[前]</a><a href="8807.html">[次]</a><a href="../list/8801-8900.html">[番号順一覧]</a><a href="../thread/8801-8900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8806
</p>
<div class="header">
<p>
From: ML account &lt;ML account &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 17 Feb 2004 13:44:33 +0900<br>
Subject: [mysql 08806] Re: C 言語でデータベースにラージオブジェクトを挿入する方法<br>

</p>
</div>
<div class="body">
<pre>
　こんにちは。

Kazuhiro Yoshida &lt;moriq@xxxxxxxxxx&gt;さんの
&lt;200402170312.AA03223@xxxxxxxxxx&gt;
&quot;<a href="08805.html">[mysql 08805]</a> Re: C 言語でデータベースにラージオブジェクトを挿入する方法&quot;


<span class="quote1">&gt; 結局SQLに詰め込むのだから言語の違いはあんまり関係ないのでは。</span>
<span class="quote1">&gt; BLOBといっても普通にINSERTすればいいですよね。</span>
<span class="quote1">&gt; <a href="http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_toc.html#mysql_real_escape_string">http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_toc.html#mysql_real_escape_string</a></span>
<span class="quote1">&gt; mysql_real_escape_string()</span>
<span class="quote1">&gt; mysql_real_query()</span>
<span class="quote1">&gt; 辺りを使えばできると思います。</span>

　ですね。

　SQL文はテキストですから、バイナリデータの場合には、何らかの方法でテキ
ストにエスケープ/エンコードする必要があるでしょう。
mysql_real_escape_string()が SQL文レベルのエスケープ方法と言えるでしょう。
他にバイナリデータ自体を BASE64等でテキストにエンコードするやCSV等のテキ
ストデータを使う方法もある訳です。


　本来テキストであるSQL文にバイナリデータを押し込もうとする事から、エス
ケープ/エンコードという作業が必要になります。ならば、バイナリデータはファ
イルで保管し、DBにはそのインデックス(パスやURL)を入れる方法もある訳で、
ボク的にはこちらをお勧めしたいです。

　更に言えば、<a href="08804.html">[mysql 08804]</a>中の「登録しようとしているバイナリファイルは、
数値データの入ったバイナリファイルです」が気に掛かります。データが数値で
あるならば、BLOBに入れなければならない必然性はあまり無いでしょう。設計を
見直されては如何でしょうか。


　閑話休題。新海さんの「あんまりC言語ではMySQLって使わないんでしょうか？」
に付いては、多分にYESですね。速度を気にしない場合や、プログラムでの処理
の割合が小さいものに関しては、Perl等のいわゆる簡易言語で行った方が簡単で
す。特に Web絡みとなるとPHPとなる傾向もありますし。Java(JDBC)はアプロー
チ的にはＣの場合と大きく異なり、簡易言語に近いものがある感じがしています。

　MySQLのCライブラリ、あるいはOracleのOCIを使って、Cでコードが組める人は
少数なのではないでしょうか。特に若い人が多い場合には、 100人規模のプロジェ
クトで２人居れば御の字だと思います。



　　　　松枝知直　　　　&lt;tomom@xxxxxxxxxx&gt;
　　　　　　　　　　　　<a href="http://www.argus.ne.jp/~tomom/">http://www.argus.ne.jp/~tomom/</a>



</pre>
</div>
<p class="button"><a href="8805.html">[前]</a><a href="8807.html">[次]</a><a href="../list/8801-8900.html">[番号順一覧]</a><a href="../thread/8801-8900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8804.html">   8804 2004-02-17 11:30 [新海　雄一 &lt;shinkai@] C 言語でデータベースにラージオブジェクトを挿入する方法</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8805.html">   8805 2004-02-17 12:12 ┗[Kazuhiro Yoshida &lt;mo]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="8806.html">   8806 2004-02-17 13:44 　┗[ML account &lt;ml@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8807.html">   8807 2004-02-17 15:54 　　┗[新海　雄一 &lt;shinkai@]                                   </a></span>
</pre>
</body>
</html>
