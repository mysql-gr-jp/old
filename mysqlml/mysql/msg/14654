<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14654</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14653">[前]</a><a href="14655">[次]</a><a href="../list/14601-14700">[番号順一覧]</a><a href="../thread/14601-14700">[スレッド一覧]</a></p>
<p class="id">
mysql:14654
</p>
<div class="header">
<p>
From: HIRATSUKA Sadao &lt;HIRATSUKA Sadao &lt;hiratsuka.sadao@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 12 Nov 2008 10:59:39 +0900<br>
Subject: [mysql 14654] Re: テーブル数かまたはDB数か<br>

</p>
</div>
<div class="body">
<pre>
ひらつかです。

<span class="quote1">&gt; データーベースを大量に(100ぐらい)持つのと</span>
<span class="quote1">&gt; 一つのデータベースに収めてしまうのでは、どちらの方がパフォーマンスが</span>
<span class="quote1">&gt; いいでしょうか？それは容認（2倍ぐらい）できるほでしょうか？</span>

MySQLにとっては、以下の二つはほとんど同じだと思います。

(a) 100個のデータベースにそれぞれ20個テーブルがある
(b) 1個のデータベースに2,000個テーブルがある

同時アクセス数によりますが、まずは
table_cacheが足りるかどうかがパフォーマンスに影響ありそうです。

あとは、

(c) 1個のデータベースに20個テーブルを置き、各テーブルに店舗ID列をつける

という案もあると思います。
この場合はMySQLのオプティマイザの賢さ具合が影響しそうです。


(a)か(b)かと言われたら、私なら(a)にします。
例えば店舗ごとにmysqldumpでバックアップとるのが楽だとか、
将来サーバを増やしたいと思ったときに、データベース個別に
移行するのが楽といったメリットがあります。

-- 
平塚貞夫 hiratsuka.sadao@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="14653">[前]</a><a href="14655">[次]</a><a href="../list/14601-14700">[番号順一覧]</a><a href="../thread/14601-14700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14653">  14653 2008-11-12 06:19 [&lt;ikari-ml@xxxxxxxxxx] テーブル数かまたはDB数か                </a></span>
<span class="current">-&gt;&nbsp;<a href="14654">  14654 2008-11-12 10:59 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14655">  14655 2008-11-12 14:27 　┗[&lt;ikari-ml@xxxxxxxxxx]                                     </a></span>
</pre>
</body>
</html>
