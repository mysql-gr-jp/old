<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4445</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4444">[前]</a><a href="4446">[次]</a><a href="../list/4401-4500">[番号順一覧]</a><a href="../thread/4401-4500">[スレッド一覧]</a></p>
<p class="id">
mysql:4445
</p>
<div class="header">
<p>
From: Takeharu Masuda &lt;Takeharu Masuda &lt;tac@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 06 Oct 2001 00:48:23 +0900<br>
Subject: [mysql 04445] Re: テーブルの差し替えとロック<br>

</p>
</div>
<div class="body">
<pre>

On Fri, 05 Oct 2001 19:54:55 +0900
YONEMOTO Kazumasa &lt;yonemoto@xxxxxxxxxx&gt; wrote
at <a href="04440">[mysql 04440]</a> Re: テーブルの差し替えとロック
(&lt;E15pSdN-0002zj-00@xxxxxxxxxx&gt;):

<span class="quote2">&gt; &gt; 1. tbl_A と同一構造を持つ tbl_B を作成</span>
<span class="quote2">&gt; &gt; 2. tbl_B に、最新のデータでサマリーを作成</span>
<span class="quote2">&gt; &gt; 3. tbl_A を削除（ drop table tbl_A）</span>
<span class="quote2">&gt; &gt; 4. tbl_B を tbl_A にリネーム（ rename table tbl_B to tbl_A ）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 1. tbl_A と同一構造を持つ temporary tbl_B を作成</span>
<span class="quote1">&gt; 2. tbl_B に、最新のデータでサマリーを作成</span>
<span class="quote1">&gt; 3. tbl_A を空にする（ delete from tbl_A ）</span>
<span class="quote1">&gt; 4. tbl_B を tbl_A へ流し込む（ insert into tbl_B select * from tbl_A ）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; とかどうでしょう。</span>
<span class="quote1">&gt; ぱっと思いついただけですので、テストしていませんが。</span>

　これが普通の方法なのですが、MySQL ではおそらく、delete -&gt; insert をか
けるより、drop -&gt; rename の方が早く済むかと思うのです（MySQL としてはファ
イルリネーム処理だけだから）。

　万を軽く超えるオーダーを想定してますので……


-- 
written by Takeharu Masuda &lt;tac@xxxxxxxxxx&gt;
with Thinkpad 235 - called &quot;Chandra II&quot; / &quot;Clavius&quot;
2001/10/05 23:55:33


</pre>
</div>
<p class="button"><a href="4444">[前]</a><a href="4446">[次]</a><a href="../list/4401-4500">[番号順一覧]</a><a href="../thread/4401-4500">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4436">   4436 2001-10-05 17:45 [Takeharu Masuda &lt;tac] テーブルの差し替えとロック              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4440">   4440 2001-10-05 19:54 ┗[YONEMOTO Kazumasa &lt;y]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4445">   4445 2001-10-06 00:48 　┗[Takeharu Masuda &lt;tac]                                     </a></span>
</pre>
</body>
</html>
