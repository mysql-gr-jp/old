<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1265</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1264">[前]</a><a href="1266">[次]</a><a href="../list/1201-1300">[番号順一覧]</a><a href="../thread/1201-1300">[スレッド一覧]</a></p>
<p class="id">
mysql:1265
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 08 Oct 1999 10:33:33 +0900<br>
Subject: [mysql 01265] Re: 登録時に同じレコードの値を使う良い方法ありますか？<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

At Fri, 08 Oct 1999 01:30:08 +0900,
kouichi matsumoto &lt;maykeart@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; 目的：</span>
<span class="quote1">&gt; PHPから画像をUPロードし、AUTO_INCREMENTされるIDフィールドの</span>
<span class="quote1">&gt; 値に拡張子をつけてgazouフィールドにVCHARの型で保存したい。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ■gazou_tableに以下のように登録したいのです。</span>
<span class="quote1">&gt;  ID(int)   gazou(VCHAR(100))</span>
<span class="quote1">&gt;       1    1.gif</span>
<span class="quote1">&gt;       4    4.gif</span>
<span class="quote1">&gt;       5    5.jpg</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 考えた方法：</span>
<span class="quote1">&gt; 画像をUPロードした際にPHPスクリプトで、.以降を切り取り</span>
<span class="quote1">&gt; 拡張子のJPG又は、GIFを変数に入れ（ここまではできています）</span>
<span class="quote1">&gt; DBに登録済みのAUTO_INCREMENTされているIDフィールドの最後の値</span>
<span class="quote1">&gt; にPHPで拡張子を文字列連結し、gazouフィールド保存する形でレコード登録。</span>

gazou は空で一旦 insert してから、mysql_insert_id() で今登録したID の値
を拾って、その後 gazou 項目を update で登録するってのはどうでしょう。

--
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;

</pre>
</div>
<p class="button"><a href="1264">[前]</a><a href="1266">[次]</a><a href="../list/1201-1300">[番号順一覧]</a><a href="../thread/1201-1300">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1264">   1264 1999-10-08 01:30 [kouichi matsumoto &lt;m] 登録時に同じレコードの値を使う良い方法ありますか？</a></span>
<span class="current">-&gt;&nbsp;<a href="1265">   1265 1999-10-08 10:33 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1266">   1266 1999-10-07 22:41 ┗[egashira &lt;egashira@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1273">   1273 1999-10-12 03:28 　┗[kouichi matsumoto &lt;m]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1274">   1274 1999-10-12 11:47 　　┗[egashira &lt;egashira@x]                                   </a></span>
</pre>
</body>
</html>
