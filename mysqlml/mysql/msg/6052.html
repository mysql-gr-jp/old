<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6052</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="6051.html">[前]</a><a href="6053.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6052
</p>
<div class="header">
<p>
From: &quot;Takashi Yamashita&quot; &lt;&quot;Takashi Yamashita&quot; &lt;takasi@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 2 Sep 2002 13:08:39 +0900<br>
Subject: [mysql 06052] jdbc: UTF-8 文字列の INSERT<br>

</p>
</div>
<div class="body">
<pre>
はじめまして、山下高司と申します。

早速質問させていただきます。

PC環境は以下の通りです。
Windows2000

開発環境は以下の通りです。
jbuilder6pro
jdk1.4
relaxer

ドライバは、org.gjt.mm.mysql.Driverです。
サーバのバージョンは、3.23.49-ntです。
jdbcUriに渡すエンコーディングパラメータは、
「?useUnicode=true&amp;amp;characterEncoding=Shift_JIS」
です。

charsetがUTF-8のJSPもしくはhtmlページから送られたrequestを
relaxerクラスに格納し、relaxerTableクラスのinsertメソッドで
データベース内のテーブルにINSERTするプログラムを開発しています。

insertメソッドのコードの一部を以下のように変更したらほとんどの
日本語が格納されるようになりました。

変更前
st.setString(1, USQL.getPropertyAsString(element, &quot;@varAtt&quot;));
    :
    :
    :
st.execute();

変更後
try {
st.setString(1,
  new String(
    USQL.getPropertyAsString(
      element, &quot;@varAtt&quot;).getBytes(&quot;8859_1&quot;),&quot;UTF-8&quot;));
      :
      :
      :
st.exectute();
}
catch(UnsupportedEncodingException e) {}

しかし、Unicode番号FF0D「−」が上手くDB内に格納されず、
「?」となってしまいます。

原因不明です。
対処方法がございましたらどなたか教えてください。

宜しくお願いします。


------------------------------------------------------
山下高司
takasi@xxxxxxxxxx



</pre>
</div>
<p class="button"><a href="6051.html">[前]</a><a href="6053.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="6052.html">   6052 2002-09-02 13:08 [&quot;Takashi Yamashita&quot; ] jdbc: UTF-8 文字列の INSERT             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6055.html">   6055 2002-09-02 14:39 ┗[&quot;Takashi Yamashita&quot; ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6058.html">   6058 2002-09-02 16:13 　┗[&quot;Takashi Yamashita&quot; ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6061.html">   6061 2002-09-02 17:47 　　┗[MURAKAMI Tomokazu &lt;t]                                   </a></span>
</pre>
</body>
</html>
