<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1332</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1331.html">[前]</a><a href="1333.html">[次]</a><a href="../list/1301-1400.html">[番号順一覧]</a><a href="../thread/1301-1400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1332
</p>
<div class="header">
<p>
From: NAKABAYASHI Toshifumi &lt;NAKABAYASHI Toshifumi &lt;tosifumi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 24 Nov 1999 17:05:12 +0900<br>
Subject: [mysql 01332] Re: isamchk の使用について<br>

</p>
</div>
<div class="body">
<pre>
中林＠Media-Wingです。

&lt;199911240748.QAA02602@xxxxxxxxxx&gt;の記事において
tommy@xxxxxxxxxxさんは書きました。

<span class="quote2">&gt;&gt; とみたです。</span>
お世話になります(_o_)

<span class="quote2">&gt;&gt; NAKABAYASHI Toshifumi &lt;tosifumi@xxxxxxxxxx&gt; wrote:</span>
<span class="quote3">&gt;&gt; &gt; isamchk --analyze ほげほげ</span>
<span class="quote3">&gt;&gt; &gt; や</span>
<span class="quote3">&gt;&gt; &gt; /usr/local/bin/isamchk -r ほげほげ</span>
<span class="quote3">&gt;&gt; &gt; する時にはmysqldはshutdownしてからやるものなんでしょうか?</span>

<span class="quote2">&gt;&gt; 一応、マニュアルの13章に</span>
<span class="quote3">&gt;&gt; | もし --skip-locking を使用していないなら、いつでも isamchk は 使用でき</span>
<span class="quote3">&gt;&gt; | ます。これを実行している間、全てのテーブルを更新するクライアントは </span>
<span class="quote3">&gt;&gt; | isamchk が準備できるまで待ちます。</span>
<span class="quote2">&gt;&gt; と書かれているようです。</span>

手元の日本語マニュアルではこの記述が見当たらなかったので、
おや、と思って最新版のマニュアルをダウンロードしました。


すると、上記の段落の一つ上に、
<span class="quote1">| もし mysqld を --skip-locking で走らせているなら、 </span>
<span class="quote1">| (これは Linux など、いくつかのシステムでデフォルトです)、</span>
<span class="quote1">| mysqld があるテーブルを使用しているとき、</span>
<span class="quote1">| あなたは同じテーブルに対して isamchk で確実に検査できません。</span>
<span class="quote1">| もし isamchk 中に、 ....</span>
(中略)
<span class="quote1">| そうでない場合、テーブルの検査中は mysqld を落とすべきです。 </span>
<span class="quote1">| もし mysqld がテーブルを更新中に isamchk を実行した場合、</span>
<span class="quote1">|  テーブルが変更された旨のワーニングがでるでしょう。 </span>
というのを見つけました。
こちらではLinuxを使っているのでまさにこれが該当するようです。


と言うわけで、mysqladmin shutdownする様に、
定期チェックスクリプトに追加する事にします。


ありがとうございました(_o_)

--
   中林 寿文 (NAKABAYASHI Toshifumi)
   E-Mail  : toshi@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="1331.html">[前]</a><a href="1333.html">[次]</a><a href="../list/1301-1400.html">[番号順一覧]</a><a href="../thread/1301-1400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1330.html">   1330 1999-11-24 16:35 [NAKABAYASHI Toshifum] isamchk の使用について                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1331.html">   1331 1999-11-24 16:48 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="1332.html">   1332 1999-11-24 17:05 　┗[NAKABAYASHI Toshifum]                                     </a></span>
</pre>
</body>
</html>
