<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11647</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11646">[前]</a><a href="11648">[次]</a><a href="../list/11601-11700">[番号順一覧]</a><a href="../thread/11601-11700">[スレッド一覧]</a></p>
<p class="id">
mysql:11647
</p>
<div class="header">
<p>
From: &lt;a2cf@xxxxxxxxxx&gt;<br>
Date: Wed, 29 Jun 2005 17:25:57 +0900<br>
Subject: [mysql 11647] Re: MySQL4.1.12でのLIKE演算子<br>

</p>
</div>
<div class="body">
<pre>
atsushiです。

<span class="quote1">&gt; まず BINARY 演算子は COLLATE 節の省略形で、対象の左辺に記述します。</span>
<span class="quote1">&gt; 和山さんの SQL ですと syntax error となります。</span>

すみません、ご指摘のとおりです。

<span class="quote1">&gt; また、桁数を指定してインデックスを作成していますので、</span>
<span class="quote1">&gt; インデックス項目に指定した桁数を超えるデータをセットするのは望ましくありません。</span>
<span class="quote1">&gt; 強引にセットするなら指定した桁数以内で検索ができるような運用が必要です。</span>
<span class="quote1">&gt; でないと MySQL 側として正確な動作が保証できなくなると思います。</span>
<span class="quote1">&gt; （本当はここに気付いて欲しかった）</span>

そうですね。
確かにインデックスに作成した桁数内にデータを収めるのがベストなのですが、可変長の列だったのでインデックスに使用する領域を節約するためにはやはりどこかで決め打ちしてバイト数を指定するのがよいかと思っておりました。
バイト数を決め打ちした場合でも、MySQLはまず用意されている固定長のインデックスを使用して検索し、その後さらにその結果から正しいものだけを返すのかと思っておりました。
つまりインデックス作成時のバイト数が長いほどインデックスが正しくヒットして高速化するが、それのトレードオフとしてインデックス使用領域が増えるというイメージです。

でも、4.1だけがこうなっているのなら、なんとか改善して欲しいところですね・・・。

もろもろご指摘ありがとうございました。




</pre>
</div>
<p class="button"><a href="11646">[前]</a><a href="11648">[次]</a><a href="../list/11601-11700">[番号順一覧]</a><a href="../thread/11601-11700">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="11647">  11647 2005-06-29 17:25 [&lt;a2cf@xxxxxxxxxx&gt;   ] Re: MySQL4.1.12でのLIKE演算子           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11648">  11648 2005-06-29 18:01 ┗[&quot;Ryousuke Wayama&quot; &lt;w]                                       </a></span>
</pre>
</body>
</html>
