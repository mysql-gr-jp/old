<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13249</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13248">[前]</a><a href="13250">[次]</a><a href="../list/13201-13300">[番号順一覧]</a><a href="../thread/13201-13300">[スレッド一覧]</a></p>
<p class="id">
mysql:13249
</p>
<div class="header">
<p>
From: SATOH Fumiyasu &lt;SATOH Fumiyasu &lt;fumiya@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 19 Aug 2006 00:10:55 +0900<br>
Subject: [mysql 13249] Re: FOREIGN_KEY_CHECKS=0  で外部参照を回避してリストア<br>

</p>
</div>
<div class="body">
<pre>
さとうふみやす @ ミラクルです。

At Fri, 18 Aug 2006 20:19:58 +0900,
IIDAYUICHI wrote:
<span class="quote1">&gt; mysqldump でダンプした場合innodbでは外部参照キーがある場合</span>
<span class="quote1">&gt; そのままでうまくリストアできません。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; この際、ファイル行頭にFOREIGN_KEY_CHECKS=0を入れるような事をどこか</span>
<span class="quote1">&gt; で教えてもらったのですが具体的にどこに入れるのかよくわかりません。</span>
<span class="quote1">&gt; またダンプファイルが数Gになった場合編集が難しいです。</span>
<span class="quote1">&gt; この場合どこで指定したらいいのでしょうか？</span>

$ {
echo SET FOREIGN_KEY_CHECKS=0
cat dbname.mysqldump
echo SET FOREIGN_KEY_CHECKS=1
} |mysql

といった感じでいいんじゃないでしょうか?
# やったことないが :-)

-- 
-- Name: SATOH Fumiyasu / fumiyas @ miraclelinux.com
-- Business Home: <a href="http://www.MiracleLinux.com">http://www.MiracleLinux.com</a>
-- Personal Home: <a href="http://www.SFO.jp/blog/">http://www.SFO.jp/blog/</a>

</pre>
</div>
<p class="button"><a href="13248">[前]</a><a href="13250">[次]</a><a href="../list/13201-13300">[番号順一覧]</a><a href="../thread/13201-13300">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13248">  13248 2006-08-18 20:19 [IIDAYUICHI &lt;y_iida@x] FOREIGN_KEY_CHECKS=0  で外部参照を回避してリストア</a></span>
<span class="current">-&gt;&nbsp;<a href="13249">  13249 2006-08-19 00:10 ┣[SATOH Fumiyasu &lt;fumi]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13250">  13250 2006-08-19 09:42 ┣[Koichi Taniguchi &lt;ta]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13251">  13251 2006-08-21 15:15 ┗[IIDAYUICHI &lt;y_iida@x]                                       </a></span>
</pre>
</body>
</html>
