<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7615</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="7614.html">[前]</a><a href="7616.html">[次]</a><a href="../list/7601-7700.html">[番号順一覧]</a><a href="../thread/7601-7700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7615
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 30 Apr 2003 00:13:46 +0900<br>
Subject: [mysql 07615] Re: load 文での load 件数の不一致<br>

</p>
</div>
<div class="body">
<pre>とみたです。

# ML への投稿の際には、Reply-To ヘッダはつけないでください。

On Tue, 29 Apr 2003 21:58:04 +0900
"Takeda" &lt;hide-yan@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; __select column_last from table where id='E001';　の実行結果</span>
<span class="quote1">&gt; +---------------------------+</span>
<span class="quote2">&gt; | column_last                  |</span>
<span class="quote1">&gt; +---------------------------+</span>
<span class="quote2">&gt; | あいう"</span>
<span class="quote1">&gt; "E001 |</span>
<span class="quote1">&gt; +---------------------------+</span>
<span class="quote1">&gt; 1 row in set (1.49 sec)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＜ＣＳＶファイル＞</span>
<span class="quote1">&gt; １行目の１列目(id)＝"E001",～～,１行目の最終列(column_last)＝"あいう"</span>
<span class="quote1">&gt; ２行目の1列目(id)＝"E002",～～</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ●推測</span>
<span class="quote1">&gt; このCSVファイルの最終列が実はカンマで区切られていないために２行目の</span>
<span class="quote1">&gt; １列目のカンマまでを１行と認識してloadし、ＣＳＶ２行を１行として取り込んでし</span>
<span class="quote1">&gt; まい、</span>
<span class="quote1">&gt; 結果としてload件数がちょうど半分になっているような気がしています。</span>

ん～、カンマとか改行コードの問題ではなくて、「"」がデータとして入って
いるのがおかしいような気がします。

漢字コードが Shift JIS で、最後の文字が「表」とか「十」とか「ソ」とか
ならわかりますが、「う」でこのようになるのは解せません…。ほんとうに最
後のフィールドの文字列は「あいう」なんでしょうか？

<span class="quote1">&gt; __でWarnings: 8315となっているのは、CSV２行目の２列目以降が正しく取り込めて</span>
<span class="quote1">&gt; いないために全レコードにWarningが発生したということと理解してよいでしょう</span>
<span class="quote1">&gt; か。</span>

そうですね。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="7614.html">[前]</a><a href="7616.html">[次]</a><a href="../list/7601-7700.html">[番号順一覧]</a><a href="../thread/7601-7700.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="7607.html">   7607 2003-04-29 12:27 ["Takeda" &lt;hide-yan@x] load 文での load 件数の不一致           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7608.html">   7608 2003-04-29 19:17 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7609.html">   7609 2003-04-29 21:58 ┃┗["Takeda" &lt;hide-yan@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7610.html">   7610 2003-04-29 22:10 ┃　┣["Takeda" &lt;hide-yan@x]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="7615.html">   7615 2003-04-30 00:13 ┃　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7617.html">   7617 2003-04-30 10:21 ┗["MORII,Tadashige" &lt;m]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7626.html">   7626 2003-04-30 23:32 　┗["Takeda" &lt;hide-yan@x]                                     </a></span>
</pre>


</body></html>