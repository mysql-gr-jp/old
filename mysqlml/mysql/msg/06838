<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6838</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6837">[前]</a><a href="6839">[次]</a><a href="../list/6801-6900">[番号順一覧]</a><a href="../thread/6801-6900">[スレッド一覧]</a></p>
<p class="id">
mysql:6838
</p>
<div class="header">
<p>
From: &quot;K-A&quot; &lt;&quot;K-A&quot; &lt;k-anzai@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 10 Jan 2003 17:45:15 +0900<br>
Subject: [mysql 06838] Re: MySQL での SQL  文について<br>

</p>
</div>
<div class="body">
<pre>
お世話になっております、安齋です。


宇野様、先ほどは申し訳ございませんでした、あの後マニュアルと
MySQL徹底攻略とメーリングの過去ログを見に行きました。
日付関数の扱いがいろいろと違っていたので
参考になりました。

それを参考にいくつか試してみたのですが
どうも具合が良くないです。

下記ソースが自分の中で一番新しいものです。
-----------------------------------------
SELECT tbLesson_Access_D.Intime,
  tbLesson_Access_D.Outtime, tbUser.UID,
  tbUser.UserID, tbUser.Name,
  tbLesson.LID,
  tbLesson.LName,
  tbCourse.CID,
  tbCourse.CName,
  Date_Format(('Outtime' - 'Intime'),'%i:%s') AS TotalSec,
  Date_Format(Intime,'%y/%m/%d') AS Date,
  tbLesson_Access_D.SchoolID,
  tbSchool.Name AS SName
FROM (tbCourse INNER JOIN (tbLesson INNER JOIN
  (tbUser INNER JOIN tbLesson_Access_D
  ON tbUser.UID = tbLesson_Access_D.UserID)
  ON tbLesson.LID = tbLesson_Access_D.LessonID)
  ON tbCourse.CID = tbLesson_Access_D.CourseID)
  INNER JOIN tbSchool ON tbLesson_Access_D.SchoolID = tbSchool.ID;
-----------------------------------------
時間の差を取ること意外に関しては全てうまくいきました。
Date_Format(('Outtime' - 'Intime'),'%i:%s') AS TotalSec,
単純にOuttimeからIntimeを引いたのですが
この状態だとNULLが返されました。
IntimeからOuttimeを引くと０（零）が返されました。

月の差を返す関数にあてはめてみたりしたのですが
やはり返ってくるのは月のようで、、、（−8とか-33とか）

なにか良い方法などありましたら、どなたかご教授ください。

もうひとつ考えているのは、自分はColdFusionで
開発を行っているのですが、OuttimeとIntimeを
取り出して、ColdFusionのファイルの方で計算をすると
いう方法です。こちらはまだ試していません。


株式会社ビーアーティスト
安齋勝恵


</pre>
</div>
<p class="button"><a href="6837">[前]</a><a href="6839">[次]</a><a href="../list/6801-6900">[番号順一覧]</a><a href="../thread/6801-6900">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="6838">   6838 2003-01-10 17:45 [&quot;K-A&quot; &lt;k-anzai@xxxxx] Re: MySQL での SQL  文について          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6839">   6839 2003-01-10 21:20 ┗[Kengo Jinno &lt;kengo@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6850">   6850 2003-01-13 02:04 　┣[Shinya Kawaji &lt;kawaj]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6897">   6897 2003-01-21 11:00 　┗[&quot;K-A&quot; &lt;k-anzai@xxxxx]                                     </a></span>
</pre>
</body>
</html>
