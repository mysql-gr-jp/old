<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15186</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="15185.html">[前]</a><a href="15187.html">[次]</a><a href="../list/15101-15200.html">[番号順一覧]</a><a href="../thread/15101-15200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15186
</p>
<div class="header">
<p>
From: Nobuyuki Sakai &lt;Nobuyuki Sakai &lt;nob@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 05 Feb 2010 11:04:00 +0900<br>
Subject: [mysql 15186] movabletypeのデータ移行時に日本語が表示されない件<br>

</p>
</div>
<div class="body">
<pre>坂井と申します。

Movable Typeを使用して個人的にブログサイトを運営しています。今回、
Movable Typeのデータを移行するために作業を実施しているのですが、日本語文
字コードのところで行き詰まっております。

○移行元
・OS : Fedora Core 3
・Movable Type : 3.31
・phpmyadmin : 2.11.6
・mysql : 3.23.58
・Movable Typeのmt-config.cgiに以下の記載がされています。
　PublishCharset Shift_JIS
・mysqlデータベースの文字コードですが、
　&gt; mysql -u root -pパスワード
　mysql&gt; show create database mt;
　ERROR 1064: You have an error in your SQL syntax near 'databases mt'
at line 1
　となり、文字コードが何なのか不明です。

○移行先
・OS : Fedora 12
・Movable Type : 5.01
・phpmyadmin : 3.2.5
・mysql : 5.1.4.2
・Movable Typeのmt-config.cgiに以下の記載がされています。
・PublishCharset UTF-8
・mysqlデータベースの文字コードですが、
　&gt; mysql -u root -pパスワード
　mysql&gt; show create database mt;
mt       | CREATE DATABASE `mt` /*!40100 DEFAULT CHARACTER SET utf8 */ |
と表示されるため、UTF-8となっております。

○作業内容
1.移行元でphpmyadminによりデータベースのエクスポート
　データベース名をクリックして、『エクスポート』をクリック。
　全選択をクリック、SQLを選択し、『DROP TABLEを追加』をチェックし、
『ファイルに保存する』をチェックする。その下は「non」のままで実行するを
クリックして、データベース名.sqlと いうファイル名で保存する。保存した
ファイルの文字コードはUTF-8になっていました。

2.移行先の設定
Movable Typeのmt-config.cgiでPublishCharset=UTF=8と記載しています。
文字コードをUTF-8としてデータベース作成
$ mysql -u root -pXXXXXX
mysql&gt; create database mt character set utf8;
mysql&gt; grant all on mt.* to mtuser@localhost identified by 'mtpasswd';

3.移行先でphpmyadminによりデータベースのインポート
　データベース名をクリックして、『インポート』をクリック。
　インポートするファイルに移行元で作成した、データベース名.sqlを選択し、
ファイルの文字セットをutf-8とし、その他は変更せずに実行するをクリックす
る。
　その後、Movable Typeのmt/mt.cgiよりサインインをするとデータベースの
アップグレードが実施される。
　ブログが新しくできているが、日本語だけが表示されていない状態となってお
ります。

インターネットの検索でいろいろと調べてみたのですが、文字化けについては情
報がたくさんあるのですが、日本語のみ表示されない現象というのはないよう
で、結局原因が分からず、
行き詰まっております。お手数ですがよろしくお願い申し上げます。



</pre>
</div>
<p class="button"><a href="15185.html">[前]</a><a href="15187.html">[次]</a><a href="../list/15101-15200.html">[番号順一覧]</a><a href="../thread/15101-15200.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="15186.html">  15186 2010-02-05 11:04 [Nobuyuki Sakai &lt;nob@] movabletypeのデータ移行時に日本語が表示されない件</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15187.html">  15187 2010-02-05 18:34 ┗[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15188.html">  15188 2010-02-05 20:55 　┗[Nobuyuki Sakai &lt;nob@]                                     </a></span>
</pre>


</body></html>