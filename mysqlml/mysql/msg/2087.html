<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2087</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="2086.html">[前]</a><a href="2088.html">[次]</a><a href="../list/2001-2100.html">[番号順一覧]</a><a href="../thread/2001-2100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2087
</p>
<div class="header">
<p>
From: "Youichi Matsumoto" &lt;"Youichi Matsumoto" &lt;you1da@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 22 May 2000 23:13:54 +0900<br>
Subject: [mysql 02087] ロールバック制御について<br>

</p>
</div>
<div class="body">
<pre>まつもとと申します。
まだこの業界初心者で、分からないことだらけで・・・
今mysqlを使ってのロールバックの制御で困っています。
一様過去ログは目をとうしてみたのですが欲しい答えが見つかりませんでした。
こんな風なことをしているのを見つけたのですが・・・・

１、 lock tables MYOUJI write, NAMAME write;
２、 update MYOUJI set MYOUJI='郷' where ID=1;
３、 update NAMAE set NAMAE='ひろみ' where ID=1;
４、 unlock tables

これだと確かに排他制御はできると思いますが
ロールバックのようなことはできないですよね。
２と３の間でサーバがダウンかなんかしたら
4は実行されるけど３は実行されずテーブルに不整合が起こる可能性がありますよ
ね。

どなたかロールバックの実装方について教えてください。
できるだけ具体的に教えていただけると助かります。


</pre>
</div>
<p class="button"><a href="2086.html">[前]</a><a href="2088.html">[次]</a><a href="../list/2001-2100.html">[番号順一覧]</a><a href="../thread/2001-2100.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="2087.html">   2087 2000-05-22 23:13 ["Youichi Matsumoto" ] ロールバック制御について                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2088.html">   2088 2000-05-23 01:17 ┗["Ningfeng Yang" &lt;yan]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2089.html">   2089 2000-05-23 02:20 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2097.html">   2097 2000-05-24 00:07 　　┗["Youichi Matsumoto" ]                                   </a></span>
</pre>


</body></html>