<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10032</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10031">[前]</a><a href="10033">[次]</a><a href="../list/10001-10100">[番号順一覧]</a><a href="../thread/10001-10100">[スレッド一覧]</a></p>
<p class="id">
mysql:10032
</p>
<div class="header">
<p>
From: &quot;KAWAI,Takanori&quot; &lt;&quot;KAWAI,Takanori&quot; &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 21 Aug 2004 07:37:10 +0900<br>
Subject: [mysql 10032] Re: Webでのテンポラリーテーブルについて<br>

</p>
</div>
<div class="body">
<pre>
川合孝典です。

すいませんが、ちょっと状況がわからないので、もう一度。

----- Original Message ----- 
From: &quot;杉本誠&quot; &lt;sugimoto@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Friday, August 20, 2004 6:33 PM
Subject: <a href="10031">[mysql 10031]</a> Re: Webでのテンポラリーテーブルについて


（中略)
<span class="quote1">&gt; Perlスクリプトが処理されて、HTML文がクライアントに送られた段階で、</span>
<span class="quote1">&gt; セッションは終わり、テーブルは消滅しているのですね。</span>
CGIの場合、Perlのスクリプトはリクエストの時点で起動され、
通常、HTML文をクライアントに返して終了しますよね？
そのため、スクリプトが終了した時点で（本当は接続をあらわす
データベースハンドルが解放された時点でセッションが終了します。
暗黙のうちにdisconnectが発行されるはずですから、

<span class="quote1">&gt; これは、PerlのDBDで　disconnect(); を処理した時点と見てよいので</span>
<span class="quote1">&gt; しょうか。</span>

というのでも別に間違いではないでしょう。

ただ前のメールにも書きましたがもmod_perl+Apache::DBIでは
同一ユーザ、同一データベースに対する接続を使いまわします。
このとき接続を保持するのはApacheのプロセスですから、
どのセッションが使われるのかは運次第ってことになってしまい、
テンポラリテーブルを使うのは難しいと思います。

どのようなことをしたいのかにもよりますが、スクリプトをまたがって
情報を保持したいということであれば、接続を保持するための
プロセスを別にたててプロセス間通信してみるとか？
それよりはApache::Session、CGI::Sessionのように識別する
ための情報を生成して、それをキーにデータを格納するほうが
よいような気がしますけど。

===================================================
川合 孝典 (Hippo2000)
   DBI日本語メーリングリスト管理人、Kansai.pm所属
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>、<a href="http://www.hippo2000.info/">http://www.hippo2000.info/</a>
perldocの日本語情報ならperldocjp：翻訳してみませんか？
  <a href="http://perldocjp.sourceforge.jp/">http://perldocjp.sourceforge.jp/</a>
===================================================


</pre>
</div>
<p class="button"><a href="10031">[前]</a><a href="10033">[次]</a><a href="../list/10001-10100">[番号順一覧]</a><a href="../thread/10001-10100">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10029">  10029 2004-08-20 17:31 [杉本誠 &lt;sugimoto@xxx] Webでのテンポラリーテーブルについて     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10030">  10030 2004-08-20 18:18 ┗[川合孝典 &lt;gcd00051@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10031">  10031 2004-08-20 18:33 　┗[杉本誠 &lt;sugimoto@xxx]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="10032">  10032 2004-08-21 07:37 　　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10044">  10044 2004-08-23 09:06 　　　┗[杉本誠 &lt;sugimoto@xxx]                                 </a></span>
</pre>
</body>
</html>
