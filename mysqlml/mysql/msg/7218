<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7218</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7217">[前]</a><a href="7219">[次]</a><a href="../list/7201-7300">[番号順一覧]</a><a href="../thread/7201-7300">[スレッド一覧]</a></p>
<p class="id">
mysql:7218
</p>
<div class="header">
<p>
From: Kitajima &lt;Kitajima &lt;kitajima@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 18 Mar 2003 13:22:36 +0900<br>
Subject: [mysql 07218] Re: 漢字の部分一致検索の挙動について<br>

</p>
</div>
<div class="body">
<pre>
　これは[とみたまさひろ]様が[03/03/18 07:16:46]に送信された、
　[<a href="07213">[mysql 07213]</a> Re: 漢字の部分一致検索の挙動について]への返信です。
〆￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣
研究ありがとうございます。原因が明確になり、なんだかすっきりしました。


とみたまさひろ&gt; とみたです。
とみたまさひろ&gt; 
とみたまさひろ&gt; On Thu, 06 Mar 2003 18:29:33 +0900
とみたまさひろ&gt; Kitajima &lt;kitajima@xxxxxxxxxx&gt; wrote:
とみたまさひろ&gt; 
とみたまさひろ&gt; &gt; どもです。先日“パ”と“ケ”が区別できないという問題を投稿しましたが、
とみたまさひろ&gt; &gt; 色々調べてみた結果、
とみたまさひろ&gt; &gt; 
とみたまさひろ&gt; &gt; ・LIKE '%ケンタ%'等の部分一致場合に発生する。
とみたまさひろ&gt; &gt; 　(SELECT結果「ケンタッキー」と「パンタロン」がマッチ)
とみたまさひろ&gt; &gt; ・MySQLVer4系列でのみ発生する。
とみたまさひろ&gt; &gt; 
とみたまさひろ&gt; &gt; の様です。
とみたまさひろ&gt; &gt; 一日も早くこの現象が無くなることを祈って。。。
とみたまさひろ&gt; 
とみたまさひろ&gt; 原因がわかりました。MySQL 4.0.2 で導入された、
とみたまさひろ&gt; 
とみたまさひろ&gt;    * Use `Turbo Boyer-Moore' algorithm to speed up `LIKE &quot;%keyword%&quot;'
とみたまさひろ&gt;      searches.
とみたまさひろ&gt; 
とみたまさひろ&gt; の影響のようです。&quot;%string%&quot; 形式の LIKE だけ特別な関数を呼んで処理す
とみたまさひろ&gt; るようになってました。その関数はマルチバイトを意識してません。
とみたまさひろ&gt; 
とみたまさひろ&gt; とりあえず、マルチバイト文字セットの場合にその関数を使わないようにする
とみたまさひろ&gt; パッチを作りました。
とみたまさひろ&gt; 
とみたまさひろ&gt; ソースからコンパイルできる環境にある人は使ってみてください。
とみたまさひろ&gt; 
とみたまさひろ&gt; -- 
とみたまさひろ&gt; とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
とみたまさひろ&gt; 日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>


Kitajima. kitajima@xxxxxxxxxx
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp/</a>
━━━━────────────────────────────


</pre>
</div>
<p class="button"><a href="7217">[前]</a><a href="7219">[次]</a><a href="../list/7201-7300">[番号順一覧]</a><a href="../thread/7201-7300">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7140">   7140 2003-03-06 18:29 [Kitajima &lt;kitajima@x] 漢字の部分一致検索の挙動について        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7149">   7149 2003-03-08 13:45 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7150">   7150 2003-03-09 18:18 ┃┗[Kitajima &lt;kitajima@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7151">   7151 2003-03-09 19:29 ┃　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7159">   7159 2003-03-11 21:10 ┃　　┗[Takeyuki Miyagawa &lt;m]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7160">   7160 2003-03-12 02:08 ┃　　　┣[Tomoyuki Ishino &lt;ish]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7161">   7161 2003-03-12 11:23 ┃　　　┃┗[Kitajima &lt;kitajima@x]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7163">   7163 2003-03-13 02:30 ┃　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7213">@  7213 2003-03-18 07:16 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="7218">   7218 2003-03-18 13:22 　┣[Kitajima &lt;kitajima@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7350">   7350 2003-03-25 04:38 　┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7361">   7361 2003-03-26 01:47 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7371">   7371 2003-03-26 18:36 　　　┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                 </a></span>
</pre>
</body>
</html>
