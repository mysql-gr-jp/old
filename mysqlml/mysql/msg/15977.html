<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15977</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="15976.html">[前]</a><a href="15978.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15977
</p>
<div class="header">
<p>
From: ram &lt;ram &lt;ram@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 19 Jun 2013 09:27:25 +0900<br>
Subject: [mysql 15977] Re: ネットワーク越しでのmysqlの更新がうまくできない？<br>

</p>
</div>
<div class="body">
<pre>
質問者です。
状況認識に誤りがありましたので、追記します。

繋がらないのは、ネットワーク云々以前の問題でした。
どうも、IE固有の現象のようです。
自宅からリモートアクセスの状態でも、FF(Firefox)やChromeだと正常に動作す
ることが判りました。
また、通常使っているブラウザがFFのため、LAN環境でも、IEだと同じ現象が出
ることに気づきませんでした。

$SQL = $SQL.&quot; WHERE npdate = {$ck_ym} AND sycd = '{$ck_sycd}'&quot;;
echo mysql_errno($cn) . &quot;: &quot; . mysql_error($cn) . &quot;\n&quot;;
echo $SQL;
$sts = mysql_query($SQL,$cn);
if (!$sts) {
print &quot;&lt;br&gt;&lt;img src='img/error.jpg' width=32 height=32&gt;&quot;;

mysql_queryの前にecho文を加えてみましたが、これさえも表示されず、ブラウ
ザが空白な状態で固まった状態になりますが、
更新は正常に行われています。

IE独自の現象となると、アドインとかポップアップとかのセキュリティの問題な
のかもしれませんが、
自宅でも職場でも特に替わったプラグインを入れているわけでもありません。
ポップアップは無効、どうでも好さそうなものは全部無効にして、結果残ったの
は以下のみにしましたが、結果は同じです。
（試しにJavaを外しても駄目でした）
Bonjour
Java(tm) Plig-In 2 SSV Helper
Java(tm) Plig-In SSV Helper
Research
Windows Live サインインヘルパー
接続の問題の診断

mysqlの問題というよりも、IEの問題なんでしょうか？
IEでmysqlに絡むセキュリティ設定の要素があるのでしょうか？
御存じの方がおられましたら、教えて頂ければ幸いです。

(2013/06/14 13:13), ram wrote:
<span class="quote1">&gt; Mysql+phpで日報システムを作っています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 独学でWebサイトの情報を見ながら作っているのですが、</span>
<span class="quote1">&gt; 更新系の処理に手間取っています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 前画面でボタンを押すと、以下のようなphpスクリプトを呼び出して、その中で</span>
<span class="quote1">&gt; 更新を行い、</span>
<span class="quote1">&gt; 結果を画面に出して、リンクタグで前画面に戻すようにしています。</span>
<span class="quote1">&gt; イントラネット上の環境では正常に動作しています。</span>
<span class="quote1">&gt; （前画面）<a href="http://192.168.">http://192.168.</a>*.***/moto.php</span>
<span class="quote1">&gt; （更新処理）<a href="http://192.168.">http://192.168.</a>*.***/dbup.php</span>
<span class="quote1">&gt; ところが、インターネット経由で、リモートアクセス（IPsec）すると、更新処</span>
<span class="quote1">&gt; 理までは正常にされているようなのですが、</span>
<span class="quote1">&gt; 更新処理のところで固まってしまい、処理結果が表示されません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 照会は正常にできており、更新自体もされてはいますので、</span>
<span class="quote1">&gt; ファイヤウォールでMysqlのポートが開いていないのかと思ったのですが、そう</span>
<span class="quote1">&gt; ではないように思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; dbup.phpの内容は以下の通りです。</span>
<span class="quote1">&gt; &lt;?php</span>
<span class="quote1">&gt; // MySQL 接続</span>
<span class="quote1">&gt; if (!($cn = mysql_connect(&quot;192.168.*.***&quot;, &quot;user&quot;, &quot;password&quot;))) {</span>
<span class="quote1">&gt; die;</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; // MySQL DB 選択</span>
<span class="quote1">&gt; if (!(mysql_select_db(&quot;mydatabase&quot;,$cn))) {</span>
<span class="quote1">&gt; die;</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; 　　（中略）</span>
<span class="quote1">&gt; $SQL=&quot;UPDATE NIPPO SET = ***** &quot;;</span>
<span class="quote1">&gt; 　　（中略）</span>
<span class="quote1">&gt; $sts = mysql_query($SQL,$cn);</span>
<span class="quote1">&gt; if (!$sts) {</span>
<span class="quote1">&gt; print &quot;&lt;br&gt;&lt;img src='img/error.jpg' width=32 height=32&gt;&quot;;</span>
<span class="quote1">&gt; print &quot;更新に失敗しました。&quot;;</span>
<span class="quote1">&gt; print &quot;&lt;br&gt;&lt;A HREF='javascript:history.back()'&gt;前のページに戻る&lt;/A&gt;&quot;;</span>
<span class="quote1">&gt; } else {</span>
<span class="quote1">&gt; print &quot;&lt;br&gt;&lt;img src='img/inf.jpg' width=32 height=32&gt;更新しました。&quot;;</span>
<span class="quote1">&gt; print &quot;&lt;br&gt;&lt;A HREF='moto.php'&gt;前のページに戻る&lt;/A&gt;&quot;;</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; ?&gt;</span>
<span class="quote1">&gt; &lt;/body&gt;</span>
<span class="quote1">&gt; &lt;/html&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ネットワーク越しでmysqlを使うに当っての注意点や、根本的な誤ちのご指摘事項、</span>
<span class="quote1">&gt; 何れでも結構ですので、アドバイス頂ければ幸いです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>


</pre>
</div>
<p class="button"><a href="15976.html">[前]</a><a href="15978.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15971.html">  15971 2013-06-14 13:13 [ram &lt;ram@xxxxxxxxxx&gt;] ネットワーク越しでのmysqlの更新がうまくできない？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15972.html">  15972 2013-06-14 13:23 ┣[Isamu Moriyama &lt;mori]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15973.html">  15973 2013-06-14 14:45 ┃┗[ram &lt;ram@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15975.html">  15975 2013-06-14 21:00 ┣[Watanabe Tomoyuki &lt;W]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15976.html">  15976 2013-06-17 16:11 ┃┗[ram &lt;ram@xxxxxxxxxx&gt;]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="15977.html">  15977 2013-06-19 09:27 ┗[ram &lt;ram@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15978.html">  15978 2013-06-19 22:40 　┣[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15979.html">  15979 2013-06-20 14:45 　┃┗[ram &lt;ram@xxxxxxxxxx&gt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15980.html">@ 15980 2013-06-20 14:47 　┗[Yasuo Ohgaki &lt;yohgak]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15981.html">@ 15981 2013-06-25 11:22 　　┗[ram &lt;ram@xxxxxxxxxx&gt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15982.html">@ 15982 2013-06-25 13:53 　　　┣[松野弘法 &lt;hiro_matsu]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15983.html">  15983 2013-06-27 22:33 　　　┗[舘山 聖司 &lt;tateyan@x]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15984.html">  15984 2013-06-27 22:54 　　　　┗[舘山 聖司 &lt;tateyan@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15985.html">  15985 2013-06-28 10:51 　　　　　┗[松野弘法 &lt;hiro_matsu]                             </a></span>
</pre>
</body>
</html>
