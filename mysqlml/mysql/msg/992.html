<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:992</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="991.html">[前]</a><a href="993.html">[次]</a><a href="../list/901-1000.html">[番号順一覧]</a><a href="../thread/901-1000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:992
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 16 Jul 1999 02:02:42 +0900<br>
Subject: [mysql 00992] オブジェクト指向 API<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

MySQL Ruby API の数少ないご利用者のみなさん、こんにちわ。

今の Ruby API は C API をそのまま Ruby から使えるようにしただけなので、
プログラミングのしやすさという点からはイマイチのような気がしてます。

で、SQL が嫌いな私は、最近「どうせ Ruby から MySQL を使うんだったらオブ
ジェクト指向風にできないものか」と、たわけたことを考えています。

つまり、

サーバーオブジェクトは一つ以上のデータベースオブジェクトを持ち、
データベースオブジェクトは一つ以上のテーブルオブジェクトを持ち、
テーブルオブジェクトは一つ以上のレコード(行)オブジェクトを持ち、
レコードオブジェクトは一つ以上のカラム(列)オブジェクトを持つ。

…という考え方で、そのままプログラムから使えるようなものです。

Ruby で書くとこんな感じ。

	s = MyServer.new(&quot;サーバー名&quot;)	# サーバオブジェクトの生成
	db = s.db(&quot;DB名&quot;)		# DBオブジェクトを取り出す
	t = db.table(&quot;テーブル名&quot;)	# テーブルオブジェクトを取り出す
	row = t.row(0)			# テーブルの最初のレコードを取り出す
	col = row.column(0)		# レコードの最初の列を取り出す
	puts col.value			# 項目の値を表示

レコードの条件を指定する場合は↓

	t.cond(&quot;id='hoge' and name='fuga'&quot;)

テーブルの結合(join)はこんな風↓

	t = t1 + t2

思いつきで書いてるので、これでほんとにプログラミングしやすいのか？とか、
そもそも可能なのか？とかは全然考えてませんが (^^; ちょっと面白そうかな…
と。

--
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;

</pre>
</div>
<p class="button"><a href="991.html">[前]</a><a href="993.html">[次]</a><a href="../list/901-1000.html">[番号順一覧]</a><a href="../thread/901-1000.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="992.html">    992 1999-07-16 02:02 [とみたまさひろ &lt;tomm] オブジェクト指向 API                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="996.html">    996 1999-07-16 14:28 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="999.html">    999 1999-07-16 15:03 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
</pre>
</body>
</html>
