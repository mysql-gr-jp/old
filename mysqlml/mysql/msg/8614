<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8614</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8613">[前]</a><a href="8615">[次]</a><a href="../list/8601-8700">[番号順一覧]</a><a href="../thread/8601-8700">[スレッド一覧]</a></p>
<p class="id">
mysql:8614
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 15 Jan 2004 23:49:24 +0900<br>
Subject: [mysql 08614] Re: 累積値を求めたいのですが<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Thu, 15 Jan 2004 23:35:06 +0900
TORU NOMURA &lt;toru2008@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; 項目　　　値</span>
<span class="quote1">&gt; 10		5</span>
<span class="quote1">&gt; 20		10</span>
<span class="quote1">&gt; 30		20</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; このように、項目でソートされたテーブルがあるとします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 項目　　　値		累積値</span>
<span class="quote1">&gt; 10		5		5</span>
<span class="quote1">&gt; 20		10		15</span>
<span class="quote1">&gt; 30		20		35</span>

<span class="quote1">&gt; のように、値の累積値を各レコードに書き込みたいのですが、何かいいアイディア</span>
<span class="quote1">&gt; はないでしょうか？。</span>

SQL としてはかなりイレギュラーだとは思いますが、

	set @a=0; update テーブル set 累積値=(@a:=@a+値) order by 項目;

…なんてのはいかがでしょうか。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="8613">[前]</a><a href="8615">[次]</a><a href="../list/8601-8700">[番号順一覧]</a><a href="../thread/8601-8700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8613">   8613 2004-01-15 23:35 [TORU NOMURA &lt;toru200] 累積値を求めたいのですが                </a></span>
<span class="current">-&gt;&nbsp;<a href="8614">   8614 2004-01-15 23:49 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8620">   8620 2004-01-16 22:30 ┃┗[TORU NOMURA &lt;toru200]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8615">   8615 2004-01-16 00:29 ┗[&quot;Kawaji, Shinya&quot; &lt;ka]                                       </a></span>
</pre>
</body>
</html>
