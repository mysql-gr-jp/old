<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7371</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7370">[前]</a><a href="7372">[次]</a><a href="../list/7301-7400">[番号順一覧]</a><a href="../thread/7301-7400">[スレッド一覧]</a></p>
<p class="id">
mysql:7371
</p>
<div class="header">
<p>
From: &quot;HIROSE, Masaaki&quot; &lt;&quot;HIROSE, Masaaki&quot; &lt;hirose31@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 26 Mar 2003 18:36:27 +0900<br>
Subject: [mysql 07371] Re: 漢字の部分一致検索の挙動について<br>

</p>
</div>
<div class="body">
<pre>
ひろせです

on &quot;<a href="07361">[mysql 07361]</a> Re: 漢字の部分一致検索の挙動について&quot;
   &lt;20030326014721.6b73d7aa.tommy@xxxxxxxxxx&gt;
at Wed, 26 Mar 2003 01:47:21 +0900
   とみたまさひろ &lt;tommy@xxxxxxxxxx&gt; wrote:

<span class="quote2">&gt; &gt; 残念ながら先日リリースされた 4.0.12 でも直っていませんでした。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; まだバグ報告してませんから… (^^;</span>

是非、お願いします。m(_ _)m

<span class="quote2">&gt; &gt; ところで、EXPLAIN で見る限りはテーブル定義時の BINARY 属性に比べ、</span>
<span class="quote2">&gt; &gt; SELECT 時などの BINARY 関数の使用は効率が悪いようなので、原則、</span>

「BINARY 関数の使用は効率が悪いようなので」は嘘でした。
# ついでにいうと BINARY 関数は BINARY 演算子の間違いです。

EXPLAIN で見る限りは、
  〜 WHERE BINARY colname LIKE 'keyword%';
と
  〜 WHERE colname LIKE BINARY 'keyword%';
とでは結果が異なり、後者ならば性能的には問題にならないようでした。

<span class="quote2">&gt; &gt;   文字種類 / 大・小文字</span>
<span class="quote2">&gt; &gt;   =========================================================</span>
<span class="quote2">&gt; &gt;   英のみ   / 区別しない → BINARY 属性なし、関数使用しない</span>
<span class="quote2">&gt; &gt;   英のみ   / 区別する   → BINARY 属性あり、関数使用しない</span>
<span class="quote2">&gt; &gt;   和のみ   / 区別しない → BINARY 属性なし、関数使用しない</span>
<span class="quote2">&gt; &gt;   和のみ   / 区別する   → BINARY 属性なし、関数使用しない</span>
<span class="quote2">&gt; &gt;   英和混在 / 区別しない → BINARY 属性なし、関数使用しない</span>
<span class="quote2">&gt; &gt;   英和混在 / 区別する   → BINARY 属性あり、関数使用しない</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; # 要は ASCII 文字が含まれる場合は BINARY 属性をつける。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; という方針で考えているのですが、これは妥当でしょうか?</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; まあ、いいんじゃないでしょうか。クエリによるので一概にはいえないと思い</span>
<span class="quote1">&gt; ますが…。</span>

BINARY 属性をつけないと、大文字小文字の区別が必要な局面で WHERE 句や
ORDER BY に BINARY 演算子をつけ忘れてハマりそうな気がするので、原則、
文字列型のカラムには BINARY 属性をつけて CREATE TABLE するようにした方
がいいかなぁと思っています。

# 長年 MySQL を使っている人はこの点どう考えているかお聞きしたいです。

ではでは

-- 
ひろせ

</pre>
</div>
<p class="button"><a href="7370">[前]</a><a href="7372">[次]</a><a href="../list/7301-7400">[番号順一覧]</a><a href="../thread/7301-7400">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7140">   7140 2003-03-06 18:29 [Kitajima &lt;kitajima@x] 漢字の部分一致検索の挙動について        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7149">   7149 2003-03-08 13:45 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7150">   7150 2003-03-09 18:18 ┃┗[Kitajima &lt;kitajima@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7151">   7151 2003-03-09 19:29 ┃　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7159">   7159 2003-03-11 21:10 ┃　　┗[Takeyuki Miyagawa &lt;m]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7160">   7160 2003-03-12 02:08 ┃　　　┣[Tomoyuki Ishino &lt;ish]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7161">   7161 2003-03-12 11:23 ┃　　　┃┗[Kitajima &lt;kitajima@x]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7163">   7163 2003-03-13 02:30 ┃　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7213">@  7213 2003-03-18 07:16 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7218">   7218 2003-03-18 13:22 　┣[Kitajima &lt;kitajima@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7350">   7350 2003-03-25 04:38 　┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7361">   7361 2003-03-26 01:47 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="7371">   7371 2003-03-26 18:36 　　　┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                 </a></span>
</pre>
</body>
</html>
