<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1204</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="1203.html">[前]</a><a href="1205.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1204
</p>
<div class="header">
<p>
From: 舘山　聖司  &lt;舘山　聖司  &lt;tateyan@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 04 Sep 1999 01:49:31 +0900<br>
Subject: [mysql 01204] MYSQl 3.23.2 αの不具合？<br>

</p>
</div>
<div class="body">
<pre>舘山です
取敢えず自身がないので

最近メールの通数をカウントするスクリプトで
遊んでるんですが（GD で円グラフを作ったりして）

CREATE TABLE count (
  date date DEFAULT '0000-00-00' NOT NULL,
  email varchar(128) DEFAULT '' NOT NULL,
  count int(10) unsigned,
  PRIMARY KEY (date,email)
);

として　dateとemail をプライマリキーとすることで
一日分の　email アカウントの総量をカウントしてます

それで　これは出るのですが
一週間分のトータルを出そうと
select email, sum(count) as total from count where 
    date &gt; '1999-08-27' and date &lt; '1999-09-04'
    GROUP by email order by total  desc;

なんてやると
total カウントが　すべて　0 になってしまうんです

これが　3.22.25 で実行した場合は　問題なく
カウントしてくれます

本当はもっとサンプルデータ多いんですが（ＭＬなんで）
取敢えず　以下のようなデータです
INSERT INTO count VALUES ('1999-08-27','tateyan@xxxxxxxxxx',18);
INSERT INTO count VALUES ('1999-08-28','testtest@xxxxxxxxxx',19);
INSERT INTO count VALUES ('1999-08-28','tateyan@xxxxxxxxxx',26);
INSERT INTO count VALUES ('1999-08-29','testtest@xxxxxxxxxx',76);
INSERT INTO count VALUES ('1999-08-29','tateyan@xxxxxxxxxx',16);
INSERT INTO count VALUES ('1999-08-30','tateyan@xxxxxxxxxx',15);
INSERT INTO count VALUES ('1999-08-30','testtest@xxxxxxxxxx',15);
INSERT INTO count VALUES ('1999-08-31','tateyan@xxxxxxxxxx',3);
INSERT INTO count VALUES ('1999-08-31','testtest@xxxxxxxxxx',25);
INSERT INTO count VALUES ('1999-09-01','tateyan@xxxxxxxxxx',3);
INSERT INTO count VALUES ('1999-09-01','testtest@xxxxxxxxxx',26);
INSERT INTO count VALUES ('1999-09-02','tateyan@xxxxxxxxxx',8);
INSERT INTO count VALUES ('1999-09-02','testtest@xxxxxxxxxx',24);
INSERT INTO count VALUES ('1999-09-03','tateyan@xxxxxxxxxx',3);
INSERT INTO count VALUES ('1999-09-03','testtest@xxxxxxxxxx',57);

環境は　Linux potato　カーネル　2.2.12
コンパイル　は　--with-charset=sjis を付けたのみ
SMP 環境で　Pentium2 300 です

=====================
たてやんっす
tateyan@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="1203.html">[前]</a><a href="1205.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="1204.html">   1204 1999-09-04 01:49 [舘山　聖司  &lt;tateyan] MYSQl 3.23.2 αの不具合？               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1205.html">   1205 1999-09-04 14:11 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1206.html">   1206 1999-09-05 11:03 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1207.html">   1207 1999-09-05 22:18 　┗[Yasuaki Tanaka &lt;yasu] 漢字の判別                          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1210.html">   1210 1999-09-06 04:50 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
</pre>


</body></html>