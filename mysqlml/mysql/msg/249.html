<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:249</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="248.html">[前]</a><a href="250.html">[次]</a><a href="../list/201-300.html">[番号順一覧]</a><a href="../thread/201-300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:249
</p>
<div class="header">
<p>
From: Seiji Tateyama &lt;Seiji Tateyama &lt;tateyan@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 10 Sep 1998 14:41:03 +0900<br>
Subject: [mysql 249] Re: MySQL  と   Perl のハッシュを組んだ場合<br>

</p>
</div>
<div class="body">
<pre>

舘山です

私も まだ修行中の身ですが こんな風に記述してるだけです
＃実は ほかのことが忙しくって最近あんまり．．．


use DBI;
$dbh = DBI-&gt;connect( 'データベース名', 'ユーザ', 'パスワード', 'mysql');

    $Q=&quot;SQL文&quot;;
    $sth = $dbh-&gt;prepare($Q)
        or die &quot;Can't prepare statement: $DBI::errstr&quot;;
    
     処理

    $sth-&gt;finish;

っていう感じです

AL-Mail のアドレス帳を以下のような文で
作ってたりします(^^ゞ
リダイレクトで mail.adr としてAL-Mailの
アドレス帳として用いてます


#!/usr/bin/perl -Lsjis
use DBI;
@a=('ア','イ','ウ','エ','オ',
'カ','キ','ク','ケ','コ',
'ガ','ギ','グ','ゲ','ゴ',
'サ','シ','ス','セ','ソ',
'ザ','ジ','ズ','ゼ','ゾ',
'タ','チ','ツ','テ','ト',
'ダ','ヂ','ヅ','デ','ド',
'ナ','ニ','ヌ','ネ','ノ',
'ハ','ヒ','フ','ヘ','ホ',
'バ','ビ','ブ','べ','ボ',
'パ','ピ','プ','ペ','ポ',
'マ','ミ','ム','メ','モ',
'ヤ','ユ','ヨ',
'ラ','リ','ル','レ','ロ',
'ワ');
$dbh = DBI-&gt;connect( 'mailadress', 'xxxxxxxx', 'passwd', 'mysql');
print &quot;Group address\r\n&quot;
foreach $i ( @a) {
    $Q=&quot;SELECT address,name FROM mail WHERE yomi like '$i%'&quot;;
    $sth = $dbh-&gt;prepare($Q)
        or die &quot;Can't prepare statement: $DBI::errstr&quot;;

    $rc = $sth-&gt;execute
        or die &quot;Can't execute statement: $DBI::errstr&quot;;
    if($rc != 0) {
        print &quot;  Group $i行\n&quot;;
        while (@data = $sth-&gt;fetchrow_array) {
            print &quot;    $data[1]:$data[0] ($data[1])\r\n&quot;;
        }
        warn $DBI::errstr if $DBI::err;
        print &quot;  End group\n&quot;;
    }
    $sth-&gt;finish;
}
print &quot;End group\r\n&quot;;


出力は
Group address
 Group ア行
    安藤 篤:ando@xxxxxxxxxx (安藤 篤)
     ・
     ・
 End Group
 Group イ行
     ・
 End Group

End Group

といった感じです

<span class="quote1">&gt; DBD や DBI はきっと詳しい人からフォローがあるでしょう。</span>
詳しくないんですが(^^ゞ
ちょっとした サンプル程度ということでお許しくださいm(__)m

<span class="quote1">&gt; 今でも昔のインタフェースも使えるみたいなんで、好みにあった方を</span>
<span class="quote1">&gt; 使えばいいと思います。</span>
ですねぇ
---------------------
舘山　聖司　　tateyan@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="248.html">[前]</a><a href="250.html">[次]</a><a href="../list/201-300.html">[番号順一覧]</a><a href="../thread/201-300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="243.html">    243 1998-09-09 11:39 [&quot;M.Funakoshi&quot; &lt;maido] MySQL と　Perl のハッシュを組んだ場合   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="244.html">    244 1998-09-09 17:36 ┗[&quot;民斗 &quot; &lt;tommy@xxxxx] Re: MySQL と  Perl  のハッシュを組んだ場合</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="245.html">    245 1998-09-09 19:10 　┣[Seiji Tateyama &lt;tate]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="246.html">    246 1998-09-09 22:03 　┃┗[&quot;M.Funakoshi&quot; &lt;maido]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="247.html">    247 1998-09-10 10:43 　┃　┣[&quot;民斗 &quot; &lt;tommy@xxxxx]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="249.html">    249 1998-09-10 14:41 　┃　┃┗[Seiji Tateyama &lt;tate]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="248.html">    248 1998-09-10 13:45 　┃　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="250.html">    250 1998-09-10 16:41 　┗[Toshihiro Koumoto &lt;k]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="251.html">    251 1998-09-10 17:41 　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                   </a></span>
</pre>
</body>
</html>
