<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12793</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12792">[前]</a><a href="12794">[次]</a><a href="../list/12701-12800">[番号順一覧]</a><a href="../thread/12701-12800">[スレッド一覧]</a></p>
<p class="id">
mysql:12793
</p>
<div class="header">
<p>
From: &quot;tarumi&quot; &lt;&quot;tarumi&quot; &lt;yuutarumi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 22 Feb 2006 14:38:26 +0900<br>
Subject: [mysql 12793] Re: PROCEDUREでのCURSOR終了条件<br>

</p>
</div>
<div class="body">
<pre>
tarumiです。

一部抜けがありました。
doneを宣言とHANDLERの設定しとかないとまずいようです。

DECLARE done INT DEFAULT 0;
<span class="quote1">&gt; DECLARE myCur CURSOR FOR SELECT * FROM HOGEHOGE;</span>
DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;
<span class="quote1">&gt; REPEAT</span>
<span class="quote1">&gt;   FETCH myCur INTO 変数、変数・・・;</span>
<span class="quote1">&gt;   IF NOT done THEN</span>
<span class="quote1">&gt;    処理色々。</span>
<span class="quote1">&gt;   END IF;</span>
<span class="quote1">&gt; UNTIL done END REPEAT;</span>

以上です。

</pre>
</div>
<p class="button"><a href="12792">[前]</a><a href="12794">[次]</a><a href="../list/12701-12800">[番号順一覧]</a><a href="../thread/12701-12800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12790">  12790 2006-02-22 12:20 [&quot;tarumi&quot; &lt;yuutarumi@] PROCEDUREでのCURSOR終了条件             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12791">  12791 2006-02-22 13:30 ┗[&quot;tarumi&quot; &lt;yuutarumi@]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="12793">  12793 2006-02-22 14:38 　┗[&quot;tarumi&quot; &lt;yuutarumi@]                                     </a></span>
</pre>
</body>
</html>
