<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14744</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14743">[前]</a><a href="14745">[次]</a><a href="../list/14701-14800">[番号順一覧]</a><a href="../thread/14701-14800">[スレッド一覧]</a></p>
<p class="id">
mysql:14744
</p>
<div class="header">
<p>
From: Koichi Takai &lt;Koichi Takai &lt;ktakai@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 26 Feb 2009 13:23:39 +0900<br>
Subject: [mysql 14744] Re: 異なるバージョンでのレプリケーション<br>

</p>
</div>
<div class="body">
<pre>
奥野様

丁寧なご説明ありがとうございました。

MySqlのHPでは4.0のダウンロードができないようなので他部署をあたってみます。
将来的にはMASTERのサーバもアップグレードするのでそのときに対応しようと思
います。

高井

On Thu, 26 Feb 2009 11:53:43 +0900
Mikiya Okuno &lt;Mikiya.Okuno@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; 高井様</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; MASTERが3.23という時点で5.1には対応していないのですね。</span>
<span class="quote2">&gt; &gt; 4.1のマニュアルを見るとSLAVEが4.0.1以降なら対応可能ということになってい</span>
<span class="quote2">&gt; &gt; ます。</span>
<span class="quote2">&gt; &gt; こちらは正しいでしょうか。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; はい。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ちなみに、MySQLのメジャーバージョンは3.23、4.0、4.1、5.0、5.1と続いています。</span>
<span class="quote1">&gt; 3.23の次は4.0なので、マスターとスレーブでそれぞれこのバージョンを使うことができます。</span>
<span class="quote1">&gt; しかし、3.23から4.1以降へのレプリケーションはできません。（できる場合もあるけど</span>
<span class="quote1">&gt; サポートされないということです。）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; しかし、3.23も4.0もすでに開発が完全に終了しているバージョンなので、</span>
<span class="quote1">&gt; いかなる不具合があっても修正される予定はありません。なので、早めに</span>
<span class="quote1">&gt; 計画的にアップグレードされることをおすすめします。</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; 奥野 幹也</span>
<span class="quote1">&gt; MySQLサポートエンジニア</span>
<span class="quote1">&gt; サン・マイクロシステムズ株式会社</span>
<span class="quote1">&gt; <a href="http://www-jp.mysql.com/">http://www-jp.mysql.com/</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; MySQLブログ集約サイト「Planet MySQL」日本語版オープン！</span>
<span class="quote1">&gt; <a href="http://jp.planetmysql.org/">http://jp.planetmysql.org/</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; On 26/02/2009, at 11:45 AM, Koichi Takai wrote:</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; オクノ様</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 早急なご回答ありがとうございます。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; MASTERが3.23という時点で5.1には対応していないのですね。</span>
<span class="quote2">&gt; &gt; 4.1のマニュアルを見るとSLAVEが4.0.1以降なら対応可能ということになってい</span>
<span class="quote2">&gt; &gt; ます。</span>
<span class="quote2">&gt; &gt; こちらは正しいでしょうか。</span>
<span class="quote2">&gt; &gt; 質問ばかりですみませんがよろしくお願いします。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 高井</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; On Thu, 26 Feb 2009 11:32:57 +0900</span>
<span class="quote2">&gt; &gt; Mikiya Okuno &lt;Mikiya.Okuno@xxxxxxxxxx&gt; wrote:</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote3">&gt; &gt;&gt; 高井様</span>
<span class="quote3">&gt; &gt;&gt;</span>
<span class="quote3">&gt; &gt;&gt; スレーブでは、マスターよりメジャーバージョンが一つだけ高いもののみ利用出来ます。</span>
<span class="quote3">&gt; &gt;&gt; 詳細は次のページをご覧下さい。（5.1の日本語のマニュアルはちょっと情報が古いです。）</span>
<span class="quote3">&gt; &gt;&gt; <a href="http://dev.mysql.com/doc/refman/5.1/en/replication-compatibility.html">http://dev.mysql.com/doc/refman/5.1/en/replication-compatibility.html</a></span>
<span class="quote3">&gt; &gt;&gt; --</span>
<span class="quote3">&gt; &gt;&gt; Mikiya Okuno, MySQL Support Engineer</span>
<span class="quote3">&gt; &gt;&gt; Sun Microsystems KK, Tokyo, Japan</span>
<span class="quote3">&gt; &gt;&gt; <a href="http://www-jp.mysql.com/">http://www-jp.mysql.com/</a></span>
<span class="quote3">&gt; &gt;&gt;</span>
<span class="quote3">&gt; &gt;&gt; On 26/02/2009, at 11:19 AM, Koichi Takai wrote:</span>
<span class="quote3">&gt; &gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; 高井と申します。</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; MASTER</span>
<span class="quote4">&gt; &gt;&gt;&gt; 　OS:Solaris2.6</span>
<span class="quote4">&gt; &gt;&gt;&gt; 　Mysql：3.23.51</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; SLAVE</span>
<span class="quote4">&gt; &gt;&gt;&gt; 　OS:Solaris8</span>
<span class="quote4">&gt; &gt;&gt;&gt; 　Mysql：5.1.31</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; 「レプリケーション実装の概要」からレプリケーションには問題ないと判断して</span>
<span class="quote4">&gt; &gt;&gt;&gt; 進めていうます。</span>
<span class="quote4">&gt; &gt;&gt;&gt; <a href="http://dev.mysql.com/doc/refman/4.1/ja/replication-implementation.html">http://dev.mysql.com/doc/refman/4.1/ja/replication-implementation.html</a></span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; リプリケーションステータスは問題ありません。参照するテーブルにより以下の</span>
<span class="quote4">&gt; &gt;&gt;&gt; メッセージが出ます。</span>
<span class="quote4">&gt; &gt;&gt;&gt; ERROR 1034 (HY000): Incorrect key file for table 'schedule'; try to repair it</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; そこでrepair tableを試みますが、エラーになるので何もできない状態です。</span>
<span class="quote4">&gt; &gt;&gt;&gt; +-------+--------+----------+-----------------------------------------------------------+</span>
<span class="quote5">&gt; &gt;&gt;&gt; | Table | Op     | Msg_type | Msg_text                                                  |</span>
<span class="quote4">&gt; &gt;&gt;&gt; +-------+--------+----------+-----------------------------------------------------------+</span>
<span class="quote5">&gt; &gt;&gt;&gt; | test  | repair | Error    | Incorrect key file for table 'schedule'; try to repair it |</span>
<span class="quote5">&gt; &gt;&gt;&gt; | test  | repair | error    | Corrupt                                                   |</span>
<span class="quote4">&gt; &gt;&gt;&gt; +-------+--------+----------+-----------------------------------------------------------+</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; やはりバージョンを同じにしないといけないのでしょうか。</span>
<span class="quote4">&gt; &gt;&gt;&gt; もしそうならOSのバージョンが異なるのでSLAVEのバージョンを同じにできない</span>
<span class="quote4">&gt; &gt;&gt;&gt; ので困っております。</span>
<span class="quote4">&gt; &gt;&gt;&gt; MASTERの設定変更はできません。</span>
<span class="quote4">&gt; &gt;&gt;&gt; このような環境ですが何かアドバイスがあればご助言お願いしたいと存じます。</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; よろしくお願いします。</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote4">&gt; &gt;&gt;&gt; 高井</span>
<span class="quote4">&gt; &gt;&gt;&gt;</span>
<span class="quote3">&gt; &gt;&gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; </span>



</pre>
</div>
<p class="button"><a href="14743">[前]</a><a href="14745">[次]</a><a href="../list/14701-14800">[番号順一覧]</a><a href="../thread/14701-14800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14740">  14740 2009-02-26 11:19 [Koichi Takai &lt;ktakai] 異なるバージョンでのレプリケーション    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14741">  14741 2009-02-26 11:32 ┗[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14742">  14742 2009-02-26 11:45 　┗[Koichi Takai &lt;ktakai]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14743">  14743 2009-02-26 11:53 　　┗[Mikiya Okuno &lt;Mikiya]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="14744">  14744 2009-02-26 13:23 　　　┗[Koichi Takai &lt;ktakai]                                 </a></span>
</pre>
</body>
</html>
