<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15329</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15328">[前]</a><a href="15330">[次]</a><a href="../list/15301-15400">[番号順一覧]</a><a href="../thread/15301-15400">[スレッド一覧]</a></p>
<p class="id">
mysql:15329
</p>
<div class="header">
<p>
From: Miyata Masaki &lt;Miyata Masaki &lt;catlover@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 07 Jun 2010 22:00:27 +0900<br>
Subject: [mysql 15329] Re: 【お知恵拝借】副問い合わせに limit 3<br>

</p>
</div>
<div class="body">
<pre>
ミヤタと申します。

<span class="quote1">&gt; どなたか、上記 SQL の結果を実現する方法をお教え下さい。</span>

実現したい動作がよく分からないので、このあたりを付けて頂けると分り易いかと。
・DDL文
・INSERT文（数件程度）
・想定結果

--
Masaki Miyata
catlover@xxxxxxxxxx

<span class="quote1">&gt; From: 遠藤 俊裕 &lt;endo@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; To: ml@xxxxxxxxxx</span>
<span class="quote1">&gt; Subject: <a href="15328">[mysql 15328]</a> 【お知恵拝借】副問い合わせに limit 3</span>
<span class="quote1">&gt; Date: 2010/06/07 21:41</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; えんどうです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 皆様、お知恵を拝借させて下さい。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; tbl の中の field ごとに top 3 を出したいために、以下の SQL</span>
<span class="quote1">&gt; を書いてみました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; select * from tbl as t1</span>
<span class="quote1">&gt; where id in</span>
<span class="quote1">&gt; (</span>
<span class="quote1">&gt;     select id from tbl as t2</span>
<span class="quote1">&gt;     where t1.field = t2.field</span>
<span class="quote1">&gt;     order by ordfield</span>
<span class="quote1">&gt;     limit 3</span>
<span class="quote1">&gt; )</span>
<span class="quote1">&gt; order by ordfield</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ダメでした。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; どうも、in の中で limit が使えない様です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; どなたか、上記 SQL の結果を実現する方法をお教え下さい。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 何卒よろしくお願い致します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; MySQL version = 5.1.44</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; えんどう</span>
<span class="quote1">&gt; endo@xxxxxxxxxx,endo@xxxxxxxxxx</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>

</pre>
</div>
<p class="button"><a href="15328">[前]</a><a href="15330">[次]</a><a href="../list/15301-15400">[番号順一覧]</a><a href="../thread/15301-15400">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15328">  15328 2010-06-07 21:41 [遠藤 俊裕 &lt;endo@xxxx] 【お知恵拝借】副問い合わせに limit 3    </a></span>
<span class="current">-&gt;&nbsp;<a href="15329">  15329 2010-06-07 22:00 ┗[Miyata Masaki &lt;catlo]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15330">  15330 2010-06-07 22:33 　┗[遠藤 俊裕 &lt;endo@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15331">  15331 2010-06-08 00:06 　　┣[&quot;KIMURA, Meiji&quot; &lt;kim]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15334">  15334 2010-06-08 01:48 　　┃┗[遠藤 俊裕 &lt;endo@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15335">  15335 2010-06-08 06:55 　　┃　┗[&quot;KIMURA, Meiji&quot; &lt;kim]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15336">  15336 2010-06-08 10:45 　　┃　　┗[遠藤 俊裕 &lt;endo@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15337">  15337 2010-06-08 13:54 　　┃　　　┣[SAKAI Kei &lt;sak2@xxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15338">  15338 2010-06-08 15:28 　　┃　　　┃┣[遠藤 俊裕 &lt;endo@xxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15339">  15339 2010-06-08 21:56 　　┃　　　┃┗[&quot;KIMURA, Meiji&quot; &lt;kim]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15340">  15340 2010-06-08 23:00 　　┃　　　┗[&quot;KIMURA, Meiji&quot; &lt;kim]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15332">  15332 2010-06-08 00:47 　　┣[SAKAI Kei &lt;sak2@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15333">  15333 2010-06-08 01:16 　　┗[遠藤 俊裕 &lt;endo@xxxx]                                   </a></span>
</pre>
</body>
</html>
