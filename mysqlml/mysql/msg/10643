<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10643</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10642">[前]</a><a href="10644">[次]</a><a href="../list/10601-10700">[番号順一覧]</a><a href="../thread/10601-10700">[スレッド一覧]</a></p>
<p class="id">
mysql:10643
</p>
<div class="header">
<p>
From: Shuichi Tamagawa &lt;Shuichi Tamagawa &lt;shuichi@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 09 Dec 2004 16:38:53 -0800<br>
Subject: [mysql 10643] Re: 新規キャラクタセットの名称<br>

</p>
</div>
<div class="body">
<pre>
玉川です。

大変参考になります。
ありがとうございました。


MORIYAMA Masayuki wrote:

<span class="quote1">&gt;森山です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;On Wed, 8 Dec 2004 22:52:57 -0800</span>
<span class="quote1">&gt;&quot;Shuichi Tamagawa&quot; &lt;shuichi@xxxxxxxxxx&gt; wrote:</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt;ユーザー定義文字の部分については、未対応でした。</span>
<span class="quote2">&gt;&gt;cp932 -&gt; Unicodeのマッピングがファイルになっているものは</span>
<span class="quote2">&gt;&gt;どこかにありますでしょうか？</span>
<span class="quote2">&gt;&gt;    </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;テーブルで持つよりもコードを書いて変換した方がプログラムサイズの節約に</span>
<span class="quote1">&gt;なると思いますが、次の Perl スクリプトでユーザ定義文字のみの cp932 -</span>
<span class="quote1">&gt;Unicode 変換表を作成できます。</span>
<span class="quote1">&gt;------------------------------------------------------------------------</span>
<span class="quote1">&gt;#!/usr/bin/perl</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;foreach my $c1 (0xF0..0xF9) {</span>
<span class="quote1">&gt;    foreach my $c2 (0x40..0x7E, 0x80..0xFC) {</span>
<span class="quote1">&gt;        my $u = ($c1 - 0xF0) * 188 + ($c2 - 0x40 - (0x7E&lt;$c2)) + 0xE000;</span>
<span class="quote1">&gt;        printf(&quot;0x%02X%02X\tU+%04X\n&quot;, $c1, $c2, $u);</span>
<span class="quote1">&gt;    }</span>
<span class="quote1">&gt;}</span>
<span class="quote1">&gt;------------------------------------------------------------------------</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt;</span>
<span class="quote3">&gt;&gt;&gt;(4) Windowsの日本語EUCと eucJP-ms</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;  Windowsの日本語EUC は、Microsoft Windows Codepage 51932 というものな</span>
<span class="quote3">&gt;&gt;&gt;  のですが、これは一部、eucJP-ms とは互換性がありません。</span>
<span class="quote3">&gt;&gt;&gt;  LAMP(Linux,Apache,MySQL,PHP)環境のように Web ブラウザから受け取った</span>
<span class="quote3">&gt;&gt;&gt;  日本語を DB に格納する場合、HTML の文字コードに、eucJP-ms を使ってし</span>
<span class="quote3">&gt;&gt;&gt;  まうと、文字コード変換で文字化けが発生するので注意が必要となります。</span>
<span class="quote3">&gt;&gt;&gt;      </span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;対応策としてはどのようなことがあるでしょうか？</span>
<span class="quote2">&gt;&gt;    </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;Windows の文字セットを扱う必要がある場合は、HTML の文字コードは、CP932 </span>
<span class="quote1">&gt;か UTF-8 にするという事が対策として考えられます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;UTF-8 は使用するブラウザによって「〜」などで文字コード変換の際に文字化</span>
<span class="quote1">&gt;が発生するので、HTML の文字コードとして最も安全なのは CP932 という事に</span>
<span class="quote1">&gt;なるでしょう。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;次のような構成であれば、Codepage 51932 との変換は必要なくなるので問題</span>
<span class="quote1">&gt;を回避できるというわけです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     HTML(web)                DB</span>
<span class="quote1">&gt;  CP932 / UTF-8   ⇔ CP932 / eucJP-ms / UTF-8</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;‖森山 将之 (MORIYAMA Masayuki)</span>
<span class="quote1">&gt;‖e-mail: msyk@xxxxxxxxxx</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="10642">[前]</a><a href="10644">[次]</a><a href="../list/10601-10700">[番号順一覧]</a><a href="../thread/10601-10700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10615">  10615 2004-12-07 16:41 [&quot;Shuichi Tamagawa&quot; &lt;] 新規キャラクタセットの名称              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10617">  10617 2004-12-08 10:28 ┗[EBIHARA Yuichiro &lt;ui]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10625">  10625 2004-12-08 14:16 　┣[SATOH Fumiyasu &lt;fumi]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10635">  10635 2004-12-09 01:49 　┃┗[EBIHARA Yuichiro &lt;ui]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10636">  10636 2004-12-09 07:02 　┗[Shuichi Tamagawa &lt;sh]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10639">  10639 2004-12-09 13:05 　　┗[MORIYAMA Masayuki &lt;m]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10640">  10640 2004-12-09 15:52 　　　┗[&quot;Shuichi Tamagawa&quot; &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10641">  10641 2004-12-10 01:20 　　　　┗[MORIYAMA Masayuki &lt;m]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="10643">  10643 2004-12-10 09:38 　　　　　┗[Shuichi Tamagawa &lt;sh]                             </a></span>
</pre>
</body>
</html>
