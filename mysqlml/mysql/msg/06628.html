<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6628</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6627.html">[前]</a><a href="6629.html">[次]</a><a href="../list/6601-6700.html">[番号順一覧]</a><a href="../thread/6601-6700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6628
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 27 Nov 2002 00:07:01 +0900<br>
Subject: [mysql 06628] Re: MySQL におけるロックについて<br>

</p>
</div>
<div class="body">
<pre>とみたです。

On Tue, 26 Nov 2002 19:07:49 +0900
shogo &lt;sho@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; mysql_query : SELECT 'テーブル1' ～ FOR UPDATE</span>
<span class="quote1">&gt; mysql_query : SELECT 'テーブル2' ～ FOR UPDATE</span>
<span class="quote1">&gt; PHPによる処理</span>
<span class="quote1">&gt; mysql_query : UPDATE 'テーブル1'</span>
<span class="quote1">&gt; mysql_query : UPDATE 'テーブル2'</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; というスクリプトを書けば、そのスクリプトがいくつ同時に動いても、</span>
<span class="quote1">&gt; 単一レコードの２重読み込みをしない、ってことになるんでしょうか。</span>

だと思います。

あれ？ そういえばこのロックってどうやって解除するんだろ…(^^;
コネクション切るまで解除できないのかな…。

<span class="quote1">&gt; マニュアルのFOR UPDATEの項目に</span>
<span class="quote1">&gt; 	ページ／レコードロックとともに～</span>
<span class="quote1">&gt; とかかれていたたのですが、この「ページ/レコードロック」についてよくわからないので、</span>
<span class="quote1">&gt; FOR UPDATEを使うには他に何をすればいいかも教えていただけると幸いです。</span>

デフォルトの MyISAM タイプのテーブルは「ページ／レコードロック」の機能
はないです。つまり、InnoDB テーブルを使えってことだと思います。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="6627.html">[前]</a><a href="6629.html">[次]</a><a href="../list/6601-6700.html">[番号順一覧]</a><a href="../thread/6601-6700.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="6606.html">   6606 2002-11-24 02:32 [shogo &lt;sho@xxxxxxxxx] MySQL におけるロックについて            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6607.html">   6607 2002-11-24 17:44 ┗[Tomoyuki Ishino &lt;ish]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6610.html">   6610 2002-11-24 19:08 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6611.html">   6611 2002-11-24 19:57 　　┣[Tomoyuki Ishino &lt;ish]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6625.html">   6625 2002-11-26 19:07 　　┗[shogo &lt;sho@xxxxxxxxx]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="6628.html">   6628 2002-11-27 00:07 　　　┗[とみたまさひろ &lt;tomm]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6629.html">   6629 2002-11-27 02:24 　　　　┗[Tomoyuki Ishino &lt;ish]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6630.html">   6630 2002-11-27 03:02 　　　　　┣[とみたまさひろ &lt;tomm]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6631.html">   6631 2002-11-27 15:47 　　　　　┗[遠藤 俊裕 &lt;endo_t@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6633.html">   6633 2002-11-28 19:38 　　　　　　┗[Takeyuki Miyagawa &lt;m]                           </a></span>
</pre>


</body></html>