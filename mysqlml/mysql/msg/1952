<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1952</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1951">[前]</a><a href="1953">[次]</a><a href="../list/1901-2000">[番号順一覧]</a><a href="../thread/1901-2000">[スレッド一覧]</a></p>
<p class="id">
mysql:1952
</p>
<div class="header">
<p>
From: Kengo Jinno &lt;Kengo Jinno &lt;kengo@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 02 May 2000 20:01:01 +0900<br>
Subject: [mysql 01952] Re: mysqlimport の使いかた<br>

</p>
</div>
<div class="body">
<pre>
神野です。

Tue, 02 May 2000 19:43:06 +0900 ごろに
&lt;20000502194306moeru@xxxxxxxxxx&gt; の
&quot;<a href="01949">[mysql 01949]</a> mysqlimport の使いかた&quot; のメールで
moeru@xxxxxxxxxx (moeru) さんは書きました。

<span class="quote1">&gt; mysqlimportの使いかたがよく分かりません。</span>

mysqlimportって使ったことないです。
まぁ、こういう解決方法もある、ということで参考になれば。

<span class="quote1">&gt; users.txt</span>
<span class="quote1">&gt; というデータがあったとして</span>
<span class="quote1">&gt; その中に</span>
<span class="quote1">&gt; ユーザー名1,スワード,住所</span>
<span class="quote1">&gt; ユーザー名2,スワード,住所</span>
<span class="quote1">&gt; ユーザー名3,スワード,住所</span>
<span class="quote1">&gt; ユーザー名4,スワード,住所</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; というファイルがあったとして</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; MySQLのデーターベースのusersテーブルに</span>
<span class="quote1">&gt; ユーザー名,パスワード,住所をそれぞれの名前のフィールドに入れたい場合</span>
<span class="quote1">&gt; どうやったらいいかわかんないです。。</span>

$ cat foo.awk
BEGIN {
    FS = &quot;,&quot;;
}
{
    printf( &quot;insert into users (ユーザー名,パスワード,住所) &quot; );
    printf( &quot;values ( '%s', '%s', '%s' );\n&quot;, $1, $2, $3 );
}
$ awk -f foo.awk users.txt | mysql DB名

とか。
users.txtがカンマ区切りであるとして、
各行からinsert into .... のSQL文を生成して、
それをmysqlに突っ込んでいるだけです。

perlをご存知であれば、perlでも同様のことができるでしょう。
＃私、perlは知らないもので。
＃＃CGIもawkで書いたりして。

-----------------------------
神野健吾 &lt;kengo@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="1951">[前]</a><a href="1953">[次]</a><a href="../list/1901-2000">[番号順一覧]</a><a href="../thread/1901-2000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1949">   1949 2000-05-02 19:43 [&lt;moeru@xxxxxxxxxx&gt;  ] mysqlimport の使いかた                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1950">   1950 2000-05-02 19:50 ┣[&quot;Y. Tsutsui&quot; &lt;tutui@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1951">   1951 2000-05-02 19:58 ┣[&quot;Y. Tsutsui&quot; &lt;tutui@]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="1952">   1952 2000-05-02 20:01 ┗[Kengo Jinno &lt;kengo@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1953">   1953 2000-05-02 20:07 　┗[&quot;Y. Tsutsui&quot; &lt;tutui@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1954">   1954 2000-05-02 20:31 　　┣[Kengo Jinno &lt;kengo@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1955">   1955 2000-05-02 20:53 　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1956">   1956 2000-05-02 21:59 　　　┗[&quot;Y. Tsutsui&quot; &lt;tutui@]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1961">   1961 2000-05-03 02:48 　　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                               </a></span>
</pre>
</body>
</html>
