<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12751</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="12750.html">[前]</a><a href="12752.html">[次]</a><a href="../list/12701-12800.html">[番号順一覧]</a><a href="../thread/12701-12800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12751
</p>
<div class="header">
<p>
From: baya &lt;baya &lt;bayapbayap@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 14 Feb 2006 20:55:15 +0900 (JST)<br>
Subject: [mysql 12751] MySQL のバックアップ・復元について<br>

</p>
</div>
<div class="body">
<pre>はじめまして。
大林と申します。
こちらのMLへ初めて投稿させて頂きます。

MySQLのバックアップについての質問なのですが、
こちらのMLの過去ログやWEBより、バックアップの手順として
は

% mysqldump ---all-databases --flush-logs &gt; ***.sql

を行い、フルバックアップとバイナリログにて、
データの復元を行う形かと思います。

その際に、MySQLリファレンスマニュアルにも以下のように
記載されているように、「--all-databases」のオプションを
使用した場合、
バイナリログがデータベースのdumpごとにflushされる状態と
なります。
そのため、バイナリログがdumpコマンドの実行時にdumpされる
データベースの個数分、作成される形となります。

-----------------------------------------------
-F, --flush-logs 
ダンプを開始する前に、MySQL サーバ内のログファイルをフラ
ッシュする。
注意: このオプションを --all-databases（または -A）オプ
ションと組み合わせて使用した場合、
ログは各データベースのダンプごとにフラッシュされる。 
-------------------------------------------------

例えば3つのDBをdumpした場合、バイナリログファイルは
「sv-bin.001」「sv-bin.002」「sv-bin.003」のような形で
3つのバイナリファイルが作成される形となります。

その場合、バックアップ内容を復元する際には、dumpファイル
の流し込みの後、
上記の3つのバイナリファイルを流しこむ必要があるのか、
もしくはdump時の最後に出力される「sv-bin.003」のみを
流し込めば良いのか、どちらになりますでしょうか。

また、mysqldump のオプション設定にて

% mysqldump ---all-databases --flush-logs
--delete-master-logs &gt; ***.sql

のように「--delete-master-logs 」オプションを指定した場
合、
古いバイナリログファイルが削除され、バイナリログファイル
は
1つしか出力されませんが、こちらのバイナリログは先ほどの3
つのバイナリログの内容と同じものなのでしょうか？
それとも「sv-bin.003」のログと同じものなのでしょうか。

こちらの過去ログも参照させて頂いたのですが、そういった
記載はないようでしたので、もしご存知の方がおられましたら
、
ご教授頂けましたら幸いです。
<a href="10758.html">http://www.mysql.gr.jp/mysqlml/mysql/msg/10758</a>

よろしくお願い致します。








</pre>
</div>
<p class="button"><a href="12750.html">[前]</a><a href="12752.html">[次]</a><a href="../list/12701-12800.html">[番号順一覧]</a><a href="../thread/12701-12800.html">[スレッド一覧]</a></p>


</body></html>