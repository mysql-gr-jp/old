<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11423</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11422.html">[前]</a><a href="11424.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11423
</p>
<div class="header">
<p>
From: Takanori Jokura &lt;Takanori Jokura &lt;jo@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 24 May 2005 16:45:06 +0900<br>
Subject: [mysql 11423] Re: MySQLサーバをNPTLを使って動かしたい<br>

</p>
</div>
<div class="body">
<pre>
城です。
ご意見ありがとうございます。


<span class="quote1">&gt; linuxthreadsはほぼ必須パッケージですが、glibc同梱ではありません。 別途</span>
linuxthreadsのソースを取得し、
<span class="quote1">&gt; glibcのソースツリーへ組み込み、 configureオプションで指定する必要があり</span>
ます。
<span class="quote1">&gt;</span>
<span class="quote1">&gt; なお、glibc-2.3.2以降はSTACK_SIZEはlinuxthreads/descr.hへ移動しています。</span>

そうだったんですか、最終的にNPTLで実行できなかった場合は、
こちらの方法を取るほか無いので
こちらの方も調べてみたいと思います。
ありがとうございます。

<span class="quote1">&gt; MySQLコンパイル時に--with-pthread を指定すればpthread libraryを強制でき</span>
ます。
<span class="quote1">&gt; RHEL4/SUSE9.xでしか確認していませんが、ps時にmysqldプロセスが１つしか見</span>
えないのでわかると思います。

ありがとうございます。
早速 Red Hat Linux 9 と CentOS 4 にて検証してみました。
バージョンは前回と同じ
mysql-4.1.12
vmware workstation 4 評価版

configure は

CFLAGS=&quot;-O3 -mpentiumpro&quot; CXX=gcc CXXFLAGS=&quot;-O3 -mpentiumpro \
-felide-constructors -fno-exceptions -fno-rtti&quot; \
./configure \
--prefix=/usr/local/mysql \
--localstatedir=/var/mysql/data \
--enable-assembler \
--with-mysqld-ldflags=-all-static \
--with-client-ldflags=-all-static \
--enable-local-infile \
--with-mysqld-user=mysql \
--with-extra-charsets=all \
--with-charset=sjis \
--with-collation=sjis_japanese_ci \
--with-raid \
--without-debug \
--with-pthread

にて行いました。
しかし、Red Hat Linux 9 、 CentOS 4 双方とも
ps aux | grep mysql
もしくは
top
でmysqlのプロセスが表示されてしまいます(LinuxThreadsが使用されてしまって
います)。

なにかconfigureでおかしな点が、ありますでしょうか？
お気づきの点ございましたら、
よろしくお願いします。

城



</pre>
</div>
<p class="button"><a href="11422.html">[前]</a><a href="11424.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11421.html">  11421 2005-05-24 10:29 [Takanori Jokura &lt;jo@] MySQLサーバをNPTLを使って動かしたい     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11422.html">  11422 2005-05-24 11:18 ┗[みさと &lt;hiyori.hayas]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11423.html">  11423 2005-05-24 16:45 　┗[Takanori Jokura &lt;jo@]                                     </a></span>
</pre>
</body>
</html>
