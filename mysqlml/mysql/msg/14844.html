<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14844</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14843.html">[前]</a><a href="14845.html">[次]</a><a href="../list/14801-14900.html">[番号順一覧]</a><a href="../thread/14801-14900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14844
</p>
<div class="header">
<p>
From: HIRATSUKA Sadao &lt;HIRATSUKA Sadao &lt;hiratsuka.sadao@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 12 May 2009 09:46:16 +0900<br>
Subject: [mysql 14844] Re: UNSIGNEDの0からの引き算<br>

</p>
</div>
<div class="body">
<pre>
平塚です。

On Tue, 12 May 2009 00:49:07 +0900
mao &lt;mao@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; mysql 5でやった場合は、0から1を引くと4294967295になってしまいます。</span>
<span class="quote1">&gt; これを0にする方法はありませんでしょうか？</span>

使っている人をみたことがないのでおすすめするわけではないんですが、
NO_UNSIGNED_SUBTRACTIONを使うとできます。

mysql&gt; create table t (c1 int unsigned);
Query OK, 0 rows affected (0.18 sec)

mysql&gt; insert into t values (0);
Query OK, 1 row affected (0.00 sec)

mysql&gt; set sql_mode = 'NO_UNSIGNED_SUBTRACTION';
Query OK, 0 rows affected (0.00 sec)

mysql&gt; update t set c1 = c1 - 1;
Query OK, 0 rows affected, 1 warning (0.00 sec)
Rows matched: 1  Changed: 0  Warnings: 1

mysql&gt; select * from t;
+------+
<span class="quote1">| c1   |</span>
+------+
<span class="quote1">|    0 |</span>
+------+
1 row in set (0.00 sec)

＜参考＞
<a href="http://dev.mysql.com/doc/refman/4.1/en/news-4-0-2.html">http://dev.mysql.com/doc/refman/4.1/en/news-4-0-2.html</a>
Added NO_UNSIGNED_SUBTRACTION to the set of flags that may be specified
with the --sql-mode option for mysqld. It disables unsigned arithmetic
rules when it comes to subtraction. (This makes MySQL 4.0 behave more
like 3.23 with UNSIGNED  columns).

-- 
平塚貞夫 hiratsuka.sadao@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="14843.html">[前]</a><a href="14845.html">[次]</a><a href="../list/14801-14900.html">[番号順一覧]</a><a href="../thread/14801-14900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14841.html">  14841 2009-05-12 00:49 [mao &lt;mao@xxxxxxxxxx&gt;] UNSIGNEDの0からの引き算                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14842.html">  14842 2009-05-12 08:21 ┣[高橋政利 &lt;takahashi@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14843.html">  14843 2009-05-12 09:41 ┣[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="14844.html">  14844 2009-05-12 09:46 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14847.html">  14847 2009-05-12 21:27 　┗[mao &lt;mao@xxxxxxxxxx&gt;]                                     </a></span>
</pre>
</body>
</html>
