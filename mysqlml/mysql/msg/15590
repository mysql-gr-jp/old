<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15590</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15589">[前]</a><a href="15591">[次]</a><a href="../list/15501-15600">[番号順一覧]</a><a href="../thread/15501-15600">[スレッド一覧]</a></p>
<p class="id">
mysql:15590
</p>
<div class="header">
<p>
From: &quot;ochiai&quot; &lt;&quot;ochiai&quot; &lt;s.ochiai@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 13 May 2011 14:58:24 +0900<br>
Subject: [mysql 15590] Re: MySQLサーバーに別のホストマシンからの接続について（質問）<br>

</p>
</div>
<div class="body">
<pre>
中冨様

ありがとうございます。

----- Original Message ----- 
From: &quot;Katsutoshi Nakatomi&quot; &lt;nakatomi@xxxxxxxxxx&gt;
Sent: Thursday, May 12, 2011 12:13 AM
<span class="quote1">&gt; 中冨です</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; On Wed, 11 May 2011 18:39:58 +0900</span>
<span class="quote1">&gt; &quot;ochiai&quot; &lt;s.ochiai@xxxxxxxxxx&gt; wrote:</span>
<span class="quote2">&gt;&gt; そうですか！</span>
<span class="quote2">&gt;&gt; rootアカウントを利用する時はHost: 123.456.7.9:3306ではなくHost:</span>
<span class="quote2">&gt;&gt; localhost:3306でなくてはいけないのですね。</span>
<span class="quote2">&gt;&gt; アカウントは、ユーザ名:ホストで登録するというので、ホストにIPアドレスを設定したものを試そうとしたのです。</span>
<span class="quote2">&gt;&gt; ありがとうございました。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; その通りです。</span>
<span class="quote1">&gt; しかし、登録上では localhost しか登録されていないので reject されて</span>
<span class="quote1">&gt; しまう訳です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; もし、必要であるのなら</span>
<span class="quote1">&gt; root/123.456.7.9</span>
<span class="quote1">&gt; を追加してあげてください。</span>
<span class="quote1">&gt;</span>

root/123.456.7.9に対して、サーバーマシンから以下のコマンドプロンプトで接続したところ、接続できました。
mysql -uroot -h123.456.7.9 -p

しかし、クライアントマシン（123.456.7.10）から同様のコマンドを入力した場合は接続できません。

この結果は、user2/123.456.7.9(サーバーマシンのIPアドレス）の場合と同じです。

<span class="quote2">&gt;&gt; これはタイプミスです。実際は、エラーメッセージにあるように以下のように入力しました。</span>
<span class="quote2">&gt;&gt; 　　　mysql -uuser3 -h123.456.7.9 -p</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; とすれば Log を見る限りではパケットが到達できない模様です。</span>
<span class="quote1">&gt; サーバ側の FW 設定を再確認して下さい。</span>
<span class="quote1">&gt; 取り敢えずクライアント側から</span>
<span class="quote1">&gt; telnet 123.456.7.9 3306</span>
<span class="quote1">&gt; を実行して port 3306 が開いていることを確認するのが先決でしょう。</span>
<span class="quote1">&gt;</span>

FW設定は、岩崎さんの例を参考にサーバーPCのWindowsファイアウォールの詳細設定にて「受信の規則」の一覧を確認したところ、mysqld.exeがTCPとUDPの2つのプロトコルについて以下のようになっていました。
プロファイル=プライベート、有効＝はい、操作=許可、優先=いいえ、プログラム=・・・\mysqld.exe、ローカルアドレス=任意、以下、リモートアドレス、ローカルポート、リモートポート、許可されているユーザ、コンピュータの何れも任意

このファイアウォールの状態は、mysqld.exeは開いているということでしょう。

telnetコマンドを実行しようとしましたが、よくわからないのでpingで再確認しました。 

ping 123.456.7.9
当初からロストなしで通っています。

<span class="quote1">&gt; また、アカウントを登録したあとに flush privileges が行われているかも</span>
<span class="quote1">&gt; ポイントでしょう。</span>

サーバーマシンを何度も再起動し、Workbenchでユーザアカウントを確認し、Aplyボタンを押しています。

他に何かないでしょうか？お世話になります。



</pre>
</div>
<p class="button"><a href="15589">[前]</a><a href="15591">[次]</a><a href="../list/15501-15600">[番号順一覧]</a><a href="../thread/15501-15600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15582">  15582 2011-05-11 17:29 [&quot;ochiai&quot; &lt;s.ochiai@x] MySQLサーバーに別のホストマシンからの接続について（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15583">  15583 2011-05-11 17:53 ┣[Isamu Moriyama &lt;mori]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15585">  15585 2011-05-11 18:25 ┃┗[&quot;ochiai&quot; &lt;s.ochiai@x] Re: [mysql 15583] Re: MySQLサーバーに別のホストマシンからの接続について（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15587">  15587 2011-05-11 18:44 ┃　┗[Isamu Moriyama &lt;mori] Re: MySQLサーバーに別のホストマシンからの接続について（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15584">  15584 2011-05-11 18:08 ┗[Katsutoshi Nakatomi ] Re: [***** SPAM *****] MySQLサーバーに別のホストマシンからの接続について（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15586">  15586 2011-05-11 18:39 　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15588">  15588 2011-05-12 00:13 　　┗[Katsutoshi Nakatomi ] Re: MySQLサーバーに別のホストマシンからの接続について（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15589">  15589 2011-05-12 16:45 　　　┣[岩崎　誠司 &lt;iwasaki_]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15591">  15591 2011-05-13 15:12 　　　┃┗[&quot;ochiai&quot; &lt;s.ochiai@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15593">  15593 2011-05-13 16:20 　　　┃　┗[岩崎　誠司 &lt;iwasaki_]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15594">  15594 2011-05-18 11:11 　　　┃　　┣[&quot;ochiai&quot; &lt;s.ochiai@x]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15595">  15595 2011-05-18 12:04 　　　┃　　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                           </a></span>
<span class="current">-&gt;&nbsp;<a href="15590">  15590 2011-05-13 14:58 　　　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15592">  15592 2011-05-13 15:43 　　　　┗[Katsutoshi Nakatomi ]                               </a></span>
</pre>
</body>
</html>
