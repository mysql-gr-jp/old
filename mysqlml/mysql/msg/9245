<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9245</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="9244">[前]</a><a href="9246">[次]</a><a href="../list/9201-9300">[番号順一覧]</a><a href="../thread/9201-9300">[スレッド一覧]</a></p>
<p class="id">
mysql:9245
</p>
<div class="header">
<p>
From: 高橋政利 &lt;高橋政利 &lt;takahashi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 21 Apr 2004 09:00:16 +0900<br>
Subject: [mysql 09245] Re: auto_incrementで次番号を確認したい。<br>

</p>
</div>
<div class="body">
<pre>
おはようございます。高橋です。
かわじさんありがとうございます。

かわじさんの言われている事を解釈しますと、

&quot;管理番号の他に年度の列を作成しユニークキーとする。&quot;

という内容でよろしいのですね。
ユニークキーは私の認識ですと、かわじさんの例の場合

<span class="quote1">&gt; create table example (</span>
<span class="quote1">&gt;   year int unsigned,</span>
<span class="quote1">&gt;   id int unsigned auto_increment not null,</span>
<span class="quote1">&gt;   unique(year, id)</span>
<span class="quote1">&gt; );</span>

&quot;year と　id　の組み合わせが重複しない一意の番号である。&quot;

ということですね。この方法ですと、year+idの番号は重複していないのですが、
id番号は重複してしまいますので、id番号のみの抽出はできなくなってしまいま
すね。
現状ではid番号のみでレコードの追加・抽出をしていますので、ソースの修正が
必要となってきます。ちょっと大変ですけどチャレンジしてみます。
管理用画面だけでなんとかなるかな〜？　は甘かったですね。(^^;

私は、普段のMySQLのメンテナンスにPHPMyAdmin(2.5.3)を使わせて頂いているの
ですが、メインページよりデータベース→テーブルを選択して[操作]のタブで出
てきた画面の最下部に、私のやりたい事が実現されています。入力フォームの欄
にデフォルトで次にauto_incrementで発行される番号が入力されてます。
テーブル自体は私が作成したユニークキーを持たないテーブルですので、ユニー
クキーを使わなくても、できそうな気がします。
PHPMyAdminのソースを眺めてみたのですが、力不足で理解不能でした・・・。

　　　NEW_INSERT_ID()　　なんてないですよね。(^^;




</pre>
</div>
<p class="button"><a href="9244">[前]</a><a href="9246">[次]</a><a href="../list/9201-9300">[番号順一覧]</a><a href="../thread/9201-9300">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="9239">   9239 2004-04-20 18:45 [高橋政利 &lt;takahashi@] auto_incrementで次番号を確認したい。    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9240">   9240 2004-04-20 23:29 ┣[Shinya Kawaji &lt;kawaj]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="9245">   9245 2004-04-21 09:00 ┃┗[高橋政利 &lt;takahashi@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9248">   9248 2004-04-21 10:12 ┃　┗[Shinya Kawaji &lt;kawaj]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9250">   9250 2004-04-21 11:20 ┃　　┗[ML account &lt;ml@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9246">   9246 2004-04-21 09:15 ┣[&quot;片寄白王&quot; &lt;katayose]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9251">   9251 2004-04-21 17:39 ┃┗[川合孝典 &lt;gcd00051@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9252">   9252 2004-04-21 18:02 ┃　┣[&quot;山本　瑞己&quot; &lt;mizuki]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9253">   9253 2004-04-21 18:53 ┃　┗[ML account &lt;ml@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9254">   9254 2004-04-22 00:19 ┃　　┗[&quot;KATAYOSE hakuo&quot; &lt;ka]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9255">   9255 2004-04-22 01:42 ┃　　　┗[ML account &lt;ml@xxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9256">   9256 2004-04-22 09:02 ┃　　　　┗[&quot;片寄白王&quot; &lt;katayose]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9258">   9258 2004-04-22 09:36 ┃　　　　　┗[高橋政利 &lt;takahashi@]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9265">   9265 2004-04-22 11:44 ┃　　　　　　┗[ML account &lt;ml@xxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9249">   9249 2004-04-21 10:56 ┣[Seiji Tateyama &lt;tate]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9257">   9257 2004-04-22 09:07 ┣[高橋政利 &lt;takahashi@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9264">   9264 2004-04-22 11:44 ┃┗[ML account &lt;ml@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9277">   9277 2004-04-23 00:29 ┗[Kenji Irie &lt;kenji@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9279">   9279 2004-04-23 08:01 　┗[高橋政利 &lt;takahashi@]                                     </a></span>
</pre>
</body>
</html>
