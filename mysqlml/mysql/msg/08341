<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8341</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8340">[前]</a><a href="8342">[次]</a><a href="../list/8301-8400">[番号順一覧]</a><a href="../thread/8301-8400">[スレッド一覧]</a></p>
<p class="id">
mysql:8341
</p>
<div class="header">
<p>
From: Okamoto RYO &lt;Okamoto RYO &lt;ryo@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 30 Oct 2003 16:42:11 +0900<br>
Subject: [mysql 08341] レプリケーションの整合性チェック<br>

</p>
</div>
<div class="body">
<pre>
おかもとと申します。

現在、mysql 4.0.15a + InnoDB + FreeBSD を用いて
レプリケーションのテストを行っています。

レプリケーションが正しく運用されていることを定期的に
チェックする仕組みが欲しいのですが、何を基準に
判別すべきかよくわかりません。

ひとつは、show slave status した際の Read_Master_Log_Pos
カラムの数値と show master status した際の Position
カラムの数値を比較し、合致していれば良いのかなと
考えているのですが、確証が持てません。

1) そもそもこれらのキーを基に判別して良いのか
	（Exec_master_log_pos との違いは？）
2) 整合性が維持されていれば必ず一致するのかどうか
3) ネットワーク（その他の）遅延をどう考慮するか

このあたり、運用していらっしゃる方がおりましたら
お知恵を拝借願えませんでしょうか。

同時に、show slave status した際の Slave_IO_Running
カラムと Slave_SQL_Running カラムもチェック
すべきかどうかも迷うところです。

=================================
   @@  Squeeze Lab.  @@
 mail : ryo@xxxxxxxxxx
 web  : <a href="http://www.sqz.jp">http://www.sqz.jp</a>
 written by : Okamoto RYO  :-)
=================================

</pre>
</div>
<p class="button"><a href="8340">[前]</a><a href="8342">[次]</a><a href="../list/8301-8400">[番号順一覧]</a><a href="../thread/8301-8400">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="8341">   8341 2003-10-30 16:42 [Okamoto RYO &lt;ryo@xxx] レプリケーションの整合性チェック        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8359">   8359 2003-11-03 18:08 ┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8360">   8360 2003-11-03 18:37 　┣[Okamoto RYO &lt;ryo@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8361">   8361 2003-11-03 21:52 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8375">   8375 2003-11-05 01:18 　　┗[Okamoto RYO &lt;ryo@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8379">   8379 2003-11-06 02:05 　　　┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8380">   8380 2003-11-07 00:05 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
</pre>
</body>
</html>
