<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9470</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="9469">[前]</a><a href="9471">[次]</a><a href="../list/9401-9500">[番号順一覧]</a><a href="../thread/9401-9500">[スレッド一覧]</a></p>
<p class="id">
mysql:9470
</p>
<div class="header">
<p>
From: 平松 幸治 &lt;平松 幸治 &lt;kouji@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 29 May 2004 20:40:33 +0900<br>
Subject: [mysql 09470] SELECT?JOIN?でつまづいています<br>

</p>
</div>
<div class="body">
<pre>
はじめまして　平松と申します

出勤簿を作成していろところの　select?join? でつまづいています

master
+--------+---------+----------+
<span class="quote1">| mas_00 | mas_01  | mas_s_02 |</span>
+--------+---------+----------+
<span class="quote1">| 1      | kouji   | 0        |</span>
+--------+---------+----------+
<span class="quote1">| 2      | yasu    | 0        |</span>
+--------+---------+----------+
<span class="quote1">| 3      | masa    | 0        |</span>
+--------+---------+----------+
<span class="quote1">| 4      | taka    | 1        |</span>

schdule
+--------+---------+-----------+
<span class="quote1">| sch_00 | sch_01  | sch_02    |</span>
+--------+---------+-----------+
<span class="quote1">| 1      | 1       |2004-06-28 |</span>
+--------+---------+-----------+
<span class="quote1">| 2      | 2       |2004-06-28 |</span>
+--------+---------+-----------+
<span class="quote1">| 3      | 1       |2004-06-27 |</span>

というテーブルがあります

SELECT * FROM master left join schedule on master.mas_00=schedule.sch_01 WHERE mas_s_02 = '0' AND sch_02 = '2004-06-28'

とすると　当然

+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| mas_00 | mas_01  | mas_s_02 | sch_00 | sch_01  | sch_02    |</span>
+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| 1      | kouji   | 0        | 1      | 1       |2004-06-28 |</span>
+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| 2      | yasu    | 0        | 2      | 2       |2004-06-28 |</span>
+--------+---------+----------+--------+---------+-----------+

がでてきます

なのですが
ここで

+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| mas_00 | mas_01  | mas_s_02 | sch_00 | sch_01  | sch_02    |</span>
+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| 1      | kouji   | 0        | 1      | 1       |2004-06-28 |</span>
+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| 2      | yasu    | 0        | 2      | 2       |2004-06-28 |</span>
+--------+---------+----------+--------+---------+-----------+
<span class="quote1">| 3      | masa    | 0        |        |         |           |</span>
+--------+---------+----------+--------+---------+-----------+

というような　結果がでることを希望しています。

つまり
本日に出勤する人＋出勤しない場合でも　master.mas_s_02=0 の場合　出勤しないと表示したいので・・・
このような結果を求めています。

2回に分けてSELECTすればよいのかもしれませんが、なにかスマートではなくて


dbの根本的な考え方に問題があるのか、ただ単にSELECTの知識不足なのか・・・
判断つきません

どうするのが　スマートですか？

MySQL 3.23.58　を　使用しています



平松幸治


</pre>
</div>
<p class="button"><a href="9469">[前]</a><a href="9471">[次]</a><a href="../list/9401-9500">[番号順一覧]</a><a href="../thread/9401-9500">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="9470">   9470 2004-05-29 20:40 [平松 幸治 &lt;kouji@xxx] SELECT?JOIN?でつまづいています          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9471">   9471 2004-05-29 21:12 ┣[Kazuma Yoshida &lt;tais]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9472">   9472 2004-05-29 21:38 ┗[UNO Shintaro &lt;uno@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9473">   9473 2004-05-29 22:37 　┗[平松 幸治 &lt;kouji@xxx]                                     </a></span>
</pre>
</body>
</html>
