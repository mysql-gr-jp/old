<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7826</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7825.html">[前]</a><a href="7827.html">[次]</a><a href="../list/7801-7900.html">[番号順一覧]</a><a href="../thread/7801-7900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7826
</p>
<div class="header">
<p>
From: kaneda &lt;kaneda &lt;k.kaneda@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 27 May 2003 15:25:04 +0900<br>
Subject: [mysql 07826] for update でレコードロックできない<br>

</p>
</div>
<div class="body">
<pre>いつもお世話になります。
兼田＠aesoftです。

現在レコードロックを行うためにSelect文にfor update句をくっつけて
レコードロックをしようとしています。
実行は、DOS窓のmysqlプロンプトでSQLを発行しています。

で、表題の件なのですが、
トランザクションや、テーブルロックは問題なく動くのですが
for updateを使ったレコードロックが効かないようなのです。
具体的には、他のクライアントから該当レコードにupdate文が通ってしまいます

こんな感じでSQLを投げています。
select * from m_test where id=1 for update;

これでm_testテーブルのid=1のレコードは
更新ロックがかかる筈ではないのでしょうか？
それとも他に何か必要なことがあるのでしょうか

#それにfor updateしたあとは、どうやってアンロックするのでしょう・・・


以上、よろしくお願い致します。

環境
windows2000sp3 + MySQL4.0.12-max-nt + InnoDB

------------------------------------------------------------
AESOFT		  Email   k.kaneda@xxxxxxxxxx
兼田　健一        WWW     <a href="http://www.aesoft.jp/">http://www.aesoft.jp/</a>


</pre>
</div>
<p class="button"><a href="7825.html">[前]</a><a href="7827.html">[次]</a><a href="../list/7801-7900.html">[番号順一覧]</a><a href="../thread/7801-7900.html">[スレッド一覧]</a></p>


</body></html>