<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12872</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="12871.html">[前]</a><a href="12873.html">[次]</a><a href="../list/12801-12900.html">[番号順一覧]</a><a href="../thread/12801-12900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12872
</p>
<div class="header">
<p>
From: (Nagai, Fumiaki) &lt;&lt;nagai@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 19 Mar 2006 19:43:47 +0900<br>
Subject: [mysql 12872] Re: $BF0E*$J%U%#!&lt;%k%I@8@.(B<br>

</p>
</div>
<div class="body">
<pre>
以下のように、
変数に格納して、最終的に結果を出力するというのではどうでしょう。

SELECT @id:=id, @title:=title, @body:=body FROM TabPage WHERE （絞り込み条件）; 

SELECT @image:=value FROM TabPageData WHERE page_id=@id AND name='image';
SELECT @lead:=value FROM TabPageData WHERE page_id=@id AND name='lead';

SELECT @id id, @title title, @body body, @image image, @lead lead;



- fn


----- Original Message ----- 
From: "松本 創" &lt;kurari@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Saturday, March 18, 2006 4:52 PM
Subject: <a href="12870.html">[mysql 12870]</a> 動的なフィールド生成


<span class="quote1">&gt; 初めて投稿します。</span>
<span class="quote1">&gt; SQLについて教えてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 1.既存テーブル</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; TabPage</span>
<span class="quote2">&gt; |id|title|body</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; TabPageData</span>
<span class="quote2">&gt; |page_id|id|name|value</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Pageに対するDataの多重度は 0-*です。</span>
<span class="quote1">&gt; DataからみたPageは1です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; たとえばこんなデータがあったとします</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; [TabPage]</span>
<span class="quote1">&gt; id = 1</span>
<span class="quote1">&gt; title = test</span>
<span class="quote1">&gt; body = body</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; [TabPageData]</span>
<span class="quote1">&gt; page_id = 1</span>
<span class="quote1">&gt; id = 1</span>
<span class="quote1">&gt; name = image</span>
<span class="quote1">&gt; value = test.gif</span>
<span class="quote1">&gt; ---</span>
<span class="quote1">&gt; page_id = 1</span>
<span class="quote1">&gt; id = 2</span>
<span class="quote1">&gt; name = lead</span>
<span class="quote1">&gt; value = test lead</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; といった構造を何らかのSelect SQLを発行して</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Page_id |title | body | image | lead</span>
<span class="quote1">&gt; ----------------------------------------------------</span>
<span class="quote1">&gt; 1 |test | body | test.gif | test lead</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; という形でデータを受け取りたいのですが、可能でしょうか？</span>
<span class="quote1">&gt; ちなみにPageによって、PageDataの持つnameは異なります。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; どなたか分かる方いらっしゃれば、おしえてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="12871.html">[前]</a><a href="12873.html">[次]</a><a href="../list/12801-12900.html">[番号順一覧]</a><a href="../thread/12801-12900.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="12870.html">  12870 2006-03-18 16:52 [松本 創 &lt;kurari@xxxx] 動的なフィールド生成                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12871.html">  12871 2006-03-18 18:51 ┣["F.Y" &lt;fumi_sby@xxxx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="12872.html">  12872 2006-03-19 19:43 ┗[&lt;nagai@xxxxxxxxxx&gt;  ] Re: $BF0E*$J%U%#!&amp;lt;%k%I@8@.(B     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12873.html">  12873 2006-03-19 21:01 　┗[松本 創 &lt;kurari@xxxx] Re: 動的なフィールド生成            </a></span>
</pre>


</body></html>