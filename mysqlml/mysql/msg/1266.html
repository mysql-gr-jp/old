<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1266</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1265.html">[前]</a><a href="1267.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1266
</p>
<div class="header">
<p>
From: egashira &lt;egashira &lt;egashira@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 7 Oct 1999 22:41:59 +0900<br>
Subject: [mysql 01266] Re: 登録時に同じレコードの値を使う良い方法ありますか？<br>

</p>
</div>
<div class="body">
<pre>
はじめまして。江頭と言います。
初心者なのですがちょっと前に私も同じようなことを考えていたことがありました。

<span class="quote1">&gt; 目的：</span>
<span class="quote1">&gt; PHPから画像をUPロードし、AUTO_INCREMENTされるIDフィールドの</span>
<span class="quote1">&gt; 値に拡張子をつけてgazouフィールドにVCHARの型で保存したい。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ■gazou_tableに以下のように登録したいのです。</span>
<span class="quote1">&gt;  ID(int)   gazou(VCHAR(100))</span>
<span class="quote1">&gt;       1    1.gif</span>
<span class="quote1">&gt;       4    4.gif</span>
<span class="quote1">&gt;       5    5.jpg</span>


頭に浮かんだ方法は

1.ダミーデータを登録(ここでAUTO_INCREMENT値が決まる)
2.ダミーデータを変更する(ID読み取って拡張子を付けgazouに入れる)

という二段階式です。欠点としてちょっと負荷が増えます。

現在はこの方法を止めてIDと拡張子のフィールド(jpg or gif or ...)だけのテーブ
ルとなっています。

ID    filename
int    enum(jpg or gif)
---------------------
1    jpg
2    gif
6    jpg

ファイル名はフィールドとしては持たせずクエリー時に初めて生成する(IDと拡張子
をくっつけるだけ
なので)ようにしました。Insert時の二段階負荷も減るしテーブル容量もchar系
フィールドを排除した
ので一気に節約できます。また検索も早いはず。

------------------------------------------------
江頭正敏 egashira@xxxxxxxxxx
------------------------------------------------



</pre>
</div>
<p class="button"><a href="1265.html">[前]</a><a href="1267.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1264.html">   1264 1999-10-08 01:30 [kouichi matsumoto &lt;m] 登録時に同じレコードの値を使う良い方法ありますか？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1265.html">   1265 1999-10-08 10:33 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="1266.html">   1266 1999-10-07 22:41 ┗[egashira &lt;egashira@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1273.html">   1273 1999-10-12 03:28 　┗[kouichi matsumoto &lt;m]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1274.html">   1274 1999-10-12 11:47 　　┗[egashira &lt;egashira@x]                                   </a></span>
</pre>
</body>
</html>
