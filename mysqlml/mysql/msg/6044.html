<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6044</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6043.html">[前]</a><a href="6045.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6044
</p>
<div class="header">
<p>
From: &quot;Hiroaki,Sakuma&quot; &lt;&quot;Hiroaki,Sakuma&quot; &lt;sakuma@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 30 Aug 2002 13:31:28 +0900<br>
Subject: [mysql 06044] Re: コマンドラインとブラウザー<br>

</p>
</div>
<div class="body">
<pre>
佐久間です。

<span class="quote1">&gt; tk &lt;tk@xxxxxxxxxx&gt; さん</span>
:
:
:
<span class="quote2">&gt; &gt;mysql 側で www さんあるいは nobody さんに許可が無い。かな？^^;</span>
<span class="quote1">&gt; 遠藤さん</span>
<span class="quote1">&gt; 回答ありがとうございます。</span>
<span class="quote1">&gt; この「mysql側でwwwさん、あるいはnobodyさんに許可がない」というのは、</span>
<span class="quote1">&gt; どのように設定すれば、許可をだせるのでしょうか？</span>

UNIXの基本知識はおもちでしょうか？ウェブサーバを立ち上げたことはありますでしょうか？
環境によって異なるので私どもではわかりませんが、まずウェブサーバは何というユーザで動作するのでしょうか？
もしSuExecされていて、あなたのhomeディレクトリ以下で動くのであればこんな問題は出ないはずなので、多分nobodyやapache、wwwというユーザで動作しているのだと思いますが、もしそうであれば貴方の権限(要するにシェルから操作したとき)では動作し、他のユーザの権限(ウェブサーバ)では動作しないと予測したわけです。

もし貴方がrootで、/var/apache/cgi-bin等に於いておられるのであれば、セキュリティの観点からcgi-bin以下のディレクトリは全てウェブサーバの所有に変更し、さらにパーミッションを所有者のみに換えておきます。

# chown -r apache:apache
# chmod 500 script.file
# chmod 700 /var/apache/cgi-bin

もし、一般ユーザとして設置しているのであれば、SuExecオプションをつけてApacheをコンパイルし直し(管理者に頼む)、ファイルは全て700や600というように他のグループ、ユーザのアクセスを拒否しておきます。

一番やってはいけないのは、一般ユーザなのに、SuExecせずに使用する場合です。パーミッション的には755や666というようにするのですが、これは他の全てのユーザからファイルを書き換えられるという非常に危険な設定法です(多くのレンタルサーバや無料ウェブサービスがこの設定になっています)

(もし貴方がrootであれば)
エラーがなぜ発生するかは、ウェブサーバのユーザにsuしてからプログラムを実行してみればわかります。

# su apache
# ./script.file

シェルから試してみる際も、貴方のユーザではなく、ウェブサーバにsuしてから試すことをおすすめします。




// Hiroaki,Sakuma
//
// BEETAS.org <a href="http://www.beetas.org/">http://www.beetas.org/</a>
//  sakuma@xxxxxxxxxx
//
// Webmin-JP  <a href="http://jp.webmin.com/">http://jp.webmin.com/</a>
//  sakuma@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="6043.html">[前]</a><a href="6045.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="6024.html">   6024 2002-08-29 18:08 [tk &lt;tk@xxxxxxxxxx&gt;  ] コマンドラインとブラウザー              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6025.html">   6025 2002-08-29 18:19 ┣[&quot;Hiroaki,Sakuma&quot; &lt;sa]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6026.html">   6026 2002-08-29 18:26 ┣[&quot;altana&quot; &lt;altana@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6027.html">   6027 2002-08-29 18:21 ┣[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6028.html">   6028 2002-08-29 18:23 ┗[遠藤 俊裕 &lt;endo_t@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6029.html">   6029 2002-08-29 19:06 　┗[tk &lt;tk@xxxxxxxxxx&gt;  ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6031.html">   6031 2002-08-29 19:22 　　┣[Torii &lt;torii@xxxxxxx] ADO で集計関数                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6032.html">   6032 2002-08-29 19:43 　　┃┣[Noriyuki Sakimura &lt;s]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6033.html">   6033 2002-08-29 19:51 　　┃┃┗[崎村 典行 &lt;sakimura@]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6034.html">   6034 2002-08-29 19:58 　　┃┣[Shingo Yamagai &lt;yama]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6038.html">   6038 2002-08-29 21:17 　　┃┗[&quot;Nobuhiro Shimura&quot; &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6041.html">   6041 2002-08-30 08:16 　　┃　┗[Torii &lt;torii@xxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6035.html">   6035 2002-08-29 20:04 　　┣[&quot;altana&quot; &lt;altana@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6036.html">   6036 2002-08-29 20:20 　　┣[&quot;KAWAI,Takanori&quot; &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6037.html">   6037 2002-08-29 21:12 　　┣[遠藤 俊裕 &lt;endo_t@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6042.html">   6042 2002-08-30 11:27 　　┃┗[tk &lt;tk@xxxxxxxxxx&gt;  ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6046.html">   6046 2002-08-30 15:19 　　┃　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="6044.html">   6044 2002-08-30 13:31 　　┗[&quot;Hiroaki,Sakuma&quot; &lt;sa]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6045.html">   6045 2002-08-30 14:48 　　　┗[遠藤 俊裕 &lt;endo_t@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6047.html">   6047 2002-08-31 12:40 　　　　┗[&quot;Hiroaki,Sakuma&quot; &lt;sa]                               </a></span>
</pre>
</body>
</html>
