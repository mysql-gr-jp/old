<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4270</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4269.html">[前]</a><a href="4271.html">[次]</a><a href="../list/4201-4300.html">[番号順一覧]</a><a href="../thread/4201-4300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4270
</p>
<div class="header">
<p>
From: "yasushi fujiwara" &lt;"yasushi fujiwara" &lt;yasushi@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 3 Sep 2001 16:18:10 +0900<br>
Subject: [mysql 04270] ２テーブル間で不一致のデータを抽出したい！<br>

</p>
</div>
<div class="body">
<pre>はじめまして、「やすし」と申します。

１・「問題」
２テーブル間で不一致のデータを抽出したい！

２・「詳細」
いま「PostgreSQL」のSQL文を「mysql」に変換しているところなんですが、、
●「PostgreSQL」では
SELECT emp_cd ,last_name_j||first_name_j as name FROM employee 
WHERE emp_cd not in (select * from ) 
となっていまして、「mysql」では　IN句　||（論理和）　がダメなので下記のようにしました。

●「mysql」
1)
SELECT DISTINCT employee.emp_cd ,employee.last_name_j as name FROM employee INNER JOIN administrators 
ON ( (employee.emp_cd &lt;&gt; administrators.emp_cd) 
2)
SELECT DISTINCT employee.emp_cd ,employee.last_name_j as name FROM employee, administrators 
WHERE ( (employee.emp_cd &lt;&gt; administrators.emp_cd) ) 
1),2)両方とも結果は一緒です。

データは
A)「administrators」テーブル
--------
<span class="quote1">| emp_cd | </span>
--------   
<span class="quote1">| 1         | </span>
--------

B)「employee」テーブル
------------------
<span class="quote1">| emp_cd | last_name  |</span>
------------------   
<span class="quote1">| 1         | 長島  茂雄 |</span>
------------------
<span class="quote1">| ２         | 鈴木　一郎 |</span>
------------------
となっています。

ここでSQLを実行すると、これは
------------------
<span class="quote1">| emp_cd | last_name  |</span>
------------------
<span class="quote1">| ２         | 鈴木　一郎 |</span>
------------------
となるはずですが、
------------------
<span class="quote1">| emp_cd | last_name  |</span>
------------------   
<span class="quote1">| 1         | 長島  茂雄 |</span>
------------------
<span class="quote1">| ２         | 鈴木　一郎 |</span>
------------------
となってしまうのです、これってバグでしょうか？
（ちなみに、Accessで実験すると正常動作します。）
どなたかアドバイスいただければ、よろしくお願いします。

環境
OS TurboLinux workstaion 6
PHP　4.05
MySQL 3.23.28-gamma











</pre>
</div>
<p class="button"><a href="4269.html">[前]</a><a href="4271.html">[次]</a><a href="../list/4201-4300.html">[番号順一覧]</a><a href="../thread/4201-4300.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="4270.html">   4270 2001-09-03 16:18 ["yasushi fujiwara" &lt;] ２テーブル間で不一致のデータを抽出したい！</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4271.html">   4271 2001-09-03 16:54 ┣[&lt;endo_t@xxxxxxxxxx&gt; ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4272.html">   4272 2001-09-03 17:52 ┣[madara &lt;madara@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4273.html">   4273 2001-09-03 19:39 ┃┗["yasushi fujiwara" &lt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4274.html">   4274 2001-09-03 19:54 ┃　┣[fuji &lt;fujiyama@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4277.html">   4277 2001-09-03 21:49 ┃　┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4278.html">   4278 2001-09-03 23:02 ┃　　┗["yasushi fujiwara" &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4289.html">   4289 2001-09-09 08:15 ┃　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4290.html">   4290 2001-09-10 13:08 ┃　　　　┣[fuji &lt;fujiyama@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4292.html">   4292 2001-09-10 21:23 ┃　　　　┃┗[&lt;moeru@xxxxxxxxxx&gt;  ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4293.html">   4293 2001-09-10 22:07 ┃　　　　┃　┣[&lt;endo_t@xxxxxxxxxx&gt; ]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4294.html">   4294 2001-09-10 22:19 ┃　　　　┃　┣[とみたまさひろ &lt;tomm]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4295.html">   4295 2001-09-10 22:41 ┃　　　　┃　┗[fuji &lt;fujiyama@xxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4298.html">   4298 2001-09-12 00:23 ┃　　　　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4291.html">   4291 2001-09-10 13:31 ┃　　　　┗[madara &lt;madara@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4275.html">   4275 2001-09-03 19:54 ┗[Tomohiro 'Tomo-p' KA]                                       </a></span>
</pre>


</body></html>