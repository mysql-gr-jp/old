<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3856</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3855">[前]</a><a href="3857">[次]</a><a href="../list/3801-3900">[番号順一覧]</a><a href="../thread/3801-3900">[スレッド一覧]</a></p>
<p class="id">
mysql:3856
</p>
<div class="header">
<p>
From: &quot;Kawai,Takanori&quot; &lt;&quot;Kawai,Takanori&quot; &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 28 Jun 2001 12:17:02 +0900<br>
Subject: [mysql 03856] Re: update した件数をカウントしたい。<br>

</p>
</div>
<div class="body">
<pre>
川合孝典です。

----- Original Message -----
From: &quot;TSUTSUMI Thoru&quot; &lt;tutumi@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Thursday, June 28, 2001 10:31 AM
Subject: <a href="03852">[mysql 03852]</a> Re: update した件数をカウントしたい。


<span class="quote1">&gt; 堤です。</span>
（中略）
<span class="quote1">&gt; count(*) を使って $sth-&gt;fetchrow_array(); で中を調べるよりは</span>
<span class="quote1">&gt; やはりprepareもfinishもしなくていいし、楽できるような気がします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; #SQL構文設定</span>
<span class="quote1">&gt;  $stmt = &quot;select * from tbl_a where uid = 1&quot;;</span>
<span class="quote1">&gt; # 準備したSQL構文をデータベース上で実行</span>
<span class="quote1">&gt;  $rv = $dbh-&gt;do($stmt) || die &quot;Cant do. Because of $DBI::errstr&quot;;</span>
SELECT文のdoメソッドの結果として出てくる行数については
あまり信用しないほうがよいでしょう。
DBDの実装に影響を受けるはずです。
「prepareが面倒」ということであればselectall_arrayrefを利用しては？

ex.
    my $raRes = $hDb-&gt;selectall_arrayref(
          'SELECT COUNT(*) FROM tbl_a WHERE uid=1');
    print &quot;COUNT:&quot;, $raRes-&gt;[0]-&gt;[0], &quot;\n&quot; if($raRes);

==============================================
川合 孝典 (Hippo2000)
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>
   <a href="http://www.hippo2000.net/">http://www.hippo2000.net/</a>
    DBI日本語メーリングリスト管理人、 Kansai.pm所属
==============================================



</pre>
</div>
<p class="button"><a href="3855">[前]</a><a href="3857">[次]</a><a href="../list/3801-3900">[番号順一覧]</a><a href="../thread/3801-3900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="3845">   3845 2001-06-27 19:00 [MAO &lt;mao@xxxxxxxxxx&gt;] update した件数をカウントしたい。       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3846">   3846 2001-06-27 19:31 ┗[TSUTSUMI Thoru &lt;tutu]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3848">   3848 2001-06-27 22:41 　┗[MAO &lt;mao@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3852">   3852 2001-06-28 10:31 　　┣[TSUTSUMI Thoru &lt;tutu]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="3856">   3856 2001-06-28 12:17 　　┃┗[&quot;Kawai,Takanori&quot; &lt;GC]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3853">   3853 2001-06-28 11:02 　　┗[Akihiko Shinohara &lt;s]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3857">   3857 2001-06-28 12:31 　　　┗[&quot;Kawai,Takanori&quot; &lt;GC]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3860">   3860 2001-06-28 16:46 　　　　┗[MAO &lt;mao@xxxxxxxxxx&gt;]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3861">   3861 2001-06-28 17:36 　　　　　┗[TSUTSUMI Thoru &lt;tutu]                             </a></span>
</pre>
</body>
</html>
