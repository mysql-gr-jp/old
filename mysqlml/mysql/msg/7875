<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7875</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7874">[前]</a><a href="7876">[次]</a><a href="../list/7801-7900">[番号順一覧]</a><a href="../thread/7801-7900">[スレッド一覧]</a></p>
<p class="id">
mysql:7875
</p>
<div class="header">
<p>
From: &lt;lavlav@xxxxxxxxxx&gt;<br>
Date: Wed, 04 Jun 2003 18:57:41 +0900<br>
Subject: [mysql 07875] Re: 日付検索について<br>

</p>
</div>
<div class="body">
<pre>
近藤です。

かわじ、さん、返信ありがとう御座います。

★かわじ、さん
<span class="quote1">&gt; 余計なことをいくつか書いていますが、結論は後半の方にあります。</span>

申し訳ありません。
全てタイプミスですm(_ _)m

<span class="quote1">&gt; TYPE=MyISAM'; の後の ' が不要なのと、date_id に PRIMARY KEY と KEY の</span>
<span class="quote1">&gt; 両方を設定しているのは、あまり必要のないことでは？</span>

phpMyAdminを使ってるのですが、上記の様に設定されてるようなので
そのような書き方をいたしました。特にコレと言った理由はありません。

<span class="quote1">&gt; SELECT</span>
<span class="quote1">&gt;   date_tb.date_name,</span>
<span class="quote1">&gt;   sum(count_tb.count_i) as count_i,</span>
<span class="quote1">&gt;   sum(count_tb.count_e) as count_e,</span>
<span class="quote1">&gt;   sum(count_tb.count_j) as count_j,</span>
<span class="quote1">&gt;   sum(count_tb.count_i) + sum(count_tb.count_e) +</span>
<span class="quote1">&gt;     sum(count_tb.count_j) as total</span>
<span class="quote1">&gt; FROM</span>
<span class="quote1">&gt;   date_tb</span>
<span class="quote1">&gt;   LEFT JOIN count_tb ON date_tb.date_id = count_tb.count_date_id and</span>
<span class="quote1">&gt;     count_tb.count_name_id = $name_id</span>
<span class="quote1">&gt; WHERE</span>
<span class="quote1">&gt;   date_tb.date_name BETWEEN '2003-05-01' AND '2003-05-31'</span>
<span class="quote1">&gt; GROUP BY</span>
<span class="quote1">&gt;   date_tb.date_name</span>
<span class="quote1">&gt; ORDER BY</span>
<span class="quote1">&gt;   date_tb.date_id</span>

なるほど。
WHERE節に、count_tb.count_name_id = $name_idを書くのではなく、
そうゆう書き方が出来るんですね。。。
JOINに関して１つ賢くなりました。

また、プログラム側で表示結果は生成しようと思います。

かわじ、さん、ありがとう御座います。



</pre>
</div>
<p class="button"><a href="7874">[前]</a><a href="7876">[次]</a><a href="../list/7801-7900">[番号順一覧]</a><a href="../thread/7801-7900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7872">   7872 2003-06-04 08:34 [&quot;Tatsuya Kondo&quot; &lt;kon] 日付検索について                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7874">   7874 2003-06-04 11:08 ┗[Shinya Kawaji &lt;kawaj]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="7875">   7875 2003-06-04 18:57 　┗[&lt;lavlav@xxxxxxxxxx&gt; ]                                     </a></span>
</pre>
</body>
</html>
