<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15079</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15078.html">[前]</a><a href="15080.html">[次]</a><a href="../list/15001-15100.html">[番号順一覧]</a><a href="../thread/15001-15100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15079
</p>
<div class="header">
<p>
From: Tetsuro IKEDA &lt;Tetsuro IKEDA &lt;te.ikeda@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 01 Dec 2009 11:02:26 +0900<br>
Subject: [mysql 15079] Re: mysql.sockが消えてしまった（再送）<br>

</p>
</div>
<div class="body">
<pre>
こんにちは。池田です。

この場合、まずはmysqldサーバの起動が失敗した原因を調査すべきだと
思います。そうしないと再インストールしてもまた起動できないかも
しれませんので。

/etc/my.cnfを誤った内容に書き換えたりしてはいませんか。

yumやRPMでインストールしたのなら、/var/lib/mysqlディレクトリ配下に
エラーログがでているかもしれません。

root権限で以下のコマンドを実行してみてください。

tail -n50 /var/lib/mysql/`hostname`.err

もしこれでエラーログが取れるなら、そこから何か分かるかもしれません。

Katada Kenshi さんは書きました:
<span class="quote1">&gt; 池田様</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 早速のご返答有難うございます。</span>
<span class="quote1">&gt; 確かにMySQLサーバが起動しなくなっている状態で、</span>
<span class="quote1">&gt; コマンドラインでmysqldやmysqladmin　の再起動をはかると[失敗]</span>
<span class="quote1">&gt; のメッセージが出ました。（なぜか[システム」メニューの［サービス］</span>
<span class="quote1">&gt; 画面では［mysqld］は有効の状態？？）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; そこで、yumでmysql-serverおよびmysql*をすべてremoveして</span>
<span class="quote1">&gt; 再インストールし、</span>
<span class="quote1">&gt; /etc/rc.d/init.d/mysqld start　としてもやはりMySQLが起動しません。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; したがって、今後はyum以外の方法でインストールすることを考えています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ----- Original Message ----- From: &quot;Tetsuro IKEDA&quot; &lt;ikdttr@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; To: &lt;ml@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; Sent: Sunday, November 29, 2009 3:23 PM</span>
<span class="quote1">&gt; Subject: <a href="15073.html">[mysql 15073]</a> Re: mysql.sockが消えてしまった（再送）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt;&gt; こんにちは。池田です。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; mysql.sockはサーバが起動中にのみ作られるファイルです。終了すると消えま </span>
<span class="quote2">&gt;&gt; す。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 2～3日前、突然MySQLが起動しなくなり、</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; と仰ってますが、サーバが起動していない状態でクライアントから接続しようと</span>
<span class="quote2">&gt;&gt; して失敗しているだけではないでしょうか。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 2009年11月29日11:25 Katada Kenshi &lt;katada@xxxxxxxxxx&gt;:</span>
<span class="quote3">&gt;&gt;&gt; 最初に送ったメールが改行されてませんでした。</span>
<span class="quote3">&gt;&gt;&gt; 再送です。</span>
<span class="quote3">&gt;&gt;&gt; Fedora10をベースにして、yumでMySQLをインストールして動かしています。</span>
<span class="quote3">&gt;&gt;&gt; 2～3日前、突然MySQLが起動しなくなり、下記のメッセージが出てストップし </span>
<span class="quote3">&gt;&gt;&gt; ます。</span>
<span class="quote3">&gt;&gt;&gt; findでmysql.sockを探しても、どこにも見当たりません。</span>
<span class="quote3">&gt;&gt;&gt; どなたか、mysql.sockの復旧方法などお教えいただければ、助かります。</span>
<span class="quote3">&gt;&gt;&gt; エラーメッセージおよび環境などは下記です。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; ERROR2002: Can't connect to local MySQL server through socket</span>
<span class="quote3">&gt;&gt;&gt; '/var/lib/mysql/mysql.sock'(2)</span>
<span class="quote3">&gt;&gt;&gt; 環境</span>
<span class="quote3">&gt;&gt;&gt; OS: Fedora10</span>
<span class="quote3">&gt;&gt;&gt; MySQL Version: 5.0.84---phpinfo()で参照したClient API version</span>
<span class="quote3">&gt;&gt;&gt; 以上</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>



</pre>
</div>
<p class="button"><a href="15078.html">[前]</a><a href="15080.html">[次]</a><a href="../list/15001-15100.html">[番号順一覧]</a><a href="../thread/15001-15100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15072.html">@ 15072 2009-11-29 11:25 [&quot;Katada Kenshi&quot; &lt;kat] mysql.sockが消えてしまった（再送）      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15073.html">  15073 2009-11-29 15:23 ┗[Tetsuro IKEDA &lt;ikdtt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15077.html">  15077 2009-12-01 10:47 　┗[&quot;Katada Kenshi&quot; &lt;kat]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="15079.html">  15079 2009-12-01 11:02 　　┗[Tetsuro IKEDA &lt;te.ik]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15084.html">  15084 2009-12-03 10:54 　　　┗[&quot;Katada Kenshi&quot; &lt;kat]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15086.html">  15086 2009-12-03 11:12 　　　　┗[Tetsuro IKEDA &lt;te.ik]                               </a></span>
</pre>
</body>
</html>
