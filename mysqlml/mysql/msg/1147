<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1147</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1146">[前]</a><a href="1148">[次]</a><a href="../list/1101-1200">[番号順一覧]</a><a href="../thread/1101-1200">[スレッド一覧]</a></p>
<p class="id">
mysql:1147
</p>
<div class="header">
<p>
From: Yuzuru Goto &lt;Yuzuru Goto &lt;kn6y-gtu@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 24 Aug 1999 15:34:12 +0900<br>
Subject: [mysql 01147] Re: インデックス作成のトラブル<br>

</p>
</div>
<div class="body">
<pre>
こんにちは。
MLいつも拝見しておりますが、書くのは
初めてです。どうぞよろしくお願いいたします。

300万レコードはやったことありませんが
数十万レコードで悩んだことがあります。

この件以前から気になっているのですが
今現在は先にインデックスを作成したテーブルに
データを流し込む方法で逃げています。
というのも、結果同じような物ができあがるのですが
途中経過を見ていると後からindexを作る場合
巨大なテンポラリファイルが作成されこれが時に
空き容量をすべて食い尽くしてしまいそのまま
になってしまう場合が見られました。
先にindexを作ると上述のような現象は当然発生
しないので問題なく処理が済みます。

で、十分な空き容量を持った上で同じ事を行うと
先にindexを作った方が後から作るより数倍早く
処理が済むように感じます。
もっともこれもDISKに書く量が多くなるために
DISKのスピードに依存してしまっていると考えると
当たり前のことですが．．．

サーバのキャパによると思いますが村上さんは
この300万件の処理、後からindexを作る場合
どの位の時間で完了するのが妥当と考えられますか？

----
Yuzuru Goto  kn6y-gtu@xxxxxxxxxx
<a href="http://www.asahi-net.or.jp/~kn6y-gtu/">http://www.asahi-net.or.jp/~kn6y-gtu/</a>
<a href="http://www.123.or.jp/~yuzuru/">http://www.123.or.jp/~yuzuru/</a>

</pre>
</div>
<p class="button"><a href="1146">[前]</a><a href="1148">[次]</a><a href="../list/1101-1200">[番号順一覧]</a><a href="../thread/1101-1200">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1134">   1134 1999-08-23 13:48 [Yutaka Miyahara &lt;yut] インデックス作成のトラブル              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1136">   1136 1999-08-23 15:32 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1146">   1146 1999-08-24 14:07 ┃┗[Yutaka Miyahara &lt;yut]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="1147">   1147 1999-08-24 15:34 ┗[Yuzuru Goto &lt;kn6y-gt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1148">   1148 1999-08-24 18:23 　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1150">   1150 1999-08-25 10:58 　　┣[Yutaka Miyahara &lt;yut]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1158">   1158 1999-08-26 11:26 　　┗[Yuzuru Goto &lt;kn6y-gt]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1160">   1160 1999-08-26 12:23 　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
</pre>
</body>
</html>
