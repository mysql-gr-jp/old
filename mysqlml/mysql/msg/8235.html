<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8235</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8234.html">[前]</a><a href="8236.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8235
</p>
<div class="header">
<p>
From: 高橋政利 &lt;高橋政利 &lt;takahashi@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 30 Sep 2003 22:44:16 +0900<br>
Subject: [mysql 08235] JOIN 構文で連結した先のフィールドで WEHE により抽出したい。（訂正）<br>

</p>
</div>
<div class="body">
<pre>
はじめまして。ＭｙＳＱＬを使い始めて半年ほどになります高橋と申します。

質問の前にまずお詫び申し上げます。
<a href="08233.html">[mysql 08233]</a>の投稿ですが、こちらの手違いにより製作段階で誤って送信して
しまいました。申し訳ありませんでした。

会社での業務の合間に、社内用のＷＥＢ管理システムを構築しようと勉強始めた
ばかりですが、つまずく事の毎日です。
ＭＬ過去ログは大分参考となりました。おかげさまで、あと一歩というところま
できたのですが、どうしても解決できない問題にぶつかってしまい悩んでいます。

JOIN 構文で結合した先のフィールドで WEHE により抽出したいのですがどうして
もうまくいきません。

２つのテーブル例えば

テーブル名：fish
 ID | NAME    | SHOP_id | 
----+---------+---------+-
  1 | サンマ  | 1       | 
  2 | アジ    | 2       | 
  3 | イナダ  | 2       | 
  4 | ブリ    | 3       | 
  5 | カツオ  | 4       | 
  6 | ヒラメ  | 2       | 
  7 | キス    | 1       | 

テーブル名：shop
 ID | S_NAME      | 
----+-------------+-
  1 | 高橋商店    | 
  2 | 佐藤商会    | 
  3 | 高野水産    | 
  4 | 鈴木物産    | 
 
があったとします。
この２つのテーブルをJOIN構文で以下のようにしました。

SELECT * FROM fish LEFT JOIN shop ON fish.SHOP_id = shop.ID

こうすることにより、

 ID | NAME    | SHOP_id | ID  | S_NAME   |
----+---------+---------+-----+----------+
  1 | サンマ  | 1       | 1   | 高橋商店 |
  2 | アジ    | 2       | 2   | 佐藤商会 |
  3 | イナダ  | 2       | 2   | 佐藤商会 |
  4 | ブリ    | 3       | 3   | 高野水産 |
  5 | カツオ  | 4       | 4   | 鈴木物産 |
  6 | ヒラメ  | 2       | 2   | 佐藤商会 |
  7 | キス    | 1       | 1   | 高橋商店 |

となりますが、ここでさらに WHERE構文により検索を行いたかったのですが
うまく行きません。例えば、WHEREを使って[S_NAME]の中より「高」を含むレコ
ードだけを抽出して

 ID | NAME    | SHOP_id | ID  | S_NAME   |
----+---------+---------+-----+----------+
  1 | サンマ  | 1       | 1   | 高橋商店 |
  4 | ブリ    | 3       | 3   | 高野水産 |
  7 | キス    | 1       | 1   | 高橋商店 |

としたいのですが、どのようにすればよいのでしょうか？
考えた方法ですが、

SELECT * FROM fish LEFT JOIN shop ON fish.SHOP_id = shop.ID 
WHERE S_NAME LIKE '%高%'

としてみたのですが、結果として

 ID | NAME    | SHOP_id | ID  | S_NAME   |
----+---------+---------+-----+----------+
    |         |         |     |          |

とエラーメッセージ等はでないのですが、結果が空白となってしまいます。
よろしくお願いします。

私の環境ですが、
Windows XP + PHP 4.3.1 + MySQL 4.0.12-nt + httpd 1.42k
です。




</pre>
</div>
<p class="button"><a href="8234.html">[前]</a><a href="8236.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="8235.html">   8235 2003-09-30 22:44 [高橋政利 &lt;takahashi@] JOIN 構文で連結した先のフィールドで WEHE により抽出したい。（訂正）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8236.html">   8236 2003-09-30 22:55 ┣[&quot;A.K.I.&quot; &lt;aki@xxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8237.html">   8237 2003-09-30 23:34 ┗[遠藤 俊裕 &lt;endo_t@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8238.html">   8238 2003-10-01 12:04 　┗[高橋政利 &lt;takahashi@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8239.html">   8239 2003-10-01 14:11 　　┣[遠藤 俊裕 &lt;endo_t@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8240.html">   8240 2003-10-01 14:56 　　┗[MURAKAMI Tomokazu &lt;t]                                   </a></span>
</pre>
</body>
</html>
