<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5687</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5686.html">[前]</a><a href="5688.html">[次]</a><a href="../list/5601-5700.html">[番号順一覧]</a><a href="../thread/5601-5700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5687
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 2 Jul 2002 00:41:41 +0900<br>
Subject: [mysql 05687] Re: 外部から接続時のアドレス逆引きについて<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Mon, 01 Jul 2002 14:06:51 +0900
Masakatsu Etou &lt;a1@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; インターネット上に公開したMySQLサーバで、ログイン時にIPアドレスの逆引き</span>
<span class="quote1">&gt; を行い、userテーブルのHostフィールドにてアクセス制限を行おうとしています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; しかしどうしても &quot;%.hoge.com&quot; 等とした場合にエラーになってしまうので調</span>
<span class="quote1">&gt; 査していたのですが、プロバイダのホスト名のつけ方の問題であることが分か</span>
<span class="quote1">&gt; りました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 具体的には、123.hoge.com のように数字のみで構成されているホスト名の場合、</span>
<span class="quote1">&gt; 逆引きを行っていないか、行っていても正常ではないように思います。</span>
<span class="quote1">&gt; （ソースを読んでも理解できないので、詳しくは不明です）</span>

マニュアルによると

<a href="http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_MySQL_Database_Administration.html#Connection_access">http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_MySQL_Database_Administration.html#Connection_access</a>

<span class="quote1">| Host に IP のワイルドカード(例えば '144.155.166.%' はサブネットの全</span>
<span class="quote1">| てのホストにマッチ) を使用することができます。が、この場合、 </span>
<span class="quote1">| 144.155.166.somewhere.com というホスト名でだれかが接続しようとしてく</span>
<span class="quote1">| るかもしれません。このような攻撃に対し、MySQL は数字やドットで始まる</span>
<span class="quote1">| ホスト名を拒否しています。もし1.2.foo.com のような名前のホストを持っ</span>
<span class="quote1">| ている場合、許可テーブルの Host には絶対にマッチしません。 IPアドレ</span>
<span class="quote1">| スのみ、IP のワイルドカードにマッチする事になります。</span>

…ということです。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="5686.html">[前]</a><a href="5688.html">[次]</a><a href="../list/5601-5700.html">[番号順一覧]</a><a href="../thread/5601-5700.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5679.html">   5679 2002-07-01 14:06 [Masakatsu Etou &lt;a1@x] 外部から接続時のアドレス逆引きについて  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5680.html">   5680 2002-07-01 14:28 ┣[遠藤 俊裕 &lt;endo_t@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5682.html">   5682 2002-07-01 15:02 ┃┗[Masakatsu Etou &lt;a1@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5684.html">   5684 2002-07-01 15:43 ┃　┗[Masakatsu Etou &lt;a1@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5681.html">   5681 2002-07-01 14:39 ┣[Tomohiro 'Tomo-p' KA]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5683.html">   5683 2002-07-01 15:07 ┃┗[Masakatsu Etou &lt;a1@x]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="5687.html">   5687 2002-07-02 00:41 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5736.html">   5736 2002-07-06 18:10 ┃┗[Masakatsu Etou &lt;a1@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5689.html">   5689 2002-07-02 09:58 ┗[&quot;kaji&quot; &lt;kaji@xxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5737.html">   5737 2002-07-06 18:10 　┗[Masakatsu Etou &lt;a1@x]                                     </a></span>
</pre>
</body>
</html>
