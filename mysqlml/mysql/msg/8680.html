<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8680</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8679.html">[前]</a><a href="8681.html">[次]</a><a href="../list/8601-8700.html">[番号順一覧]</a><a href="../thread/8601-8700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8680
</p>
<div class="header">
<p>
From: ML account &lt;ML account &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 31 Jan 2004 10:22:15 +0900<br>
Subject: [mysql 08680] Re: 負荷分散（軽減方法）について質問します<br>

</p>
</div>
<div class="body">
<pre>
　こんにちは。

lavlav@xxxxxxxxxxさんの
&lt;005b01c3e6ef$494e8240$fa01a8c0@d276lut1b&gt;
&quot;<a href="08679.html">[mysql 08679]</a> Re: 負荷分散（軽減方法）について質問します&quot;


<span class="quote1">&gt; 近藤です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 松枝様、私勘違いしておりました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; DB構造を提示しては？と言う意味だったのですね。</span>
<span class="quote1">&gt; いや、ごくごく普通のDB構造ですので提示するほどでも・・・。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; と言うより、DBに格納するまでのプロセスが、</span>
<span class="quote1">&gt; ちょっと自分でもすごいなと思いまして・・・。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; そちらを説明しようと思ってました。（汗）</span>
<span class="quote1">&gt; # MySQLでない話しで申し訳ないです！</span>


　<a href="08678.html">[mysql 08678]</a>での近藤さんの視点は、あながち間違いでは無いと考えていま
す。

　Webのアクセスログを収集蓄積し、それに対して何らかの検索抽出を行う、が、
この話題の目的と思料します。まずここで、
　　・どの様なデータを収集蓄積するのか
　　・どの様なデータの検索抽出を行うのか
等の若干詳細な目的が明確になると考えます。

　そこから、
　　・どの様なテーブル構造とDB操作でデータを収集蓄積するのか
　　・どの様なDB操作でデータの検索抽出を行うのか
　　・各DB操作の頻度や許容処理時間
等の実現手段の概要が明らかになって来ると思います。「示してみればどうでしょ
う」は、この実現手段の概要までを、と言う話です。


　この様な話は、MySQLに関係無いともあるとも言えます。実現手段の概要の上
位構造までは、どのDBMSを使用する場合でも共通して言える事ですから、MySQL
固有の事では無いでしょう。

　実現手段の概要の下位構造は、使用するDBMSで何が出来るかによって左右され
て来る部分です。例えば、タテヨコ変換などと僕が呼ぶ、カラムをベタに並べる
テーブルの集計は、Oracleや Postgreならばサブクエリやビューを使用して(色
々な意味で妥当かは別にしても)簡単に実現可能ですが、MySQLでは一時テーブル
に挿入を繰り返す方法でしか実現は困難でしょう。ならば、そのMySQLの特性に
合わせて、 DB構造やDB操作を変更する必要性も出て来る訳です。


　Webアクセスログの情報は、DBに納める場合に十分正規化出来るのでは無いか
と考えます。この正規化は、皆さんの言われる所の数値化と多分同じものでしょ
う。HTTPサーバのインプロセスでWebアクセスログをDBに格納するのは時間的に
困難な場合も考えられますし、また正規化を行った場合にはその処理時間がベタ
な形よりも長くなる事は十分考えられます。ファイルに落としてバッチ的にDBに
挿入も一つの方策ですが、named-pipeを通して別プロセスで DBへの挿入を行う
様なやり方もまた可能でしょう。

　またWebアクセスログに限らなのですが、パフォーマンスに問題を抱える設計
の例として、必要無いデータを大量に抱きかかえている、があります。
“divide and conquer/rule”の原則を守っていないのですね。


　MySQLを使う事がこのMLの話題、MySQLや他のDBMSをどの様に上手く使って行く
かはオフトピックであるならば、この話題に関して私信、と言うかミニMLで意見
交換を行った方が良いかも知れませんね。興味のある方はtomom@xxxxxxxxxxま
でメールを頂ければと考えます。



　　　　松枝知直　　　　&lt;tomom@xxxxxxxxxx&gt;
　　　　　　　　　　　　<a href="http://www.argus.ne.jp/~tomom/">http://www.argus.ne.jp/~tomom/</a>



</pre>
</div>
<p class="button"><a href="8679.html">[前]</a><a href="8681.html">[次]</a><a href="../list/8601-8700.html">[番号順一覧]</a><a href="../thread/8601-8700.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8635.html">   8635 2004-01-21 19:22 [&quot;yabu@xxxxxxxxxx&quot; &lt;y] 負荷分散（軽減方法）について質問します  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8639.html">   8639 2004-01-21 21:02 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8641.html">   8641 2004-01-22 01:59 　┗[&quot;yabu@xxxxxxxxxx&quot; &lt;y]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8643.html">   8643 2004-01-22 10:34 　　┗[きたぢま &lt;kitajima@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8647.html">   8647 2004-01-22 11:37 　　　┗[&quot;竹本　靖&quot; &lt;take@xxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8673.html">   8673 2004-01-30 01:05 　　　　┗[&lt;konet218@xxxxxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8674.html">   8674 2004-01-30 02:20 　　　　　┗[Takashi Mikami &lt;rx78]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8675.html">   8675 2004-01-30 11:17 　　　　　　┗[&lt;lavlav@xxxxxxxxxx&gt; ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8676.html">   8676 2004-01-30 12:44 　　　　　　　┣[Takashi Mikami &lt;rx78]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8677.html">   8677 2004-01-30 13:38 　　　　　　　┗[ML account &lt;ml@xxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8678.html">   8678 2004-01-30 13:49 　　　　　　　　┣[&lt;lavlav@xxxxxxxxxx&gt; ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8679.html">   8679 2004-01-30 14:09 　　　　　　　　┗[&lt;lavlav@xxxxxxxxxx&gt; ]                       </a></span>
<span class="current">-&gt;&nbsp;<a href="8680.html">   8680 2004-01-31 10:22 　　　　　　　　　┗[ML account &lt;ml@xxxxx]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8682.html">   8682 2004-02-02 13:25 　　　　　　　　　　┗[とみたまさひろ &lt;tomm]                   </a></span>
</pre>
</body>
</html>
