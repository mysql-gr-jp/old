<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7597</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="7596.html">[前]</a><a href="7598.html">[次]</a><a href="../list/7501-7600.html">[番号順一覧]</a><a href="../thread/7501-7600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7597
</p>
<div class="header">
<p>
From: SUGAWARA Hajime &lt;SUGAWARA Hajime &lt;sugawara@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 25 Apr 2003 20:45:25 +0900<br>
Subject: [mysql 07597] Re: クォーテーションの扱いについて<br>

</p>
</div>
<div class="body">
<pre>　菅原です。

aimitsu katoh &lt;akimitsu@xxxxxxxxxx&gt;さんは書きました：
<span class="quote1">&gt; Perl+DBI+MySQL+HTMLでCGIプログラムを制作しているのですが、クォーテーシ</span>
<span class="quote1">&gt; ョン【"】の扱いについて質問します。</span>
<span class="quote1">&gt; 今 PerlでデータベースにINSERTする時は次のように記述しています。</span>
（略）
<span class="quote1">&gt; そこで皆さんに質問なのですが、【"】や【\】の処理はどうされていますか？</span>
<span class="quote1">&gt; なにかよい方法がありましたら是非ご教授くださいませ。</span>

　プレースホルダを使いましょう。
　以下のソース

<span class="quote1">&gt; ##### (データベースへはconnect済み、エラー処理は記述していません)</span>
<span class="quote1">&gt; $no=150; $text='text_text';</span>
<span class="quote1">&gt; $sql=qq{INSERT tb_A SET id_no=$no,user_name="$text"};</span>
<span class="quote1">&gt; $sth = $dbh-&gt;prepare($sql);</span>
<span class="quote1">&gt; $rt_value=$sth-&gt;execute();</span>
<span class="quote1">&gt; #####</span>

は

##### (データベースへはconnect済み、エラー処理は記述していません)
$no=150; $text='text_text';
$sql=qq{INSERT tb_A SET id_no=?,user_name=?};
$sth = $dbh-&gt;prepare($sql);
$rt_value=$sth-&gt;execute( $no, $text);
#####

のように書きます。
（「?」がポイントですね）

　DBIをどうやって知ったのか分かりませんが、普通はこういう風に書くように
書かれてると思うんですけど。。。
（そうでもないのかな？）

　詳しくはDBIのドキュメントをお読みください。


＃それはそれとして、「INSERT ～ SET ～」という
＃構文はないような気がするんですけど。
＃それで動いてます？
-- 
菅原はじめ＠ホビー・データ
sugawara@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="7596.html">[前]</a><a href="7598.html">[次]</a><a href="../list/7501-7600.html">[番号順一覧]</a><a href="../thread/7501-7600.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="7596.html">   7596 2003-04-25 20:21 [aimitsu katoh &lt;akimi] クォーテーションの扱いについて          </a></span>
<span class="current">-&gt;&nbsp;<a href="7597.html">   7597 2003-04-25 20:45 ┣[SUGAWARA Hajime &lt;sug]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7598.html">   7598 2003-04-25 23:03 ┃┣[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7605.html">   7605 2003-04-28 11:17 ┃┃┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7599.html">   7599 2003-04-26 17:06 ┃┗[Katoh Akimitsu &lt;akim]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7600.html">   7600 2003-04-26 23:42 ┗["KAWAI,Takanori" &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7602.html">   7602 2003-04-27 05:28 　┗[Katoh Akimitsu &lt;akim]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7603.html">   7603 2003-04-27 09:16 　　┗["KAWAI,Takanori" &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7604.html">   7604 2003-04-27 16:12 　　　┗[Katoh Akimitsu &lt;akim]                                 </a></span>
</pre>


</body></html>