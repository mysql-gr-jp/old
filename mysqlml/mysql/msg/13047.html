<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13047</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="13046.html">[前]</a><a href="13048.html">[次]</a><a href="../list/13001-13100.html">[番号順一覧]</a><a href="../thread/13001-13100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13047
</p>
<div class="header">
<p>
From: &quot;Takashi Yamashita&quot; &lt;&quot;Takashi Yamashita&quot; &lt;takasi@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 2 Jun 2006 10:43:33 +0900<br>
Subject: [mysql 13047] Re: insertに関して<br>

</p>
</div>
<div class="body">
<pre>
野口様

はじめまして、Takashi Yamashitaと申します。

野口様のquery文字列は以下の通りです。
<span class="quote1">&gt; $sql = &quot;insert into member values(0, '$hiduke', '$id', '$shamei', </span>
<span class="quote1">&gt; '$gyoutai', '$gyoushu'. '$jigyou', '$setsuritsu', '$shihon', '$uriage', </span>
<span class="quote1">&gt; '$shainsuu', '$nam', '$yu1', '$yu2', '$todoufuken', '$shikugun', </span>
<span class="quote1">&gt; '$juusho', '$url', '$mail1', '$tel', '$fax', '$renraku_mail', </span>
<span class="quote1">&gt; '$renraku_tel', '$renraku_fax')&quot;;</span>
$hidukeはtourokubi、$idはloginidのことでしょうか。。。

野口様のエラーメッセージは以下の通りです。
<span class="quote1">&gt; コマンドプロンプトから登録を試みた際のエラー</span>
<span class="quote1">&gt; ERROR 1136: Column count doesn't match value count at row 1</span>

自分の場合はこうやります。
---
$sql=&quot;insert into member (tourokubi, loginid, shamei, gyoutai, gyoushu, 
jigyou&quot;;
$sql.=&quot;, setsuritsu, shihon, uriage, shainsuu, tantousha, yu1, yu2, 
todoufuken&quot;;
$sql.=&quot;, shikugun, juusho, url, mail, tel, fax, renraku_mail, renraku_tel, 
renraku_fax)&quot;;
$sql.=sprintf(&quot; values('%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', 
'%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', '%s', 
'%s', '%s')&quot;, $hiduke, $id, $shamei, $gyoutai, $gyoushu, $jigyou, 
$setsuritsu, $shihon, $uriage, $shainsuu, $tantousha, $yu1, $yu2, 
$todoufuken, $shikugun, $juusho, $url, $mail, $tel, $fax, $renraku_mail, 
$renraku_tel, $renraku_fax);
---
※idはprimary keyかつauto_incrementですから、queryには入れないです。

このようにフィールド名を明示的に指定すれば、
全てのフィールドに値をセットする必要はないので、
エラーは発生しないと思います。

ですので、まずは、
$sql=sprintf(&quot;insert into member (tourokubi, loginid, shamei) values('%s', 
'%s', '%s')&quot;, $hiduke, $id, $shamei);
からはじめてみて、正常に登録されるかどうか確認してから、
徐々にフィールドを増やしていってはいかがでしょうか。

---------------------------------------
Takashi Yamashita
takasi@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="13046.html">[前]</a><a href="13048.html">[次]</a><a href="../list/13001-13100.html">[番号順一覧]</a><a href="../thread/13001-13100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13043.html">  13043 2006-06-02 00:02 [&quot;chappuru21 chappuru] insertに関して                          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13044.html">  13044 2006-06-02 00:47 ┣[&lt;milk_coffee_2004jp@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13045.html">  13045 2006-06-02 09:44 ┃┗[&quot;chappuru21 chappuru]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13046.html">  13046 2006-06-02 10:12 ┃　┣[Seiichi YANAI &lt;yanai]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13048.html">  13048 2006-06-02 10:49 ┃　┗[高橋政利 &lt;takahashi@]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13049.html">  13049 2006-06-02 12:07 ┃　　┗[&quot;chappuru21 chappuru]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="13047.html">  13047 2006-06-02 10:43 ┗[&quot;Takashi Yamashita&quot; ]                                       </a></span>
</pre>
</body>
</html>
