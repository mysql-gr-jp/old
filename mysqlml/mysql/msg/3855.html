<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3855</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3854.html">[前]</a><a href="3856.html">[次]</a><a href="../list/3801-3900.html">[番号順一覧]</a><a href="../thread/3801-3900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3855
</p>
<div class="header">
<p>
From: &lt;office@xxxxxxxxxx&gt;<br>
Date: Thu, 28 Jun 2001 12:11:37 +0900<br>
Subject: [mysql 03855] データベースの設計について<br>

</p>
</div>
<div class="body">
<pre>J-SKY研究所のたけです。
こちらには久々の投稿になります。

環境：MySQL バージョン3.23.38

J-PHONEの着メロサイトを運営しているのですが、今データベースを再構築
していまして、設計方法でかなり悩んでいます。

今曲数が10000曲ほどあり(月に2000曲くらいづつ増えています。)
各着メロに対してユーザーからの感想や採点結果のログをMySQLを
利用して管理したいと思っています。

現在は1曲について感想のログ用に１ファイル、ユーザーIDのログ保存
で１ファイル合計2個用意してテキストで管理して採点の得点のデータのみMySQL
で管理しています。その為ファイル数が数万個にもなってしまっています。
（一度採点が終わったユーザーIDからは採点できない
ようにしたい為ユーザーIDのログ保存もしています）

この感想と採点のログを１つのテーブルにしまってしまうと今、月に1万弱くら
いの感想の書き込みがあるので、レコード数がすぐに数万レコードとなってしま
うことが予想されます。

この数万件となったレコードの中から、その曲の感想のみをSELECTして
日付順にソートして「※イメージ１」のように感想を表示させたいと思っています。
この場合レコード数が膨大になるとかなりパフォーマンスが落ちるような気
がするのですが、いかがなものなのでしょうか？
現在の曲の合計SELECT回数は20万回/日ほどを予想しています。
INSERT数は300回/日ほどです。

また仮に１曲につき１テーブル設ける方法ですとテーブル数が1,2万個にも
なってしまいますが、問題ないのでしょうか？


どのような設計にするのが最善なのか、みなさまのご経験を元にご教授して
頂けないものでしょうか？よろしくお願いします。




/*----------（※イメージ１）----------------------------------------------------
16095人目のゲスト
今日19 昨日43
平均点97(採点者数66)
メロコード:1000
歌手:SOS
曲名:ABBA
作者:寛
--------------------------------------------------------------------------------
■ダウンロードフォーム
--------------------------------------------------------------------------------
■感想の表示
--------------------------------------------------------------------------------
ねぴあ|100点&gt;うますぎだぜ
05/22(火)21:35 
--------------------------------------------------------------------------------
たつや|100点&gt;うっうますぎ！鳥肌ビンビンって感じです！
05/22(火)5:15 
--------------------------------------------------------------------------------
びん|100点&gt;じょうずですね
05/12(土)22:45 
--------------------------------------------------------------------------------
よしあき|100点&gt;僕もＡ☆ＴＥＥＮＳバージョンを勝手にお待ちしておりますf^_^;
05/12(土)17:36 
--------------------------------------------------------------------------------
ぺぺ|100点&gt;いただきです うまい！
05/05(土)5:43 
------------------------------------------------------------------------------*/



-- 
J-SKY研究所(J-PHONE最強着メロサイト)
技術支配人たけ
URL: <a href="http://web090.ouchi.to/">http://web090.ouchi.to/</a>
mail: take@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="3854.html">[前]</a><a href="3856.html">[次]</a><a href="../list/3801-3900.html">[番号順一覧]</a><a href="../thread/3801-3900.html">[スレッド一覧]</a></p>


</body></html>