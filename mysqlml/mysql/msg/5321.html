<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5321</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="5320.html">[前]</a><a href="5322.html">[次]</a><a href="../list/5301-5400.html">[番号順一覧]</a><a href="../thread/5301-5400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5321
</p>
<div class="header">
<p>
From: kohara &lt;kohara &lt;skohara@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 05 Apr 2002 16:00:00 +0900<br>
Subject: [mysql 05321] Re: データベースの操作権限について<br>

</p>
</div>
<div class="body">
<pre>小原です。加藤さん返答ありがとうございます。

<span class="quote1">&gt; 　こんにちは、加藤です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　　mysql データベースのテーブル一覧を見たところ、tables_priv と</span>
<span class="quote1">&gt; 　いうテーブルがあります。また、マニュアルの『4.3.1 GRANT と REVOKE</span>
<span class="quote1">&gt; 　構文』を見たところできるようです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　　レンタルサーバのように、複数ユーザがいて、それぞれ違うアプリ</span>
<span class="quote1">&gt; 　ケーション / システムを利用するのであればデータベースを分けて</span>
<span class="quote1">&gt; 　しまった方がいいと思いますが。</span>

今回権限の設定は以下のようにしています。

-userテーブルの権限を全て無効
revoke all privileges on *.* from yamada;

-dbテーブルに対し全ての権限を付与
grant all privileges on UserDB1.* to yamada@localhost identified 'pass';

⇒これによりyamada@localhostはUserDB1にのみアクセス可能。


上記マニュアル「4.3.1 GRANT と REVOKE 構文」には以下の記述があります。
----------------------------------------------------------------------
Database レベル 
Database 権限は与えられたデータベース内の全てのテーブルに適用します。
これらの権限は mysql.db テーブルと mysql.host テーブル内に格納されます。

Table レベル 
Table 権限は与えられたテーブル内の全てのフィールドに適用します。これら
の権限は mysql.tables_priv テーブル内に格納されます。 
----------------------------------------------------------------------
一見データベース内のテーブルのみに適用されるかのように受取れますが、
実際にはデータベースとテーブルの両方に適用されます。つまりデータベース
も削除することができるということです。操作ミスを防ぐためにデータベース
は削除できないようにしたいです。

table_privはデータベース内のテーブルに権限を付与できると思うのですが、
実際にユーザーに開放するときはテーブルは存在しない状態で渡します。で
すので、明示的にテーブル名を指定してgrantを発行することができないのです。

はて困った・・・。




</pre>
</div>
<p class="button"><a href="5320.html">[前]</a><a href="5322.html">[次]</a><a href="../list/5301-5400.html">[番号順一覧]</a><a href="../thread/5301-5400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="5317.html">   5317 2002-04-05 12:52 [kohara &lt;skohara@xxxx] データベースの操作権限について          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5320.html">   5320 2002-04-05 14:41 ┗[Tomohiro 'Tomo-p' KA]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="5321.html">   5321 2002-04-05 16:00 　┗[kohara &lt;skohara@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5322.html">   5322 2002-04-05 16:17 　　┗[Tomohiro 'Tomo-p' KA]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5323.html">   5323 2002-04-05 16:50 　　　┗[kohara &lt;skohara@xxxx]                                 </a></span>
</pre>


</body></html>