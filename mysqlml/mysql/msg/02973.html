<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2973</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2972.html">[前]</a><a href="2974.html">[次]</a><a href="../list/2901-3000.html">[番号順一覧]</a><a href="../thread/2901-3000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2973
</p>
<div class="header">
<p>
From: Hiroyuki Hasegawa &lt;Hiroyuki Hasegawa &lt;admin@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 09 Jan 2001 20:32:31 +0900<br>
Subject: [mysql 02973] Re: check table にてエラーが頻発<br>

</p>
</div>
<div class="body">
<pre>
補足です。

これはほんとに困るんですが、以下のようにテーブルが本当にクラッシュしてし
まうケースが出てきました。

2回目のクエリーで以下のようになりました。
+---------------+-------+----------+-------------------------------------------------------------------+
<span class="quote1">| Table         | Op    | Msg_type | Msg_text                                                          |</span>
+---------------+-------+----------+-------------------------------------------------------------------+
<span class="quote1">| table1        | check | warning  | Table is marked as crashed                                        |</span>
<span class="quote1">| table1        | check | warning  | Size of datafile is: 1509596206       Should be: 1509369784       |</span>
<span class="quote1">| table1        | check | error    | Found key at page 64386048 that points to record outside datafile |</span>
<span class="quote1">| db1.table1    | check | error    | Corrupt                                                           |</span>
+---------------+-------+----------+-------------------------------------------------------------------+

さらに3回目のクエリーで以下のようになりました。
+---------------+-------+----------+-------------------------------------------------------------+
<span class="quote1">| Table         | Op    | Msg_type | Msg_text                                                    |</span>
+---------------+-------+----------+-------------------------------------------------------------+
<span class="quote1">| table1        | check | warning  | Table is marked as crashed                                  |</span>
<span class="quote1">| table1        | check | warning  | Size of datafile is: 1509625557       Should be: 1509369784 |</span>
<span class="quote1">| table1        | check | error    | Key 1 doesn't point at all records                          |</span>
<span class="quote1">| db1.table1    | check | error    | Corrupt                                                     |</span>
+---------------+-------+----------+-------------------------------------------------------------+

こうなるとrepair table をするまで、直りません。しかもレプリケーションも
停止しますので、大変困った事態に陥っています。

check table をすることによってcrashしているようにも思えるのですが・・



</pre>
</div>
<p class="button"><a href="2972.html">[前]</a><a href="2974.html">[次]</a><a href="../list/2901-3000.html">[番号順一覧]</a><a href="../thread/2901-3000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="2972.html">   2972 2001-01-09 20:24 [Hiroyuki Hasegawa &lt;a] check table にてエラーが頻発            </a></span>
<span class="current">-&gt;&nbsp;<a href="2973.html">   2973 2001-01-09 20:32 ┗[Hiroyuki Hasegawa &lt;a]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2975.html">   2975 2001-01-10 00:19 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2977.html">   2977 2001-01-10 09:27 　　┗[Hiroyuki Hasegawa &lt;a]                                   </a></span>
</pre>
</body>
</html>
