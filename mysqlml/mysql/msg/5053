<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5053</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5052">[前]</a><a href="5054">[次]</a><a href="../list/5001-5100">[番号順一覧]</a><a href="../thread/5001-5100">[スレッド一覧]</a></p>
<p class="id">
mysql:5053
</p>
<div class="header">
<p>
From: &quot;Yasuhide Nomura&quot; &lt;&quot;Yasuhide Nomura&quot; &lt;mag@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 29 Jan 2002 20:36:35 +0900<br>
Subject: [mysql 05053] 時間のかかる SELECT 文によるテーブルロック<br>

</p>
</div>
<div class="body">
<pre>
はじめまして。野村と申します。

MySQL3.24による400万ユーザのデータを運用していますが、
管理者が運用状態を見るために応答に時間がかかるSELECT
によるクエリーを発行した場合、クエリが終了するまで応答速度を
要求されるアプリケーションからのテーブルロック、UPDATE、DELETE
などの操作が待たされてしまいます。
テーブルがロックされる状態は仕方のないことでしょうか。

MySQLのマニュアルには、
｜テーブルロッキングは以下の場合にはあまり良くありません：
｜
｜・あるクライアントが実行に長い時間のかかる SELECT を発行。
｜・その後に、他のクライアントが、使用されているテーブルに対し
｜　UPDATE を発行；このクライアントは先の SELECT が完了するま
｜　で待ちます
とありますが、テーブルロックをしていないSELECT文に対しても、
上記のようなロック状態が発生するのはなぜなのでしょうか。

ご教授よろしくお願いいたします。



</pre>
</div>
<p class="button"><a href="5052">[前]</a><a href="5054">[次]</a><a href="../list/5001-5100">[番号順一覧]</a><a href="../thread/5001-5100">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="5053">   5053 2002-01-29 20:36 [&quot;Yasuhide Nomura&quot; &lt;m] 時間のかかる SELECT 文によるテーブルロック</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5066">   5066 2002-01-30 13:02 ┗[&quot;f.t&quot; &lt;fujiyama@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5067">   5067 2002-01-30 14:38 　┗[&quot;Yasuhide Nomura&quot; &lt;m]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5068">   5068 2002-01-30 15:06 　　┗[Noriyuki Sakimura &lt;s]                                   </a></span>
</pre>
</body>
</html>
