<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6625</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6624">[前]</a><a href="6626">[次]</a><a href="../list/6601-6700">[番号順一覧]</a><a href="../thread/6601-6700">[スレッド一覧]</a></p>
<p class="id">
mysql:6625
</p>
<div class="header">
<p>
From: shogo &lt;shogo &lt;sho@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 26 Nov 2002 19:07:49 +0900<br>
Subject: [mysql 06625] Re: MySQL におけるロックについて<br>

</p>
</div>
<div class="body">
<pre>
質問をした河瀬です。

とみたまさひろ さんは書きました:
<span class="quote1">&gt;とみたです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;On Sun, 24 Nov 2002 17:44:50 +0900</span>
<span class="quote1">&gt;Tomoyuki Ishino &lt;ishino@xxxxxxxxxx&gt; wrote:</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt; select for update はトランザクションをサポートしているテーブルタイプでしか</span>
<span class="quote2">&gt;&gt; 有効ではないですし、selectに関しては衝突は起こりません。（=読み込みに関しては</span>
<span class="quote2">&gt;&gt; ロックされません。）</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;select に同じように「for update」をつければ、ちゃんとロックされるよう</span>
<span class="quote1">&gt;です。</span>
<span class="quote1">&gt;</span>

返答が遅くなって申し訳ありません。
一応、確認させてください。

mysql_query : SELECT 'テーブル1' 〜 FOR UPDATE
mysql_query : SELECT 'テーブル2' 〜 FOR UPDATE
PHPによる処理
mysql_query : UPDATE 'テーブル1'
mysql_query : UPDATE 'テーブル2'

というスクリプトを書けば、そのスクリプトがいくつ同時に動いても、
単一レコードの２重読み込みをしない、ってことになるんでしょうか。

マニュアルのFOR UPDATEの項目に
	ページ／レコードロックとともに〜
とかかれていたたのですが、この「ページ/レコードロック」についてよくわからないので、
FOR UPDATEを使うには他に何をすればいいかも教えていただけると幸いです。

</pre>
</div>
<p class="button"><a href="6624">[前]</a><a href="6626">[次]</a><a href="../list/6601-6700">[番号順一覧]</a><a href="../thread/6601-6700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="6606">   6606 2002-11-24 02:32 [shogo &lt;sho@xxxxxxxxx] MySQL におけるロックについて            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6607">   6607 2002-11-24 17:44 ┗[Tomoyuki Ishino &lt;ish]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6610">   6610 2002-11-24 19:08 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6611">   6611 2002-11-24 19:57 　　┣[Tomoyuki Ishino &lt;ish]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="6625">   6625 2002-11-26 19:07 　　┗[shogo &lt;sho@xxxxxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6628">   6628 2002-11-27 00:07 　　　┗[とみたまさひろ &lt;tomm]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6629">   6629 2002-11-27 02:24 　　　　┗[Tomoyuki Ishino &lt;ish]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6630">   6630 2002-11-27 03:02 　　　　　┣[とみたまさひろ &lt;tomm]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6631">   6631 2002-11-27 15:47 　　　　　┗[遠藤 俊裕 &lt;endo_t@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6633">   6633 2002-11-28 19:38 　　　　　　┗[Takeyuki Miyagawa &lt;m]                           </a></span>
</pre>
</body>
</html>
