<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15738</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="15737.html">[前]</a><a href="15739.html">[次]</a><a href="../list/15701-15800.html">[番号順一覧]</a><a href="../thread/15701-15800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15738
</p>
<div class="header">
<p>
From: &lt;momoko@xxxxxxxxxx&gt;<br>
Date: Tue, 17 Apr 2012 16:17:40 +0900<br>
Subject: [mysql 15738] MySQL Connector/Jの接続仕様について<br>

</p>
</div>
<div class="body">
<pre>
広瀬と申します。


MySQL Ver5.5.20、Connector/J 5.1.19を利用しています。

JDBCでMySQLに接続する場合で、複数のスレーブを参照する場合の一般的な
方法としては、以下の通りになるかと思います(細かい設定は除外します。)。


driver.connect(
&quot;jdbc:mysql://master,slave1,slave2,...,slaveN/db&quot;,
props);


上記の書き方の場合、マスタが1個目になりますが


driver.connect(
&quot;jdbc:mysql://slave1,slave2,master,,...,slaveN/db&quot;,
props);


とした場合、マスターに接続出来ない状態にし(ポート番号を適当に変えてや
るだけですが)、後続のslaveNに移るのかなと思ったところ、マスタに接続で
きないとなった段階で、次に移らずエラーで落ちてしまいました。


failOverReadOnlyやreconnectAtTxEndなどの各パラメータを詳しくまだ把握
しきれていないのですが、設定したDBサーバのいずれかに接続出来ればOKの
ような動きにしたい場合にはどのような方法があるのか。ご教授頂ければと
思います。

※書き方として、1個目がマスタで無ければダメとか、その手の仕様とかあれば
　幸いです。

また、1つ疑問なのが、マスタサーバがどれであるのか判断する仕組みが何か
しらあるのでしょうか？


以上、よろしくお願いいたします。

</pre>
</div>
<p class="button"><a href="15737.html">[前]</a><a href="15739.html">[次]</a><a href="../list/15701-15800.html">[番号順一覧]</a><a href="../thread/15701-15800.html">[スレッド一覧]</a></p>
</body>
</html>
