<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4470</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="4469.html">[前]</a><a href="4471.html">[次]</a><a href="../list/4401-4500.html">[番号順一覧]</a><a href="../thread/4401-4500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4470
</p>
<div class="header">
<p>
From: &quot;Kawai,Takanori&quot; &lt;&quot;Kawai,Takanori&quot; &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 12 Oct 2001 12:24:33 +0900<br>
Subject: [mysql 04470] Re: ステートメントハンドル属性取得<br>

</p>
</div>
<div class="body">
<pre>
川合孝典です。

----- Original Message ----- 
From: &quot;mino&quot; &lt;mysql@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Friday, October 12, 2001 11:26 AM
Subject: <a href="04468.html">[mysql 04468]</a> Re: ステートメントハンドル属性取得


<span class="quote1">&gt; 宮川様。早々のアドバイス、ありがとう御座いました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; おかげさまで、バッチリOKでした。</span>
というのは、
<span class="quote2">&gt; &gt; while (defined ($value = $sth-&gt;fetchrow_array) {</span>
ということでしょうか？

私の環境でDESCすると末尾がPrivilegesになるので直接は確認
できなかったのですが。元の原因は
  $value = $sth-&gt;fetchrow_array
で末尾にあるExtraの値が’’だったことでしょう。
今回の場合には、これで問題は解決できるとは思いますが、
末尾の項目がNULLを示すundefの場合には区別できません。
宮川さんの書かれている通り、fetchrow_arrayrefなど他の方法を
利用するか、リストコンテキストとして、

    my @aRes;
    while(@aRes=$sth-&gt;fetchrow_array()) {
        print $aRes[-1], &quot;\n&quot;;
    }

のようにしたほうがよいでしょう。

PS.
DBIのドキュメントには
&lt;引用&gt;
In a scalar context, fetchrow_array returns the value of 
the first field. 
&lt;/引用&gt;

ウーン、最後のような気がとってもするぞぉ。
===================================================
川合 孝典 (Hippo2000)
   DBI日本語メーリングリスト管理人、Kansai.pm所属
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>
   <a href="http://www.hippo2000.net/">http://www.hippo2000.net/</a>
===================================================


</pre>
</div>
<p class="button"><a href="4469.html">[前]</a><a href="4471.html">[次]</a><a href="../list/4401-4500.html">[番号順一覧]</a><a href="../thread/4401-4500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4460.html">   4460 2001-10-11 19:07 [&quot;mino&quot; &lt;mysql@xxxxxx] ステートメントハンドル属性取得          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4461.html">   4461 2001-10-11 19:09 ┣[KOBAYASI Hiroyuki &lt;k]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4462.html">   4462 2001-10-11 19:10 ┗[Tatsuhiko Miyagawa &lt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4465.html">   4465 2001-10-12 10:36 　┗[&quot;mino&quot; &lt;mysql@xxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4466.html">   4466 2001-10-12 10:51 　　┗[Tatsuhiko Miyagawa &lt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4467.html">   4467 2001-10-12 10:53 　　　┗[Tatsuhiko Miyagawa &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4468.html">   4468 2001-10-12 11:26 　　　　┗[&quot;mino&quot; &lt;mysql@xxxxxx]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="4470.html">   4470 2001-10-12 12:24 　　　　　┗[&quot;Kawai,Takanori&quot; &lt;GC]                             </a></span>
</pre>
</body>
</html>
