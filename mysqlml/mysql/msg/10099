<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10099</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10098">[前]</a><a href="10100">[次]</a><a href="../list/10001-10100">[番号順一覧]</a><a href="../thread/10001-10100">[スレッド一覧]</a></p>
<p class="id">
mysql:10099
</p>
<div class="header">
<p>
From: Yoshiaki Saita &lt;Yoshiaki Saita &lt;yoshia-s@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 10 Sep 2004 13:33:43 +0900<br>
Subject: [mysql 10099] IPアドレス格納・検索方法<br>

</p>
</div>
<div class="body">
<pre>

斎田と申します。

今回、テーブルにIPv4アドレスを格納しないといけないのですが、
どのような方法が効率的でしょうか。
今までは、PostgreSQLを利用しており、
ネットワークアドレスデータ型、関数が利用できてました。


格納したデータの検索は、
IPアドレスを指定してデータを抽出するのはもちろん、
CIDRなどの記述ででも取り出せるようにする予定です。


現在では、

IPAddress varchar(16)

とし、文字列として格納しています。
検索の時には文字列比較で抽出していますが、
文字列比較はかなりのコストがかかり相当遅くなるようです。

IPアドレスを何らかの数値に変換して記録できれば
速度的にかなり速くなると伺ったことがあります。

レコード数は1000万件以上あります。


何か効率的な格納、検索方法等ございましたら
ご教授頂ければ幸いです。


使用バージョン：4.0.15


_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/
奈良先端科学技術大学院大学 情報科学研究科
情報システム学専攻
インターネット・アーキテクチャ講座

斎田佳輝
yoshia-s@xxxxxxxxxx
<a href="http://inet-lab.naist.jp/~yoshia-s/">http://inet-lab.naist.jp/~yoshia-s/</a>
_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/


</pre>
</div>
<p class="button"><a href="10098">[前]</a><a href="10100">[次]</a><a href="../list/10001-10100">[番号順一覧]</a><a href="../thread/10001-10100">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="10099">  10099 2004-09-10 13:33 [Yoshiaki Saita &lt;yosh] IPアドレス格納・検索方法                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10100">  10100 2004-09-10 13:47 ┣[seiji takegata &lt;take]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10101">  10101 2004-09-10 13:53 ┣[hiroshi nagasaka &lt;h-]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10102">  10102 2004-09-10 14:13 ┣[坂東健一 &lt;bando@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10103">  10103 2004-09-10 14:41 ┣[渡邊昌之 &lt;mark@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10105">  10105 2004-09-10 14:42 ┗[HAMAI Kyoichi &lt;k-ham]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10139">  10139 2004-09-14 20:35 　┗[Yoshiaki Saita &lt;yosh]                                     </a></span>
</pre>
</body>
</html>
