<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15035</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15034">[前]</a><a href="15036">[次]</a><a href="../list/15001-15100">[番号順一覧]</a><a href="../thread/15001-15100">[スレッド一覧]</a></p>
<p class="id">
mysql:15035
</p>
<div class="header">
<p>
From: Hisamitsu Issei &lt;Hisamitsu Issei &lt;ds1i-hsmt@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 12 Oct 2009 13:14:12 +0900<br>
Subject: [mysql 15035] Re: 「２つ以上含む」検索<br>

</p>
</div>
<div class="body">
<pre>
糸瀬様

　バラバラに検索した結果を結合して主キーでグループ化してグ 
ループ化されてた主キーの個数が２個以上あるものを検索をすると 
いうことですね。なるほど、こういった考え方もあるんですね。勉 
強になります。ありがとうございます。


On 2009/10/12, at 12:57, ユウシステム 糸瀬 wrote:

<span class="quote1">&gt; 久光さん</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 糸瀬と申します。以下でどうでしょうか。</span>
<span class="quote1">&gt; tableAのPRIMARYをidと仮定して記述しています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; SELECT *</span>
<span class="quote1">&gt; FROM tableA</span>
<span class="quote1">&gt; WHERE id IN (</span>
<span class="quote1">&gt;  SELECT tbl.id</span>
<span class="quote1">&gt;  FROM(</span>
<span class="quote1">&gt;      SELECT id AS id</span>
<span class="quote1">&gt;      FROM tableA</span>
<span class="quote1">&gt;      WHERE columnA LIKE '%||カモ||%'</span>
<span class="quote1">&gt;    union all</span>
<span class="quote1">&gt;      SELECT id AS id</span>
<span class="quote1">&gt;      FROM tableA</span>
<span class="quote1">&gt;      WHERE columnA LIKE '%||ガチョウ||%'</span>
<span class="quote1">&gt;    union all</span>
<span class="quote1">&gt;      SELECT id AS id</span>
<span class="quote1">&gt;      FROM tableA</span>
<span class="quote1">&gt;      WHERE columnA LIKE '%||スズメ||%'</span>
<span class="quote1">&gt;  ) AS tbl</span>
<span class="quote1">&gt;  GROUP BY</span>
<span class="quote1">&gt;    tbl.id</span>
<span class="quote1">&gt;  HAVING</span>
<span class="quote1">&gt;    COUNT(tbl.id) &gt;= 2</span>
<span class="quote1">&gt; )</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; 糸瀬真一</span>

■■◇　（有）久光工房
■■■　e-mail: hisamitsu@xxxxxxxxxx
■■■　〒237-0068 神奈川県横須賀市追浜本町2-33
■■■　tel&amp;fax: 046-869-3680
□■■　＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝
□□■　Cosmetic-Info.jp
□□□　国内最大級の化粧品原料検索サイト
◆□□　<a href="http://www.cosmetic-info.jp/">http://www.cosmetic-info.jp/</a>


</pre>
</div>
<p class="button"><a href="15034">[前]</a><a href="15036">[次]</a><a href="../list/15001-15100">[番号順一覧]</a><a href="../thread/15001-15100">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15031">  15031 2009-10-12 12:16 [Hisamitsu Issei &lt;ds1] 「２つ以上含む」検索                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15032">  15032 2009-10-12 12:41 ┗[bon &lt;bon@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15033">  15033 2009-10-12 12:57 　┣[ユウシステム 糸瀬 &lt;i]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="15035">  15035 2009-10-12 13:14 　┃┗[Hisamitsu Issei &lt;ds1]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15034">  15034 2009-10-12 13:09 　┗[Hisamitsu Issei &lt;ds1]                                     </a></span>
</pre>
</body>
</html>
