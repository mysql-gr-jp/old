<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5216</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="5215.html">[前]</a><a href="5217.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5216
</p>
<div class="header">
<p>
From: URAGO Keisuke &lt;URAGO Keisuke &lt;bravo@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 28 Feb 2002 17:09:31 +0900<br>
Subject: [mysql 05216] Re: ユーザ名に応じて接続できるデータベース名を制約する方法<br>

</p>
</div>
<div class="body">
<pre>
浦郷です。

On Thu, 28 Feb 2002 16:56:02 +0900
Akinobu YAMAMOTO &lt;ayamamot@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; どうも、山本です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; At 11:41 02/02/28 +0900, you wrote:</span>
<span class="quote2">&gt; &gt;DB名とUSER名が逆、かつmysql.userテーブルで権限が与えられている、</span>
<span class="quote2">&gt; &gt;ではないでしょうか？</span>
<span class="quote2">&gt; &gt;＃はずしてたらすみません。</span>
<span class="quote1">&gt; そのあたりを見てみて権限の変更をしたのですが、それでもだめでした。</span>
<span class="quote1">&gt; ひとまずmysql.userとmysql.dbの分を明記します。</span>
<span class="quote1">&gt; =======================================================</span>
<span class="quote1">&gt; mysql.user</span>
<span class="quote2">&gt; | localhost         | aaa | **************** | Y           | Y           | </span>
<span class="quote1">&gt; Y           | Y           | Y           | Y         | N           | N   | Y </span>
<span class="quote2">&gt; | Y         | Y          | N               | Y          | Y       |</span>
<span class="quote2">&gt; | localhost         | bbb | **************** | Y           | Y           | </span>
<span class="quote1">&gt; Y           | Y           | Y           | Y         | N           | N   | Y </span>
<span class="quote2">&gt; | Y         | N          | N               | Y          | Y       |</span>
<span class="quote1">&gt; -------------------------------------------------------</span>
<span class="quote1">&gt; mysql.db</span>
<span class="quote2">&gt; | localhost | aaadb | aaa | Y           | Y           | Y           | Y </span>
<span class="quote2">&gt; | Y           | Y         | N          | N               | Y | Y          |</span>
<span class="quote2">&gt; | localhost | bbbdb | bbb | Y           | Y           | Y           | Y </span>
<span class="quote2">&gt; | Y           | Y         | N          | N               | Y | Y          |</span>
<span class="quote1">&gt; =======================================================</span>
<span class="quote1">&gt; 設定に誤りがございましたらご指摘のほどお願いいたします</span>

mysql.userテーブルは、全てのデータベースに影響を及ぼします。
そのため、特定のdbしか操作させたくない場合は、
userテーブルの権限は全て'N'にして、
dbのほうのselect_privを'Y'にします。

ちょっと前にJZUG Wikiに書いたものもあるので
参考になると良いと思います。

<a href="http://wiki.zope.jp/MySQLAdmUserDb">http://wiki.zope.jp/MySQLAdmUserDb</a>

ではでは。

==
  浦郷圭介
  URAGO Keisuke &lt;bravo@xxxxxxxxxx&gt;
  <a href="http://open.resourcez.org/">http://open.resourcez.org/</a>
  $ alias /.='w3m <a href="http://slashdot.jp/">http://slashdot.jp/</a>'


</pre>
</div>
<p class="button"><a href="5215.html">[前]</a><a href="5217.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5209.html">   5209 2002-02-27 16:17 [Akinobu YAMAMOTO &lt;ay] ユーザ名に応じて接続できるデータベース名を制約する方法</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5212.html">   5212 2002-02-28 11:41 ┗[Tomoyuki Ishino &lt;ish]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5215.html">   5215 2002-02-28 16:56 　┗[Akinobu YAMAMOTO &lt;ay]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="5216.html">   5216 2002-02-28 17:09 　　┗[URAGO Keisuke &lt;bravo]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5217.html">   5217 2002-02-28 17:31 　　　┗[Akinobu YAMAMOTO &lt;ay]                                 </a></span>
</pre>
</body>
</html>
