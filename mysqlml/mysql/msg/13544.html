<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13544</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="13543.html">[前]</a><a href="13545.html">[次]</a><a href="../list/13501-13600.html">[番号順一覧]</a><a href="../thread/13501-13600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13544
</p>
<div class="header">
<p>
From: &quot;F.Y&quot; &lt;&quot;F.Y&quot; &lt;fumi_sby@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 22 Nov 2006 16:28:20 +0900 (JST)<br>
Subject: [mysql 13544] Re: 共通項のあるレコードの結合について<br>

</p>
</div>
<div class="body">
<pre>
具体的な用途を想定しようと思ったんだけど足先が冷えてて想像できなかった
。
意味ないと思うけど、全項目ではなく1項目だけ見るストアドプロシージャ。

delimiter //
create procedure hoge(d_名前 varchar(20), d_体重 float, d_身長 float)
begin
  declare p int;
  select count(*) into p from 名簿 where 名前 = d_名前;
  if p &gt; 0
  then
    update 名簿 set 体重 = d_体重, 身長 = d_身長 where 名前 = d_名前;
  else
    insert into 名簿 set 名前 = d_名前, 体重 = d_体重, 身長 = d_身長;
  end if;
end
//
delimiter ;
call(&quot;山田&quot;, 64.8, 172.5);

例によって、動くかどうかは知らない。

--- syokora &lt;ryuubi_1109@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; テーブルにレコードを新たに加える際に、既に格納されている</span>
<span class="quote1">&gt; レコードと１つでも共通項があった場合、既に格納されている</span>
<span class="quote1">&gt; レコードに統合したいのですが、どのように記述したらよいの</span>
<span class="quote1">&gt; か分かりません。よろしければ、ご教授願えないでしょうか？</span>
<span class="quote1">&gt; 環境はWindows XP,MySQL5.0 を使用しております。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --------------------------------------</span>
<span class="quote1">&gt; Start Yahoo! Auction now! Check out the cool campaign</span>
<span class="quote1">&gt; <a href="http://pr.mail.yahoo.co.jp/auction/">http://pr.mail.yahoo.co.jp/auction/</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


--------------------------------------
Start Yahoo! Auction now! Check out the cool campaign
<a href="http://pr.mail.yahoo.co.jp/auction/">http://pr.mail.yahoo.co.jp/auction/</a>

</pre>
</div>
<p class="button"><a href="13543.html">[前]</a><a href="13545.html">[次]</a><a href="../list/13501-13600.html">[番号順一覧]</a><a href="../thread/13501-13600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13537.html">  13537 2006-11-22 15:20 [syokora &lt;ryuubi_1109] 共通項のあるレコードの結合について      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13539.html">  13539 2006-11-22 15:48 ┣[土田 崇 &lt;takashit@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13541.html">  13541 2006-11-22 15:56 ┣[いっちゃん &lt;icchan_2]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13542.html">  13542 2006-11-22 16:07 ┣[Tasuku SUENAGA &lt;a@xx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="13544.html">  13544 2006-11-22 16:28 ┗[&quot;F.Y&quot; &lt;fumi_sby@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13545.html">  13545 2006-11-22 17:01 　┗[syokora &lt;ryuubi_1109]                                     </a></span>
</pre>
</body>
</html>
