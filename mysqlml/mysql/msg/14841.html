<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14841</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14840.html">[前]</a><a href="14842.html">[次]</a><a href="../list/14801-14900.html">[番号順一覧]</a><a href="../thread/14801-14900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14841
</p>
<div class="header">
<p>
From: mao &lt;mao &lt;mao@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 12 May 2009 00:49:07 +0900<br>
Subject: [mysql 14841] UNSIGNEDの0からの引き算<br>

</p>
</div>
<div class="body">
<pre>こんばんはMAOです。
すみません。お教えください。

mysql 3.xx.xxで動いていたプログラムを
mysql 5.0.45に移植中です。

mysql 3のときですが、
INT UNSIGNEDで0が入っているフィールドから引き算をしても
0は0のままで0以下になることはなかったのですが、
mysql 5でやった場合は、0から1を引くと4294967295になってしまいます。
これを0にする方法はありませんでしょうか？
0かどうか確認をして、0だったら、引かないという方法は考えられますが、
フィールド数が多く、プログラムでなく、SQL側で対応できればと考えています。

以上、よろしくお願いいたします。


------ test sql start -------
CREATE TABLE `mtest` (
`fnum` INT UNSIGNED NOT NULL
) TYPE = MYISAM ;

INSERT INTO `mtest` ( `fnum` )
VALUES (
'0'
);
update mtest set fnum = fnum -1;

select fnum from mtest;
------ test sql end -------

■結果
mysql 3.xの場合は　0
mysql 5.xの場合は　4294967295



</pre>
</div>
<p class="button"><a href="14840.html">[前]</a><a href="14842.html">[次]</a><a href="../list/14801-14900.html">[番号順一覧]</a><a href="../thread/14801-14900.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="14841.html">  14841 2009-05-12 00:49 [mao &lt;mao@xxxxxxxxxx&gt;] UNSIGNEDの0からの引き算                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14842.html">  14842 2009-05-12 08:21 ┣[高橋政利 &lt;takahashi@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14843.html">  14843 2009-05-12 09:41 ┣[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14844.html">  14844 2009-05-12 09:46 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14847.html">  14847 2009-05-12 21:27 　┗[mao &lt;mao@xxxxxxxxxx&gt;]                                     </a></span>
</pre>


</body></html>