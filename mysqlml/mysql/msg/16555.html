<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:16555</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="16554.html">[前]</a><a href="16556.html">[次]</a><a href="../list/16501-16600.html">[番号順一覧]</a><a href="../thread/16501-16600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:16555
</p>
<div class="header">
<p>
From: Yoshiaki Yamasaki &lt;Yoshiaki Yamasaki &lt;yoshiaki.yamasaki@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 20 Nov 2019 14:53:14 +0900<br>
Subject: [mysql 16555] Re: [mysql 16554] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください<br>

</p>
</div>
<div class="body">
<pre>
やまさきです。

出力までできるのかどうかは把握できていませんが(※)、
GDALというライブラリ群の中のogr2ogrというコマンドで取込みは可能です。

　※ST_AsGeoJSON()関数を使ってMySQLからGeoJSON形式で抜き出した後で、ogr2ogrで
　　GeoJSONのファイルをシェープファイルに変換する、ということはできると思います。

いくつか注意事項があるのですが、それらを含め詳細を以下の資料で解説していますので、
ご確認下さい。

　MySQL 8.0で強化されたGIS機能と使用事例のご紹介＋α　
　<a href="https://speakerdeck.com/yoshiakiyamasaki/mysql-8-dot-0deqiang-hua-saretagisji-neng-toshi-yong-shi-li-falsegoshao-jie-a">https://speakerdeck.com/yoshiakiyamasaki/mysql-8-dot-0deqiang-hua-saretagisji-neng-toshi-yong-shi-li-falsegoshao-jie-a</a>

　※該当部分は40ページ以降
　※ShapeファイルをGeoJSON形式に変換してからインポートする手順も掲載(59ページ以降)

ちなみに、MySQL Workbenchにもシェープファイルを取り込める機能があるのですが、
内部でGDALを使用していて、同梱されているGDALのバージョンが古かったりする関係上、
上手く動かないケースがあるので、上記の手順をお勧めします。
(この件についてバグ報告したいと思いつつ、まだ報告できていないのですが…)

また、GDALに頼らずに、MySQLとしてShapeファイルをインポート/エクスポートできるツールを
用意して欲しいと思っていて、以下の機能追加リクエストを登録していますので、よろしければ
「Affects me」ボタンをクリックして頂けると助かります！

　Bug#90023: [Feature request] Shape File import/export tool
　<a href="https://bugs.mysql.com/bug.php?id=90023">https://bugs.mysql.com/bug.php?id=90023</a>


On 2019/11/20 14:28, 落合 司郎 wrote:
<span class="quote1">&gt; 落合と申します。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; MySQL 8.0でgeometryを扱いたいと思っています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 以下の環境で、geometryと属性データを含むshapeファイルをMySQL 8.0に取り込む方法あるいはツールをご存知の方がいましたら教えてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; shapeファイルを直接MySQL 8.0に取り込むのではなく、shapeファイルをcsvに出力し、取り込む場合は、shapeファイルをcsvに出力する方法あるいはツールを教えてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; また、MySQL 8.0のgeometryを含むテーブルをshapeファイルに出力する方法あるいはツールも教えてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; OS:windows 7</span>
<span class="quote1">&gt; mySQL:MySQL 8.0</span>
<span class="quote1">&gt; データベースエンジン:InnoDB</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>

-- 
YAMASAKI, Yoshiaki
MySQL Principal Solution Engineer, Asia Pacific &amp; Japan
Oracle Corporation Japan
phone: +81-6-6442-6435
mobile: +81-80-2353-9733



</pre>
</div>
<p class="button"><a href="16554.html">[前]</a><a href="16556.html">[次]</a><a href="../list/16501-16600.html">[番号順一覧]</a><a href="../thread/16501-16600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="16554.html">  16554 2019-11-20 14:28 [落合 司郎 &lt;s.ochiai@] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
<span class="current">-&gt;&nbsp;<a href="16555.html">  16555 2019-11-20 14:53 ┗[Yoshiaki Yamasaki &lt;y] Re: [mysql 16554] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16556.html">  16556 2019-11-20 16:35 　┗[落合 司郎 &lt;s.ochiai@] Re=3a =5bmysql 16555=5d Re=3a =5bmysql 16554=5d shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16557.html">  16557 2019-11-20 17:31 　　┗[Yoshiaki Yamasaki &lt;y] Re: [mysql 16556] Re: [mysql 16555] Re: [mysql 16554] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
</pre>
</body>
</html>
