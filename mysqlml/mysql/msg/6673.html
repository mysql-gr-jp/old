<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6673</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6672.html">[前]</a><a href="6674.html">[次]</a><a href="../list/6601-6700.html">[番号順一覧]</a><a href="../thread/6601-6700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6673
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 7 Dec 2002 09:40:05 +0900<br>
Subject: [mysql 06673] Re: mysqldump 実行中に Insert  等が行えるようにするには？<br>

</p>
</div>
<div class="body">
<pre>とみたです。

On Thu, 5 Dec 2002 11:12:03 +0900
"Isamu Narimatsu" &lt;isamu@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; テーブルをバックアップするために下記のように mysqldump を実行したのですが、</span>
<span class="quote1">&gt; データ量が多いために、実行中は Insert などの命令が待っている状態になります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; C:\mysql\bin\mysqldump -C --add-drop-table -e -h $hostname -u</span>
<span class="quote1">&gt; $user -p$passwordsql -P 3306 $database $table &gt; C:\bak\$table</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; オプション"--add-locks "を指定していなくても、バックアップ中はテーブル</span>
<span class="quote1">&gt; "$table"がWriteロックされてしまうのでしょうか？</span>

--add-locks は LOCK 命令を含むようなダンプを作成するためのオプションな
ので、ダンプ中にロックするかどうかは関係ないですね。ダンプ中にロックす
るのは --lock-tables です。

<span class="quote1">&gt; もし、そうならば、mysqldump 実行中は Insert, Update等が出来ないのでしょうか</span>
<span class="quote1">&gt; ？</span>

--lock-tables がついていないのなら、ロックしないはずです。
INSERT 側で LOCK しているってことはないですか？

<span class="quote1">&gt; そうなると、残された解決方法の一つは mysqldump を出来るだけ早く終わらせるた</span>
<span class="quote1">&gt; めに、"--opt" オプションを実行すべきなでしょうか？</span>

権限があるなら、-T を使った方が速いかもしれません。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="6672.html">[前]</a><a href="6674.html">[次]</a><a href="../list/6601-6700.html">[番号順一覧]</a><a href="../thread/6601-6700.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="6665.html">   6665 2002-12-05 11:12 ["Isamu Narimatsu" &lt;i] mysqldump 実行中に Insert  等が行えるようにするには？</a></span>
<span class="current">-&gt;&nbsp;<a href="6673.html">   6673 2002-12-07 09:40 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6674.html">   6674 2002-12-07 19:46 　┗["Isamu Narimatsu" &lt;i]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6718.html">   6718 2002-12-15 15:25 　　┗["Isamu Narimatsu" &lt;i]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6720.html">   6720 2002-12-16 15:39 　　　┗["Isamu Narimatsu" &lt;i]                                 </a></span>
</pre>


</body></html>