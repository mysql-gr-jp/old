<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1442</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="1441.html">[前]</a><a href="1443.html">[次]</a><a href="../list/1401-1500.html">[番号順一覧]</a><a href="../thread/1401-1500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1442
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 04 Jan 2000 16:35:04 +0900<br>
Subject: [mysql 01442] Re: LEFT JOIN は実用に耐えるか<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

At Tue, 04 Jan 2000 16:37:27 +0900,
akon &lt;akon@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; 今までのところ ほとんどの場合、かなりの性能向上が期待できる</span>
<span class="quote1">&gt; ようなのですが 唯一 LEFT JOIN が 終わらず困っています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 具体的には、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  TableA: ２５万件</span>
<span class="quote1">&gt;  TableB: １０万件</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt;  select count(*) from TableA left join TableB using(key)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; keyはいずれのテーブルについても、Primaryです</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ３０分以上たっても戻ってきません。</span>
<span class="quote1">&gt; （実際 途中で中断してしまい何分かかるのか不明です）</span>
<span class="quote1">&gt; その間CPUは ９０％以上 使用しています。</span>

インデックスの設定に問題があるかもしれないので、

	explain select count(*) from TableA left join TableB using(key)

の結果で何かわかるかもしれません。

また、MySQL は join を使うより、where で条件を指定した方が速いようなので、

	select count(*) from TableA, TableB where TableA.key = TableB.key

としてみると違う結果になるかもしれません。

--
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;

</pre>
</div>
<p class="button"><a href="1441.html">[前]</a><a href="1443.html">[次]</a><a href="../list/1401-1500.html">[番号順一覧]</a><a href="../thread/1401-1500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1441.html">   1441 2000-01-04 16:37 [akon &lt;akon@xxxxxxxxx] LEFT JOIN は実用に耐えるか              </a></span>
<span class="current">-&gt;&nbsp;<a href="1442.html">   1442 2000-01-04 16:35 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1443.html">   1443 2000-01-04 17:31 　┗[akon &lt;akon@xxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1444.html">   1444 2000-01-04 17:32 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1445.html">   1445 2000-01-04 18:37 　　　┗[akon &lt;akon@xxxxxxxxx]                                 </a></span>
</pre>
</body>
</html>
