<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:613</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="612.html">[前]</a><a href="614.html">[次]</a><a href="../list/601-700.html">[番号順一覧]</a><a href="../thread/601-700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:613
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Thu, 21 Jan 1999 23:15:52 +0900<br>
Subject: [mysql 00613] ruby<br>

</p>
</div>
<div class="body">
<pre>毅です。

ruby-mysql 2.1 上で Mysql.new() が失敗した場合、
(サーバーが反応しないか、アクセスデナイドか)
ruby が MysqlError で止まる(abortする)のですが、
これをやめるにはどうすればよいでしょうか？

mysql-ruby のソースの
  VALUE real_connect()
を変えるしかないんでしょうか？

エラーなら、nilかなにかで返すにはどうすればよろしいでしょう？

  Raise(eMysql, "%s", mysql_error(&amp;my));
というのが、error 時に呼ばれていますが、(ruby の API でしょうが)、
これがなんの働きをしているか？なので、
単純に return(NULL); でいいものかどうか、、、

# いま、ruby-gtk-MySQLadmin の接続部分をちょこっと書いてみて、
# わざと接続失敗させてみたら、あら？、でした。

 村上 毅  takeshi@xxxxxxxxxx
 PGP fingerprint = 45 5D 54 12 B4 55 77 7F  D4 52 66 EC 03 3F 1B E9
 [ <a href="http://www.softagency.co.jp/mysql/">http://www.softagency.co.jp/mysql/</a> ]
 [ MySQL ML: mysql-help@xxxxxxxxxx ]

</pre>
</div>
<p class="button"><a href="612.html">[前]</a><a href="614.html">[次]</a><a href="../list/601-700.html">[番号順一覧]</a><a href="../thread/601-700.html">[スレッド一覧]</a></p>


</body></html>