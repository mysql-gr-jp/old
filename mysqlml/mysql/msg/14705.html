<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14705</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14704.html">[前]</a><a href="14706.html">[次]</a><a href="../list/14701-14800.html">[番号順一覧]</a><a href="../thread/14701-14800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14705
</p>
<div class="header">
<p>
From: nobu &lt;nobu &lt;mininobu@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 30 Nov 2008 15:17:15 +0900<br>
Subject: [mysql 14705] Re: 常にオートコミットをオフにする設定<br>

</p>
</div>
<div class="body">
<pre>
加藤さん

近藤です。ご回答ありがとうございます。
init_connect=''set autocommit=0&quot;は試したのですが、動作しなかった為に
「はずした」と思っていました。ユーザーはrootでやっていましたので、ご指摘
のSUPER権限を持っているために動作していなかったということですね。
新たにユーザーを追加して再度試してみます。

以上、ありがとうございました。


2008/11/30 9:34 加藤 剛 &lt;g-kato@xxxxxxxxxx&gt;:
<span class="quote1">&gt; 近藤さん</span>
<span class="quote1">&gt; はじめまして。加藤＠アークシステムです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; MySQL5.0ではオートコミットをオフにするためのシステムパラメータは</span>
<span class="quote1">&gt; 用意されていません。ですが、同じことを実現するための方法として</span>
<span class="quote1">&gt; 「init_connect」パラメータを使用する方法があります。このパラメータは</span>
<span class="quote1">&gt; DBへの接続確立後、最初に実行されるSQLを指定するものです。</span>
<span class="quote1">&gt; #パラメータの詳細は以下をご覧ください。</span>
<span class="quote1">&gt; <a href="http://dev.mysql.com/doc/refman/5.0/en/server-system-variables.html#sysvar_init_connect">http://dev.mysql.com/doc/refman/5.0/en/server-system-variables.html#sysvar_init_connect</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 具体的には、my.iniで</span>
<span class="quote1">&gt; init_connect=''set autocommit=0</span>
<span class="quote1">&gt; と設定することで実現できるはずです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ただし、init_connectパラメータで指定したSQLはSUPER権限を</span>
<span class="quote1">&gt; もつユーザ(rootユーザなど)に対しては実行されないため、注意してください。</span>
<span class="quote1">&gt; ＞Note that the content of init_connect is not executed for users that</span>
<span class="quote1">&gt; have the SUPER privilege.</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 2008/11/30 3:35 nobu &lt;mininobu@xxxxxxxxxx&gt;:</span>
<span class="quote2">&gt;&gt; 近藤(nobu)です。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 件名の通りなのですが、my.iniの設定でオートコミットをオフにすることは可能でしょうか？</span>
<span class="quote2">&gt;&gt; コマンドでは、set autocommit=0にすることで可能なのですが、設定によって常にオフに</span>
<span class="quote2">&gt;&gt; できないかと思っています。</span>
<span class="quote2">&gt;&gt; 5.0のドキュメントを見たのですが、それらしい設定が見つけられませんでした。</span>
<span class="quote2">&gt;&gt; どなたか、ご存知の方がいらっしゃいましたらアドバイスをお願いします。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ■環境</span>
<span class="quote2">&gt;&gt; Windows XP SP3</span>
<span class="quote2">&gt;&gt; Mysql 5.0.67</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; ************************************************</span>
<span class="quote1">&gt;  株式会社アークシステム ソリューション開発部</span>
<span class="quote1">&gt;  加藤　剛 - Go Kato -</span>
<span class="quote1">&gt;  E-Mail：g-kato@xxxxxxxxxx</span>
<span class="quote1">&gt;  TEL ：03-3666-8207</span>
<span class="quote1">&gt;  URL ：<a href="http://www.arksystems.co.jp">http://www.arksystems.co.jp</a></span>
<span class="quote1">&gt; ************************************************</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="14704.html">[前]</a><a href="14706.html">[次]</a><a href="../list/14701-14800.html">[番号順一覧]</a><a href="../thread/14701-14800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14703.html">  14703 2008-11-30 03:35 [nobu &lt;mininobu@xxxxx] 常にオートコミットをオフにする設定      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14704.html">  14704 2008-11-30 09:34 ┗[&quot;加藤 剛&quot; &lt;g-kato@xx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="14705.html">  14705 2008-11-30 15:17 　┗[nobu &lt;mininobu@xxxxx]                                     </a></span>
</pre>
</body>
</html>
