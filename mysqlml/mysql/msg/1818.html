<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1818</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="1817.html">[前]</a><a href="1819.html">[次]</a><a href="../list/1801-1900.html">[番号順一覧]</a><a href="../thread/1801-1900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1818
</p>
<div class="header">
<p>
From: Kengo Jinno &lt;Kengo Jinno &lt;kengo@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 28 Mar 2000 17:36:09 +0900<br>
Subject: [mysql 01818] Quoted column name on mysqldump output<br>

</p>
</div>
<div class="body">
<pre>
神野です。

Linuxでmysql 3.22.32 (ujis)を使っています。

mysqldumpでダンプすると、日本語の項目名がquoteされます。
それでそのままmysqlにかけると、「You have an error in your 
SQL syntax near '`項目名`」と怒られてしまいます。

具体的には、

<span class="quote1">| create table テスト (</span>
<span class="quote1">|   english int,</span>
<span class="quote1">|   日本語 int</span>
<span class="quote1">| );</span>

というようなテーブルを作成し、mysqldump -d でダンプします。
すると、こうなります。

<span class="quote1">| CREATE TABLE テスト (</span>
<span class="quote1">|   english int(11),</span>
<span class="quote1">|   `日本語` int(11)</span>
<span class="quote1">| );</span>

これをそのまま、mysqlに突っ込むと、

<span class="quote1">| foo:~$ mysqldump test -d | mysql test2</span>
<span class="quote1">| ERROR 1064 at line 10: You have an error in your SQL syntax </span>
<span class="quote1">| near '`日本語` int(11))' at line 3</span>

となってしまいます。

それぞれのバージョンは、以下の通りです。

<span class="quote1">| foo:~$ mysql --version</span>
<span class="quote1">| mysql  Ver 9.38 Distrib 3.22.32, for pc-linux-gnu (i686)</span>
<span class="quote1">| foo:~$ mysqldump --version</span>
<span class="quote1">| mysqldump  Ver 7.1 Distrib 3.22.32, for pc-linux-gnu (i686)</span>

・そもそもquoteされてしまうのが、どこかおかしいのでしょうか？
・このquoteを抑止する方法は無いでしょうか？
　--quote-namesの逆のオプションがあればいいのですが。

-----------------------------
神野健吾 &lt;kengo@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="1817.html">[前]</a><a href="1819.html">[次]</a><a href="../list/1801-1900.html">[番号順一覧]</a><a href="../thread/1801-1900.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="1818.html">   1818 2000-03-28 17:36 [Kengo Jinno &lt;kengo@x] Quoted column name on mysqldump output  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1819.html">   1819 2000-03-28 18:38 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1820.html">   1820 2000-03-28 19:18 　┣[Kengo Jinno &lt;kengo@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1824.html">   1824 2000-03-29 00:39 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1829.html">   1829 2000-03-29 10:08 　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                   </a></span>
</pre>
</body>
</html>
