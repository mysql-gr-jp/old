<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10997</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10996">[前]</a><a href="10998">[次]</a><a href="../list/10901-11000">[番号順一覧]</a><a href="../thread/10901-11000">[スレッド一覧]</a></p>
<p class="id">
mysql:10997
</p>
<div class="header">
<p>
From: naya &lt;naya &lt;SNA02388@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 15 Feb 2005 17:34:46 +0900<br>
Subject: [mysql 10997] Re: 大量にinsertするとブルースクリーンになる<br>

</p>
</div>
<div class="body">
<pre>
とみたさん、Daijuさん、レスありがとうございます。

# Daijuさん、ドライブ名のマッピングコマンドは活用させていただきます。

▼とみたさん：

<span class="quote1">&gt; 「'\c」で脱出できます。</span>


こんな方法があったんですね、大変助かります（にっちもさっちもいかなかった
ので。。。）しかし、何度か検証しているうちに、脱出できないケースもありま
した。NGなSQL文を実行した瞬間、下記の文字列が９回、ガッガッガッガ…と出
て、応答不能（'\c が効かない。効くのは[enter]のみ）になります。

ERROR:
Unknown command '\\'.

やむなく、DOS窓の[×]を押して終了すると、数秒後に今度はブルースクリーン
という具合です。

それと、'\c　で脱出してから

mysql &gt; exit [enter]  

...としたら、mysql.exe が異常終了してしまいます。これも再現性100%です。
イベントビューアには次のようなログが残っています。

<span class="quote1">&gt; エラー発生アプリケーション mysqがl.exe、バージョン 0.0.0.0、エラー発生</span>
<span class="quote1">&gt; モジュール mysql.exe、バージョン 0.0.0.0、エラー発生アドレス 0x0000140a</span>


<span class="quote1">&gt;  MySQL リファレンスマニュアル :: 3.2 クエリの入力</span>
<span class="quote1">&gt; <a href="http://dev.mysql.com/doc/mysql/ja/entering-queries.html">http://dev.mysql.com/doc/mysql/ja/entering-queries.html</a></span>
<span class="quote1">&gt; …辺りの説明を読むのがよろしいかと。</span>

さっそく参照させていただきました。
「うっかり引用符を入力し忘れたことに気付かされる場合がほとんどです」
とありますが、以下に書きますように、どうもダメみたいなんです…
といいますのは、

<span class="quote1">&gt; 閉じる方の「'」の入力漏れとか、「\'」となってて無効になっているとかだ</span>
<span class="quote1">&gt; と思います。</span>

まず、NGな部分に、「'」の入力漏れはありませんでした。「\'」となっている
ところは（文字列として検索してみた限り）見つかりませんでした。

実際に問題となっているSQL文の一例は下記です。全角/半角が違わない範囲で伏
字にしてありますが、これでも確実に '\c しなければならない状態になります。
何か一字消すだけでもinsert できるようになったりならなかったりもするので
すが　('')内に何らか記述の誤りがあるのでしょうか・・・

insert into t_url(fullpass)values('\\\\aaaa-1\\aaaaaaa\\あああああ\\ああああああ\\AAああ\\あああああああああああああ　2002.7\\あああああ\\あああＮAA・AAあああ\\あああああ発表資料−平成13年1月1日−あああああああああああああああああああああああああああああああああああああああ（あ.htm');

よろしくお願い致します。



--
naya,
SNA02388@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="10996">[前]</a><a href="10998">[次]</a><a href="../list/10901-11000">[番号順一覧]</a><a href="../thread/10901-11000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10992">  10992 2005-02-15 13:58 [naya &lt;SNA02388@xxxxx] 大量にinsertするとブルースクリーンになる</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10995">  10995 2005-02-15 15:30 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="10997">  10997 2005-02-15 17:34 ┃┗[naya &lt;SNA02388@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10998">  10998 2005-02-15 19:09 ┃　┗[川合孝典 &lt;gcd00051@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10999">  10999 2005-02-15 22:00 ┃　　┣[Kikuo Taniguchi &lt;ki-]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11000">  11000 2005-02-15 22:16 ┃　　┃┣[Kikuo Taniguchi &lt;ki-]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11002">  11002 2005-02-15 23:46 ┃　　┃┗[naya &lt;SNA02388@xxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11003">  11003 2005-02-16 05:47 ┃　　┃　┗[Daiju &lt;d.is.here@xxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11001">  11001 2005-02-15 23:42 ┃　　┗[naya &lt;SNA02388@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11005">  11005 2005-02-16 08:19 ┃　　　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11007">  11007 2005-02-16 13:06 ┃　　　　┗[naya &lt;SNA02388@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11008">  11008 2005-02-16 13:20 ┃　　　　　┗[Daiju &lt;d.is.here@xxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10996">  10996 2005-02-15 16:34 ┣[Daiju &lt;d.is.here@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11006">  11006 2005-02-16 12:38 ┣[bon &lt;bon@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11025">  11025 2005-02-21 13:04 ┗[naya &lt;SNA02388@xxxxx] 【御礼】 Re: 大量にinsertするとブルースクリーンになる</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11027">  11027 2005-02-21 14:13 　┗[sheep &lt;sheep@xxxxxxx] Re: Windowsのタスクによる任意間隔の実行</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11028">  11028 2005-02-21 14:59 　　┗[naya &lt;SNA02388@xxxxx] （御礼）Re: Windowsのタスクによる任意間隔の実行</a></span>
</pre>
</body>
</html>
