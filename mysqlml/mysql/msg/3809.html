<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3809</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3808.html">[前]</a><a href="3810.html">[次]</a><a href="../list/3801-3900.html">[番号順一覧]</a><a href="../thread/3801-3900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3809
</p>
<div class="header">
<p>
From: &quot;Toshihide Ono&quot; &lt;&quot;Toshihide Ono&quot; &lt;tosh@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 23 Jun 2001 12:25:50 +0900<br>
Subject: [mysql 03809] RE:  「締切まであと何日と何時間」と表示するには ?<br>

</p>
</div>
<div class="body">
<pre>
モエルさん、ご回答どうもありがとうございます。
<span class="quote2">&gt;&gt;mysql&gt; select DATE_SUB(CURDATE(),INTERVAL TO_DAYS('1967-1-1') DAY);</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;というように日数を表示する方法があったのですが、</span>
<span class="quote2">&gt;&gt;マニュアルによるとDATE_SUB関数で日数と時間までは</span>
<span class="quote2">&gt;&gt;同時に算出できないようです。</span>


<span class="quote1">&gt;ぼくの場合、日時は、UNIX_TIMESTAMPで管理しているので</span>

<span class="quote1">&gt;データ登録時にUNIX_TIMESTAMPで終了時間を作成して</span>

<span class="quote1">&gt;SELECT end - UNIX_TIMESTAMP() timeleft</span>
<span class="quote1">&gt;ってやって、ＰＨＰで計算させてます。</span>

なるほど！私の場合endsフィールドをDATETIME型で登録してた
ため、なかなか上記の方法が思いつかなかったです。
さっそく教えていただいた方法でうまくいきました。ありがとう
ございました。

とみたさんご回答ありがとうございます。

<span class="quote1">&gt;MySQL ですべてを行なう一例です。</span>
<span class="quote1">&gt;現時刻から 2001-12-31 00:00:00 までの日数と時間＆分を表示したい場合。</span>

<span class="quote1">&gt;set @a=unix_timestamp(&quot;2001-12-31 00:00:00&quot;)-unix_timestamp();</span>
<span class="quote1">&gt;select floor(@a/(60*60*24)) as day, time_format(sec_to_time(@a%(60*60*24)),</span>
&quot;%H:%i&quot;) as time;
<span class="quote1">&gt;+------+-------+</span>
<span class="quote2">&gt;| day  | time  |</span>
<span class="quote1">&gt;+------+-------+</span>
<span class="quote2">&gt;|  191 | 23:03 |</span>
<span class="quote1">&gt;+------+-------+</span>

<span class="quote1">&gt;# もっと簡単な方法があるかも…。</span>

いやいや．．．SQLでやるのは無理なのかな？と思い始め
てたので、正直びっくりしました。これでやっと先に進めます。

ご回答いただいたお二方、本当にありがとうございました。

---------------------------------
Toshihide Ono  tosh@xxxxxxxxxx
---------------------------------





</pre>
</div>
<p class="button"><a href="3808.html">[前]</a><a href="3810.html">[次]</a><a href="../list/3801-3900.html">[番号順一覧]</a><a href="../thread/3801-3900.html">[スレッド一覧]</a></p>
</body>
</html>
