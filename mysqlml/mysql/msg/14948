<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14948</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14947">[前]</a><a href="14949">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<p class="id">
mysql:14948
</p>
<div class="header">
<p>
From: c-atwork &lt;c-atwork &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 06 Jul 2009 06:34:54 +0900<br>
Subject: [mysql 14948] Re: セッション管理<br>

</p>
</div>
<div class="body">
<pre>
MLが違いますが、いくつかポイントを

register_globals がoffだとこの関数（session_register()）は機能しません。
また、session_register() は古い関数であり非推奨です。今後削除される予定
です。

$_SESSION[] を使うことをお勧めします。
phpのMLにでも続きは質問されると良いと思います。

<span class="quote1">&gt; 2回目の質問です。</span>
<span class="quote1">&gt; 前回の質問後、皆様のアドバイスを参考にＰｈｐ。ＭｙＳＱＬ学習を開始しまし </span>
<span class="quote1">&gt; た。</span>
<span class="quote1">&gt; まずログインを学習しおうと思い、セッション管理をやっております。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＜ログインプログラム＞</span>
<span class="quote1">&gt; //セッション初期化</span>
<span class="quote1">&gt; session_start();</span>
<span class="quote1">&gt; session_destroy();</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; その後、ＩＤ／ＰＷからＭｙＳＱＬのテーブルから該当レコードをとりだし</span>
<span class="quote1">&gt; 名前を取得　ＩＤ・ＰＷ・名前の3項目をセッション変数として定義しました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; //配列から名前をとりだす。</span>
<span class="quote1">&gt; $N_NAME=$col[&quot;N_NAME&quot;];</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; if (mysql_num_rows($rst)==1) {</span>
<span class="quote1">&gt; //ログイン成功</span>
<span class="quote1">&gt; //セッションを開始します。初期化でオープン済み</span>
<span class="quote1">&gt; //session_start();</span>
<span class="quote1">&gt; //セッション変数を定義します。ＩＤ・ＰＷと名前</span>
<span class="quote1">&gt; if (!session_is_registered(&quot;ssloginid&quot;)) {</span>
<span class="quote1">&gt;      session_register(&quot;ssloginid&quot;);</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; if (!session_is_registered(&quot;ssloginpass&quot;)) {</span>
<span class="quote1">&gt;      session_register(&quot;ssloginpass&quot;);</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; if (!session_is_registered(&quot;ssloginname&quot;)) {</span>
<span class="quote1">&gt;      session_register(&quot;ssloginname&quot;);</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; //フォームの入力値・テーブルからの取得値をセッション変数に代入します。 </span>
<span class="quote1">&gt; ID/PWと名前</span>
<span class="quote1">&gt; $ssloginid = $userid;</span>
<span class="quote1">&gt; $ssloginpass = $password;</span>
<span class="quote1">&gt; $ssloginname = $N_NAME;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 次に他のページ（プログラム）でセッション変数を参照しようと思い</span>
<span class="quote1">&gt; ＨＴＭＬの最初で下記のスクリプトをいれたのですが、何も表示しません。</span>
<span class="quote1">&gt; &lt;?php</span>
<span class="quote1">&gt; //セッションを開始します。</span>
<span class="quote1">&gt; session_start();</span>
<span class="quote1">&gt; print $ssloginid.&quot;&lt;BR&gt;&quot;;</span>
<span class="quote1">&gt; print $ssloginpass.&quot;&lt;BR&gt;&quot;;</span>
<span class="quote1">&gt; print $ssloginname.&quot;&lt;BR&gt;&quot;;</span>
<span class="quote1">&gt; ?&gt;</span>
<span class="quote1">&gt; ログインプログラムのセッション変数の設定の間違い部分、どなたか</span>
<span class="quote1">&gt; ご指摘願えれば幸いです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; よろしくお願いいたします。　　　　　　　　　　　柴田和義</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>

</pre>
</div>
<p class="button"><a href="14947">[前]</a><a href="14949">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14945">  14945 2009-07-05 16:41 [&lt;apacheuser@xxxxxxxx] Apache+MySQLとXAMPPの環境の違い         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14946">  14946 2009-07-05 23:35 ┣[&quot;Kazuyoshi Shibata&quot; ] セッション管理                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14947">  14947 2009-07-06 01:16 ┃┣[Masaaki Matsuyama &lt;m]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="14948">  14948 2009-07-06 06:34 ┃┗[c-atwork &lt;ml@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14949">  14949 2009-07-06 13:13 ┗[あきら &lt;akirainfoml@]                                       </a></span>
</pre>
</body>
</html>
