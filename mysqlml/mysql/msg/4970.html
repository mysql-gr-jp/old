<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4970</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="4969.html">[前]</a><a href="4971.html">[次]</a><a href="../list/4901-5000.html">[番号順一覧]</a><a href="../thread/4901-5000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4970
</p>
<div class="header">
<p>
From: Youhei Hayakawa &lt;Youhei Hayakawa &lt;hayakawayuh@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 18 Jan 2002 13:52:53 +0900<br>
Subject: [mysql 04970] Re: 数値型の扱いについて<br>

</p>
</div>
<div class="body">
<pre>
皆様ご回答ありがとうございます
早川です

<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt;$sql = &quot;select * from table&quot;;</span>
<span class="quote2">&gt; &gt;$sql .= &quot;where hoge = '$i'&quot;;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;の様に、$i を '' で囲ってしまうとエラーが出なくなるので</span>
<span class="quote2">&gt; &gt;すが、ホントにこれで良いのかと不安に思っています。</span>
<span class="quote2">&gt; &gt;これは対応として mysql 的に正しいのでしょうか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  整数型に対してNULL値で検索したい場合は、SQL的に &quot;is NULL&quot; を使う</span>
<span class="quote1">&gt; のが正しいのではないでしょうか。つまり$iの値によりSQL文を切り替える</span>
<span class="quote1">&gt; 必要があると思います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; if (defined($i)) {</span>
<span class="quote1">&gt;     $sql = &quot;select * from table&quot;;</span>
<span class="quote1">&gt;     $sql .= &quot;where hoge = $i&quot;;</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; else {</span>
<span class="quote1">&gt;     $sql = &quot;select * from table&quot;;</span>
<span class="quote1">&gt;     $sql .= &quot;where hoge is NULL&quot;;</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; </span>


崎村さんのおっしゃるように、
『条件分岐して&quot;is NULL&quot;を使う』
のが sql 的には正しいが、
『$i が NULL の場合には sql を流す必要が無い』
という時には、小岩さんのおっしゃられている方法を
『hoge列に &quot;値0&quot; が存在しない場合』
には楊さんのおっしゃられている手段もあるということと理解させて頂き、
状況によって使い分けさせて頂きたいと思います。

皆様どうもありがとうございました。





</pre>
</div>
<p class="button"><a href="4969.html">[前]</a><a href="4971.html">[次]</a><a href="../list/4901-5000.html">[番号順一覧]</a><a href="../thread/4901-5000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4958.html">   4958 2002-01-18 11:38 [Youhei Hayakawa &lt;hay] 数値型の扱いについて                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4959.html">   4959 2002-01-18 11:44 ┣[&quot;Ningfeng Yang&quot; &lt;yan]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4960.html">   4960 2002-01-18 11:51 ┣[Satoshi Koiwa &lt;koiwa]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4961.html">   4961 2002-01-18 12:10 ┣[Noriyuki Sakimura &lt;s]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4970.html">   4970 2002-01-18 13:52 ┃┗[Youhei Hayakawa &lt;hay]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4969.html">   4969 2002-01-18 13:44 ┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
</pre>
</body>
</html>
