<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15412</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="15411.html">[前]</a><a href="15413.html">[次]</a><a href="../list/15401-15500.html">[番号順一覧]</a><a href="../thread/15401-15500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15412
</p>
<div class="header">
<p>
From: nakade &lt;nakade &lt;nakade@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 5 Oct 2010 19:28:08 +0900<br>
Subject: [mysql 15412] not in句がうまく動かない。<br>

</p>
</div>
<div class="body">
<pre>なかでと申します。

以下のようなテーブルがあったとします。

CREATE TABLE IF NOT EXISTS `usrs` (
  `id` bigint(20) unsigned NOT NULL auto_increment,
  `name` varchar(255) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;


INSERT INTO `usrs` (`id`, `name`) VALUES(1, 'ほげ');
INSERT INTO `usrs` (`id`, `name`) VALUES(2, 'ふご');

このとき、idフィールドが偶数のデータを取り出したくて

SELECT * FROM `usrs` WHERE id % 2 not in (1);

のようなSQLを発行したのですが、「返り値が空でした(行数0)」のような
表示がされます。なお、

SELECT * FROM `usrs` WHERE id % 2 in (0);
SELECT * FROM `usrs` WHERE id % 2 != 1;

のようにすると取り出すことができます。

確認したmysqlのバージョンは4.0.27でした。
なお、5.0.22では、この問題はありませんでした。

で、教えていただきたいのですが、これは、4.0.27に限った問題なのでしょうか？
それとも4系の問題なのでしょうか？

あるいは、 not in の使い方やテーブルの仕様などに問題があるのでしょうか？


以上、教えていただければ幸いです。

では、失礼します。

</pre>
</div>
<p class="button"><a href="15411.html">[前]</a><a href="15413.html">[次]</a><a href="../list/15401-15500.html">[番号順一覧]</a><a href="../thread/15401-15500.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="15412.html">  15412 2010-10-05 19:28 [nakade &lt;nakade@xxxxx] not in句がうまく動かない。              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15413.html">  15413 2010-10-06 11:07 ┗[nakade &lt;nakade@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15414.html">  15414 2010-10-06 13:25 　┗[Meiji KIMURA &lt;meiji.]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15415.html">  15415 2010-10-06 13:55 　　┗[nakade &lt;nakade@xxxxx]                                   </a></span>
</pre>


</body></html>