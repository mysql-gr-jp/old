<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10237</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10236.html">[前]</a><a href="10238.html">[次]</a><a href="../list/10201-10300.html">[番号順一覧]</a><a href="../thread/10201-10300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10237
</p>
<div class="header">
<p>
From: OHTSUKA Ko-hei &lt;OHTSUKA Ko-hei &lt;techml@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 28 Sep 2004 16:04:16 +0900<br>
Subject: [mysql 10237] phpMySQLでUJISが文字化け<br>

</p>
</div>
<div class="body">
<pre>大塚と申します。
お世話になります。
PHPの問題かmysqlの問題か判らないのですが、質問させてください。

SuSE Linux 9.1
Apache 2.0.50
PHP 5.0.1
MySQL 4.1.4-gamma
phpMyAdmin 2.5.7-pl1
で新しいサーバを準備しようとしています。

旧サーバからEUC-JPで吐き出したデータをmysql命令で流しこんで
いるのですが、phpMyAdminで表示すると全て???の文字化けになって
しまいます。
MySQL側はmysql、mysqld、mysqldump全てデフォルト文字セットを
ujisに設定しており、また一旦流しこんだデータをmysqldumpで吐き
出しても、文字化けしていないデータが戻ってくるので、どうも
格納は化けずにされているものの、表示がおかしくなっているよう
なのです。

文字コード絡みそうなmysqlのシステム変数(といっても意味は判って
ないのですが)をチェックしてみると、
　　　　　　　　　　　　　セッション値　　　　グローバル値
character set client　　　latin1　　　　　　　ujis
character set connection　latin1　　　　　　　ujis
character set database　　ujis　　　　　　　　ujis
character set results　　 latin1　　　　　　　ujis
character set server　　　ujis　　　　　　　　ujis
character set system　　　utf8　　　　　　　　utf8
collation connection　　　latin1_swedish_ci 　ujis_japanese_ci
collation database　　　　ujis_japanese_ci　　ujis_japanese_ci
collation server　　　　　ujis_japanese_ci　　ujis_japanese_ci
という項目が、それぞれグローバル値とセッション値という2種類あって、
character set system項目が両方でutf8になっている他はグローバル
値の方は全項目ujisになっているのですが、セッション値は4つの項目で
何故かlatin1になってしまっているのです。

詳細は勉強不足で判らないのですが、どうもこれが原因なのかなあと
思っているのですが、これらの値を修正するにはどこを直せばいいのか
よく判りません。

詳しい方、教えていただければ幸いです。
どうぞよろしくお願いいたします。

</pre>
</div>
<p class="button"><a href="10236.html">[前]</a><a href="10238.html">[次]</a><a href="../list/10201-10300.html">[番号順一覧]</a><a href="../thread/10201-10300.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="10237.html">  10237 2004-09-28 16:04 [OHTSUKA Ko-hei &lt;tech] phpMySQLでUJISが文字化け                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10238.html">  10238 2004-09-28 19:02 ┗[OHTSUKA Ko-hei &lt;tech]                                       </a></span>
</pre>


</body></html>