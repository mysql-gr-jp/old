<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13244</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="13243.html">[前]</a><a href="13245.html">[次]</a><a href="../list/13201-13300.html">[番号順一覧]</a><a href="../thread/13201-13300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13244
</p>
<div class="header">
<p>
From: &lt;ska_king2005@xxxxxxxxxx&gt;<br>
Date: Tue, 15 Aug 2006 10:06:44 +0900 (JST)<br>
Subject: [mysql 13244] Re: FEDERATED ストレージ・エンジンでの日本語取り扱い<br>

</p>
</div>
<div class="body">
<pre>
ska kingです。

<span class="quote1">&gt;TO 池田さん</span>
バグレポート見てませんでした。
英語がわからず、、、さらにC言語がわからず、、、すいませ
ん（爆）

接続や再接続に関わらず、「skip-character-set-client-handshake
」を指定すると、
クライアントの文字コードが、サーバ側の「character_set_server
」の値で
上書きされるものだと思っていました。
内部的な動きはわかっていませんが。。。

FEDERATEDを使用したときの文字コード決定フローは、mysqlク
ライアントと同じ流れなんでしょうかね。

--- Tetsuro IKEDA &lt;ikdttr@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; 池田です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;</span>
バグレポートでも書いていますが、skip-character-set-client-handshake
を
<span class="quote1">&gt; 使った場合でも、init-connectの場合と同じで、コネクショ</span>
ン切断時に
<span class="quote1">&gt; libmysql/client.cのmysql_real_query関数により発行され</span>
る、
<span class="quote1">&gt; &quot;SET NAMES latin1&quot;により文字化けが起こります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; そこで、latin1</span>
<span class="quote1">&gt; (compile時指定パラメータ）の代わりに、テーブルオプショ</span>
ンの
<span class="quote1">&gt; default</span>
<span class="quote1">&gt; charsetの値を使用するようなpatchを作ったのですが、ABの</span>
反応が
<span class="quote1">&gt; まだありません（笑</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 06/08/14 に</span>
<span class="quote1">&gt; ska_king2005@xxxxxxxxxx&lt;ska_king2005@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; さんは書きました:</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; ska kingです。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; マスタサーバのmy.iniファイルの「mysqld」セクションに、</span>
「skip-character-set-client-handshake」
<span class="quote2">&gt; &gt;  を追加してはどうでしょうか？</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote1">&gt; これで、クライアントサーバが接続する時に、半強制的にマ</span>
スタサーバの文字コードにすることができそう
<span class="quote2">&gt; &gt;  な気がします。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; FEDERATEDストレージエンジンは使用したことがないので、</span>
なんとも言えないのですが。。。
<span class="quote2">&gt; &gt;  もう、解決済みでしょうか？？？</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; --</span>
<span class="quote2">&gt; &gt; skaking &lt;ska_king2005@xxxxxxxxxx&gt;</span>
<span class="quote2">&gt; &gt; DB:MySQL5.0.19, OS:WinXPProSP2</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;  ________________________________</span>
<span class="quote2">&gt; &gt; Let's start Yahoo! Auction - Free Campaign Now!</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


--
skaking &lt;ska_king2005@xxxxxxxxxx&gt;
DB:MySQL5.0.19, OS:WinXPProSP2

--------------------------------------
Let's start Yahoo! Auction  -  Free Campaign Now!
<a href="http://pr.mail.yahoo.co.jp/auction/">http://pr.mail.yahoo.co.jp/auction/</a>

</pre>
</div>
<p class="button"><a href="13243.html">[前]</a><a href="13245.html">[次]</a><a href="../list/13201-13300.html">[番号順一覧]</a><a href="../thread/13201-13300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13235.html">  13235 2006-08-10 22:41 [tateyan &lt;tateyan@xxx] FEDERATEDストレージ・エンジンでの日本語取り扱い</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13236.html">  13236 2006-08-10 22:57 ┗[&quot;Tetsuro IKEDA&quot; &lt;ikd]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13237.html">  13237 2006-08-10 23:22 　┗[&quot;Tetsuro IKEDA&quot; &lt;ikd]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13238.html">  13238 2006-08-11 01:12 　　┗[&quot;Tetsuro IKEDA&quot; &lt;ikd]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13239.html">  13239 2006-08-11 22:39 　　　┗[Tetsuro IKEDA &lt;te.ik]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13240.html">  13240 2006-08-11 22:57 　　　　┗[tateyan &lt;tateyan@xxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13242.html">@ 13242 2006-08-14 17:39 　　　　　┗[&lt;ska_king2005@xxxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13243.html">  13243 2006-08-14 18:04 　　　　　　┗[&quot;Tetsuro IKEDA&quot; &lt;ikd]                           </a></span>
<span class="current">-&gt;&nbsp;<a href="13244.html">  13244 2006-08-15 10:06 　　　　　　　┗[&lt;ska_king2005@xxxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13245.html">  13245 2006-08-15 12:25 　　　　　　　　┗[Tetsuro IKEDA &lt;te.ik]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13246.html">  13246 2006-08-15 16:31 　　　　　　　　　┗[&lt;ska_king2005@xxxxxx]                     </a></span>
</pre>
</body>
</html>
