<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4803</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4802.html">[前]</a><a href="4804.html">[次]</a><a href="../list/4801-4900.html">[番号順一覧]</a><a href="../thread/4801-4900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4803
</p>
<div class="header">
<p>
From: &lt;office@xxxxxxxxxx&gt;<br>
Date: Sun, 09 Dec 2001 10:39:41 +0900<br>
Subject: [mysql 04803] Re: WHERE 節の内容によって検索時間が大きく違います<br>

</p>
</div>
<div class="body">
<pre>Takeharu Masudaさんレスありがとうございます。

<span class="quote1">&gt;　ん？ k_id って、int ですよね。なんで文字列で比較するんです？</span>
そうでした。すみません。

さっきためしにインッディックを
ALTER TABLE DB1.kansou_tb ADD INDEX(dkey,k_flag,k_id);
と追加してみたら

 SELECT * FROM DB1.kansou_tb
 where (dkey='1000')&amp;&amp;(k_flag='1')&amp;&amp;(k_id &gt;300000)
 order by k_id desc limit 0,5 

5 rows in set (0.01 sec)
ってな感じで脅威的に速くなりました。

<span class="quote2">&gt; &gt; SELECT * FROM DB1.kansou_tb where (dkey='1000')&amp;&amp;(k_flag='1')&amp;&amp;(k_id &lt;'358032')</span>
<span class="quote2">&gt; &gt; order by k_id desc limit 0,5 ;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; を、</span>
<span class="quote1">&gt; 　SELECT * FROM DB1.kansou_tb</span>
<span class="quote1">&gt;     where (k_id &lt; 358032)&amp;&amp;(k_flag='1')&amp;&amp;(dkey='1000')</span>
<span class="quote1">&gt;     order by k_id desc limit 0,5;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; と（順番を入れ換えたら）どうでしょう。</span>
先のようにインディックスをつけたら変わりはなかったのですが、
順番によってかわるものなんでしょうか？

いまいちインディックスってわからないです（汗。


　　_/_/_/　　　　たけ＠J-SKY研究所　　　　 _/_/_/ 
　_/_/_/  J-PHONEの着メロが10000曲以上！　 _/_/_/
 _/_/_/ 　　URL:<a href="http://www.j-ken.com">http://www.j-ken.com</a>　　 _/_/_/ 
_/_/_/ 　　mailto:take@xxxxxxxxxx 　　　 _/_/_/ 


</pre>
</div>
<p class="button"><a href="4802.html">[前]</a><a href="4804.html">[次]</a><a href="../list/4801-4900.html">[番号順一覧]</a><a href="../thread/4801-4900.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="4801.html">   4801 2001-12-09 00:43 [&lt;office@xxxxxxxxxx&gt; ] WHERE 節の内容によって検索時間が大きく違います</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4802.html">   4802 2001-12-09 10:11 ┣[Takeharu Masuda &lt;tac]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4803.html">   4803 2001-12-09 10:39 ┗[&lt;office@xxxxxxxxxx&gt; ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4804.html">   4804 2001-12-09 21:10 　┣[Takeharu Masuda &lt;tac]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4805.html">   4805 2001-12-10 00:29 　┃┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4807.html">   4807 2001-12-10 08:40 　┃　┗[Takeharu Masuda &lt;tac]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4806.html">   4806 2001-12-10 00:40 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4808.html">   4808 2001-12-12 02:24 　　┗[&lt;office@xxxxxxxxxx&gt; ]                                   </a></span>
</pre>


</body></html>