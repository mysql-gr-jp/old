<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8492</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="8491.html">[前]</a><a href="8493.html">[次]</a><a href="../list/8401-8500.html">[番号順一覧]</a><a href="../thread/8401-8500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8492
</p>
<div class="header">
<p>
From: takuma watanabe &lt;takuma watanabe &lt;takuma@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 16 Dec 2003 10:01:10 +0900<br>
Subject: [mysql 08492] Delphi+Mysql で Jpeg を登録<br>

</p>
</div>
<div class="body">
<pre>
こんにちは。渡辺です。
また質問させていただきます。

MySQL3.23+MyODBC2.50.29(MySQL-SJIS)を使用してDelphi5 Enterprise(BDE5.01)
でシステムを構築しております。
今回Mysqlで初めて画像を扱いまして、なんとか保存〜表示まではできましたが
一つ問題が・・・。
BLOBフィールドにJpegの写真を登録したいのですが、約2500レコードにそれぞれ
100KB前後のJpegを登録すると、データを参照する際に時間がかかってしまいま
す。（Pentium1GHz、メモリ512MBのWin2kですが1分以上かかる状態です）

Delphiのテーブルコンポーネントで参照しているので、多少は時間がかかる事も
わかるのですが、SQL文でBLOBフィールドを除いて引っ張って来ても時間がかか
ります。インデックス付きの項目だけなら早いんですけどね。

登録の際に画像サイズを小さくしたり（1000×1400ピクセルくらいとか、結構で
かいですｗ）する事はできないでしょうか？
TJpegImageなどDelphiのヘルプは見てみたのですが、上手く使えそうな部分が見
あたりませんでした。
普通はたかだか2500レコード＋画像で遅くなる状況も何かあるのかな？とも思い
ますんで・・・こちらも何かご存じの方がいたら教えていただきたく存じます。

ちなみに・・・特に画質にこだわる等はありません・・・が、
CompressionQualityを使って圧縮率を上げすぎると、人がゾンビ状態になってし
まって、さすがにこれでは・・・という感じですｗ


画像の登録関連で色々行っている方、大変お手数とは存じますが、何かアドバイ
スをお願い致します。


※テーブル構造
CREATE TABLE USER (
	USERID VARCHAR(10) BINARY NOT NULL,
	USER_KIND SMALLINT,
	USERNAME VARCHAR(30) BINARY,
	YOMI VARCHAR(30) BINARY,
	INPUTDATE DATE,
	NOTE TEXT,
	JPIMAGE LONGBLOB,
	PRIMARY KEY (USERID) 
)

JPIMAGEにJpegを登録しています。




渡辺



</pre>
</div>
<p class="button"><a href="8491.html">[前]</a><a href="8493.html">[次]</a><a href="../list/8401-8500.html">[番号順一覧]</a><a href="../thread/8401-8500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8470.html">   8470 2003-12-10 19:10 [takuma watanabe &lt;tak] MyODBC の DLL でモジュール違反          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8484.html">   8484 2003-12-12 13:43 ┣[takuma watanabe &lt;tak]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="8492.html">   8492 2003-12-16 10:01 ┗[takuma watanabe &lt;tak] Delphi+Mysql で Jpeg を登録           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8493.html">   8493 2003-12-16 10:12 　┣[遠藤 俊裕 &lt;endo_t@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8494.html">   8494 2003-12-16 10:28 　┃┗[takuma watanabe &lt;tak]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8495.html">   8495 2003-12-16 10:35 　┃　┗[遠藤 俊裕 &lt;endo_t@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8497.html">   8497 2003-12-16 11:25 　┃　　┗[Ito Takahiro &lt;taka@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8498.html">   8498 2003-12-16 12:00 　┃　　　┗[takuma watanabe &lt;tak]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8499.html">   8499 2003-12-16 12:25 　┃　　　　┗[遠藤 俊裕 &lt;endo_t@xx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8496.html">   8496 2003-12-16 11:13 　┣[&quot;TAKAHASHI, Tomohiro]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8500.html">   8500 2003-12-16 15:12 　┣[&quot;TAKAHASHI, Tomohiro]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8501.html">   8501 2003-12-16 16:12 　┃┗[takuma watanabe &lt;tak]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8503.html">   8503 2003-12-16 16:23 　┃　┗[遠藤 俊裕 &lt;endo_t@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8512.html">   8512 2003-12-16 22:03 　┃　　┗[&quot;TAKAHASHI, Tomohiro]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8517.html">   8517 2003-12-17 10:33 　┃　　　┗[遠藤 俊裕 &lt;endo_t@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8502.html">   8502 2003-12-16 16:17 　┗[take_tk &lt;CQK01016@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8504.html">   8504 2003-12-16 16:25 　　┣[遠藤 俊裕 &lt;endo_t@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8505.html">   8505 2003-12-16 16:36 　　┗[takuma watanabe &lt;tak]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8506.html">   8506 2003-12-16 18:50 　　　┣[take_tk &lt;CQK01016@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8507.html">   8507 2003-12-16 19:01 　　　┃┗[takuma watanabe &lt;tak]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8510.html">   8510 2003-12-16 21:08 　　　┃　┗[take_tk &lt;CQK01016@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8511.html">   8511 2003-12-16 21:30 　　　┃　　┗[takuma watanabe &lt;tak]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8513.html">   8513 2003-12-16 22:04 　　　┗[&quot;TAKAHASHI, Tomohiro]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8514.html">   8514 2003-12-16 22:14 　　　　┗[takuma watanabe &lt;tak]                               </a></span>
</pre>
</body>
</html>
