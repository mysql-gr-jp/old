<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11664</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11663.html">[前]</a><a href="11665.html">[次]</a><a href="../list/11601-11700.html">[番号順一覧]</a><a href="../thread/11601-11700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11664
</p>
<div class="header">
<p>
From: Takanori Jokura &lt;Takanori Jokura &lt;jo@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 30 Jun 2005 12:21:34 +0900<br>
Subject: [mysql 11664] 4.1.x から 4.1.12以降へのバージョンアップ時の機種依存文字の文字化けについて<br>

</p>
</div>
<div class="body">
<pre>
城です。

昔のひろせさんの
<a href="http://myna2.mysql.gr.jp/mysqlml/mysql/msg/9694">http://myna2.mysql.gr.jp/mysqlml/mysql/msg/9694</a>
に関連することなんですが

mysqld 4.1.1以降、
テーブル作成の際に自動的に DEFAULT CHARSETを指定しない場合、
DEFAULT CHARSET=my.cnf(my.ini)の[mysqld]で設定したcharsetが使われます。

4.1.1以降4.1.12未満でsjisで運用していて、
テーブルファイルをそのまま使用し、バージョンアップすると、
4.1.12のsjisが使われるため、機種依存文字や〜がインサート時に解析できず化
けます。

これを解決するにはテーブルのエンコーディングをcp932に変更します。

alter table `table_name` default charset=cp932

この際、私のテストでは以前からあったデータの機種依存文字はきちんと生きて
いました。
が、念のためバックアップを取ってから実行してください。

城
jo@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="11663.html">[前]</a><a href="11665.html">[次]</a><a href="../list/11601-11700.html">[番号順一覧]</a><a href="../thread/11601-11700.html">[スレッド一覧]</a></p>
</body>
</html>
