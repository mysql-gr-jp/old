<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9864</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="9863.html">[前]</a><a href="9865.html">[次]</a><a href="../list/9801-9900.html">[番号順一覧]</a><a href="../thread/9801-9900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:9864
</p>
<div class="header">
<p>
From: &lt;shuichi@xxxxxxxxxx&gt;<br>
Date: Wed, 14 Jul 2004 19:37:50 -0700<br>
Subject: [mysql 09864] Re: set,enumの文字について<br>

</p>
</div>
<div class="body">
<pre>
玉川です。

<span class="quote1">&gt; 現在こちらの環境がレンタルサーバになっていまして詳しいOSの状況などは会社</span>
<span class="quote1">&gt; に確認中です。</span>

レンタルサーバーだったんですね。

サーバーのキャラクタセットをujisに変えてみたら
私の環境でも再現できました。

どうやら、サーバーのキャラクタセットがujisの時には
必要な「5c」が抜け落ちて、sjisの時には必要のない
「5c」が追加されるという動きをしている感じですね。
バグシステムの方に登録してみます。
 
<span class="quote1">&gt; ５Cが追加されるとの事でしたが、今回気づかれたのでしょうか？</span>

はい。

回避方法としては下記の方法ぐらいしか
思いつかないのですが、誰か他の案はありますでしょうか。
 
<span class="quote1">&gt; 文字化け時の登録方法。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt;CREATE TABLE `test_tbl` (</span>
<span class="quote1">&gt;   `no` int(11) NOT NULL auto_increment,</span>
<span class="quote1">&gt;   `t_enum` enum('1','2','3','ソ\フト') NOT NULL default '1',</span>
<span class="quote1">&gt;   `t_set` set('1','2','3') NOT NULL default '',</span>
<span class="quote1">&gt;   `varchar` varchar(10) NOT NULL default '',</span>
<span class="quote1">&gt;   PRIMARY KEY  (`no`)</span>
<span class="quote1">&gt; ) TYPE=MyISAM AUTO_INCREMENT=4 ;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Query OK, 0 rows affected (0.03 sec)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 文字化け回避時の登録方法</span>
<span class="quote1">&gt; mysql&gt;INSERT INTO `test_tbl` VALUES (3, 'ソ\フト', '', 'ソ\フト');</span>
<span class="quote1">&gt; Query OK, 1 row affected (0.00 sec)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt;select * from test_tbl;</span>
<span class="quote1">&gt; +----+--------+-------+---------+</span>
<span class="quote2">&gt; | no | t_enum | t_set | varchar |</span>
<span class="quote1">&gt; +----+--------+-------+---------+</span>
<span class="quote2">&gt; |  3 | ソフト |       | ソフト  |</span>
<span class="quote1">&gt; +----+--------+-------+---------+</span>
<span class="quote1">&gt; 1 row in set (0.00 sec)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  select version();</span>
<span class="quote1">&gt; +---------------------+</span>
<span class="quote2">&gt; | version()           |</span>
<span class="quote1">&gt; +---------------------+</span>
<span class="quote2">&gt; | 4.0.18-standard-log |</span>
<span class="quote1">&gt; +---------------------+</span>
<span class="quote1">&gt; 1 row in set (0.00 sec)</span>

</pre>
</div>
<p class="button"><a href="9863.html">[前]</a><a href="9865.html">[次]</a><a href="../list/9801-9900.html">[番号順一覧]</a><a href="../thread/9801-9900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="9833.html">   9833 2004-07-13 09:42 [Hiro Aoki &lt;h-aoki@xx] set,enumの文字方について                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9838.html">   9838 2004-07-13 12:49 ┗[Shuichi Tamagawa &lt;sh]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9844.html">   9844 2004-07-13 19:13 　┗[hiroaki aoki &lt;h-aoki]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9846.html">   9846 2004-07-14 07:50 　　┗[&lt;shuichi@xxxxxxxxxx&gt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9861.html">   9861 2004-07-15 09:41 　　　┗[hiroaki aoki &lt;h-aoki] Re: set,enumの文字について      </a></span>
<span class="current">-&gt;&nbsp;<a href="9864.html">   9864 2004-07-15 11:37 　　　　┗[&lt;shuichi@xxxxxxxxxx&gt;]                               </a></span>
</pre>
</body>
</html>
