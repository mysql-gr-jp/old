<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15713</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15712">[前]</a><a href="15714">[次]</a><a href="../list/15701-15800">[番号順一覧]</a><a href="../thread/15701-15800">[スレッド一覧]</a></p>
<p class="id">
mysql:15713
</p>
<div class="header">
<p>
From: 中川貴 &lt;中川貴 &lt;nora1962@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 30 Mar 2012 01:27:26 +0900<br>
Subject: [mysql 15713] Re: Left Join句を付けたUPDATE処理時間が非常に長くかかって<br>

</p>
</div>
<div class="body">
<pre>
(2012/03/29 17:58), ochiai wrote:
<span class="quote1">&gt; 中川様</span>
<span class="quote1">&gt; ありがとうございます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 実行結果は以下の通りとなりました。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; select_type table type possible_keys key key_len ref rows Extra</span>
<span class="quote1">&gt; SIMPLE table-a ALL NULL NULL NULL NULL 20万</span>
<span class="quote1">&gt; SIMPLE table-b index NULL Kb 63 NULL 14万 Usingindex</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ----- Original Message ----- From: &quot;中川 貴&quot; &lt;takashi.nakagawa@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; To: &lt;ml@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; Sent: Thursday, March 29, 2012 5:46 PM</span>
<span class="quote1">&gt; Subject: <a href="15709">[mysql 15709]</a> Re: Left Join句を付けたUPDATE処理時間が非常に長くかかって</span>
中川です。
帰宅しました。
自宅から返信します。
すでにレスされている方がいらっしゃいますが、現在の実行計画ではJOINにINDEXが使用されていません。
（USE INDEX 指定してもテーブルアクセスの際にINDEX経由であるだけで却って非効率）

table-bの行のrefがNULLになっているのが証拠です（本来ならtable-a.Kaになるべき）。
考えられるのは索引の作成方法が誤っているか、`table-a`.`Ka`と`table-b`.`kb｀の属性が違うことでしょうか。
平塚さんのおっしゃるとおりに「table-a」と「table-b」の「show create table」の結果を教えて下さい。
それではよろしくお願いします。



</pre>
</div>
<p class="button"><a href="15712">[前]</a><a href="15714">[次]</a><a href="../list/15701-15800">[番号順一覧]</a><a href="../thread/15701-15800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15703">  15703 2012-03-29 15:08 [&quot;ochiai&quot; &lt;s.ochiai@x] Left Join句を付けたUPDATE処理時間が非常に長くかかって</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15705">  15705 2012-03-29 16:56 ┣[中川 貴 &lt;takashi.nak]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15706">  15706 2012-03-29 17:01 ┗[中川 貴 &lt;takashi.nak]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15707">  15707 2012-03-29 17:12 　┗[中川 貴 &lt;takashi.nak]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15708">  15708 2012-03-29 17:42 　　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15709">  15709 2012-03-29 17:46 　　　┣[中川 貴 &lt;takashi.nak]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15711">  15711 2012-03-29 17:58 　　　┃┗[&quot;ochiai&quot; &lt;s.ochiai@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15712">  15712 2012-03-29 20:25 　　　┃　┣[HIRATSUKA Sadao &lt;hir]                             </a></span>
<span class="current">-&gt;&nbsp;<a href="15713">  15713 2012-03-30 01:27 　　　┃　┗[中川貴 &lt;nora1962@xxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15727">  15727 2012-04-11 17:03 　　　┃　　┗[&quot;ochiai&quot; &lt;s.ochiai@x] Re: Left Join句を付けたUPDATE処理時間が非常に長くかかって（長文）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15728">  15728 2012-04-11 18:24 　　　┃　　　┗[中川 貴 &lt;takashi.nak]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15729">  15729 2012-04-12 09:46 　　　┃　　　　┗[HIRATSUKA Sadao &lt;hir]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15730">  15730 2012-04-13 10:32 　　　┃　　　　　┗[&quot;ochiai&quot; &lt;s.ochiai@x] Re: Left Join句を付けたUPDATE処理時間が非常に長くかかって（解決御礼）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15733">  15733 2012-04-13 11:13 　　　┃　　　　　　┗[HIRATSUKA Sadao &lt;hir]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15710">  15710 2012-03-29 17:47 　　　┗[Masaaki Matsuyama &lt;m]                                 </a></span>
</pre>
</body>
</html>
