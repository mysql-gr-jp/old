<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8268</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8267.html">[前]</a><a href="8269.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8268
</p>
<div class="header">
<p>
From: &quot;Takanori Jokura&quot; &lt;&quot;Takanori Jokura&quot; &lt;sora_iro@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 15 Oct 2003 07:39:09 +0900<br>
Subject: [mysql 08268] Re: configure のオプションについて<br>

</p>
</div>
<div class="body">
<pre>
城倉の自己レスです。

<span class="quote1">&gt; 今までRPMを使っていたのですが、</span>
<span class="quote1">&gt; 今回サーバを新しく作ることになったので</span>
<span class="quote1">&gt; いい機会だと思いソースからコンパイルすることにしました。</span>
<span class="quote1">&gt; SRPMをつかいspecファイルをいじっております。</span>

specファイルをいじって色々と試したのですが
結局コンパイルが通らないのでtar.gzからmakeすることにしました。
コンパイルが通らない理由は残念ですが理解できませんでした。

#そもそもrpm -e XXX だけでアンインストールができる為に
#src.rpmを使ったのと保存してあとで別のPCに入れるため
#なのでまあいいかぁってことです。

<span class="quote1">&gt; やりたいこととしては</span>
<span class="quote1">&gt; 1)dataディレクトリを/var/mysql/dataにして</span>
<span class="quote1">&gt;   他はデフォルトで行きたいと言うのと、</span>
これに関しまして取り合えず試してみて理解しようと思い
インストールしてみました。
結果
./configure \
--prefix=/usr/local/mysql \
--localstatedir=/var/mysql/data
とするとやりたいようになることがわかりました。

<span class="quote1">&gt; 2)バイナリ配布くらいの速度が欲しいというところです。</span>
これに関しましては色々なところを調べてみたところ
--enable-assembler \
--with-mysqld-ldflags=-all-static \
--with-client-ldflags=-all-static \
--enable-local-infile \
--with-mysqld-user=mysql \
--with-extra-charsets=complex \
--with-charset=sjis \
--with-raid
としました。

取り合えずこれでOKかなと思いきや
デーモンが起動できないのです；；
ログファイル(/var/mysql/data/localhost.err)を見ると
031013 18:26:24  mysqld started
031013 18:26:24  Can't start server : Bind on unix socket: Permission denied
031013 18:26:24  Do you already have another mysqld server running on
socket: /var/run/mysql.sock ?
031013 18:26:24  Aborting
031013 18:26:24  /usr/local/mysql/libexec/mysqld: Shutdown Complete
031013 18:26:24  mysqld ended

となっています。どうやらサーバが3306番ポートを使えないで居るようです。
もちろんmysqldのプロセスは起動していないです。
因みに/var/run/mysql.sockはマシン上のどこにもないです。

メイクしてインストールしてアンインストールを繰り返しすぎて泣きそうです。

皆様のご指導よろしくお願いいたします！！


城倉
jo@xxxxxxxxxx





</pre>
</div>
<p class="button"><a href="8267.html">[前]</a><a href="8269.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8266.html">   8266 2003-10-12 18:23 [&quot;Takanori Jokura&quot; &lt;s] configure のオプションについて          </a></span>
<span class="current">-&gt;&nbsp;<a href="8268.html">   8268 2003-10-15 07:39 ┗[&quot;Takanori Jokura&quot; &lt;s]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8307.html">   8307 2003-10-21 09:11 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
</pre>
</body>
</html>
