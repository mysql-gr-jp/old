<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14985</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14984">[前]</a><a href="14986">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<p class="id">
mysql:14985
</p>
<div class="header">
<p>
From: kageyama 3 &lt;kageyama 3 &lt;kageyama329@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 18 Jul 2009 12:59:58 +0900<br>
Subject: [mysql 14985] Re: BLOB 列のデータを大文字・小文字の区別無 く検索する方法<br>

</p>
</div>
<div class="body">
<pre>


Mikiyaさん、返信ありがとうございます。

<span class="quote1">&gt; SELECT data FROM tbl WHERE CAST(clm AS CHAR CHARACTER SET utf8) LIKE '%abcd%';</span>

あー、'%abcd%'こっちはキャストは要らなかったのですね。

<span class="quote1">&gt; ただしこのようなクエリ（中間一致）ではテーブルスキャンが起きてしまうので注意してくださいね。</span>

つまり、キャッシュが使えないということですね。

ということは、出来ることならばテーブルを作成する時に CREATE TABLE tbl(clm TEXT COLLATE utf8_bin) と
した方が良いですよね。

タイミングを見て、変更できれば良いのですが。


以上です。


----------------------------------------
<span class="quote1">&gt; Date: Sat, 18 Jul 2009 12:36:50 +0900</span>
<span class="quote1">&gt; From: Mikiya.Okuno@xxxxxxxxxx</span>
<span class="quote1">&gt; Subject: <a href="14983">[mysql 14983]</a> Re: BLOB 列のデータを大文字・小文字の区別無 く検索する方法</span>
<span class="quote1">&gt; To: ml@xxxxxxxxxx</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; On 18/07/2009, at 12:25 PM, kageyama 3 wrote:</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 度々、すみません。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; SELECT data FROM tbl WHERE CAST(clm AS CHAR) LIKE CAST('%abcd%')</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; SELECT data FROM tbl WHERE CAST(clm AS CHAR CHARACTER SET utf8) LIKE '%abcd%';</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; という風に文字コードを指定することもできますよ。</span>
<span class="quote1">&gt; ただしこのようなクエリ（中間一致）ではテーブルスキャンが起きてしまうので注意してくださいね。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; Mikiya Okuno, MySQL Support Engineer</span>
<span class="quote1">&gt; Sun Microsystems KK, Tokyo, Japan</span>
<span class="quote1">&gt; <a href="http://www-jp.mysql.com/">http://www-jp.mysql.com/</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>

_________________________________________________________________
Hotmail が進化した！セキュリティーもばっちり！
<a href="http://clk.atdmt.com/GBL/go/153791838/direct/01/">http://clk.atdmt.com/GBL/go/153791838/direct/01/</a>

</pre>
</div>
<p class="button"><a href="14984">[前]</a><a href="14986">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14979">  14979 2009-07-18 11:21 [kageyama 3 &lt;kageyama] BLOB 列のデータを大文字・小文字の区別無 く検索する方法</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14980">  14980 2009-07-18 11:37 ┗[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14981">  14981 2009-07-18 12:10 　┗[kageyama 3 &lt;kageyama]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14982">  14982 2009-07-18 12:25 　　┗[kageyama 3 &lt;kageyama]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14983">  14983 2009-07-18 12:36 　　　┗[Mikiya Okuno &lt;Mikiya]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="14985">  14985 2009-07-18 12:59 　　　　┗[kageyama 3 &lt;kageyama]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14986">  14986 2009-07-18 13:08 　　　　　┗[Mikiya Okuno &lt;Mikiya]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14987">  14987 2009-07-18 13:15 　　　　　　┗[kageyama 3 &lt;kageyama]                           </a></span>
</pre>
</body>
</html>
