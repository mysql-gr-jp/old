<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14946</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14945">[前]</a><a href="14947">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<p class="id">
mysql:14946
</p>
<div class="header">
<p>
From: &quot;Kazuyoshi Shibata&quot; &lt;&quot;Kazuyoshi Shibata&quot; &lt;utopian@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 5 Jul 2009 23:35:03 +0900<br>
Subject: [mysql 14946] セッション管理<br>

</p>
</div>
<div class="body">
<pre>
2回目の質問です。
前回の質問後、皆様のアドバイスを参考にＰｈｐ。ＭｙＳＱＬ学習を開始しました。
まずログインを学習しおうと思い、セッション管理をやっております。

＜ログインプログラム＞
//セッション初期化
session_start();
session_destroy();

その後、ＩＤ／ＰＷからＭｙＳＱＬのテーブルから該当レコードをとりだし
名前を取得　ＩＤ・ＰＷ・名前の3項目をセッション変数として定義しました。

//配列から名前をとりだす。
$N_NAME=$col[&quot;N_NAME&quot;];

if (mysql_num_rows($rst)==1) {
//ログイン成功
//セッションを開始します。初期化でオープン済み
//session_start();
//セッション変数を定義します。ＩＤ・ＰＷと名前
if (!session_is_registered(&quot;ssloginid&quot;)) {
      session_register(&quot;ssloginid&quot;);
}
if (!session_is_registered(&quot;ssloginpass&quot;)) {
      session_register(&quot;ssloginpass&quot;);
}
if (!session_is_registered(&quot;ssloginname&quot;)) {
      session_register(&quot;ssloginname&quot;);
}
//フォームの入力値・テーブルからの取得値をセッション変数に代入します。ID/PWと名前
$ssloginid = $userid;
$ssloginpass = $password;
$ssloginname = $N_NAME;

次に他のページ（プログラム）でセッション変数を参照しようと思い
ＨＴＭＬの最初で下記のスクリプトをいれたのですが、何も表示しません。
&lt;?php
//セッションを開始します。
session_start();
print $ssloginid.&quot;&lt;BR&gt;&quot;;
print $ssloginpass.&quot;&lt;BR&gt;&quot;;
print $ssloginname.&quot;&lt;BR&gt;&quot;;
?&gt;
ログインプログラムのセッション変数の設定の間違い部分、どなたか
ご指摘願えれば幸いです。

よろしくお願いいたします。　　　　　　　　　　　柴田和義 


</pre>
</div>
<p class="button"><a href="14945">[前]</a><a href="14947">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14945">  14945 2009-07-05 16:41 [&lt;apacheuser@xxxxxxxx] Apache+MySQLとXAMPPの環境の違い         </a></span>
<span class="current">-&gt;&nbsp;<a href="14946">  14946 2009-07-05 23:35 ┣[&quot;Kazuyoshi Shibata&quot; ] セッション管理                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14947">  14947 2009-07-06 01:16 ┃┣[Masaaki Matsuyama &lt;m]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14948">  14948 2009-07-06 06:34 ┃┗[c-atwork &lt;ml@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14949">  14949 2009-07-06 13:13 ┗[あきら &lt;akirainfoml@]                                       </a></span>
</pre>
</body>
</html>
