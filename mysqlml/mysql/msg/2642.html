<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2642</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2641.html">[前]</a><a href="2643.html">[次]</a><a href="../list/2601-2700.html">[番号順一覧]</a><a href="../thread/2601-2700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2642
</p>
<div class="header">
<p>
From: Hiroyuki Sato &lt;Hiroyuki Sato &lt;hiro@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 23 Oct 2000 10:20:55 +0900<br>
Subject: [mysql 02642] Re: datetime - datetime<br>

</p>
</div>
<div class="body">
<pre>
中嶋様:

神奈川大学の佐藤です。

<span class="quote2">&gt; &gt; 質問 2.</span>
<span class="quote2">&gt; &gt; 各レコードのdate1からdate2までの時間の差分を求め</span>
<span class="quote2">&gt; &gt; その総計を計算し、人が見てわかりやすい表示をしたいのですが</span>
<span class="quote2">&gt; &gt; なにか良い方法はありませんでしょうか?</span>
<span class="quote2">&gt; &gt; 計算はSQLで行ないたいと考えています。</span>
<span class="quote2">&gt; &gt; </span>
&lt;略&gt;

<span class="quote1">&gt; datetime - datetimeのような演算を使用するよりも、いったん</span>
<span class="quote1">&gt; timestamp型に変換してから演算すべきでしょう。以下のように。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; select sum(unix_timestamp(date2)-unix_timestamp(date1)) </span>
<span class="quote1">&gt;        from date_test;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; また、これをtimeに変換するために、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; select sec_to_time(sum(unix_timestamp(date2)-unix_timestamp(date1)))</span>
<span class="quote1">&gt;        from date_test;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; を実行すれば、正確な時間差の累計が出ると思います。</span>
どうもありがとうございます。
望みの結果を得る事ができました。

-- 
Hiroyuki Sato.
CCSO, Kanagawa University.
Voice: +81-491-2572
FAX: +81-491-2575

</pre>
</div>
<p class="button"><a href="2641.html">[前]</a><a href="2643.html">[次]</a><a href="../list/2601-2700.html">[番号順一覧]</a><a href="../thread/2601-2700.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="2630.html">   2630 2000-10-21 16:59 [Hiroyuki Sato &lt;hiro@] datetime - datetime                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2633.html">   2633 2000-10-21 18:54 ┗[NAKAJIMA Mutsuki &lt;mu]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="2642.html">   2642 2000-10-23 10:20 　┗[Hiroyuki Sato &lt;hiro@]                                     </a></span>
</pre>
</body>
</html>
