<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:87</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="86">[前]</a><a href="88">[次]</a><a href="../list/1-100">[番号順一覧]</a><a href="../thread/1-100">[スレッド一覧]</a></p>
<p class="id">
mysql:87
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Thu, 19 Mar 1998 12:35:00 +0900<br>
Subject: [mysql 87] Re: UJIS &amp; SJIS<br>

</p>
</div>
<div class="body">
<pre>

From: &quot;民斗 &quot; &lt;tommy@xxxxxxxxxx&gt;
Subject: <a href="86">[mysql 86]</a> Re: UJIS &amp; SJIS
Date: Mon, 16 Mar 1998 01:55:27 +0900
Message-ID: &lt;199803151656.BAA27414@xxxxxxxxxx&gt;

tommy&gt; SJIS 対応のパッチをつくってみました。マルチバイト文字を汎用的に処理
tommy&gt; できる仕組みを作って、それを使用して SJIS 対応しています。

いつもながらすばやいですね！すごいです。


tommy&gt; サーバ側で対応するのであれば、1つのサーバが、接続するクライアント毎に
tommy&gt; 文字コードを判断するよりは、引数等でポート番号と文字コードを指定して、
tommy&gt; UJIS と SJIS の2つサーバを起動して『SJIS 使いたい人(クライアント)は
tommy&gt; こっちのポートにつないでね』とした方が良さそうですね。
tommy&gt; 
tommy&gt; で、SJIS の方は内部で UJIS に変換して、UJIS と同じデータベースを見ること
tommy&gt; ができる。と。

なるほど、port 変える手もありましたね。



tommy&gt; libmysqlclient 中のどれが関係するのか調べてませんが、libmysql.c 中の
tommy&gt; mysql_escape_string() は上述の MB パッチで日本語対応するはずです。

ちょっと覗いてみます。


tommy&gt; &gt; UNIX がわで、SJIS を MySQL が喋った場合の対応策が発生しますが。
tommy&gt; &gt; lib を変えて、コンパイルし直しはこの際いた仕方ないことでしょうか。
tommy&gt; 
tommy&gt; これは、クライアント側が SJIS → UJIS しているのに、サーバが実は SJIS を
tommy&gt; 喋っているという状況を考えているのでしょうか。

そうです。

tommy&gt; そこまで考えなくてもいいのではないでしょうか (^^; 
tommy&gt; 『運用する漢字コードには気をつけましょう』ということで…。

たしかに UNIX ならある程度まではコードを何とかできますし。


tommy&gt; &gt; 漢字コードと host の対応表みたいなのを、暫定的に見に行かせるようなのは
tommy&gt; &gt; やぼったいですかね？
tommy&gt; &gt; host,user,db とともにイニシャル時に読み込んで動作する、、。
tommy&gt; 
tommy&gt; サーバはそのテーブルの内容に応じて、動的に文字コードを変換するという
tommy&gt; ことですよね。ん〜、やぼったいかどうかはともかく、実装するのは結構
tommy&gt; 大変かも…。

うーん、ハズレですか…。
# 毎回毎回変なことばかり考えているなぁ…&gt;自分



tommy&gt; 文字コードの変換の問題点を一つ思い出しました。文字でないバイナリデータの
tommy&gt; 扱いです。

tommy&gt; オリジナルの &quot;set optoin character set&quot; はそこまで考えずに、全部変換して
tommy&gt; いるようでしたが…。

(現在対応している charset では何も問題ないんですかねぇ…?)
日本語で chrset をもし使用するならば、BLOB は変換しない、ていう方がいいですね。
BLOB だからそのまんま入ります、てことで。

=========================================
        村上 毅  takeshi@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="86">[前]</a><a href="88">[次]</a><a href="../list/1-100">[番号順一覧]</a><a href="../thread/1-100">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="86">     86 1998-03-16 01:55 [&quot;民斗 &quot; &lt;tommy@xxxxx] Re: UJIS &amp;amp; SJIS                     </a></span>
<span class="current">-&gt;&nbsp;<a href="87">     87 1998-03-19 12:35 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
</pre>
</body>
</html>
