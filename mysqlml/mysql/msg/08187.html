<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8187</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="8186.html">[前]</a><a href="8188.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8187
</p>
<div class="header">
<p>
From: &quot;玉越&quot; &lt;&quot;玉越&quot; &lt;tamakoshi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 3 Sep 2003 18:09:56 +0900<br>
Subject: [mysql 08187] mysql_query の返り値が -1<br>

</p>
</div>
<div class="body">
<pre>
はじめまして。
玉越＠プラネットコンピュータと申します。

MySQLのクライアントを作っているのですが、mysql_queryが-1を返します。
マニュアルによると返ってくるのは
CR_COMMANDS_OUT_OF_SYNC, CR_SERVER_GONE_ERROR,
CR_SERVER_LOST,CR_UNKNOWN_ERROR
のどれかで、それぞれ2000以上で-1ではありません。
送っているSQL文は
INSERT INTO hoge VALUES (…)
なのですが、この…の部分が長いとエラーになるようです。
長くなければ正しく動きます。
長いとは具体的には4MBytesくらい。793KBytesくらいでは大丈夫でした。

長い場合は分割すればよいのですが、MySQLの何を見ればそのバッファの大きさが分
かるでしょうか。
また、長いのが原因でなければ何が原因と考えられるでしょうか。

OSはWindows2000 Server
MySQL 4.0.14b
インストール後の設定は
default-character-set=sjis
を追記しただけです。
hogeはInnoDBです。
クライアントはC++で開発していて、MySQLの配布物の中にあるlibMySQL.dllを使用し
ています。

よろしくお願い致します。

--
Tamakoshi Hiroki, Planet Computer, Inc.
玉越 大輝    （株）プラネットコンピュータ
〒113-0033　東京都文京区本郷4-2-5　MAビル5F（東京オフィス）
TEL:03-5840-6233  FAX:03-5840-6234
〒411-0046　静岡県三島市芙蓉台１丁目６番２２号（本社）
TEL:0559-99-0133  FAX:0559-99-0122
mailto:tamakoshi@xxxxxxxxxx, <a href="http://www.planetcomp.com/">http://www.planetcomp.com/</a>


</pre>
</div>
<p class="button"><a href="8186.html">[前]</a><a href="8188.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="8187.html">   8187 2003-09-03 18:09 [&quot;玉越&quot; &lt;tamakoshi@xx] mysql_query の返り値が -1               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8188.html">   8188 2003-09-03 18:22 ┣[hina &lt;hina@xxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8190.html">   8190 2003-09-03 21:34 ┃┗[&quot;玉越&quot; &lt;tamakoshi@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8189.html">   8189 2003-09-03 21:09 ┗[Tomoyuki Ishino &lt;ish]                                       </a></span>
</pre>
</body>
</html>
