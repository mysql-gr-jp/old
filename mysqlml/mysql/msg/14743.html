<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14743</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14742.html">[前]</a><a href="14744.html">[次]</a><a href="../list/14701-14800.html">[番号順一覧]</a><a href="../thread/14701-14800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14743
</p>
<div class="header">
<p>
From: Mikiya Okuno &lt;Mikiya Okuno &lt;Mikiya.Okuno@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 26 Feb 2009 11:53:43 +0900<br>
Subject: [mysql 14743] Re: 異なるバージョンでのレプリケーション<br>

</p>
</div>
<div class="body">
<pre>
高井様

<span class="quote1">&gt; MASTERが3.23という時点で5.1には対応していないのですね。</span>
<span class="quote1">&gt; 4.1のマニュアルを見るとSLAVEが4.0.1以降なら対応可能ということになってい</span>
<span class="quote1">&gt; ます。</span>
<span class="quote1">&gt; こちらは正しいでしょうか。</span>

はい。

ちなみに、MySQLのメジャーバージョンは3.23、4.0、4.1、5.0、5.1と続いています。
3.23の次は4.0なので、マスターとスレーブでそれぞれこのバージョンを使うことができます。
しかし、3.23から4.1以降へのレプリケーションはできません。（できる場合もあるけど
サポートされないということです。）

しかし、3.23も4.0もすでに開発が完全に終了しているバージョンなので、
いかなる不具合があっても修正される予定はありません。なので、早めに
計画的にアップグレードされることをおすすめします。
--
奥野 幹也
MySQLサポートエンジニア
サン・マイクロシステムズ株式会社
<a href="http://www-jp.mysql.com/">http://www-jp.mysql.com/</a>

MySQLブログ集約サイト「Planet MySQL」日本語版オープン！
<a href="http://jp.planetmysql.org/">http://jp.planetmysql.org/</a>

On 26/02/2009, at 11:45 AM, Koichi Takai wrote:

<span class="quote1">&gt; オクノ様</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 早急なご回答ありがとうございます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; MASTERが3.23という時点で5.1には対応していないのですね。</span>
<span class="quote1">&gt; 4.1のマニュアルを見るとSLAVEが4.0.1以降なら対応可能ということになってい</span>
<span class="quote1">&gt; ます。</span>
<span class="quote1">&gt; こちらは正しいでしょうか。</span>
<span class="quote1">&gt; 質問ばかりですみませんがよろしくお願いします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 高井</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; On Thu, 26 Feb 2009 11:32:57 +0900</span>
<span class="quote1">&gt; Mikiya Okuno &lt;Mikiya.Okuno@xxxxxxxxxx&gt; wrote:</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt; 高井様</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; スレーブでは、マスターよりメジャーバージョンが一つだけ高いもののみ利用出来ます。</span>
<span class="quote2">&gt;&gt; 詳細は次のページをご覧下さい。（5.1の日本語のマニュアルはちょっと情報が古いです。）</span>
<span class="quote2">&gt;&gt; <a href="http://dev.mysql.com/doc/refman/5.1/en/replication-compatibility.html">http://dev.mysql.com/doc/refman/5.1/en/replication-compatibility.html</a></span>
<span class="quote2">&gt;&gt; --</span>
<span class="quote2">&gt;&gt; Mikiya Okuno, MySQL Support Engineer</span>
<span class="quote2">&gt;&gt; Sun Microsystems KK, Tokyo, Japan</span>
<span class="quote2">&gt;&gt; <a href="http://www-jp.mysql.com/">http://www-jp.mysql.com/</a></span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; On 26/02/2009, at 11:19 AM, Koichi Takai wrote:</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 高井と申します。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; MASTER</span>
<span class="quote3">&gt;&gt;&gt; 　OS:Solaris2.6</span>
<span class="quote3">&gt;&gt;&gt; 　Mysql：3.23.51</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; SLAVE</span>
<span class="quote3">&gt;&gt;&gt; 　OS:Solaris8</span>
<span class="quote3">&gt;&gt;&gt; 　Mysql：5.1.31</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 「レプリケーション実装の概要」からレプリケーションには問題ないと判断して</span>
<span class="quote3">&gt;&gt;&gt; 進めていうます。</span>
<span class="quote3">&gt;&gt;&gt; <a href="http://dev.mysql.com/doc/refman/4.1/ja/replication-implementation.html">http://dev.mysql.com/doc/refman/4.1/ja/replication-implementation.html</a></span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; リプリケーションステータスは問題ありません。参照するテーブルにより以下の</span>
<span class="quote3">&gt;&gt;&gt; メッセージが出ます。</span>
<span class="quote3">&gt;&gt;&gt; ERROR 1034 (HY000): Incorrect key file for table 'schedule'; try to repair it</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; そこでrepair tableを試みますが、エラーになるので何もできない状態です。</span>
<span class="quote3">&gt;&gt;&gt; +-------+--------+----------+-----------------------------------------------------------+</span>
<span class="quote4">&gt;&gt;&gt; | Table | Op     | Msg_type | Msg_text                                                  |</span>
<span class="quote3">&gt;&gt;&gt; +-------+--------+----------+-----------------------------------------------------------+</span>
<span class="quote4">&gt;&gt;&gt; | test  | repair | Error    | Incorrect key file for table 'schedule'; try to repair it |</span>
<span class="quote4">&gt;&gt;&gt; | test  | repair | error    | Corrupt                                                   |</span>
<span class="quote3">&gt;&gt;&gt; +-------+--------+----------+-----------------------------------------------------------+</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; やはりバージョンを同じにしないといけないのでしょうか。</span>
<span class="quote3">&gt;&gt;&gt; もしそうならOSのバージョンが異なるのでSLAVEのバージョンを同じにできない</span>
<span class="quote3">&gt;&gt;&gt; ので困っております。</span>
<span class="quote3">&gt;&gt;&gt; MASTERの設定変更はできません。</span>
<span class="quote3">&gt;&gt;&gt; このような環境ですが何かアドバイスがあればご助言お願いしたいと存じます。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; よろしくお願いします。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 高井</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>


</pre>
</div>
<p class="button"><a href="14742.html">[前]</a><a href="14744.html">[次]</a><a href="../list/14701-14800.html">[番号順一覧]</a><a href="../thread/14701-14800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14740.html">  14740 2009-02-26 11:19 [Koichi Takai &lt;ktakai] 異なるバージョンでのレプリケーション    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14741.html">  14741 2009-02-26 11:32 ┗[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14742.html">  14742 2009-02-26 11:45 　┗[Koichi Takai &lt;ktakai]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="14743.html">  14743 2009-02-26 11:53 　　┗[Mikiya Okuno &lt;Mikiya]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14744.html">  14744 2009-02-26 13:23 　　　┗[Koichi Takai &lt;ktakai]                                 </a></span>
</pre>
</body>
</html>
