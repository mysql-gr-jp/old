<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7043</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7042">[前]</a><a href="7044">[次]</a><a href="../list/7001-7100">[番号順一覧]</a><a href="../thread/7001-7100">[スレッド一覧]</a></p>
<p class="id">
mysql:7043
</p>
<div class="header">
<p>
From: kazuo kaku &lt;kazuo kaku &lt;kkaku@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 25 Feb 2003 13:16:32 +0900<br>
Subject: [mysql 07043] Re: ODBC 経由の UPDATE  でエラーにならない<br>

</p>
</div>
<div class="body">
<pre>
加来です。

<span class="quote1">&gt; select count(*) from foo where bar = 'hoge';</span>
<span class="quote1">&gt; if( １件以上ヒットした ) {</span>
<span class="quote1">&gt;     update foo set baz = 'piyo' where bar = 'hoge';</span>
<span class="quote1">&gt; } else {</span>
<span class="quote1">&gt;     エラー</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; という感じで。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; selectしてからupdateする間に他のセッションから更新されて、</span>
<span class="quote1">&gt; 思った通りにならない、という可能性はありますが、それなら</span>
<span class="quote1">&gt; ロックするとか。</span>

すみません。
どうも質問の書き方が悪いようで、気分を害しているかも
しれませんが、ご質問させて下さい。

ＯＤＢＣ経由で、ＵＰＤＡＴＥでエラーにならないのなら
上記のような回避方法は、思いつくのですが、
ＯＤＢＣ経由であれば、ＵＰＤＡＴＥで一致するキーが無い時に
エラーが返って来ないのは、普通なのでしょうか？

現在、まだＯＤＢＣもＭｙＳＱＬも調査段階でして、ＯＤＢＣのテストツールか
ら
ＵＰＤＡＴＥコマンドを発行している状態です。

コマンドプロンプトからＭＹＳＱＬへＵＰＤＡＴＥコマンドを発行すれば
一致するキーがないとエラーになります。
ＯＤＢＣのテストツールでＯＲＡＣＬＥへ、どうようにＵＰＤＡＴＥコマンドを

発行してもエラーになります。
ＯＤＢＣのテストツールでＭｙＳＱＬへＵＰＤＡＴＥコマンドを発行すると
エラーになりません。

エラーにならない現実を受け止めて、回避方法にてプログラムする事も
可能なのですが、何か私のチョンボでエラーになってないとすると
いけないので、ご存知であれば、教えて頂きたいという状態です。

宜しくお願い申し上げます。




</pre>
</div>
<p class="button"><a href="7042">[前]</a><a href="7044">[次]</a><a href="../list/7001-7100">[番号順一覧]</a><a href="../thread/7001-7100">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7031">   7031 2003-02-25 10:35 [kazuo kaku &lt;kkaku@xx] ODBC 経由の UPDATE でエラーにならない   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7037">   7037 2003-02-25 11:29 ┗[Kengo Jinno &lt;kengo@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7039">   7039 2003-02-25 12:00 　┗[kazuo kaku &lt;kkaku@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7040">   7040 2003-02-25 12:11 　　┣[Kengo Jinno &lt;kengo@x]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="7043">   7043 2003-02-25 13:16 　　┃┗[kazuo kaku &lt;kkaku@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7045">   7045 2003-02-25 13:24 　　┃　┣[Ryuichiro Munechika ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7048">   7048 2003-02-25 13:44 　　┃　┃┗[kazuo kaku &lt;kkaku@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7046">   7046 2003-02-25 13:35 　　┃　┣[Kengo Jinno &lt;kengo@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7049">   7049 2003-02-25 13:51 　　┃　┃┗[kazuo kaku &lt;kkaku@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7047">   7047 2003-02-25 13:39 　　┃　┗[SUGAWARA Hajime &lt;sug]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7041">   7041 2003-02-25 12:13 　　┣[Daiju Azuma &lt;daiju_a]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7042">   7042 2003-02-25 12:58 　　┗[遠藤 俊裕 &lt;endo_t@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7044">   7044 2003-02-25 13:20 　　　┗[kazuo kaku &lt;kkaku@xx]                                 </a></span>
</pre>
</body>
</html>
