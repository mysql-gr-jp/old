<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12960</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12959.html">[前]</a><a href="12961.html">[次]</a><a href="../list/12901-13000.html">[番号順一覧]</a><a href="../thread/12901-13000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12960
</p>
<div class="header">
<p>
From: wada toshiki &lt;wada toshiki &lt;wada-ts@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 29 Apr 2006 10:41:22 +0900<br>
Subject: [mysql 12960] チュートリアルの外部キーの使用について<br>

</p>
</div>
<div class="body">
<pre>「標準MySQL」なる書籍を読みながら、自分のためのデータベースを作るべくMySQLチュー
トリアルを試していたんですが、3.6.6外部キーの使用のところでつまずいています。
<a href="http://dev.mysql.com/doc/refman/4.1/ja/example-foreign-keys.html">http://dev.mysql.com/doc/refman/4.1/ja/example-foreign-keys.html</a>
のとおり、テーブルを作ったのですが、
+++++++++++++++++++++++++++
mysql&gt; select * from person;
+----+--------------------+
<span class="quote1">| id | name               |</span>
+----+--------------------+
<span class="quote1">|  1 | Antonio Paz        |</span>
<span class="quote1">|  2 | Lillana Angelovska |</span>
+----+--------------------+
2 rows in set (0.00 sec)

mysql&gt; select * from shirt;
+----+---------+--------+-------+
<span class="quote1">| id | style   | color  | owner |</span>
+----+---------+--------+-------+
<span class="quote1">|  1 | polo    | blue   |     1 |</span>
<span class="quote1">|  2 | dress   | white  |     1 |</span>
<span class="quote1">|  3 | t-shirt | blue   |     2 |</span>
<span class="quote1">|  4 | dress   | orange |     2 |</span>
<span class="quote1">|  5 | polo    | red    |     4 |</span>
<span class="quote1">|  6 | dress   | blue   |     5 |</span>
<span class="quote1">|  7 | t-shirt | white  |     6 |</span>
+----+---------+--------+-------+
7 rows in set (0.00 sec)
++++++++++++++++++++++++++++++++++
テーブルshirtのownerは、personのid 1,2しかないはずですが、チュートリアルのように
なりません。
LAST_INSERT_ID()では、personのidを返して欲しいのですが、shirtのレコードを挿入し
たときのidが返ってきているようなのです。何か注意する点がありましたら教えていただ
けないでしょうか。
++++++++++++++++++++
mysql&gt; status;
--------------
mysql  Ver 14.7 Distrib 4.1.12a, for Win32 (ia32)
Connection id:          6
Current database:       test1_db
Current user:           root@localhost
SSL:                    Not in use
Using delimiter:        ;
Server version:         4.1.12a-nt
Protocol version:       10
Connection:             localhost via TCP/IP
Insert id:              1
Server characterset:    sjis
Db     characterset:    sjis
Client characterset:    sjis
Conn.  characterset:    sjis
TCP port:               3306
Uptime:                 1 hour 19 min 56 sec

Threads: 1  Questions: 69  Slow queries: 0  Opens: 29  Flush tables: 1  Open tab
les: 2  Queries per second avg: 0.014
--------------
-- 
*********************************************
和田稔己
**********************************************


</pre>
</div>
<p class="button"><a href="12959.html">[前]</a><a href="12961.html">[次]</a><a href="../list/12901-13000.html">[番号順一覧]</a><a href="../thread/12901-13000.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="12960.html">  12960 2006-04-29 10:41 [wada toshiki &lt;wada-t] チュートリアルの外部キーの使用について  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12962.html">  12962 2006-04-29 13:32 ┗[忠犬 KEN &lt;ken_ken_19]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12963.html">  12963 2006-04-29 15:17 　┗[wada toshiki &lt;wada-t] Re: [解決]チュートリアルの外部キーの使用について</a></span>
</pre>


</body></html>