<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12791</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="12790.html">[前]</a><a href="12792.html">[次]</a><a href="../list/12701-12800.html">[番号順一覧]</a><a href="../thread/12701-12800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12791
</p>
<div class="header">
<p>
From: &quot;tarumi&quot; &lt;&quot;tarumi&quot; &lt;yuutarumi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 22 Feb 2006 13:30:49 +0900<br>
Subject: [mysql 12791] Re: PROCEDUREでのCURSOR終了条件<br>

</p>
</div>
<div class="body">
<pre>
tarumiです。

英語ですが、サンプルがありました。
<a href="http://dev.mysql.com/doc/refman/5.0/en/cursors.html">http://dev.mysql.com/doc/refman/5.0/en/cursors.html</a>

DECLARE myCur CURSOR FOR SELECT * FROM HOGEHOGE;  --（１）
REPEAT
  FETCH myCur INTO 変数、変数・・・;
  IF NOT done THEN
   処理色々。
  END IF;
UNTIL done END REPEAT;

FOREACH系はまだないみたいですね。
今後に期待します。

以上、よろしくお願い致します。

<span class="quote1">&gt; </span>
<span class="quote1">&gt; PROCEDURE内でＣURSORを使用したいと思っています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; どこかのサンプルで下記のような処理がありました。</span>
<span class="quote1">&gt;   DECLARE myCur CURSOR FOR SELECT * FROM HOGEHOGE;  --（１）</span>
<span class="quote1">&gt;   OPEN myCur;</span>
<span class="quote1">&gt;   SELECT COUNT(*) INTO @allcount FROM HOGEHOGE; --（２）</span>
<span class="quote1">&gt;   SET @pos = 0;</span>
<span class="quote1">&gt;   WHILE @allcount &gt; @pos DO</span>
<span class="quote1">&gt;     FETCH myCur INTO 変数、変数・・・;</span>
<span class="quote1">&gt;     処理色々。</span>
<span class="quote1">&gt;     SET @pos = @pos +1;</span>
<span class="quote1">&gt;   END WHILE;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 上記のサンプルでは、FETCHの終了条件の為に、</span>
<span class="quote1">&gt; （２）のSQLを発行していました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Oracleでは、myCur%NOTFOUNDを終了判定に使うか</span>
<span class="quote1">&gt; FOR myRec IN myCur LOOPで処理していたのですが、</span>
<span class="quote1">&gt; 同じようなことは出来ますでしょうか？</span>


</pre>
</div>
<p class="button"><a href="12790.html">[前]</a><a href="12792.html">[次]</a><a href="../list/12701-12800.html">[番号順一覧]</a><a href="../thread/12701-12800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12790.html">  12790 2006-02-22 12:20 [&quot;tarumi&quot; &lt;yuutarumi@] PROCEDUREでのCURSOR終了条件             </a></span>
<span class="current">-&gt;&nbsp;<a href="12791.html">  12791 2006-02-22 13:30 ┗[&quot;tarumi&quot; &lt;yuutarumi@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12793.html">  12793 2006-02-22 14:38 　┗[&quot;tarumi&quot; &lt;yuutarumi@]                                     </a></span>
</pre>
</body>
</html>
