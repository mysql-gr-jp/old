<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14619</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="14618.html">[前]</a><a href="14620.html">[次]</a><a href="../list/14601-14700.html">[番号順一覧]</a><a href="../thread/14601-14700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14619
</p>
<div class="header">
<p>
From: chuuken kenkou &lt;chuuken kenkou &lt;ken_ken_1962@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 30 Jul 2008 17:19:12 +0900<br>
Subject: [mysql 14619] Re: 2段階以上の外部結合のやり方<br>

</p>
</div>
<div class="body">
<pre>

話が変な方向になっているような。。。

<span class="quote1">&gt; ちなみに、Oracle式に書いた場合、微妙に解釈が違うので注意が必要です。</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; FROM</span>
<span class="quote1">&gt; A, B</span>
<span class="quote1">&gt; WHERE</span>
<span class="quote1">&gt; A.hoge_id = B.id (+)</span>
<span class="quote1">&gt; AND B.code = '001'</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; これを慣れてない人は、こんな感じにOUTER JOINしてしまいます。</span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; A</span>
<span class="quote1">&gt; LEFT OUTER JOIN B</span>
<span class="quote1">&gt; ON (</span>
<span class="quote1">&gt; A.hoge_id = B.id</span>
<span class="quote1">&gt; AND B.code = '001'</span>
<span class="quote1">&gt; )</span>
<span class="quote1">&gt; このようなOracle式書き方をそのままON句に入れると、ばっちり無視されるのでご注意を。</span>
<span class="quote1">&gt; ※ON句には結合条件のみが記述できるので、抽出条件は書いちゃダメ</span>
<span class="quote1">&gt;</span>


「ON句に入れると、ばっちり無視される」のではなく、その条件式も結合条件として使われます。
つまり、上記の例では、B.code='001'の行のみB側に存在することになり、それ以外のBの行は存在せず、nullでAの行に結合されます。

ONでなく、WHEREに「B.code='001'」を指定すると、結合結果に対して評価されるような動きになります。
（内部的には、LEFT JOINがINNER JOINに変わる）

ONでは結合条件、WHEREでは制限条件を指定するのですが、ONで定数を値とした条件を指定するケースはありますので念のため。
_________________________________________________________________
イカ天やWe舞台のWebオーディション、夢をかなえるチャンス！詳しくはこちら
<a href="http://transform.jp.msn.com/">http://transform.jp.msn.com/</a>

</pre>
</div>
<p class="button"><a href="14618.html">[前]</a><a href="14620.html">[次]</a><a href="../list/14601-14700.html">[番号順一覧]</a><a href="../thread/14601-14700.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14608.html">  14608 2008-07-30 11:30 [nobu &lt;mininobu@xxxxx] 2段階以上の外部結合のやり方             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14609.html">  14609 2008-07-30 11:44 ┗[岡本　基 &lt;okamoto@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14610.html">  14610 2008-07-30 11:53 　┗[IIDA Yosiaki &lt;y-iida]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14611.html">  14611 2008-07-30 11:59 　　┣[岡本　基 &lt;okamoto@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14612.html">  14612 2008-07-30 12:02 　　┗[nobu &lt;mininobu@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14613.html">  14613 2008-07-30 12:44 　　　┗[&quot;Shuji Watanabe&quot; &lt;sh]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14614.html">  14614 2008-07-30 12:57 　　　　┗[nobu &lt;mininobu@xxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14615.html">  14615 2008-07-30 13:51 　　　　　┗[IIDA Yosiaki &lt;y-iida]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14616.html">  14616 2008-07-30 14:30 　　　　　　┗[&quot;Shuji Watanabe&quot; &lt;sh]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14617.html">  14617 2008-07-30 14:51 　　　　　　　┣[nobu &lt;mininobu@xxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14618.html">  14618 2008-07-30 14:58 　　　　　　　┃┗[岡本　基 &lt;okamoto@xx]                       </a></span>
<span class="current">-&gt;&nbsp;<a href="14619.html">  14619 2008-07-30 17:19 　　　　　　　┗[chuuken kenkou &lt;ken_]                         </a></span>
</pre>
</body>
</html>
