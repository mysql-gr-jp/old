<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12208</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="12207.html">[前]</a><a href="12209.html">[次]</a><a href="../list/12201-12300.html">[番号順一覧]</a><a href="../thread/12201-12300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12208
</p>
<div class="header">
<p>
From: &quot;kondo kondo&quot; &lt;&quot;kondo kondo&quot; &lt;umiushi_00@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 04 Oct 2005 02:42:19 +0000<br>
Subject: [mysql 12208] Re: Linuxにおけるデータディレクトリのリンク<br>

</p>
</div>
<div class="body">
<pre>
近藤です。

<span class="quote1">&gt;[現状]</span>
<span class="quote1">&gt;○Dataディレクトリは /var/lib/mysql</span>
<span class="quote1">&gt;○引っ越し先は /mnt/share/mysqldata/mysql</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;○サーバーをストップ</span>
<span class="quote1">&gt;○Dataディレクトリの中身を引っ越し先にコピー（所有者はroot)</span>
<span class="quote1">&gt;○/var/lib/mysqlディレクトリを/var/lib/mysql2にリネーム(Backup)</span>
<span class="quote1">&gt;○シンボリックリンクを作成・/var/lib/mysqlが/mnt/share/mysqldata/mysql</span>
<span class="quote1">&gt;　と一緒になっていることを確認</span>
<span class="quote1">&gt;○サーバーをリスタート------------------&gt; エラーで終了</span>
<span class="quote1">&gt;（バックアップを元に戻すと、正常にリスタートされます）</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;[エラー]</span>
<span class="quote1">&gt;Can't connect to local MySQL server through soket</span>
<span class="quote1">&gt;Check that mysqld is runnning and that the socket exists!</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;どういう手順を踏めば、データディレクトリを引っ越すことができるので</span>
<span class="quote1">&gt;しょうか？お手数ですがよろしくお願いします。</span>

同じエラーか覚えてはないのですが、私もデータディレクトリの変更で何回
かエラーになったことがあります。原因はディレクトリの所有者の問題でした。
コピー先のディレクトリ所有者はrootということですので、mysqlのデーモンが
root以外のユーザーで起動しているようであれば、データディレクトリにアクセス
できないので、mysqlが起動できません。

バックアップディレクトリの所有者と、引越し先の所有者＆シンボリックリンクの所
有者
が誰になっているのかを確認してみてはいかがでしょうか？元の所有者がmysqlとか
で
あれば、引越し先のディレクトリ、ファイルの所有者をmysqlに変更すればOKだと思
います。

※ちなみに私の場合は、シンボリックリンクは使用せずに、データディレクトリの位
置を変更して、
  my.cnfのdatadirの設定を書き直しました。

_________________________________________________________________
無料でメールボックス250MBの 「MSN Hotmail」 
<a href="http://promotion.msn.co.jp/hotmail/fortune/input_un.asp">http://promotion.msn.co.jp/hotmail/fortune/input_un.asp</a> 


</pre>
</div>
<p class="button"><a href="12207.html">[前]</a><a href="12209.html">[次]</a><a href="../list/12201-12300.html">[番号順一覧]</a><a href="../thread/12201-12300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12184.html">  12184 2005-09-27 11:45 [sato &lt;satot@xxxxxxxx] mySQL Controle Centerについて           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12185.html">  12185 2005-09-27 13:46 ┣[Takanori Jokura &lt;jo@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12186.html">  12186 2005-09-27 15:34 ┃┗[sato &lt;satot@xxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12187.html">  12187 2005-09-27 15:51 ┃　┗[&quot;片寄白王&quot; &lt;katayose]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12189.html">  12189 2005-09-27 16:54 ┃　　┗[sato &lt;satot@xxxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12207.html">  12207 2005-10-04 10:53 ┗[Toshie Suzuki &lt;toshi] Linuxにおけるデータディレクトリのリンク</a></span>
<span class="current">-&gt;&nbsp;<a href="12208.html">  12208 2005-10-04 11:42 　┣[&quot;kondo kondo&quot; &lt;umius]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12210.html">  12210 2005-10-04 13:29 　┃┗[Toshie Suzuki &lt;toshi]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12209.html">  12209 2005-10-04 12:59 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
</pre>
</body>
</html>
