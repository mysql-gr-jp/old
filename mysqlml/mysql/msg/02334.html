<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2334</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2333.html">[前]</a><a href="2335.html">[次]</a><a href="../list/2301-2400.html">[番号順一覧]</a><a href="../thread/2301-2400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2334
</p>
<div class="header">
<p>
From: Yasuhiro Hayase &lt;Yasuhiro Hayase &lt;hayase@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 1 Aug 2000 21:56:06 +0900<br>
Subject: [mysql 02334] Re: PHP からのテーブルロック<br>

</p>
</div>
<div class="body">
<pre>早瀬@阪大といいます。

<span class="quote1">&gt; 　　　&lt;?</span>
<span class="quote1">&gt; 　　　　$tlock=mysql_ruery("lock tables testtable write",$conn); </span>
<span class="quote1">&gt; 　　　　$result=mysql_ruery(select文,$conn); </span>
<span class="quote1">&gt; 　　　　$res_test=mysql_result($result,0,"test");</span>
<span class="quote1">&gt; 　　　?&gt;</span>
<span class="quote1">&gt; と書いたコードを実行してみました。</span>
<span class="quote1">&gt; ここでは、$tlockにはtrueがきちんと帰っているのです。</span>
<span class="quote1">&gt; その状態で、もうひとつブラウザを立ち上げ、そのにテーブルアクセスすると</span>
<span class="quote1">&gt; きちんと要求が帰ってきてしましました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; これはテーブルロックされていないということなんですよね。</span>
<span class="quote1">&gt; 通常はこれで表示まちになるのでしょうか？</span>

えーと、PHPのコードですから、ページが表示された段階ですでにmysqlの
セッションが閉じられてるのではないでしょうか。セッションが閉じられ
れば、ロックは自動的に解除されます。

PHPは知らないのですが、lock tablesの後に、sleepの様な関数をいれて実
験してはいかがでしょうか。


---
早瀬@大阪大学基礎工学部情報科学科 3年次
mail: hayase@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="2333.html">[前]</a><a href="2335.html">[次]</a><a href="../list/2301-2400.html">[番号順一覧]</a><a href="../thread/2301-2400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="2333.html">   2333 2000-08-01 21:25 [滝沢 純 &lt;takizawa@xx] Re: PHP からのテーブルロック            </a></span>
<span class="current">-&gt;&nbsp;<a href="2334.html">   2334 2000-08-01 21:56 ┗[Yasuhiro Hayase &lt;hay]                                       </a></span>
</pre>


</body></html>