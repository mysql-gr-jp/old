<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12536</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12535">[前]</a><a href="12537">[次]</a><a href="../list/12501-12600">[番号順一覧]</a><a href="../thread/12501-12600">[スレッド一覧]</a></p>
<p class="id">
mysql:12536
</p>
<div class="header">
<p>
From: &quot;HIROSE, Masaaki&quot; &lt;&quot;HIROSE, Masaaki&quot; &lt;hirose31@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 05 Dec 2005 11:01:41 +0900<br>
Subject: [mysql 12536] Re: レプリケーションマスターでの flush-logs 	 について<br>

</p>
</div>
<div class="body">
<pre>
ひろせといいます

in &quot;<a href="12532">[mysql 12532]</a> レプリケーションマスターでの flush-logs 	について&quot;
   &lt;438FAF18.7000607@xxxxxxxxxx&gt;
at Fri, 02 Dec 2005 11:19:04 +0900,
   mabu@xxxxxxxxxx wrote:

<span class="quote1">&gt; レプリケーション構成を組んでいるMySQLの運用・保守を検討しているところで</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  ・レプリケーション・マスターサーバ上でflush-logs する場合注意が必要</span>
<span class="quote1">&gt;  ・レプリケーション・マスターサーバ上の場合、cron で</span>
<span class="quote1">&gt;    &quot;mysqldamin --flush-logs --all-databases&quot; してはならない</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; という情報を見つけましたが、具体的にどのように注意すればいいのかまでは</span>
<span class="quote1">&gt; 見つかりませんでした。</span>

情報源はどこでしょうか?

<span class="quote1">&gt; そこでいくつか相談したいことがあります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  1.  マスターサーバ上で flush-logs を実行すると、どのような問題が</span>
<span class="quote1">&gt;      起こりえますか？  また、マスターサーバ上で flush-logs を実行して</span>
<span class="quote1">&gt;      不具合が起きた方はいらっしゃいますか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  2.  マスターサーバで flush-logs を定期的に自動実行させる場合と</span>
<span class="quote1">&gt;      手動実行する場合の違いはどのあたりでしょうか？</span>
<span class="quote1">&gt;      ＃ スレーブサーバの I/Oスレッド を停止しておけば問題ない！？</span>
(snip)

flush logs は新しい bin-log に切り替えるだけなので、それが原因でレプリ
ケーションが止まるようなことはないと思います。

もし、やりたいことが bin-log の切り替えではなく、マスタ上の古い(レプリ
ケートし終わった) bin-log の削除ならば、purge master logs で行えますが、
これはむやみに行うとレプリケーションが止まります。

<a href="http://dev.mysql.com/doc/refman/4.1/ja/purge-master-logs.html">http://dev.mysql.com/doc/refman/4.1/ja/purge-master-logs.html</a>

ではでは

-- 
ひろせ
<a href="http://www.irori.org/">http://www.irori.org/</a>

</pre>
</div>
<p class="button"><a href="12535">[前]</a><a href="12537">[次]</a><a href="../list/12501-12600">[番号順一覧]</a><a href="../thread/12501-12600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12532">  12532 2005-12-02 11:19 [Manabu Tatesawa &lt;mab] レプリケーションマスターでの flush-logs  について</a></span>
<span class="current">-&gt;&nbsp;<a href="12536">  12536 2005-12-05 11:01 ┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12537">  12537 2005-12-05 11:29 　┗[Manabu Tatesawa &lt;mab]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12543">  12543 2005-12-07 23:38 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
</pre>
</body>
</html>
