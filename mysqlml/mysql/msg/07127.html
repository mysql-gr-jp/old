<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7127</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7126.html">[前]</a><a href="7128.html">[次]</a><a href="../list/7101-7200.html">[番号順一覧]</a><a href="../thread/7101-7200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7127
</p>
<div class="header">
<p>
From: Kitajima &lt;Kitajima &lt;kitajima@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 06 Mar 2003 09:43:43 +0900<br>
Subject: [mysql 07127] Re: 文字列比較関数について<br>

</p>
</div>
<div class="body">
<pre>
　これは[Yoshihiro Amano]様が[03/03/05 22:59:37]に送信された、
　[<a href="07125.html">[mysql 07125]</a> Re: 文字列比較関数について]への返信です。
〆￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣
VARCHAR BINARYを使うときは気をつけてください。
SUBSTRING関数などでは全角は2文字で扱われます。
BINARYが無ければ、全角も半角も1文字単位で扱われますが…。
LENGTH関数などはこれに依存しないようです。結果は同じです。
その他も挙動が変わる関数があるかもしれません。

MySQLのVer3なら、charsetにsjisを指定するとこの問題は起こらず
正しく検索できたと思いますが…。
Ver4ならバグなのか、charsetをsjisにしてもこのような全角2バイト目の
大文字小文字同一視問題がでます。

よければ追加情報をください。




Yoshihiro&gt; こんにちは、天野です。
Yoshihiro&gt; 
Yoshihiro&gt; みかげさん～、ありがとうございました！
Yoshihiro&gt; 
Yoshihiro&gt; 教えて頂いたように、VARCHAR BINARY 型にしたところ
Yoshihiro&gt; 意図した形でばっちりデータ出力できました。
Yoshihiro&gt; 
Yoshihiro&gt; ----- Original Message ----- 
Yoshihiro&gt; From: &quot;Mikage Sawatari&quot; &lt;mikage@xxxxxxxxxx&gt;
Yoshihiro&gt; To: &lt;ml@xxxxxxxxxx&gt;
Yoshihiro&gt; Sent: Wednesday, March 05, 2003 10:32 PM
Yoshihiro&gt; Subject: <a href="07124.html">[mysql 07124]</a> Re: 文字列比較関数について
Yoshihiro&gt; 
Yoshihiro&gt; 
Yoshihiro&gt; &gt;     
Yoshihiro&gt; &gt;     こんにちは，みかげです．
Yoshihiro&gt; &gt; 
Yoshihiro&gt; &gt; On Wed, 5 Mar 2003 22:16:16 +0900
Yoshihiro&gt; &gt; &quot;Yoshihiro Amano&quot; &lt;yoamano@xxxxxxxxxx&gt; wrote:
Yoshihiro&gt; &gt; 
Yoshihiro&gt; &gt; &gt; mysql&gt; describe dummy_table;
Yoshihiro&gt; &gt; &gt; +--------------+--------------+------+-----+------------+-------+
Yoshihiro&gt; &gt; &gt; | Field        | Type         | Null | Key | Default    | Extra |
Yoshihiro&gt; &gt; &gt; +--------------+--------------+------+-----+------------+-------+
Yoshihiro&gt; &gt; &gt; | no           | int(3)       |      | MUL | 0          |       |
Yoshihiro&gt; &gt; &gt; | keyword      | varchar(255) | YES  | MUL | NULL       |       |
Yoshihiro&gt; &gt; &gt; +--------------+--------------+------+-----+------------+-------+
Yoshihiro&gt; &gt;     
Yoshihiro&gt; &gt;     MySQL の VARCHAR は大文字小文字を同一視します．
Yoshihiro&gt; &gt;     おそらく，多バイト文字列であることを考慮せずに
Yoshihiro&gt; &gt;     大文字小文字同一視の処理をしているためにおかしな
Yoshihiro&gt; &gt;     結果になるのかと思います．
Yoshihiro&gt; &gt;     
Yoshihiro&gt; &gt;     VARCHAR BINARY 型を使えば直らないでしょうか？
Yoshihiro&gt; &gt;     
Yoshihiro&gt; &gt;     
Yoshihiro&gt; &gt;  -----------------------------------------------------------------------
Yoshihiro&gt; &gt;  Handle : 沢渡 みかげ (mikage@xxxxxxxxxx)               ☆沢渡 みかげ☆
Yoshihiro&gt; &gt;  PGP5 DH/DSS key FP : 76D9 DBB7 5E3C 865B 7A60  A1E8 0A97 3DF0 B130 0941
Yoshihiro&gt; &gt;         You can get my PGP key at <a href="http://www.mikage.to/mikage/mikage.asc">http://www.mikage.to/mikage/mikage.asc</a>
Yoshihiro&gt; &gt; 
Yoshihiro&gt; &gt; 
Yoshihiro&gt; &gt; 


Kitajima. kitajima@xxxxxxxxxx
━━━━────────────────────────────


</pre>
</div>
<p class="button"><a href="7126.html">[前]</a><a href="7128.html">[次]</a><a href="../list/7101-7200.html">[番号順一覧]</a><a href="../thread/7101-7200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7069.html">   7069 2003-02-27 21:54 [&quot;Yoshihiro Amano&quot; &lt;y] 日付のフォーマット                      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7070.html">   7070 2003-02-27 22:06 ┣[Daiju Azuma &lt;daiju_a]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7071.html">   7071 2003-02-27 22:21 ┃┗[&quot;Yoshihiro Amano&quot; &lt;y]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7123.html">   7123 2003-03-05 22:16 ┗[&quot;Yoshihiro Amano&quot; &lt;y] 文字列比較関数について                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7124.html">   7124 2003-03-05 22:32 　┗[Mikage Sawatari &lt;mik]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7125.html">   7125 2003-03-05 22:59 　　┗[&quot;Yoshihiro Amano&quot; &lt;y]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="7127.html">   7127 2003-03-06 09:43 　　　┗[Kitajima &lt;kitajima@x]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7139.html">   7139 2003-03-06 18:03 　　　　┗[&quot;Yoshihiro Amano&quot; &lt;y]                               </a></span>
</pre>
</body>
</html>
