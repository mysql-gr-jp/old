<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5039</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5038.html">[前]</a><a href="5040.html">[次]</a><a href="../list/5001-5100.html">[番号順一覧]</a><a href="../thread/5001-5100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5039
</p>
<div class="header">
<p>
From: "KAWAI,Takanori" &lt;"KAWAI,Takanori" &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 28 Jan 2002 11:04:14 +0900<br>
Subject: [mysql 05039] Re: フィールド名に変数を使った UPDATE の方法はどうすれば？<br>

</p>
</div>
<div class="body">
<pre>川合孝典です。

----- Original Message -----
From: "gosikaku" &lt;gosikaku@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Monday, January 28, 2002 10:41 AM
Subject: <a href="05037.html">[mysql 05037]</a> フィールド名に変数を使った UPDATEの方法はどうすれば？


<span class="quote1">&gt; 宏です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Perl-DBIで作成していて解らない事があるので質問させて頂きます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 例えば、フィールド名「txt1」、「txt2」、「txt3」というのがあるとして、その</span>
<span class="quote1">&gt; フィールドの</span>
<span class="quote1">&gt; 中の「txt1」にUPDATEコマンドで送られてきたコマンドを入れようと思って</span>
<span class="quote1">&gt; いて、そこ</span>
<span class="quote1">&gt; のフィールド名の数字の部分を変数にして実行しようと思って下記のようにプログ</span>
ラ
<span class="quote1">&gt; ムを作ってみたのですがエラーは何もでないのですがデータベースの中をみても、</span>
<span class="quote1">&gt; 全然送られてきたデータが入っていないのです。色々試してみたのですが上手くい</span>
<span class="quote1">&gt; きません。どうか何かいい方法があればお教えください。</span>
まず自分がどのようなSQL文を組み立てたいか、そして実際には
どのようなSQL文になっているか、それがどのように実行されるのか
を確認するべきでしょう。

現状の
　qq{UPDATE box SET "txt$a" = "$txtbun" WHERE id = "aa"}
では、実際には
　UPDATE box SET "txt1" = "テスト" WHERE id = "aa"
となりませんか？それは予定通りですか？

もし
　UPDATE box SET txt1 = "テスト" WHERE id = "aa"
のようにしたいのでは？そうだとすれば
　qq{UPDATE box SET txt$a = "$txtbun" WHERE id = "aa"}
なのでは？

===================================================
川合 孝典 (Hippo2000)
   DBI日本語メーリングリスト管理人、Kansai.pm所属
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>
   <a href="http://www.hippo2000.net/">http://www.hippo2000.net/</a>
===================================================


</pre>
</div>
<p class="button"><a href="5038.html">[前]</a><a href="5040.html">[次]</a><a href="../list/5001-5100.html">[番号順一覧]</a><a href="../thread/5001-5100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="5037.html">   5037 2002-01-28 10:41 ["gosikaku" &lt;gosikaku] フィールド名に変数を使った UPDATE の方法はどうすれば？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5038.html">   5038 2002-01-28 11:02 ┣["gosikaku" &lt;gosikaku] フィールド名に変数を使った UPDATE  の方法はどうすれば？【自己解決】</a></span>
<span class="current">-&gt;&nbsp;<a href="5039.html">   5039 2002-01-28 11:04 ┗["KAWAI,Takanori" &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5040.html">   5040 2002-01-28 11:19 　┗["gosikaku" &lt;gosikaku]                                     </a></span>
</pre>


</body></html>