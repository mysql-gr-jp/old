<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4877</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4876">[前]</a><a href="4878">[次]</a><a href="../list/4801-4900">[番号順一覧]</a><a href="../thread/4801-4900">[スレッド一覧]</a></p>
<p class="id">
mysql:4877
</p>
<div class="header">
<p>
From: &quot;KAWAI,Takanori&quot; &lt;&quot;KAWAI,Takanori&quot; &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 8 Jan 2002 15:28:44 +0900<br>
Subject: [mysql 04877] Re: 複数のデータを一回で UPDATE する方法<br>

</p>
</div>
<div class="body">
<pre>
川合孝典です。

----- Original Message -----
From: &quot;KYLiGHT User&quot; &lt;ram-2k@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Tuesday, January 08, 2002 11:41 AM
Subject: <a href="04876">[mysql 04876]</a> 複数のデータを一回で UPDATEする方法


<span class="quote1">&gt; はじめまして木内といいます。</span>
（中略）
<span class="quote1">&gt; 一人のデータをUPDATEする方法は分かるのですが</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; AさんのBirthday(19000203)、BさんのBirthday(19231201)、Cさんの</span>
<span class="quote1">&gt; Birthday(19770313)を一回のUPDATEコマンドで</span>
<span class="quote1">&gt; 変更したいのですが方法が分かりません。</span>
そのような方法はあいにくと知りませんが。

<span class="quote1">&gt; 数が少ないなら</span>
<span class="quote1">&gt; $sth=$dbh-&gt;prepare(qq{update list set Birthday=$Birthday where</span>
<span class="quote1">&gt; Name=$Name})});</span>
<span class="quote1">&gt; $sth-&gt;execute();</span>
<span class="quote1">&gt; をループしてやればいいのですが</span>

 $sth=$dbh-&gt;prepare(qq{update list set Birthday=? where Name=?})});
 $sth-&gt;execute('19000203,' 'A');
 $sth-&gt;execute('19231201', 'B');
 $sth-&gt;execute('19770313', 'C');

という具合にプレースホルダを利用するほうが、パフォーマンスが
向上します。
#MySQLだとそれほど効果がないかもしれませんが。

そうでなくてもエスケープの問題もあるので、プレースホルダを使うのは
お勧めです。（せっかく手間暇かけてprepareしてるんだし(^^))

===================================================
川合 孝典 (Hippo2000)
   DBI日本語メーリングリスト管理人、Kansai.pm所属
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>
   <a href="http://www.hippo2000.net/">http://www.hippo2000.net/</a>
===================================================


</pre>
</div>
<p class="button"><a href="4876">[前]</a><a href="4878">[次]</a><a href="../list/4801-4900">[番号順一覧]</a><a href="../thread/4801-4900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4876">   4876 2002-01-08 11:41 [KYLiGHT User &lt;ram-2k] 複数のデータを一回で UPDATE する方法    </a></span>
<span class="current">-&gt;&nbsp;<a href="4877">   4877 2002-01-08 15:28 ┣[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4884">   4884 2002-01-09 16:44 ┃┗[KYLiGHT User &lt;ram-2k]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4885">   4885 2002-01-09 17:21 ┃　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4896">   4896 2002-01-11 10:21 ┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
</pre>
</body>
</html>
