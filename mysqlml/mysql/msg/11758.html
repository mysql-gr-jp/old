<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11758</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11757.html">[前]</a><a href="11759.html">[次]</a><a href="../list/11701-11800.html">[番号順一覧]</a><a href="../thread/11701-11800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11758
</p>
<div class="header">
<p>
From: &quot;T.Sasaki&quot; &lt;&quot;T.Sasaki&quot; &lt;papasan2000@xxxxxxxxxx&gt;&gt;<br>
Date: 14 Jul 2005 20:03:37 +0900<br>
Subject: [mysql 11758] Re: where区の書き方が分かりません。<br>

</p>
</div>
<div class="body">
<pre>
佐々木といいます。
柳町さんのコードを流用して確認してみました。

現在の書き方ですと、$starttime と $endtime には日時の内部表現(1104505200などの数字)がセットされます。
ですから、date が MySQL の DATE 型で作成されているなら mktime を使用している行を次のように書き換えます。

$starttime = sprintf( &quot;%04d-%02d-%02d&quot;, $_POST[&quot;read_year&quot;], $_POST[&quot;read_month&quot;], 1 );
$endtime = sprintf( &quot;%04d-%02d-%02d&quot;, $read_end_year, $read_end_month, 1 );

また、SQL の比較演算子を一部間違えていますので、mysql_query を使用している行を次のように書き換えます。
$res = mysql_query( &quot;select * from diary where date&gt;='&quot;.$starttime.&quot;' and date&lt;'&quot;.$endtime.&quot;' order by date desc&quot;, $con );

さらに、$read_end_month をセットしている else 行で $read_end_moth と記述ミスをしているので修正してください。

これで SQL 文としては正しい形になりますので、上手く動かなければ他の要素を確認してみてください。
そのときは浦岡さんのメールを参考にされると良いでしょう。

</pre>
</div>
<p class="button"><a href="11757.html">[前]</a><a href="11759.html">[次]</a><a href="../list/11701-11800.html">[番号順一覧]</a><a href="../thread/11701-11800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11753.html">  11753 2005-07-14 14:03 [&quot;Takeshi Matsumura (] Re: where区の書き方が分かりません。     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11755.html">  11755 2005-07-14 19:11 ┗[柳町　洋光 &lt;hiromits]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11758.html">  11758 2005-07-14 20:03 　┣[&quot;T.Sasaki&quot; &lt;papasan2]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11763.html">  11763 2005-07-15 08:57 　┗[&quot;Keiji Watanabe&quot; &lt;ke]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11764.html">  11764 2005-07-15 23:42 　　┣[柳町　洋光 &lt;hiromits]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11767.html">  11767 2005-07-16 07:39 　　┃┣[&quot;TOYOSHIMA,Masayuki&quot;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11774.html">  11774 2005-07-16 12:01 　　┃┗[こうちゃん &lt;kouji@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11765.html">  11765 2005-07-15 23:48 　　┗[柳町　洋光 &lt;hiromits]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11766.html">  11766 2005-07-16 07:13 　　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11768.html">  11768 2005-07-16 10:28 　　　　┗[柳町　洋光 &lt;hiromits]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11769.html">  11769 2005-07-16 10:36 　　　　　┣[&quot;F.Y&quot; &lt;fumi_sby@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11770.html">  11770 2005-07-16 10:58 　　　　　┣[&quot;T.Sasaki&quot; &lt;papasan2]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11771.html">  11771 2005-07-16 11:04 　　　　　┣[Hideki SUNADA &lt;hidek]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11773.html">  11773 2005-07-16 11:26 　　　　　┃┗[Hideki SUNADA &lt;hidek]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12003.html">  12003 2005-08-24 21:31 　　　　　┗[&quot;janreno&quot; &lt;janreno@x] 詳細をタイトルには書き切れませんが、SQL文の作成で質問致します。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12004.html">  12004 2005-08-24 21:49 　　　　　　┗[UNO Shintaro &lt;uno@xx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12005.html">  12005 2005-08-25 02:12 　　　　　　　┗[&quot;janreno&quot; &lt;janreno@x]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12006.html">  12006 2005-08-25 03:22 　　　　　　　　┣[&quot;saori&quot; &lt;hibiki@xxxx]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12007.html">  12007 2005-08-25 08:01 　　　　　　　　┗[UNO Shintaro &lt;uno@xx]                       </a></span>
</pre>
</body>
</html>
