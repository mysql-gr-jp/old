<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14717</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14716">[前]</a><a href="14718">[次]</a><a href="../list/14701-14800">[番号順一覧]</a><a href="../thread/14701-14800">[スレッド一覧]</a></p>
<p class="id">
mysql:14717
</p>
<div class="header">
<p>
From: chuuken kenkou &lt;chuuken kenkou &lt;ken_ken_1962@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 20 Jan 2009 10:25:54 +0900<br>
Subject: [mysql 14717] Re: sum関数のバージョンによる動作の違い<br>

</p>
</div>
<div class="body">
<pre>

 
 
nullなのに、0を返していたというのが事実なら、MySQL 3.23.55に問題が
あったのではないでしょうか？
 
nullの場合に、0としたいなら、coalesce関数を使うのが簡単だと思います。
 
select sum(coalesce(id,0)) from tbl1;
 
 
なお、coalesce関数は、主要なRDBMSで、同じ機能で実装されています。&gt; Date: Tue, 20 Jan 2009 10:17:07 +0900&gt; From: akiro@xxxxxxxxxx&gt; Subject: <a href="14716">[mysql 14716]</a> sum関数のバージョンによる動作の違い&gt; To: ml@xxxxxxxxxx&gt; &gt; 　いつもお世話になっています。&gt; 　mysqlを3.23から5.0に更新したときに、以下のトラブルに&gt; 見舞われました。&gt; &gt; create table tbl1(id int);&gt; insert into tbl1 values(null);&gt; &gt; としておいて、sumを取ると、&gt; select sum(id) from tbl1;&gt; &gt; 3.23.55では0が返され、5.0.45ではnullが返されます。&gt; &gt; これは周知のことなのかどうか、&gt; なにか別の違いから由来するものなのかどうか、&gt; また、nullを計算から除外(0として計算)するのに&gt; 簡単ないい方法があるのかどうか、&gt; &gt; 教えていただければ助かります。&gt; &gt; _/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/&gt; &gt; 柴垣　 akiro@xxxxxxxxxx&gt; &gt; _/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/&gt; &gt; &gt; 
_________________________________________________________________
【倖田來未特集】新曲からライブ映像、独占インタビューなど倖田來未満載
<a href="http://music.jp.msn.com/m-site/">http://music.jp.msn.com/m-site/</a>

</pre>
</div>
<div class="attach">
<h3 class="attachtitle">添付ファイル</h3>
<ul>
<li><a href="http://www.mysql.gr.jp/mysqlml/mysql/msg/14717/0/"> [text/html]</a>
</ul>
</div>
<p class="button"><a href="14716">[前]</a><a href="14718">[次]</a><a href="../list/14701-14800">[番号順一覧]</a><a href="../thread/14701-14800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14716">  14716 2009-01-20 10:17 [柴垣 &lt;akiro@xxxxxxxx] sum関数のバージョンによる動作の違い     </a></span>
<span class="current">-&gt;&nbsp;<a href="14717">@ 14717 2009-01-20 10:25 ┣[chuuken kenkou &lt;ken_]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14718">  14718 2009-01-20 10:44 ┣[Hideki SUNADA &lt;hidek]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14719">  14719 2009-01-20 12:31 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14720">  14720 2009-01-20 13:28 　┗[柴垣 &lt;akiro@xxxxxxxx]                                     </a></span>
</pre>
</body>
</html>
