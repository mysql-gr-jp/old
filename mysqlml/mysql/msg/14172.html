<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14172</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14171.html">[前]</a><a href="14173.html">[次]</a><a href="../list/14101-14200.html">[番号順一覧]</a><a href="../thread/14101-14200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14172
</p>
<div class="header">
<p>
From: &quot;Katsuyuki Sakai&quot; &lt;&quot;Katsuyuki Sakai&quot; &lt;sakai@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 12 Aug 2007 19:35:17 +0900<br>
Subject: [mysql 14172] Re: レプリケーションについて<br>

</p>
</div>
<div class="body">
<pre>
<span class="quote1">&gt; こういう場合、iproute2というものを使うと、宛先ごとにどに、どのインターフェースカードを経由するかを設定できるようです。</span>

一点訂正です。
宛先ごとにどのnicを使うかはrouteコマンドでも指定可能でした。
今回のケースでは
# route add -net 192.168.100.0 netmask 255.255.255.0 dev eth0
をDB1,DB2で実行すると、宛先が192.168.100.xのパケットはeth0経由で送出されるようになるかと思います。

--
酒井

On 8/12/07, Katsuyuki Sakai &lt;sakai@xxxxxxxxxx&gt; wrote:
<span class="quote1">&gt; おそらくですが、routeコマンドでルーティング設定をされているかと思います。</span>
<span class="quote1">&gt; その場合、デフォルトゲートウエイになるインターフェースカードは1枚になりますので、今回の場合、eth1がDB1からの外向きにデータを送出する際のデフォルトカードになってしまっているのだと思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; こういう場合、iproute2というものを使うと、宛先ごとにどに、どのインターフェースカードを経由するかを設定できるようです。</span>
<span class="quote1">&gt; iproute2に関しては私もよくわかっていないので、Web上の資料などを参照の上、設定されてみてください。</span>
<span class="quote1">&gt; <a href="http://www.hyperdyne.co.jp/~oohashi/work/redhat/iproute2/08.shtml">http://www.hyperdyne.co.jp/~oohashi/work/redhat/iproute2/08.shtml</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; On 8/11/07, kozu@xxxxxxxxxx &lt;kozu@xxxxxxxxxx&gt; wrote:</span>
<span class="quote2">&gt; &gt; 池田様</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; kozu です。</span>
<span class="quote2">&gt; &gt; ご解答ありがとうございます。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 各ホストの my.cnf に bind-address = 127.0.0.1 &lt;対抗DBホストeth0IP&gt; を追加してもパケットは eth1 から送信されていました。</span>
<span class="quote2">&gt; &gt; 従って、bind-address では実現出来ないようです。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; この現象は仕様上、回避できないんですかね。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 現状のままでもそれほど差し支えは無いのですが。。。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 対処方法をご存知な方がいらっしゃいましたら、アドバイスを頂けると幸いです。</span>
<span class="quote2">&gt; &gt; よろしくお願いします。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="14171.html">[前]</a><a href="14173.html">[次]</a><a href="../list/14101-14200.html">[番号順一覧]</a><a href="../thread/14101-14200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14167.html">  14167 2007-08-11 20:29 [&lt;kozu@xxxxxxxxxx&gt;   ] レプリケーションについて                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14168.html">  14168 2007-08-11 20:47 ┗[&quot;Tetsuro IKEDA&quot; &lt;ikd]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14169.html">  14169 2007-08-11 23:06 　┗[&lt;kozu@xxxxxxxxxx&gt;   ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14170.html">  14170 2007-08-12 02:55 　　┗[&quot;Katsuyuki Sakai&quot; &lt;s]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14171.html">  14171 2007-08-12 10:54 　　　┣[&lt;kozu@xxxxxxxxxx&gt;   ]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="14172.html">  14172 2007-08-12 19:35 　　　┣[&quot;Katsuyuki Sakai&quot; &lt;s]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14173.html">  14173 2007-08-13 09:55 　　　┗[島村秀世 &lt;h.shimamur] Copying to tmp table　と Lockの関係について</a></span>
</pre>
</body>
</html>
