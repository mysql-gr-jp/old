<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7164</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="7163.html">[前]</a><a href="7165.html">[次]</a><a href="../list/7101-7200.html">[番号順一覧]</a><a href="../thread/7101-7200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7164
</p>
<div class="header">
<p>
From: Yasunari Imado &lt;Yasunari Imado &lt;sjv@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 13 Mar 2003 14:32:28 +0900<br>
Subject: [mysql 07164] ENCODE 関数の暗号化が失敗する<br>

</p>
</div>
<div class="body">
<pre>はじめまして、イマドと申します。

MySQL3.23.52にて既存のレコードを暗号化しようと
ENCODE 関数を用いて処理するスクリプトをPHP4.2.2で書いています。

暗号化するレコード数は42個あるのですが必ず1個が失敗してしまいます。
SQL文は
    SELECT ENCODE('$crypt_str[$i]', '$encrypt_key')
としています。

$encrypt_key は PASSWORD 関数で処理した文字列となっています。
この $encrypt_key を変更(PASSWORD 関数に渡す文字列を変更)しても
42個のレコードの内、必ず1個が ENCODE の処理で失敗してしまうのですが
何が原因でそうなるのか分からない状態です。

どなたかアドバイス頂けますでしょうか。
MySQL/PHPのプログラミング歴はおよそ3ヶ月で入門程度のレベルです。
他に開示するコードなどがありましたらご指摘下さい。

ENCODE後、レコードをアップデートしてDECODEで取り出す処理は
うまくいっています。
もちろんENCODEに失敗したレコードは無理矢理DECODEされるハメに
なっています。

よろしくお願いします。

-- 
=================================================^=====
Yasunari Imado
	sjv@xxxxxxxxxx    (PGP Key ID: 2582B3D6)

[SSJV]   <a href="http://ssjv.kir.jp/">http://ssjv.kir.jp/</a>
=================================================^=====


</pre>
</div>
<p class="button"><a href="7163.html">[前]</a><a href="7165.html">[次]</a><a href="../list/7101-7200.html">[番号順一覧]</a><a href="../thread/7101-7200.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="7164.html">   7164 2003-03-13 14:32 [Yasunari Imado &lt;sjv@] ENCODE 関数の暗号化が失敗する           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7165.html">   7165 2003-03-13 14:37 ┗[Tom Mishima &lt;tmishim]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7166.html">   7166 2003-03-13 15:43 　┗[Yasunari Imado &lt;sjv@]                                     </a></span>
</pre>


</body></html>