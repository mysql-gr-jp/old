<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12545</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12544.html">[前]</a><a href="12546.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12545
</p>
<div class="header">
<p>
From: Yasufumi Kinoshita &lt;Yasufumi Kinoshita &lt;kinoshita.yasufumi@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 08 Dec 2005 13:15:44 +0900<br>
Subject: [mysql 12545] Re: innodb_safe_binlog<br>

</p>
</div>
<div class="body">
<pre>
木下です。

まず「InnoDBの」ログファイルはデフォルトでコミット同期書き込みですので、
コミットされた処理内容はディスクに書き出されていることが保障されている
と思います。

一方、バイナリログはそうではないのですが、
もしクラッシュしても再起動時にInnoDBとの整合性は確保される仕様のようで
問題はないかと思います。

それでもなお、バイナリログもコミット同期書き込みにしたい場合は
sync_binlog= 1
を指定します。ただし性能に大きな影響があると思います。

ちなみにinnodb_safe_binlogはInnoDBとバイナリログの整合性を確保するためのオプションで、
5.0.3以降では不要になったため使用されなくなっているようです。


参考
<a href="http://dev.mysql.com/doc/refman/5.0/en/binary-log.html">http://dev.mysql.com/doc/refman/5.0/en/binary-log.html</a>



<span class="quote1">&gt; こんにちは。</span>
<span class="quote1">&gt; 阿部と申します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; バイナリログに関する質問です。</span>
<span class="quote1">&gt; MySQLではデフォルトで、コミット時同期書き込みが行われていない為、</span>
<span class="quote1">&gt; innodb_safe_binlog オプションを与え、同期書き込みを行うことにより、</span>
<span class="quote1">&gt; 電源障害等にも対応できるとの情報を得たのですが、</span>
<span class="quote1">&gt; 全てのテーブルがMyISAMの場合には、このオプションを指定せずとも</span>
<span class="quote1">&gt; 同期書き込みが行われているということでしょうか。</span>
<span class="quote1">&gt; 名前からして、innodb用のオプションのように見受けられるので、</span>
<span class="quote1">&gt; このような推測にいたりました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 電源断を検証できるどうでもいいマシンが現状無い為、</span>
<span class="quote1">&gt; 質問させて頂きたいと思います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; よろしくお願い致します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>

-- 
木下

</pre>
</div>
<p class="button"><a href="12544.html">[前]</a><a href="12546.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12544.html">  12544 2005-12-08 11:57 [&lt;abecky@xxxxxxxxxx&gt; ] innodb_safe_binlog                      </a></span>
<span class="current">-&gt;&nbsp;<a href="12545.html">  12545 2005-12-08 13:15 ┗[Yasufumi Kinoshita &lt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12547.html">  12547 2005-12-08 14:14 　┗[&lt;abecky@xxxxxxxxxx&gt; ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12548.html">  12548 2005-12-08 17:04 　　┗[Yasufumi Kinoshita &lt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12549.html">  12549 2005-12-08 21:13 　　　┗[&lt;abecky@xxxxxxxxxx&gt; ]                                 </a></span>
</pre>
</body>
</html>
