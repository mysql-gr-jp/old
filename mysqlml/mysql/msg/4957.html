<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4957</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4956.html">[前]</a><a href="4958.html">[次]</a><a href="../list/4901-5000.html">[番号順一覧]</a><a href="../thread/4901-5000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4957
</p>
<div class="header">
<p>
From: &quot;TAKAHASHI, Tomohiro&quot; &lt;&quot;TAKAHASHI, Tomohiro&quot; &lt;t_takahashi@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 18 Jan 2002 02:48:27 +0900<br>
Subject: [mysql 04957] Re: sjis  サーバの BLOB 項目に画像を登録 ( たぶん解決)<br>

</p>
</div>
<div class="body">
<pre>
  高橋(智)です。

  バイナリデータであれば一律  field=0x0102FFFE.... というSQL文として
送信してしまうというのもありかも知れません。送信するSQL文の長さが
長くなりますが確実です。
  ちなみに、私が作成しているMySQL用のJDBCドライバでは↑のようなエン
コーディングにしています。

&quot;TAKAHASHI, Tomohiro&quot; wrote:
<span class="quote1">&gt; </span>
<span class="quote1">&gt;   高橋(智)です。</span>
<span class="quote1">&gt;   すばらしい対処方法をありがとうございます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;   下記の件ですが、</span>
<span class="quote1">&gt;   TSQLClientDataSet の BeforeUpdateRecordイベントハンドラなどを使う</span>
<span class="quote1">&gt; ことで、データを変更前に適切に書き換えることで対処はできないでしょ</span>
<span class="quote1">&gt; うか?</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 前田 剛 wrote:</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 　MySQL 3.23.47のsjisサーバのBLOB項目に画像を登録しようとしてここ</span>
<span class="quote2">&gt; &gt; 数日試行錯誤していましたが、libmysql.dllを修正することによりなん</span>
<span class="quote2">&gt; &gt; とかうまく行きました。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 　過去ログではこの問題への対応方法が見つかりませんでしたので、一</span>
<span class="quote2">&gt; &gt; 応報告しておきます。</span>
<span class="quote2">&gt; &gt; 　テストした範囲ではうまくいっているようですが、おかしな点があり</span>
<span class="quote2">&gt; &gt; ましたらご指摘下さるようお願いいたします。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 【開発環境】</span>
<span class="quote2">&gt; &gt; Borland Delphi 6 Professional(UpdatePack 1)のdbExpressを利用。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; ※dbExpressは、MySQLに接続するためにlibmysql.dllを使用します。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 【発生していた問題】</span>
<span class="quote2">&gt; &gt; 　sjisサーバのBLOB項目に特定のバイトパターンを含む画像を登録しよ</span>
<span class="quote2">&gt; &gt; うとすると、データが化けるか登録に失敗してしまう。使用していた</span>
<span class="quote2">&gt; &gt; libmysql.dllはsjis対応版。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt;  &lt;略&gt;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; 高橋智宏</span>
<span class="quote1">&gt;   Java読書会( <a href="http://www.t3-jpn.com/bof/">http://www.t3-jpn.com/bof/</a> )</span>
<span class="quote1">&gt;   T3-Japan( <a href="http://www.t3-jpn.com/">http://www.t3-jpn.com/</a> )</span>

-- 
高橋智宏
  Java読書会( <a href="http://www.t3-jpn.com/bof/">http://www.t3-jpn.com/bof/</a> )
  T3-Japan( <a href="http://www.t3-jpn.com/">http://www.t3-jpn.com/</a> )

</pre>
</div>
<p class="button"><a href="4956.html">[前]</a><a href="4958.html">[次]</a><a href="../list/4901-5000.html">[番号順一覧]</a><a href="../thread/4901-5000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4955.html">   4955 2002-01-18 01:50 [前田 剛 &lt;maeda@xxxxx] sjis サーバの BLOB 項目に画像を登録 ( たぶん解決)</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4956.html">   4956 2002-01-18 02:25 ┣[&quot;TAKAHASHI, Tomohiro]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4957.html">   4957 2002-01-18 02:48 ┃┣[&quot;TAKAHASHI, Tomohiro]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5002.html">   5002 2002-01-21 21:25 ┃┗[前田 剛 &lt;maeda@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5003.html">   5003 2002-01-21 21:39 ┃　┗[&quot;TAKAHASHI, Tomohiro]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5335.html">   5335 2002-04-10 23:30 ┗[&quot;TAKAHASHI, Tomohiro]                                       </a></span>
</pre>
</body>
</html>
