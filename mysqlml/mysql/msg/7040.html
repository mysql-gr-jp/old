<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7040</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="7039.html">[前]</a><a href="7041.html">[次]</a><a href="../list/7001-7100.html">[番号順一覧]</a><a href="../thread/7001-7100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7040
</p>
<div class="header">
<p>
From: Kengo Jinno &lt;Kengo Jinno &lt;kengo@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 25 Feb 2003 12:11:06 +0900<br>
Subject: [mysql 07040] Re: ODBC 経由の UPDATE  でエラーにならない<br>

</p>
</div>
<div class="body">
<pre>
神野です。

Tue, 25 Feb 2003 12:00:55 +0900 ごろに
&lt;3E5ADC67.5821F44B@xxxxxxxxxx&gt; の
&quot;<a href="07039.html">[mysql 07039]</a> Re: ODBC 経由の UPDATE でエラーにならない&quot; のメールで
kazuo kaku &lt;kkaku@xxxxxxxxxx&gt; さんは書きました。

<span class="quote1">&gt; ＵＰＤＡＴＥの更新キーと一致する値が存在しない時に</span>
<span class="quote1">&gt; エラーにならないようなのです。</span>

ん〜？　だからそれも見ればいいんじゃないですか？

select count(*) from foo where bar = 'hoge';
if( １件以上ヒットした ) {
    update foo set baz = 'piyo' where bar = 'hoge';
} else {
    エラー
}

という感じで。

selectしてからupdateする間に他のセッションから更新されて、
思った通りにならない、という可能性はありますが、それなら
ロックするとか。

-- 
神野健吾 &lt;kengo@xxxxxxxxxx&gt;

</pre>
</div>
<p class="button"><a href="7039.html">[前]</a><a href="7041.html">[次]</a><a href="../list/7001-7100.html">[番号順一覧]</a><a href="../thread/7001-7100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7031.html">   7031 2003-02-25 10:35 [kazuo kaku &lt;kkaku@xx] ODBC 経由の UPDATE でエラーにならない   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7037.html">   7037 2003-02-25 11:29 ┗[Kengo Jinno &lt;kengo@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7039.html">   7039 2003-02-25 12:00 　┗[kazuo kaku &lt;kkaku@xx]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="7040.html">   7040 2003-02-25 12:11 　　┣[Kengo Jinno &lt;kengo@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7043.html">   7043 2003-02-25 13:16 　　┃┗[kazuo kaku &lt;kkaku@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7045.html">   7045 2003-02-25 13:24 　　┃　┣[Ryuichiro Munechika ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7048.html">   7048 2003-02-25 13:44 　　┃　┃┗[kazuo kaku &lt;kkaku@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7046.html">   7046 2003-02-25 13:35 　　┃　┣[Kengo Jinno &lt;kengo@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7049.html">   7049 2003-02-25 13:51 　　┃　┃┗[kazuo kaku &lt;kkaku@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7047.html">   7047 2003-02-25 13:39 　　┃　┗[SUGAWARA Hajime &lt;sug]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7041.html">   7041 2003-02-25 12:13 　　┣[Daiju Azuma &lt;daiju_a]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7042.html">   7042 2003-02-25 12:58 　　┗[遠藤 俊裕 &lt;endo_t@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7044.html">   7044 2003-02-25 13:20 　　　┗[kazuo kaku &lt;kkaku@xx]                                 </a></span>
</pre>
</body>
</html>
