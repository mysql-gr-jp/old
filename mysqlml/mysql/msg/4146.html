<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4146</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="4145.html">[前]</a><a href="4147.html">[次]</a><a href="../list/4101-4200.html">[番号順一覧]</a><a href="../thread/4101-4200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4146
</p>
<div class="header">
<p>
From: &quot;tamuzin2&quot; &lt;&quot;tamuzin2&quot; &lt;tamuzin@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 5 Aug 2001 22:10:06 +0900<br>
Subject: [mysql 04146] Re: datetime を使用しての比較<br>

</p>
</div>
<div class="body">
<pre>
おかもと　様、遠藤　様
お教え頂き有難うございます。

<span class="quote1">&gt;SELECT time FROM table_name ORDER BY time DESC LIMIT 1;</span>
をPerl内で使用してみたらちゃんと最新のデータが取り出せました。有難うございま
す。

<span class="quote1">&gt;SELECT MAX(time) FROM table_name where time &lt; now;</span>
を下記の様にPerl内で使用したのですがエラーが出て表示できませんでした。Perl内
での記述の仕方が間違っているのでしょうか？もし間違っていましたらお教え下さ
い。

$dbh = DBI -&gt; connect ($dns,$username,$password) or &amp;Error(&quot;データベースへア
クセスできません。&quot;);
$sth = $dbh-&gt;prepare(&quot;select MAX(Nyu_nicizi) from kaimono where Nyu_nicizi &lt;
now&quot;);
$sth -&gt; execute() or &amp;Error(&quot;select MAX(Nyu_nicizi)・・・ を実行できません。
&quot;);

print &quot;content-type: text/html\; charset=shift_jis\n\n&quot;;
print&quot;&lt;pre&gt;\n&quot;;
while(@ary = $sth -&gt; fetchrow_array()){
print $ary[0];
}
print&quot;&lt;/pre&gt;\n&quot;;

$sth -&gt; finish();
$dbh -&gt; disconnect();
exit;

sub Error{
#print &quot;content-type: text/html\n\n&quot;;
print $_[0];
print qq(&lt;br&gt;&lt;a href=&quot;javascript:history.back(1)&quot;&gt;戻る&lt;/a&gt;);
exit;
}

《発生したエラーメッセージ》
Premature end of script headers:
e:/home/shopping/public_html//saito/syoppusaito.cgi
DBD::mysql::st execute failed: Unknown column 'now' in 'where clause' at
e:/home/shopping/public_html//saito/syoppusaito.cgi line 15.
Database handle destroyed without explicit disconnect.

どうか宜しくお願いします。


</pre>
</div>
<p class="button"><a href="4145.html">[前]</a><a href="4147.html">[次]</a><a href="../list/4101-4200.html">[番号順一覧]</a><a href="../thread/4101-4200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4143.html">   4143 2001-08-05 18:48 [&quot;tamuzin2&quot; &lt;tamuzin@] datetime を使用しての比較               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4144.html">   4144 2001-08-05 19:29 ┣[Okamoto RYO &lt;ryo@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4145.html">   4145 2001-08-05 21:02 ┃┣[&lt;endo_t@xxxxxxxxxx&gt; ]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="4146.html">   4146 2001-08-05 22:10 ┃┗[&quot;tamuzin2&quot; &lt;tamuzin@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4147.html">   4147 2001-08-05 22:13 ┃　┗[Tatsuhiko Miyagawa &lt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4148.html">   4148 2001-08-05 22:27 ┃　　┗[&quot;tamuzin2&quot; &lt;tamuzin@] Re: datetime を使用しての比較【解決】</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4162.html">   4162 2001-08-09 18:39 ┗[&quot;tamuzin2&quot; &lt;tamuzin@] 最新日時のデータのファイルを表示      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4163.html">   4163 2001-08-10 07:41 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4164.html">   4164 2001-08-10 10:46 　　┗[&quot;tamuzin2&quot; &lt;tamuzin@] Re: 最新日時のデータのファイルを表示【解決】</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4165.html">   4165 2001-08-10 11:22 　　　┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                 </a></span>
</pre>
</body>
</html>
