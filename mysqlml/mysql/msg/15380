<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15380</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15379">[前]</a><a href="15381">[次]</a><a href="../list/15301-15400">[番号順一覧]</a><a href="../thread/15301-15400">[スレッド一覧]</a></p>
<p class="id">
mysql:15380
</p>
<div class="header">
<p>
From: こんにちは伊藤です &lt;こんにちは伊藤です &lt;ito.takahiro.cp@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 23 Aug 2010 21:13:26 +0900<br>
Subject: [mysql 15380] カーソルのネストについて<br>

</p>
</div>
<div class="body">
<pre>
MySQL初心者の伊藤です。
いつも皆様のML上で学んでおります。

初歩的な質問かも知れませんが、MySQLのストアドの中で
カーソルを利用する場合、カーソルのネストは出来ないものでしょうか？
以下のようなソース上で内側LOOPのカーソル宣言付近でSyntaxエラーとなります。

#外側LOOP開始
DECLARE CURS_A CURSOR FOR SELECT * FROM TBL_A 
BEGIN 
 DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET loop_flg1=1;
 OPEN CURS_A
 REPEAT
 FETCH FROM CURS_A INTO 
 FETCH処理・・・

	#内側LOOP開始
	DECLARE CURS_B CURSOR FOR SELECT * FROM TBL_B WHERE この条件が動
的
	BEGIN 
	 DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET loop_flg2=1;
	 OPEN CURS_B
	 REPEAT
	 FETCH FROM CURS_B INTO 
	 FETCH処理・・・

	 UNTIL loop_flg2 END REPEAT
	 CLOSE CURS_B
	END
	#内側LOOP終了

 UNTIL loop_flg1 END REPEAT
 CLOSE CURS_A
END
#外側LOOP終了



-------------------------------------------------
伊藤崇洋
ito.takahiro.cp@xxxxxxxxxx
-------------------------------------------------


</pre>
</div>
<p class="button"><a href="15379">[前]</a><a href="15381">[次]</a><a href="../list/15301-15400">[番号順一覧]</a><a href="../thread/15301-15400">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="15380">  15380 2010-08-23 21:13 [こんにちは伊藤です &lt;] カーソルのネストについて                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15382">  15382 2010-08-24 15:20 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15383">  15383 2010-08-24 15:37 　┗[こんにちは伊藤です &lt;]                                     </a></span>
</pre>
</body>
</html>
