<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9644</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="9643.html">[前]</a><a href="9645.html">[次]</a><a href="../list/9601-9700.html">[番号順一覧]</a><a href="../thread/9601-9700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:9644
</p>
<div class="header">
<p>
From: (大内幸一) &lt;&lt;oouchi@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 15 Jun 2004 00:01:07 +0900<br>
Subject: [mysql 09644] Re: Insert 毎に接続・切断を繰り返すと不特定な場所でエラーが発生する。<br>

</p>
</div>
<div class="body">
<pre>
大内です。

すみません、これだとものすごい時間がかかるので毎回接続・切断せずに
PreparedStatementを使ったほうが良いと思います^^;

<span class="quote1">&gt;java.net.BindException: Address already in use: connect</span>
<span class="quote1">&gt;となっているのでソケットが閉じる前に開こうとしているんじゃないでしょうか？</span>
<span class="quote1">&gt;（サーバ側が閉じてない？）</span>
<span class="quote1">&gt;Connectionオブジェクトを使いまわすようにするか、切断して接続するまで</span>
<span class="quote1">&gt;ちょっと間を開けたらよいのではないでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;  static void loop() throws SQLException {</span>
<span class="quote1">&gt;    String COMMA = &quot;.&quot;;</span>
<span class="quote1">&gt;    for (int i = 0; i &lt; 256; i++) {</span>
<span class="quote1">&gt;      for (int j = 0; j &lt; 256; j++) {</span>
<span class="quote1">&gt;        for (int k = 0; k &lt; 256; k++) {</span>
<span class="quote1">&gt;          for (int l = 0; l &lt; 256; l++) {</span>
<span class="quote1">&gt;            StringBuffer buf = new StringBuffer();</span>
<span class="quote1">&gt;            buf.append(i).append(COMMA).append(j).append(COMMA);</span>
<span class="quote1">&gt;            buf.append(k).append(COMMA).append(l);</span>
<span class="quote1">&gt;            String ip = buf.toString();</span>
<span class="quote1">&gt;            System.out.println(&quot;ip = &quot; + ip);</span>
<span class="quote1">&gt;            insert(ip);</span>
<span class="quote1">&gt;            try {</span>
<span class="quote1">&gt;              Thread.sleep(100); // ちょっと待つ</span>
<span class="quote1">&gt;            } catch (Exception e) {</span>
<span class="quote1">&gt;            }</span>
<span class="quote1">&gt;          }</span>
<span class="quote1">&gt;          showStatus();</span>
<span class="quote1">&gt;        }</span>
<span class="quote1">&gt;      }</span>
<span class="quote1">&gt;    }</span>
<span class="quote1">&gt;  }</span>


</pre>
</div>
<p class="button"><a href="9643.html">[前]</a><a href="9645.html">[次]</a><a href="../list/9601-9700.html">[番号順一覧]</a><a href="../thread/9601-9700.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="9640.html">   9640 2004-06-14 20:23 [&quot;Kageyama Takahiro&quot; ] Insert 毎に接続・切断を繰り返すと不特定な場所でエラーが発生する。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9641.html">   9641 2004-06-14 20:59 ┣[ML account &lt;ml@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9642.html">   9642 2004-06-14 21:31 ┣[&quot;Haruki Nakayama&quot; &lt;h]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9645.html">   9645 2004-06-15 10:24 ┃┗[Murayama Toshikiyo &lt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9643.html">   9643 2004-06-14 23:42 ┣[&lt;oouchi@xxxxxxxxxx&gt; ]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="9644.html">   9644 2004-06-15 00:01 ┃┗[&lt;oouchi@xxxxxxxxxx&gt; ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9651.html">   9651 2004-06-15 18:21 ┗[&lt;yasuyuki@xxxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9652.html">   9652 2004-06-15 19:00 　┣[&quot;HIROSE, Masaaki&quot; &lt;h]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9654.html">   9654 2004-06-15 19:29 　┃┗[ML account &lt;ml@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9658.html">   9658 2004-06-16 01:47 　┃　┗[&quot;HIROSE, Masaaki&quot; &lt;h]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9655.html">   9655 2004-06-15 19:42 　┗[seiji takegata &lt;take]                                     </a></span>
</pre>
</body>
</html>
