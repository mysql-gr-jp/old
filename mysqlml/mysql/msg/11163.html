<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11163</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11162.html">[前]</a><a href="11164.html">[次]</a><a href="../list/11101-11200.html">[番号順一覧]</a><a href="../thread/11101-11200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11163
</p>
<div class="header">
<p>
From: &quot;kondo kondo&quot; &lt;&quot;kondo kondo&quot; &lt;umiushi_00@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 15 Mar 2005 07:14:17 +0000<br>
Subject: [mysql 11163] Re: MYSQLを使ったバイナリファイルインサート<br>

</p>
</div>
<div class="body">
<pre>
近藤です。
<span class="quote1">&gt;お世話になっております。河合と申します。</span>
<span class="quote1">&gt;簡単な質問かも知れませんが・・・・。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;バイナリファイルをテーブルに保存したいとき、</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;INSERT INTO tbl_thesis values </span>
('00000000000000000002','vvvvvv','','5','vvvvvv','','','','','','','','','','2004-4-01','','','','','','','','','','','fdfdssfdg','dvgdsgsd','1','20050315 
15:15:04','',load_file('C:\a.pdf'))
<span class="quote1">&gt;</span>
<span class="quote1">&gt;↑上記のようなInsert文を書き、pdfファイルの保存するテーブル列はlongblob</span>
<span class="quote1">&gt;としたのですが、</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;Can't get stat of 'C:a.pdf' (Errcode: 2)</span>
<span class="quote1">&gt;</span>

Can't get stat of 'C:a.pdf'って、&quot;C:\&quot;が&quot;C:&quot;になって
ますよね。ひょっとして\がエスケープされてませんか？
だとすると、以下の文はいかがでしょうか？

INSERT INTO tbl_thesis values 
('00000000000000000002','vvvvvv','','5','vvvvvv','','','','','','','','','','2004-4-01','','','','','','','','','','','fdfdssfdg','dvgdsgsd','1','20050315 
15:15:04','',load_file('C:\\a.pdf'))

MySQLのヘルプでのload_file()の説明があったので、
以下に転記します。
（ヘルプの転記ってOKでしたっけ？ダメならご指摘を・・・）
&quot;（ダブルクォート）と'（シングルクォート）が違うから・・・とか
ないですよね？？^^;

■MySQLヘルプより

LOAD_FILE(file_name)
    ファイルを読み取り、ファイルの内容を文字列として返す。
ファイルはサーバ上に存在しなければならず、ファイルのフル
パス名を指定する必要がある。また、FILE 権限が必要となる。
ファイルは全ユーザが読み取り可能でなければならず、
max_allowed_packet より小さいサイズでなければならない。
 ファイルが存在しない場合や、上記の理由のいずれかに
よって読み取り不可能な場合、この関数は NULL を返す。

mysql&gt; UPDATE tbl_name
           SET blob_column=LOAD_FILE(&quot;/tmp/picture&quot;)
           WHERE id=1;

_________________________________________________________________
無料250MBメールボックスのMSN Hotmail 
<a href="https://registernet.passport.net/reg.srf?id=2&amp;lc=1041">https://registernet.passport.net/reg.srf?id=2&amp;lc=1041</a> 


</pre>
</div>
<p class="button"><a href="11162.html">[前]</a><a href="11164.html">[次]</a><a href="../list/11101-11200.html">[番号順一覧]</a><a href="../thread/11101-11200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11162.html">  11162 2005-03-15 15:56 [Toshinori Kawai &lt;kaw] MYSQLを使ったバイナリファイルインサート </a></span>
<span class="current">-&gt;&nbsp;<a href="11163.html">  11163 2005-03-15 16:14 ┗[&quot;kondo kondo&quot; &lt;umius]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11164.html">  11164 2005-03-15 16:39 　┗[Toshinori Kawai &lt;kaw]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11165.html">  11165 2005-03-15 16:56 　　┗[&quot;kondo kondo&quot; &lt;umius]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11166.html">  11166 2005-03-15 17:12 　　　┗[Toshinori Kawai &lt;kaw]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11167.html">  11167 2005-03-15 17:37 　　　　┣[&quot;kondo kondo&quot; &lt;umius]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11168.html">  11168 2005-03-15 18:00 　　　　┃┣[Toshinori Kawai &lt;kaw]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11169.html">  11169 2005-03-15 18:30 　　　　┃┃┗[Ryuji Matsushita &lt;ma]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11170.html">  11170 2005-03-15 18:37 　　　　┃┃　┗[Toshinori Kawai &lt;kaw]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11171.html">  11171 2005-03-15 19:47 　　　　┃┃　　┗[Ryuji Matsushita &lt;ma]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11173.html">  11173 2005-03-15 20:46 　　　　┃┃　　　┗[Tetsuro IKEDA &lt;ikdtt]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11172.html">  11172 2005-03-15 20:34 　　　　┃┣[SUGIMURA Takashi 杉�]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11174.html">  11174 2005-03-15 21:47 　　　　┃┗[Sumito_Oda &lt;oda@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11175.html">  11175 2005-03-15 23:04 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11177.html">  11177 2005-03-16 10:13 　　　　　┗[Toshinori Kawai &lt;kaw]                             </a></span>
</pre>
</body>
</html>
