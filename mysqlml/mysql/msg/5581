<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5581</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5580">[前]</a><a href="5582">[次]</a><a href="../list/5501-5600">[番号順一覧]</a><a href="../thread/5501-5600">[スレッド一覧]</a></p>
<p class="id">
mysql:5581
</p>
<div class="header">
<p>
From: Satoshi Tatsuoka &lt;Satoshi Tatsuoka &lt;satoshi@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 30 May 2002 12:02:50 +0900<br>
Subject: [mysql 05581] Re: SELECT WEEK の表記について<br>

</p>
</div>
<div class="body">
<pre>
立岡です。

On Thu, 30 May 2002 08:01:28 +0900
&quot;Isamu Narimatsu&quot; &lt;isamu@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; WEEK　の表示結果はどのような法則によって求められるのでしょうか？</span>

これは週のとらえかたの問題になってきますが、
基本概念はMySQLでは第０週とは前年の最終週と考えます。

3.23.x系では
○week('XXXX-01-01')またはweek('XXXX-01-01',0)の場合（日曜スタート）
この日が「木金土」の場合は前年の週とみなされ０が返ります。
2000/1/1（土）---&gt; 0
2001/1/1（月）---&gt; 1
2002/1/1（火）---&gt; 1
2003/1/1（水）---&gt; 1
2004/1/1（木）---&gt; 0
2005/1/1（土）---&gt; 0
2006/1/1（日）---&gt; 1
2007/1/1（月）---&gt; 1
2008/1/1（火）---&gt; 1
2009/1/1（木）---&gt; 0
2010/1/1（金）---&gt; 0

○week('XXXX-01-01',1)の場合（月曜スタート）
この日が「金土日」の場合は前年の週とみなされ０が返ります。
2000/1/1（土）---&gt; 0
2001/1/1（月）---&gt; 1
2002/1/1（火）---&gt; 1
2003/1/1（水）---&gt; 1
2004/1/1（木）---&gt; 1
2006/1/1（日）---&gt; 0
2005/1/1（土）---&gt; 0
2007/1/1（月）---&gt; 1
2008/1/1（火）---&gt; 1
2009/1/1（木）---&gt; 1
2010/1/1（金）---&gt; 0

4.x系では
○week('XXXX-01-01')またはweek('XXXX-01-01',0)の場合（日曜スタート）
この日が「日」でない場合は前年の週とみなされ０が返ります。
        ^^^^^^^^^^^^（アメリカのカレンダーの考え方に沿っているらしい）
2000/1/1（土）---&gt; 0
2001/1/1（月）---&gt; 0
2002/1/1（火）---&gt; 0
2003/1/1（水）---&gt; 0
2004/1/1（木）---&gt; 0
2006/1/1（日）---&gt; 1 (このときだけ）
2005/1/1（土）---&gt; 0
2007/1/1（月）---&gt; 0
2008/1/1（火）---&gt; 0
2009/1/1（木）---&gt; 0
2010/1/1（金）---&gt; 0

○week('XXXX-01-01',1)の場合（月曜スタート）
この日が「金土日」の場合は前年の週とみなされ０が帰ります。
（これは3.23系と同じです）

Satoshi Tatsuoka 
satoshi@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="5580">[前]</a><a href="5582">[次]</a><a href="../list/5501-5600">[番号順一覧]</a><a href="../thread/5501-5600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5578">   5578 2002-05-30 08:01 [&quot;Isamu Narimatsu&quot; &lt;i] SELECT WEEK の表記について              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5579">   5579 2002-05-30 10:23 ┣[&lt;sugita@xxxxxxxxxx&gt; ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5580">   5580 2002-05-30 10:27 ┃┗[&quot;Isamu Narimatsu&quot; &lt;i]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="5581">   5581 2002-05-30 12:02 ┗[Satoshi Tatsuoka &lt;sa]                                       </a></span>
</pre>
</body>
</html>
