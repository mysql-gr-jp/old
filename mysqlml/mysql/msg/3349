<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3349</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3348">[前]</a><a href="3350">[次]</a><a href="../list/3301-3400">[番号順一覧]</a><a href="../thread/3301-3400">[スレッド一覧]</a></p>
<p class="id">
mysql:3349
</p>
<div class="header">
<p>
From: &quot;KengoNakajima@HOMPO&quot; &lt;&quot;KengoNakajima@HOMPO&quot; &lt;ringo@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 07 Mar 2001 15:51:02 +0900<br>
Subject: [mysql 03349] 3.23.33 の性能上の問題<br>

</p>
</div>
<div class="body">
<pre>
はじめて投稿します。
中嶋と申します。

仕事で MySQL を使えないかと考えて、検証作業をしている中で、
MySQL 3.23.33 に特有の問題を発見しました。(3.22.32では発生せず）
その問題とは、

　TCP/IP　接続を用いてクライアントとサーバを接続する場合、
1回のクエリーでやり取りする情報がEthernetのMTUに関係する
あるバイト数を超えると、急に性能低下（数十分の１）する場合がある
という問題です。ローカルのUNIXドメインソケットを使う分には発生
しないので、付属のMySQLbenchでは、見つけられないです。
たとえば、800バイトのSELECT結果を受信するのは　3000 query/sec
なのに、 1.6kb の場合は100 query/sec,に急激に減少し、
3kb の場合はまた　2000 query/sec に戻るといった現象です。

　この問題は3.23 になって加えられた、 vio 機能の影響のように
見えます。どなたか、同じ現象に出くわした・解決された方は
いらっしゃいますか？

　ほとんどバグに近い現象なので、何とかしたいです。
この問題が解決しないかぎり、3.23　をリモートから使うことは
全く無理です。


ベンチマーク結果などを

<a href="http://www.vce-lab.net/mysql-storage/">http://www.vce-lab.net/mysql-storage/</a>
<a href="http://www.vce-lab.net/mysql-storage/hole.html">http://www.vce-lab.net/mysql-storage/hole.html</a>

などで公開してみました。見てみてください。
では、よろしくおねがいします。

--------
中嶋謙互 @ vce-lab.net



</pre>
</div>
<p class="button"><a href="3348">[前]</a><a href="3350">[次]</a><a href="../list/3301-3400">[番号順一覧]</a><a href="../thread/3301-3400">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="3349">   3349 2001-03-07 15:51 [&quot;KengoNakajima@HOMPO] 3.23.33 の性能上の問題                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3350">   3350 2001-03-07 22:08 ┗[tateyan &lt;tateyan@xxx]                                       </a></span>
</pre>
</body>
</html>
