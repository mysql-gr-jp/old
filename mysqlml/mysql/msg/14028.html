<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14028</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14027.html">[前]</a><a href="14029.html">[次]</a><a href="../list/14001-14100.html">[番号順一覧]</a><a href="../thread/14001-14100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14028
</p>
<div class="header">
<p>
From: Imamura Yoshinobu &lt;Imamura Yoshinobu &lt;imm@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 31 May 2007 20:37:17 +0900<br>
Subject: [mysql 14028] ipvsadm経由のmysql接続<br>

</p>
</div>
<div class="body">
<pre>
今村です。

MySQL5.0.22 でMySQL Clusterを構築しています。
MySQL Clusterの稼働はうまくいったのですが
SQLノードへの接続をipvsadmを使って分散アクセスしようとして
接続エラーとなってしまいます。
　　ERROR 2003 (HY000): Can't connect to MySQL server on '192.168.x.x' (111)

tcpdumpで確認したところ仮想サーバへはパケットも来ておらず
mysqlクライアントが勝手に判断してエラーを返しているように見えます。
mysql側で何か特別な設定が必要なのでしょうか？

ipvsadm(LVS)での分散処理は
DSR,ダイレクトルーティング方式で設定しており
http(port:80)は正常に動作したのですが
mysql(port:3306)では実サーバに接続できません。
実サーバへの直接接続はできています。

Clusterにせず単体でMySQLサーバを起動して
ipvsadmで接続を試みても同様の現象です。

何か考えられる要因等、アドバイスいただけると幸いです。
宜しくお願いします。


</pre>
</div>
<p class="button"><a href="14027.html">[前]</a><a href="14029.html">[次]</a><a href="../list/14001-14100.html">[番号順一覧]</a><a href="../thread/14001-14100.html">[スレッド一覧]</a></p>
</body>
</html>
