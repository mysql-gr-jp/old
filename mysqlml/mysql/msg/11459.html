<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11459</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11458.html">[前]</a><a href="11460.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11459
</p>
<div class="header">
<p>
From: なべ 太郎 &lt;なべ 太郎 &lt;nabenabe0525@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 27 May 2005 15:34:16 +0900<br>
Subject: [mysql 11459] Re: mysql C APIの接続と切断について<br>

</p>
</div>
<div class="body">
<pre>
高橋様、お世話になります。なべです。

　現在出ているエラーは「Too many connections」です。

　過去ログ等で勉強し、同一プロセスで接続・切断を数百回と繰り返すような
　処理はやめた方がいいということは重々承知してますし
　現行のプログラムも一つの接続を使いまわしてますが
　耐久テスト的な事をやりたくて発覚した現象なんです。
　どうしても解せないのは、max_connectionsを100に設定している状態で
　同一プロセスから50回連続で接続（mysql_real_connect）と切断（mysql_close）
を
　繰り返しプロセスを終了。その1時間後ぐらいに今度は50回以上連続で実行すると
　確実に50回目で接続できなくなるのです。
　まるで切断（mysql_close）がまったく利いてないとしか思えないんです。
　このままだと1日１回動かす処理でも、101日目には接続出来ないことが
　容易に想像できるので・・・。
　mysqlを使うのは初めてなので、何分勉強不足の範囲だとは思うのですが
　どうしても解決できません。

　何かお気づきの事はありますでしょうか？
　　

_________________________________________________________________
無料250MBメールボックスのMSN Hotmail 
<a href="https://registernet.passport.net/reg.srf?id=2&amp;lc=1041">https://registernet.passport.net/reg.srf?id=2&amp;lc=1041</a> 


</pre>
</div>
<p class="button"><a href="11458.html">[前]</a><a href="11460.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11442.html">  11442 2005-05-26 10:41 [なべ 太郎 &lt;nabenabe0] mysql C APIの接続と切断について         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11448.html">  11448 2005-05-26 19:30 ┣[天野　潔 &lt;kiyoshi.am]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11450.html">  11450 2005-05-26 19:59 ┃┗[なべ 太郎 &lt;nabenabe0]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11452.html">  11452 2005-05-26 20:59 ┃　┗[天野　潔 &lt;kiyoshi.am]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11454.html">  11454 2005-05-26 22:20 ┃　　┗[なべ 太郎 &lt;nabenabe0]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11458.html">  11458 2005-05-27 10:53 ┃　　　┗[天野　潔 &lt;kiyoshi.am]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11470.html">  11470 2005-05-30 11:42 ┃　　　　┗[なべ 太郎 &lt;nabenabe0]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11474.html">  11474 2005-05-30 13:20 ┃　　　　　┗[&quot;TAKAHASHI, Tomohiro]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11480.html">  11480 2005-05-31 10:54 ┃　　　　　　┗[なべ 太郎 &lt;nabenabe0]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11481.html">  11481 2005-05-31 12:34 ┃　　　　　　　┗[&quot;TAKAHASHI, Tomohiro]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11482.html">  11482 2005-05-31 13:29 ┃　　　　　　　　┗[なべ 太郎 &lt;nabenabe0]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11455.html">  11455 2005-05-26 23:11 ┗[&quot;TAKAHASHI, Tomohiro]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11459.html">  11459 2005-05-27 15:34 　┗[なべ 太郎 &lt;nabenabe0]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11460.html">  11460 2005-05-27 15:38 　　┗[&quot;TAKAHASHI, Tomohiro]                                   </a></span>
</pre>
</body>
</html>
