<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6840</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="6839.html">[前]</a><a href="6841.html">[次]</a><a href="../list/6801-6900.html">[番号順一覧]</a><a href="../thread/6801-6900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6840
</p>
<div class="header">
<p>
From: &lt;moeru@xxxxxxxxxx&gt;<br>
Date: Sat, 11 Jan 2003 04:07:02 +0900<br>
Subject: [mysql 06840] MySQL4.0 の INNODB のデフォルト設定でサーバ起動せず<br>

</p>
</div>
<div class="body">
<pre>

モエルです。

ぼくは、INNODBは使ってないのですが、
MySQL 4.0.*にアップデートした後、INNODBはデフォルトでＯＮになっているようです。
INNODBのデフォルト設定に不足があるのか

リーモート、ローカルコンソールともｒｏｏｔなどのログイン不可能。
再度マシンをリブートしたけど、ダメ。
なんてトラブルになりましたのでレポートします。。

ネットワークケーブルをぶち抜いてリブートしたらログインできました。
（謎）は、何故ログイン不可能になったのかってやつです。。

＊httpdは大量のアクセスが継続していました。
　これを１２時間くらい気がつかなかったのです(^^;
ちなみに、MySQL 4.0にしてから２週間くらいは問題なかったです。

バグでしょうか？
今後、INNODB使ってみたいので、解決方法など分かる人、教えて下さい。
どうぞよろしくです。

mysqld.log は以下です。

030109  5:31:24  /usr/sbin/mysqld: Normal shutdown
030109  5:31:25  InnoDB: Starting shutdown...
030109  5:31:26  InnoDB: Shutdown completed
030109  5:31:26  /usr/sbin/mysqld: Shutdown Complete
030109 05:31:26  mysqld ended

030109 05:33:25  mysqld started
030109  5:33:27  InnoDB: Out of memory in additional memory pool.
InnoDB: InnoDB will start allocating memory from the OS.
InnoDB: You may get better performance if you configure a bigger
InnoDB: value in the MySQL my.cnf file for
InnoDB: innodb_additional_mem_pool_size.

ここで終了して通常起動するはずの以下の表示がmysqld.log に表示してなかったです。

030109  5:12:49  InnoDB: Started
/usr/sbin/mysqld: ready for connections

現在、
innodb_additional_mem_pool_size 1048576
ってなってますが、これを増やせばいいですか？


INNODBは使ってないので
とりあえず、my.cnfでskip-innodbを記述して、innodbを使わない設定にして
様子を見ています。

やってることは、シェルで以下のようなメンテスクリプトをいくつかｃｒｏｎで
動かしています。

cd /etc/rc.d/init.d
./httpd stop
./mysql stop
myisamchk --fast --silent /var/lib/mysql/date/*.MYI
./mysql start
./httpd start


分かる方、どうぞよろしくですm(__)m

＊MySQL 4.0.8が出てますね。でも最近のダウンロード公開ってgammaバージョンばかりですけど
　これって、gammaがはずれたのを待つ方がいいですかね？
<a href="http://lists.mysql.com/cgi-ez/ezmlm-cgi?2:mss:150:200301:jefphnmahjjpfecijgem">http://lists.mysql.com/cgi-ez/ezmlm-cgi?2:mss:150:200301:jefphnmahjjpfecijgem</a>



モエル

</pre>
</div>
<p class="button"><a href="6839.html">[前]</a><a href="6841.html">[次]</a><a href="../list/6801-6900.html">[番号順一覧]</a><a href="../thread/6801-6900.html">[スレッド一覧]</a></p>
</body>
</html>
