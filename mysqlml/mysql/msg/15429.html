<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15429</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="15428.html">[前]</a><a href="15430.html">[次]</a><a href="../list/15401-15500.html">[番号順一覧]</a><a href="../thread/15401-15500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15429
</p>
<div class="header">
<p>
From: 中川貴 &lt;中川貴 &lt;nora1962@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 19 Nov 2010 02:18:25 +0900<br>
Subject: [mysql 15429] Re: シェルから<br>

</p>
</div>
<div class="body">
<pre>(2010/11/17 20:06), こんにちは伊藤です wrote:
<span class="quote1">&gt; すいません。今日２回目の相談です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; またストアドネタです。</span>
<span class="quote1">&gt; シェルから実行するときのトランザクションのコントロールで相談です。</span>
<span class="quote1">&gt; 効かせ方が分かりません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; シェル</span>
<span class="quote1">&gt; mysql ・・・・('START TRANSACTION')</span>
<span class="quote1">&gt; mysql ・・・・(CALL SP1())</span>
<span class="quote1">&gt; mysql ・・・・(CALL SP2())</span>
<span class="quote1">&gt; mysql ・・・・(CALL SP3())</span>
<span class="quote1">&gt; mysql ・・・・('COMMIT')</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; GOTO エラー処理</span>
<span class="quote1">&gt; mysql ・・・・('ROLLBACK')</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 上記ではロールバックは効きませんでした。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
mysqlコマンドが終了するたびにコネクションが切れてしまいますから、
トランザクションもブツ切れになります。
ストアドでやるか、Perl、Ruby,Pythonあたりでハンドリングして
あげるのがいいのではないでしょうか。
=======================================
中川　貴 nora1962@xxxxxxxxxx
=======================================



</pre>
</div>
<p class="button"><a href="15428.html">[前]</a><a href="15430.html">[次]</a><a href="../list/15401-15500.html">[番号順一覧]</a><a href="../thread/15401-15500.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="15427.html">  15427 2010-11-17 20:06 [こんにちは伊藤です &lt;] シェルから                              </a></span>
<span class="current">-&gt;&nbsp;<a href="15429.html">  15429 2010-11-19 02:18 ┗[中川貴 &lt;nora1962@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15430.html">  15430 2010-11-19 10:16 　┗[こんにちは伊藤です &lt;]                                     </a></span>
</pre>


</body></html>