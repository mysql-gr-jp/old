<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5202</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="5201.html">[前]</a><a href="5203.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5202
</p>
<div class="header">
<p>
From: tateyan &lt;tateyan &lt;tateyan@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 26 Feb 2002 23:01:59 +0900<br>
Subject: [mysql 05202] Re: 全件検索の時間<br>

</p>
</div>
<div class="body">
<pre>たてやんっす

実験もせずに、さっと考えた案で話しちゃいますが

fujiさんの
題名「<a href="05201.html">[mysql 05201]</a> 全件検索の時間」のメールからの引用です
<span class="quote1">&gt; --------------------------------------------</span>
<span class="quote1">&gt; Perl 記述</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  $db = DBI-&gt;connect('DBI:mysql:abc:localhost','root','love');</span>
<span class="quote1">&gt;  $sth = $db-&gt;prepare("SELECT * FROM test where test1 LIKE '$kw1%' and test2</span>
<span class="quote1">&gt; LIKE '$kw2%' and test3 LIKE '$kw3%'");</span>
ここを
 $sth = $db-&gt;prepare("SELECT * FROM test");
とした場合　速度かわりませんか？　
（フォームに何も入力しない　＝＞全件ヒットとメールの内容から
考えましたが　違ってたら御免なさい）

これで早くなるなら　フォームの内容で　無入力の場合の LIKE 分を減らす
アルゴリズムをperlスクリプトに導入すれば速度UPが望めると考えますが
いかがでしょう？

無駄な比較が発生してると思います
　 test1 LIKE '%' and test2 LIKE '%' and test3 LIKE '%'
って比較が発生してるわけですよね？



~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  彡彡从        たてやんっす
 d□/□-ｂ      &lt;tateyan@xxxxxxxxxx&gt;
 ヽ"ー"丿

Key fingerprint = 5D56 8EA3 B9FE A721 4866  FB4A 0041 672C 08DD C33A




</pre>
</div>
<p class="button"><a href="5201.html">[前]</a><a href="5203.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="5201.html">   5201 2002-02-26 22:22 ["fuji" &lt;fujita_n@xxx] 全件検索の時間                          </a></span>
<span class="current">-&gt;&nbsp;<a href="5202.html">   5202 2002-02-26 23:01 ┣[tateyan &lt;tateyan@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5203.html">   5203 2002-02-26 23:09 ┣["KAWAI,Takanori" &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5204.html">   5204 2002-02-26 23:09 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5205.html">   5205 2002-02-27 00:11 　┗[tateyan &lt;tateyan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5206.html">   5206 2002-02-27 03:34 　　┗["Takuji Hidaka" &lt;tak]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5207.html">   5207 2002-02-27 10:29 　　　┗["fuji" &lt;fujita_n@xxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5208.html">   5208 2002-02-27 11:51 　　　　┗["KAWAI,Takanori" &lt;GC]                               </a></span>
</pre>


</body></html>