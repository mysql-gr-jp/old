<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:16557</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="16556.html">[前]</a><a href="16558.html">[次]</a><a href="../list/16501-16600.html">[番号順一覧]</a><a href="../thread/16501-16600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:16557
</p>
<div class="header">
<p>
From: Yoshiaki Yamasaki &lt;Yoshiaki Yamasaki &lt;yoshiaki.yamasaki@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 20 Nov 2019 17:31:36 +0900<br>
Subject: [mysql 16557] Re: [mysql 16556] Re: [mysql 16555] Re: [mysql 16554] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください<br>

</p>
</div>
<div class="body">
<pre>落合さん

やまさきです。

なるほど。そうだったんですね。
パスを設定して再チャレンジして頂ければと思います。

ちなみに、GDAL 3.0.1を使おうとしたらPROJ関連の設定ではまった、
という話も耳にしたことがあります。

その場合も、GDAL 2.4.2では問題無かったようなので、PROJ関連のエラーが出ているのであれば、
2.4.2も試されることをお勧めします。
(今確認すると、10/28にGDAL 2.4.3がリリースされていましたが、2.4.3は未検証です)

<span class="quote1">&gt; 「Affects me」ボタンをクリックしました！</span>
ありがとうございます！！


On 2019/11/20 16:35, 落合 司郎 wrote:
<span class="quote1">&gt; やまさき　様</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 情報提供、ありがとうございました。</span>
<span class="quote1">&gt; 頂いた情報は把握していたのですが、うまくいかず、悩んでいました。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ogr2ogrのパスが通っていないため、コマンドを認識していません。</span>
<span class="quote1">&gt; パスを設定してチャレンジしてみます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 「Affects me」ボタンをクリックしました！</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; On 2019/11/20 14:53, Yoshiaki Yamasaki wrote:</span>
<span class="quote2">&gt;&gt; やまさきです。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 出力までできるのかどうかは把握できていませんが(※)、</span>
<span class="quote2">&gt;&gt; GDALというライブラリ群の中のogr2ogrというコマンドで取込みは可能です。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 　※ST_AsGeoJSON()関数を使ってMySQLからGeoJSON形式で抜き出した後で、ogr2ogrで</span>
<span class="quote2">&gt;&gt; 　　GeoJSONのファイルをシェープファイルに変換する、ということはできると思います。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; いくつか注意事項があるのですが、それらを含め詳細を以下の資料で解説していますので、</span>
<span class="quote2">&gt;&gt; ご確認下さい。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 　MySQL 8.0で強化されたGIS機能と使用事例のご紹介＋α　</span>
<span class="quote2">&gt;&gt; 　<a href="https://urldefense.proofpoint.com/v2/url?u=https-3A__speakerdeck.com_yoshiakiyamasaki_mysql-2D8-2Ddot-2D0deqiang-2Dhua-2Dsaretagisji-2Dneng-2Dtoshi-2Dyong-2Dshi-2Dli-2Dfalsegoshao-2Djie-2Da&amp;d=DwIDaQ&amp;c=RoP1YumCXCgaWHvlZYR8PZh8Bv7qIrMUB65eapI_JnE&amp;r=E7VcB6ujEEpt7jaoWsnApzooDOq6NL7Jp-GVY_AdltI&amp;m=OKeIYGCe9VJeLAzclxbNrsuFwjKFuXnZccVrnKkHO84&amp;s=qeBlxwBgTPY_4NPjVC9y52cHdusijLJZwy6matdcNvY&amp;e=">https://urldefense.proofpoint.com/v2/url?u=https-3A__speakerdeck.com_yoshiakiyamasaki_mysql-2D8-2Ddot-2D0deqiang-2Dhua-2Dsaretagisji-2Dneng-2Dtoshi-2Dyong-2Dshi-2Dli-2Dfalsegoshao-2Djie-2Da&amp;d=DwIDaQ&amp;c=RoP1YumCXCgaWHvlZYR8PZh8Bv7qIrMUB65eapI_JnE&amp;r=E7VcB6ujEEpt7jaoWsnApzooDOq6NL7Jp-GVY_AdltI&amp;m=OKeIYGCe9VJeLAzclxbNrsuFwjKFuXnZccVrnKkHO84&amp;s=qeBlxwBgTPY_4NPjVC9y52cHdusijLJZwy6matdcNvY&amp;e=</a></span>
<span class="quote2">&gt;&gt; 　※該当部分は40ページ以降</span>
<span class="quote2">&gt;&gt; 　※ShapeファイルをGeoJSON形式に変換してからインポートする手順も掲載(59ページ以降)</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ちなみに、MySQL Workbenchにもシェープファイルを取り込める機能があるのですが、</span>
<span class="quote2">&gt;&gt; 内部でGDALを使用していて、同梱されているGDALのバージョンが古かったりする関係上、</span>
<span class="quote2">&gt;&gt; 上手く動かないケースがあるので、上記の手順をお勧めします。</span>
<span class="quote2">&gt;&gt; (この件についてバグ報告したいと思いつつ、まだ報告できていないのですが…)</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; また、GDALに頼らずに、MySQLとしてShapeファイルをインポート/エクスポートできるツールを</span>
<span class="quote2">&gt;&gt; 用意して欲しいと思っていて、以下の機能追加リクエストを登録していますので、よろしければ</span>
<span class="quote2">&gt;&gt; 「Affects me」ボタンをクリックして頂けると助かります！</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 　Bug#90023: [Feature request] Shape File import/export tool</span>
<span class="quote2">&gt;&gt; 　<a href="https://bugs.mysql.com/bug.php?id=90023">https://bugs.mysql.com/bug.php?id=90023</a></span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; On 2019/11/20 14:28, 落合 司郎 wrote:</span>
<span class="quote3">&gt;&gt;&gt; 落合と申します。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; MySQL 8.0でgeometryを扱いたいと思っています。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 以下の環境で、geometryと属性データを含むshapeファイルをMySQL 8.0に取り込む方法あるいはツールをご存知の方がいましたら教えてください。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; shapeファイルを直接MySQL 8.0に取り込むのではなく、shapeファイルをcsvに出力し、取り込む場合は、shapeファイルをcsvに出力する方法あるいはツールを教えてください。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; また、MySQL 8.0のgeometryを含むテーブルをshapeファイルに出力する方法あるいはツールも教えてください。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; OS:windows 7</span>
<span class="quote3">&gt;&gt;&gt; mySQL:MySQL 8.0</span>
<span class="quote3">&gt;&gt;&gt; データベースエンジン:InnoDB</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>

-- 
YAMASAKI, Yoshiaki
MySQL Principal Solution Engineer, Asia Pacific &amp; Japan
Oracle Corporation Japan
phone: +81-6-6442-6435
mobile: +81-80-2353-9733



</pre>
</div>
<p class="button"><a href="16556.html">[前]</a><a href="16558.html">[次]</a><a href="../list/16501-16600.html">[番号順一覧]</a><a href="../thread/16501-16600.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="16554.html">  16554 2019-11-20 14:28 [落合 司郎 &lt;s.ochiai@] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16555.html">  16555 2019-11-20 14:53 ┗[Yoshiaki Yamasaki &lt;y] Re: [mysql 16554] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16556.html">  16556 2019-11-20 16:35 　┗[落合 司郎 &lt;s.ochiai@] Re=3a =5bmysql 16555=5d Re=3a =5bmysql 16554=5d shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
<span class="current">-&gt;&nbsp;<a href="16557.html">  16557 2019-11-20 17:31 　　┗[Yoshiaki Yamasaki &lt;y] Re: [mysql 16556] Re: [mysql 16555] Re: [mysql 16554] shapeファイルをMySQLに取り込む方法あるいはツールを教えてください</a></span>
</pre>


</body></html>