<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7376</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7375.html">[前]</a><a href="7377.html">[次]</a><a href="../list/7301-7400.html">[番号順一覧]</a><a href="../thread/7301-7400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7376
</p>
<div class="header">
<p>
From: &quot;KASAHARA, Norio&quot; &lt;&quot;KASAHARA, Norio&quot; &lt;no@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 27 Mar 2003 16:13:48 +0900<br>
Subject: [mysql 07376] Re: MySQL による排他処理の信頼性について<br>

</p>
</div>
<div class="body">
<pre>
かさはらです。こんにちは。

二見さんも書かれているように、オリジナルの投稿者の方の要件を聞かずに
議論してもしようがないですね。
ただ、ロックの信頼性を気にするくらいなので、単純に数を数えたいという
要件ではないように思えます。

Hiroyuki Yoshikawa &lt;yoshikawa.h@xxxxxxxxxx&gt;さん曰く:

》&gt; Hiroyuki Yoshikawa &lt;yoshikawa.h@xxxxxxxxxx&gt;さん曰く:
》&gt; 
》&gt; 》本題とは少しずれますが単純なカウンタ処理であれば，updateしてからselect
》&gt; 》すればテーブルロックは必要ないと思いますがいかがでしょうか？
》&gt; 》
》&gt; updateしてから、selectするまでの間に他の人がupdateしても平気ですか?
》
》DBで矛盾は起こらないと思います．
》
一般的に考えれば、注文番号とか顧客番号とか、そういうユニークな番号を
振りたいのではないかと想像します。
であれば、DBに矛盾が生じます。

》&gt; 同じ番号が表示されても良いカウンタというのがあるのでしょうか?
》
》何番目の利用者かを知るためのカウンタでは同じ番号が表示されると不都合で
》すが，総数を知るためのカウンタでしたらかまわないと思います．
》
総数を知るためだったら、注文データの数を数えるとか、会員の総数を数える
とかすればいいのであって、カウンタを作る必要はないですよね。

そもそも「カウンタ」という言葉の捉え方が違うので、これ以上議論しても無
駄ですが、あえて書いたのは、武井さん以外の方も含めて、
　ユニークな番号を採番したい
という要件に対して
　updateしてからselectすればロックする必要はない
という誤解を与えてしまう危険性があったからです。

--
 カさはらのりお   no@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="7375.html">[前]</a><a href="7377.html">[次]</a><a href="../list/7301-7400.html">[番号順一覧]</a><a href="../thread/7301-7400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7367.html">   7367 2003-03-26 09:59 [Noriyuki TAKEI &lt;nori] MySQL による排他処理の信頼性について    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7368.html">   7368 2003-03-26 12:11 ┣[&lt;n.futami@xxxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7369.html">   7369 2003-03-26 16:31 ┣[&quot;Mitsuhiro HASHIMOTO]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7370.html">   7370 2003-03-26 16:31 ┣[Hiroyuki Yoshikawa &lt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7373.html">   7373 2003-03-27 11:51 ┃┗[KASAHARA Norio &lt;no@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7375.html">   7375 2003-03-27 15:23 ┃　┗[Hiroyuki Yoshikawa &lt;]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="7376.html">   7376 2003-03-27 16:13 ┃　　┗[&quot;KASAHARA, Norio&quot; &lt;n]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7393.html">   7393 2003-03-31 09:36 ┃　　　┗[Noriyuki TAKEI &lt;nori]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7374.html">   7374 2003-03-27 13:03 ┗[&lt;n.futami@xxxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7394.html">   7394 2003-03-31 09:52 　┗[Noriyuki TAKEI &lt;nori]                                     </a></span>
</pre>
</body>
</html>
