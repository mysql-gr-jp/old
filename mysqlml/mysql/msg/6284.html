<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6284</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6283.html">[前]</a><a href="6285.html">[次]</a><a href="../list/6201-6300.html">[番号順一覧]</a><a href="../thread/6201-6300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6284
</p>
<div class="header">
<p>
From: "KAWAI,Takanori" &lt;"KAWAI,Takanori" &lt;GCD00051@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 26 Sep 2002 21:22:33 +0900<br>
Subject: [mysql 06284] Re: insert 後すぐにそのデータを select でよびだすと autoincrement のデータが読めないことがあります。<br>

</p>
</div>
<div class="body">
<pre>川合孝典です。

----- Original Message -----
From: "東　兼充" &lt;kanemitsu@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Thursday, September 26, 2002 6:34 PM
Subject: <a href="06282.html">[mysql 06282]</a> insert 後すぐにそのデータを selectでよびだすと
autoincrementのデータが読めないことがあります。


<span class="quote1">&gt; MySQL初心者です。</span>
<span class="quote1">&gt; PHP4.22+MySQL3.23.45+Linuxの環境でプログラムを作製しています。</span>
<span class="quote1">&gt; データを登録後、オートインクリメントでデータ番号をつけています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; insert文で登録後、すぐに登録データをselect文で読み出し、データ番号を表示す</span>
る
<span class="quote1">&gt; ように</span>
<span class="quote1">&gt; しましたが、データ番号が、うまく表示されない時があります。</span>
<span class="quote1">&gt; なにかいい方法はないでしょうか？</span>
（中略）
これだけですと、何が原因か、どんなことをしたいのかわかりませんが...

PHPであればmysql_insert_idを呼び出すとか、
SQLの中でLAST_INSERT_ID()関数を使ってみては？

mysql_insert_id
<a href="http://php3.de/manual/ja/function.mysql-insert-id.php">http://php3.de/manual/ja/function.mysql-insert-id.php</a>

PS.
MLに発言するときにはReply-Toははずしておいたほうがよいでしょう。

===================================================
川合 孝典 (Hippo2000)
   DBI日本語メーリングリスト管理人、Kansai.pm所属
   kwitknr@xxxxxxxxxx GCD00051@xxxxxxxxxx
   <a href="http://member.nifty.ne.jp/hippo2000">http://member.nifty.ne.jp/hippo2000</a>、<a href="http://www.hippo2000.info/">http://www.hippo2000.info/</a>
「Cマガジン」でPerl DBIの連載はじまります。
   <a href="http://www.cmagazine.jp/">http://www.cmagazine.jp/</a>
===================================================


</pre>
</div>
<p class="button"><a href="6283.html">[前]</a><a href="6285.html">[次]</a><a href="../list/6201-6300.html">[番号順一覧]</a><a href="../thread/6201-6300.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="6273.html">   6273 2002-09-26 11:56 [mokonan &lt;mokonan@xxx] 新しいフィールドに自動でデータを入力させたい</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6274.html">   6274 2002-09-26 12:19 ┗[Daiju Azuma &lt;daiju_a]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6275.html">   6275 2002-09-26 12:27 　┗[mokonan &lt;mokonan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6278.html">   6278 2002-09-26 12:42 　　┣[Daiju Azuma &lt;daiju_a]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6280.html">   6280 2002-09-26 17:50 　　┗["Takashi Yamashita" ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6281.html">   6281 2002-09-26 17:53 　　　┗["Takashi Yamashita" ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6282.html">   6282 2002-09-26 18:34 　　　　┣["東　兼充" &lt;kanemits] insert 後すぐにそのデータを select でよびだすと autoincrement のデータが読めないことがあります。</a></span>
<span class="current">-&gt;&nbsp;<a href="6284.html">   6284 2002-09-26 21:22 　　　　┃┗["KAWAI,Takanori" &lt;GC]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6285.html">   6285 2002-09-26 21:46 　　　　┃　┣["東　兼充" &lt;kanemits]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6287.html">   6287 2002-09-26 22:25 　　　　┃　┃┗["KAWAI,Takanori" &lt;GC]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6288.html">   6288 2002-09-27 00:02 　　　　┃　┃　┗[&lt;kanemitsu@xxxxxxxxx]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6286.html">   6286 2002-09-26 22:22 　　　　┃　┗["kosugi" &lt;kosugi@xxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6289.html">   6289 2002-09-27 00:29 　　　　┗[Kenji Irie &lt;kenji@xx]                               </a></span>
</pre>


</body></html>