<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11428</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11427.html">[前]</a><a href="11429.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11428
</p>
<div class="header">
<p>
From: Ryutaro Amano &lt;Ryutaro Amano &lt;wn9r-amn@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 25 May 2005 00:22:00 +0900<br>
Subject: [mysql 11428] Mac10.4でのmake<br>

</p>
</div>
<div class="body">
<pre>
天野竜太郎です。
mysql4.1.12のソースですが、MacOSX10.4.1で上手くmakeできません。
10.3.9までは問題なかったのですが。
10.3用のバイナリはインストールでき動作もするようですが、OSX用のバイナ
リは以前からターミナルからの日本語入力に問題ありでした。
単純に入力して、日本語確定、そしてリターンでinsertなどでは問題は出ない
のですが、日本語入力、日本語確定後、修正しようとすると問題が出ます。
たとえば、
insert into mytable(&quot;メイショウボーラー&quot;,&quot;タイキシャトル&quot;,&quot;白山&quot;);
と入力、確定した後、白山を白井に変更しようとして「山」を削除するとカー
ソルが変なとこへ飛んだり、????などとなります。
my.cnfでdefault-character-set=utf8としていますが他のcharacter-setでも
同じです。
この問題は、先にreadlineをインストールしておき、ソースからmysqlをイン
ストールする際にconfigureで--without-readlineオプションをつけて先にイ
ンストールしたreadlineを読みに行くようにすれば解消します。
というわけで、10.4.xでもソースからインストールしたいのですが、makeでこ
けます。
こんな感じです。

CFLAGS=&quot;-O3&quot; CXX=gcc CXXFLAGS=&quot;-O3 -felide-constructors -fno-
exceptions -fno-rtti&quot; ./configure --prefix=/usr/local/mysql --
localstatedir=/usr/local/mysql/data --enable-thread-safe-client --
with-unix-socket-path=/private/tmp/mysql.sock --with-openssl=/usr --
without-readline --with-extra-charsets=all --with-mysqld-user=mysql
（10.3.xはこれでOKでした）
make

item_strfunc.cc: In member function `virtual String* Item_func_
encrypt::val_str(String*)':
item_strfunc.cc:1460: error: ‘crypt’ was not declared in this scope
make[4]: *** [item_strfunc.o] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2

gccを4.0から3.3に変えても同じようなエラーでした。

item_strfunc.cc: In member function `virtual String* 
   Item_func_encrypt::val_str(String*)':
item_strfunc.cc:1460: error: `crypt' undeclared (first use this 
function)
item_strfunc.cc:1460: error: (Each undeclared identifier is reported 
only once 
   for each function it appears in.)
make[4]: *** [item_strfunc.o] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all] Error 2
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2

MacOSX10.4でbuildされている方は、いらっしゃらないでしょうか？
googleしてみましたが、見つかりませんでした。

Ryutaro Amano
wn9r-amn@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="11427.html">[前]</a><a href="11429.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="11428.html">  11428 2005-05-25 00:22 [Ryutaro Amano &lt;wn9r-] Mac10.4でのmake                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11433.html">  11433 2005-05-25 10:25 ┗[oppara &lt;mlml@xxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11440.html">  11440 2005-05-26 04:18 　┗[oppara &lt;mlml@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11451.html">  11451 2005-05-26 20:34 　　┗[Ryutaro Amano &lt;wn9r-]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11457.html">  11457 2005-05-27 07:09 　　　┗[oppara &lt;mlml@xxxxxxx]                                 </a></span>
</pre>
</body>
</html>
