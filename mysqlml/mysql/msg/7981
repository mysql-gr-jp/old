<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7981</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7980">[前]</a><a href="7982">[次]</a><a href="../list/7901-8000">[番号順一覧]</a><a href="../thread/7901-8000">[スレッド一覧]</a></p>
<p class="id">
mysql:7981
</p>
<div class="header">
<p>
From: &quot;Takashi Yamashita&quot; &lt;&quot;Takashi Yamashita&quot; &lt;takasi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 2 Jul 2003 16:19:05 +0900<br>
Subject: [mysql 07981] Re: Table の更新について<br>

</p>
</div>
<div class="body">
<pre>
お世話になっております。

<span class="quote1">&gt; satoです。ありがとうございました。</span>
<span class="quote1">&gt; 申し遅れましたが、W2000 mySQL3.23.41です。</span>
<span class="quote1">&gt; 今回は、同じキーのレコードが、なければ、INSERT あれば、UPDATE</span>
<span class="quote1">&gt; に機能するようなのでREPLACEを使おうと思います。</span>
<span class="quote1">&gt; もし、新たに挿入したか、削除後挿入したかの結果を簡単に</span>
<span class="quote1">&gt; 取得する方法をご存じの方がいらっしゃいましたらお教え下さい。</span>
mysql_affected_rows()だと思います。
でも、これですと挿入したレコード数と削除後挿入したレコード数の
合計が返ってくると思われます。
挿入したレコード数と削除後挿入したレコード数を別個に求めるためには、
REPLACE前にSELECTとmysql_num_rows()を実行して、
同じキーのレコード数（＝削除後挿入予定のレコード数）を
調べる方法しか思いつきません。

よろしくお願いします。

--------------------------------------------------------------
山下高司
takasi@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="7980">[前]</a><a href="7982">[次]</a><a href="../list/7901-8000">[番号順一覧]</a><a href="../thread/7901-8000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7972">   7972 2003-06-30 20:02 [sato &lt;satot@xxxxxxxx] Table の更新について                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7973">   7973 2003-06-30 20:55 ┗[A.K.I. &lt;aki@xxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7980">   7980 2003-07-02 09:04 　┗[sato &lt;satot@xxxxxxxx]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="7981">   7981 2003-07-02 16:19 　　┣[&quot;Takashi Yamashita&quot; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7982">   7982 2003-07-02 17:00 　　┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
</pre>
</body>
</html>
