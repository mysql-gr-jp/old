<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10756</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="10755.html">[前]</a><a href="10757.html">[次]</a><a href="../list/10701-10800.html">[番号順一覧]</a><a href="../thread/10701-10800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10756
</p>
<div class="header">
<p>
From: Hirofumi Onishi &lt;Hirofumi Onishi &lt;hiro3830@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 07 Jan 2005 00:45:35 +0900<br>
Subject: [mysql 10756] 縦横集計<br>

</p>
</div>
<div class="body">
<pre>
大西と申します
最近php+mysqlで店舗売上集計を作成していますが、
下記のようにtable1(売上集計テーブル）とtable2（店舗テーブル）
があります。
それらを元にtable3のような月ごとに日別、店舗別売上一覧表の表示を考えています。
一時テーブルを作成し、そこにデータをインサートする方法がありますが、
sql文を使った方法はないものでしょうか？（IF,ELT,FIELDを使う？）

よろしくご教示お願いします。



table1
--------+---------+-------+---------
id      |date     | t_id  | kingaku
--------|---------|-------|---------
1       |20050101 |1      |10000
--------|---------|-------|---------
2       |20050101 |2      |5000
--------|---------|-------|---------
3       |20050101 |3      |8000
--------|---------|-------|---------
4       |20050102 |2      |3000
--------|---------|-------|---------
5       |20050102 |3      |1000
--------|---------|-------|---------
6       |20050103 |1      |6000
--------|---------|-------|---------
7       |20050104 |3      |12000
--------|---------|-------|---------
:
:
:

table2
--------+---------+
t_id    |t_name   |
--------|---------|
1       |A        |
--------|---------|
2       |B        |
--------|---------|
3       |C        |
--------|---------|

table3
--------+---------+------+------+------+
id      |date     | A    | B    | C    |
--------|---------|------|------|------|
1       |20050101 |10000 |5000  |8000  |
--------|---------|------|------|------|
2       |20050102 |0     |3000  |1000  |
--------|---------|------|------|------|
3       |20050103 |6000  |0     |0     |
--------|---------|------|------|------|
4       |20050104 |0     |0     |12000 |
--------|---------|------|------|------|    
:
:

 hiro
--------------------------------
 &lt;hiro3830@xxxxxxxxxx&gt;



</pre>
</div>
<p class="button"><a href="10755.html">[前]</a><a href="10757.html">[次]</a><a href="../list/10701-10800.html">[番号順一覧]</a><a href="../thread/10701-10800.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="10756.html">  10756 2005-01-07 00:45 [Hirofumi Onishi &lt;hir] 縦横集計                                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10757.html">  10757 2005-01-07 18:58 ┗[柴垣 &lt;akiro@xxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10759.html">  10759 2005-01-08 20:19 　┗[Hirofumi Onishi &lt;hir]                                     </a></span>
</pre>


</body></html>