<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11444</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11443.html">[前]</a><a href="11445.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11444
</p>
<div class="header">
<p>
From: Tetsuro IKEDA &lt;Tetsuro IKEDA &lt;ikdttr@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 25 May 2005 20:59:42 -0700<br>
Subject: [mysql 11444] Re: [spam] Re: 初 心者の質問<br>

</p>
</div>
<div class="body">
<pre>
池田です。

何か変なアドバイスになってしまったようで、申し訳ありません。

全くアクセスできなくなってしまったとのことですが、
ご参考までにちょっと付け加えておきます。
サーバ起動時にオプション--skip-grant-tablesを付け加えれば、
認証無しにroot権限で接続できます。
（rootパスワードを忘れた時の一般的対処法）

インストーラを使ってMySQLをインストールしてWindowsのサービスとして起動させて
いる場合には、サービスのプロパティのところにある「実行ファイルのパス」に
かかれている先の設定ファイルが起動時に読まれます。

例えば、

D:\Program Files\MySQL\MySQL Server 4.1\bin\mysqld-nt&quot;
--defaults-file=&quot;D:\Program Files\MySQL\MySQL Server 4.1\my.ini&quot; MySQL

と書かれていれば、「D:\Program Files\MySQL\MySQL Server 4.1\my.ini」これです。
このファイルの[mysqld]というグループのところに、&quot;skip-grant-tables&quot;と1行追加するだけです。

そのようにして接続した後、mysqlデータベースのuserテーブルを覗いて
不要なユーザを削除したり、必要なユーザを追加したりするのが
解決法だと思われます。

もし機会があれば試されてください。

ではでは。

05/05/25 に safe&lt;geohase@xxxxxxxxxx&gt; さんは書きました:
<span class="quote1">&gt; 池田様</span>
<span class="quote1">&gt; ご指導ありがとうございました。</span>
<span class="quote1">&gt; 残念乍ら小生のレベルでは無理かと思われます。</span>
<span class="quote1">&gt; 参考に書いて頂いたＤＯＳコマンドを試して、user=''のdelete等は</span>
<span class="quote1">&gt; 出来たように思うのですが、このためなのか？或いはその後に</span>
<span class="quote1">&gt; 少し足元も分からぬままにうろつき回ったせいか、サーバに</span>
<span class="quote1">&gt; 入れなくなってしまいました。</span>
<span class="quote1">&gt; user-deleteなどのコマンドを行ったときは、shellからmysqlでも</span>
<span class="quote1">&gt; mysql -u rootでもサーバーに入ってクライアントとして mysql&gt;</span>
<span class="quote1">&gt; になったのですが、現在mysqlで入ろうとすると　odbc@localhost</span>
<span class="quote1">&gt; rootではいろうとすると root@localhost、userで入ろうとすると</span>
<span class="quote1">&gt; user@localhost　それぞれ Access deniedでエラーとなり入れなく</span>
<span class="quote1">&gt; なってしまいました。　</span>
<span class="quote1">&gt; 過去ログも読んだりしていますが、unixの方が多いようで、リファレンス</span>
<span class="quote1">&gt; マニュアルも難しいです。</span>
<span class="quote1">&gt; といった状況で、今回断念しようかと思っています。</span>
<span class="quote1">&gt; 少し勉強して再挑戦の際はまたお世話になると思います、宜しく</span>
<span class="quote1">&gt; お願いします。　ご指導に感謝と共に、折角ご指導頂き乍ら、勝手に</span>
<span class="quote1">&gt; 撤退の非礼をお詫びします。　申し訳ありません。　　長谷川拝</span>
<span class="quote1">&gt; （4.1.12もProgram Filesにインストールとなり、コマンドプロンプトから</span>
<span class="quote1">&gt; mysql.exeを呼び出そうとしても、Access deniedで駄目でした）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ----- Original Message -----</span>
<span class="quote1">&gt; From: &quot;Tetsuro IKEDA&quot; &lt;ikdttr@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; To: &lt;ml@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt; Sent: Wednesday, May 25, 2005 3:33 PM</span>
<span class="quote1">&gt; Subject: [spam] <a href="11437.html">[mysql 11437]</a> Re: 初心者の質問</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; 池田です。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 最近似たような質問があったと思うのですが、インストール直後のデフォルトの</span>
<span class="quote2">&gt; &gt; 状態で存在するローカルホストのanonymousユーザとして認証チェックが行われて</span>
<span class="quote1">&gt; いる</span>
<span class="quote2">&gt; &gt; からではないでしょうか？</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; また4.1.12のmysqladmin.exeはコマンドラインツールだと思います。</span>
<span class="quote2">&gt; &gt; コマンドプロンプトから使ってください。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; 以下、参考まで。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; D:\&gt;mysql</span>
<span class="quote2">&gt; &gt; Welcome to the MySQL monitor.  Commands end with ; or \g.</span>
<span class="quote2">&gt; &gt; Your MySQL connection id is 1 to server version: 4.1.12-nt</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; Type 'help;' or '\h' for help. Type '\c' to clear the buffer.</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt; quit</span>
<span class="quote2">&gt; &gt; Bye</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; D:\&gt;mysql -uroot</span>
<span class="quote2">&gt; &gt; Welcome to the MySQL monitor.  Commands end with ; or \g.</span>
<span class="quote2">&gt; &gt; Your MySQL connection id is 2 to server version: 4.1.12-nt</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; Type 'help;' or '\h' for help. Type '\c' to clear the buffer.</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt; grant all on *.* to 'hoge'@'localhost' identified by 'fuga';</span>
<span class="quote2">&gt; &gt; Query OK, 0 rows affected (0.42 sec)</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt; quit</span>
<span class="quote2">&gt; &gt; Bye</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; D:\&gt;mysql -uhoge -p</span>
<span class="quote2">&gt; &gt; Enter password: ****</span>
<span class="quote2">&gt; &gt; ERROR 1045 (28000): Access denied for user 'hoge'@'localhost' (using</span>
<span class="quote2">&gt; &gt; password: YES)</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; D:\&gt;mysql -uhoge -p</span>
<span class="quote2">&gt; &gt; Enter password: ****</span>
<span class="quote2">&gt; &gt; ERROR 1045 (28000): Access denied for user 'hoge'@'localhost' (using</span>
<span class="quote2">&gt; &gt; password: YES)</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; D:\&gt;mysql -uroot</span>
<span class="quote2">&gt; &gt; Welcome to the MySQL monitor.  Commands end with ; or \g.</span>
<span class="quote2">&gt; &gt; Your MySQL connection id is 5 to server version: 4.1.12-nt</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; Type 'help;' or '\h' for help. Type '\c' to clear the buffer.</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt; use mysql</span>
<span class="quote2">&gt; &gt; Database changed</span>
<span class="quote2">&gt; &gt; mysql&gt; delete from user where user='';</span>
<span class="quote2">&gt; &gt; Query OK, 1 row affected (0.00 sec)</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt; flush privileges;</span>
<span class="quote2">&gt; &gt; Query OK, 0 rows affected (0.00 sec)</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt; quit</span>
<span class="quote2">&gt; &gt; Bye</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; D:\&gt;mysql -uhoge -p</span>
<span class="quote2">&gt; &gt; Enter password: ****</span>
<span class="quote2">&gt; &gt; Welcome to the MySQL monitor.  Commands end with ; or \g.</span>
<span class="quote2">&gt; &gt; Your MySQL connection id is 6 to server version: 4.1.12-nt</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; Type 'help;' or '\h' for help. Type '\c' to clear the buffer.</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; mysql&gt;</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="11443.html">[前]</a><a href="11445.html">[次]</a><a href="../list/11401-11500.html">[番号順一覧]</a><a href="../thread/11401-11500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11435.html">  11435 2005-05-25 12:17 [&quot;safe&quot; &lt;geohase@xxxx] 初心者の質問                            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11437.html">  11437 2005-05-25 15:33 ┗[Tetsuro IKEDA &lt;ikdtt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11443.html">  11443 2005-05-26 12:38 　┗[&quot;safe&quot; &lt;geohase@xxxx] Re: [spam]  Re: 初心者の質問        </a></span>
<span class="current">-&gt;&nbsp;<a href="11444.html">  11444 2005-05-26 12:59 　　┗[Tetsuro IKEDA &lt;ikdtt]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11445.html">  11445 2005-05-26 15:29 　　　┗[&quot;safe&quot; &lt;geohase@xxxx] Re: [other]  Re: [spam] Re:  初 心者の質問</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11446.html">  11446 2005-05-26 17:21 　　　　┗[&quot;fujita&quot; &lt;t-fujita@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11447.html">  11447 2005-05-26 19:15 　　　　　┗[&quot;safe&quot; &lt;geohase@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11449.html">  11449 2005-05-26 19:41 　　　　　　┗[Tetsuro IKEDA &lt;ikdtt]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11453.html">  11453 2005-05-26 22:04 　　　　　　　┗[&quot;safe&quot; &lt;geohase@xxxx]                         </a></span>
</pre>
</body>
</html>
