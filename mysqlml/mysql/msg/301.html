<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:301</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="300.html">[前]</a><a href="302.html">[次]</a><a href="../list/301-400.html">[番号順一覧]</a><a href="../thread/301-400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:301
</p>
<div class="header">
<p>
From: Satoshi Koiwa &lt;Satoshi Koiwa &lt;koiwa@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 22 Oct 98 17:10:09 +0900<br>
Subject: [mysql 301]  Re: DynaLoader.pmに怒られています<br>

</p>
</div>
<div class="body">
<pre>
村上さん、何度もすいませんです。

<span class="quote1">&gt;で、以下のような行はありますか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;LD_RUN_PATH="/usr/lib:/usr/lib/gcc-lib/i486-linux/2.7.2.3" cc -o </span>
<span class="quote1">&gt;.././blib/arch/auto/DBD/mysql/mysql.so  -shared -L/usr/local/lib dbdimp.o </span>
<span class="quote1">&gt;myMsql.o mysql.o    -L/usr/lib -lmysqlclient -lm </span>
<span class="quote1">&gt;-L/usr/lib/gcc-lib/i486-linux/2.7.2.3 -lgcc </span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;LD_RUN_PATH="/usr/lib:/usr/lib/gcc-lib/i486-linux/2.7.2.3" cc -o </span>
<span class="quote1">&gt;.././blib/arch/auto/Mysql/Mysql.so  -shared -L/usr/local/lib Mysql.o </span>
<span class="quote1">&gt;myMsql.o    -L/usr/lib -lmysqlclient -lm </span>
<span class="quote1">&gt;-L/usr/lib/gcc-lib/i486-linux/2.7.2.3 -lgcc</span>

の件ですが、make &gt;&amp; kekkaで得られたkekkaの中からgrepすると

LD_RUN_PATH="" gcc -o blib/arch/auto/DBI/DBI.so  -shared -L/usr/lib 
-L/usr/local/lib DBI.o
LD_RUN_PATH="/usr/local/mysql-3.21.33b/client:/usr/lib:/usr/lib/gcc-lib/i58
6-unknown-linux-gnulibc1/2.7.2.3" gcc -o 
.././blib/arch/auto/DBD/mysql/mysql.so  -shared -L/usr/lib 
-L/usr/local/lib dbdimp.o myMsql.o mysql.o 
-L/usr/local/mysql-3.21.33b/client -lmysqlclient -lm 
-L/usr/lib/gcc-lib/i586-unknown-linux-gnulibc1/2.7.2.3 -lgcc
LD_RUN_PATH="/usr/local/mysql-3.21.33b/client:/usr/lib:/usr/lib/gcc-lib/i58
6-unknown-linux-gnulibc1/2.7.2.3" gcc -o 
.././blib/arch/auto/Mysql/Mysql.so  -shared -L/usr/lib -L/usr/local/lib 
Mysql.o myMsql.o    -L/usr/local/mysql-3.21.33b/client -lmysqlclient -lm 
-L/usr/lib/gcc-lib/i586-unknown-linux-gnulibc1/2.7.2.3 -lgcc

という3行があります。1行目を除いては-lgccがついています。

<span class="quote1">&gt;-lmysqlclient で指定されている libmysqlclient.{a|so} は、</span>
<span class="quote1">&gt;MySQL をコンパイルした時にできた libmysqlclient.{a|so} を</span>
<span class="quote1">&gt;正確に指していますか？</span>

この私には思いもよらなかったこっちですが、

# ls -l /usr/lib/libmysql*
-rw-r--r--   1 root     root       906240 Jul 22 15:28 
/usr/lib/libmysqlclient.a
lrwxrwxrwx   1 root     root           25 Oct 15 15:14 
/usr/lib/libmysqlclient.so -&gt; libmysqlclient.so.3.21.33
-rwxr-xr-x   1 root     root       370036 Jul 22 15:28 
/usr/lib/libmysqlclient.so.3.21.33
lrwxrwxrwx   1 root     root           25 Oct 15 15:14 
/usr/lib/libmysqlclient.so.4 -&gt; libmysqlclient.so.3.21.
33

となっています。なんで7月22日のものしか指していないんだろう。
いっそTurboLinux2.0 Proがあるんで、そっちに全面的に入れ換えようかと思いつつ
ある昨今。といっても今Slackware上で作っている環境をTurboLinuxに移すのもそれ
なりに大変そうだしなぁ。
というわけで、引き続き見直します。

</pre>
</div>
<p class="button"><a href="300.html">[前]</a><a href="302.html">[次]</a><a href="../list/301-400.html">[番号順一覧]</a><a href="../thread/301-400.html">[スレッド一覧]</a></p>


</body></html>