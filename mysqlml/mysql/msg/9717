<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9717</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="9716">[前]</a><a href="9718">[次]</a><a href="../list/9701-9800">[番号順一覧]</a><a href="../thread/9701-9800">[スレッド一覧]</a></p>
<p class="id">
mysql:9717
</p>
<div class="header">
<p>
From: ML account &lt;ML account &lt;ml@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 28 Jun 2004 09:44:38 +0900<br>
Subject: [mysql 09717] Re: トランザクションにした場合の更新処理<br>

</p>
</div>
<div class="body">
<pre>
　こんにちは。

&quot;yoshiki&quot; &lt;yoshiki@xxxxxxxxxx&gt;さんの
&lt;002d01c45c07$ad066360$7e02a8c0@tanaka&gt;
&quot;<a href="09710">[mysql 09710]</a> トランザクションにした場合の更新処理&quot;


<span class="quote1">&gt; InnoDB時にトランザクションの処理を省いた場合なにか問題が起こるのでしょうか。</span>
<span class="quote1">&gt; （更新速度がおそくなるとか・・・）</span>

　トランザクションは一貫性/整合性のあるデータ挿入/変更/削除を保証する手
段の１つです。トランザクションやテーブルロックで一貫性/整合性を保証しな
い場合、
　　・競合する更新で、片方の更新が反映されない
　　・整合性が取れていないデータを読み込んでしまう
などの問題が発生する可能性があります。

　トランザクションを用いたとしても、分離レベルの選択を誤ると上で示した問
題が発生しますし、かと言って上の問題が起こらない分離レベルを選択するとパ
フォーマンスに致命的なダメージを与える場合やデッドロックが発生する場合、
あるいはデッドロック回避のためにロールバックが自動的に発生して更新等が意
図通りに行われない場合があります。また、READ COMMITTED分離レベルの動作が
Oracleと他のDBMSとで異なる等のDBMSの実装による差異もあり、なかなか大変で
す (MySQL限定であればこれは大した問題ではありませんが)。

　このため、トランザクションを用いる場合、厳密な計画、慎重なコード実装、
十分なテストが不可欠となります。トランザクションは万能の霊薬ではなく、非
常に強い毒性/副作用を持つ薬、と言う感じですね。


　　　　松枝知直　　　　&lt;tomom@xxxxxxxxxx&gt;
　　　　　　　　　　　　<a href="http://www.argus.ne.jp/~tomom/">http://www.argus.ne.jp/~tomom/</a>



</pre>
</div>
<p class="button"><a href="9716">[前]</a><a href="9718">[次]</a><a href="../list/9701-9800">[番号順一覧]</a><a href="../thread/9701-9800">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="9710">   9710 2004-06-27 14:29 [&quot;yoshiki&quot; &lt;yoshiki@x] トランザクションにした場合の更新処理    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9711">   9711 2004-06-27 16:38 ┣[岡元　慎吾 &lt;shingo.o]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9712">   9712 2004-06-27 17:11 ┣[Sumito_Oda &lt;oda@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9713">   9713 2004-06-27 18:30 ┃┣[Takashi Mikami &lt;rx78] 特定のファイルからの接続エラー      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9716">   9716 2004-06-28 07:56 ┃┃┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9714">   9714 2004-06-28 00:11 ┃┗[&quot;yoshiki&quot; &lt;yoshiki@x]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="9717">   9717 2004-06-28 09:44 ┗[ML account &lt;ml@xxxxx]                                       </a></span>
</pre>
</body>
</html>
