<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4048</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4047.html">[前]</a><a href="4049.html">[次]</a><a href="../list/4001-4100.html">[番号順一覧]</a><a href="../thread/4001-4100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4048
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 22 Jul 2001 19:05:24 +0900<br>
Subject: [mysql 04048] Re: フィールドの定義について<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Thu, 19 Jul 2001 13:13:52 +0900
&quot;Rei Shimizu&quot; &lt;remo@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; こちら側が管理するにしても、ある程度コードで区分が分かり、なおかつ、</span>
<span class="quote1">&gt; ユニークな値をもったIDが必要になったわけです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; しかも、最後の連番に関しては、出来れば、</span>
<span class="quote1">&gt; ジャンル&quot;0&quot;の商品区分&quot;A&quot;の001番目の商品と言うようにしたいんで、</span>
<span class="quote1">&gt; 三桁の連番に関しては、重複した値がでてきます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; そこでそれらを全部繋げたひとつのIDが自動生成できるフィールドが定義できないか</span>
<span class="quote1">&gt; と思いました。</span>
<span class="quote1">&gt; まずその商品のジャンルIDと商品区分IDを繋げて、その後、その二を連結した他の商</span>
<span class="quote1">&gt; 品を検索して、</span>
<span class="quote1">&gt; その中の一番大きい連番を持つIDに+1していく、というような仕組みが、作りたかっ</span>
<span class="quote1">&gt; たんです。</span>

JSP とか JDBC とかはまったくわからないんですが、書かれた通りの手順を
そのままプログラムで実現すれば良いと思います。

	select max(連番) from テーブル where ジャンル='0' and 商品区分='A';

として、プログラムで取り出した連番を +1 して insert すれば良いのでは
ないでしょうか。

念のため、UNIQUE (ジャンル, 商品区分, 連番) というインデックスを作って
おけば良いでしょう。

--
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="4047.html">[前]</a><a href="4049.html">[次]</a><a href="../list/4001-4100.html">[番号順一覧]</a><a href="../thread/4001-4100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="3983.html">   3983 2001-07-12 21:16 [&quot;Rei Shimizu&quot; &lt;remo@] アドバイスお願いします。                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3984.html">   3984 2001-07-12 21:39 ┣[&quot;TOYOSHIMA,Masayuki&quot;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3987.html">   3987 2001-07-12 23:53 ┃┗[&quot;Rei Shimizu&quot; &lt;remo@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3994.html">   3994 2001-07-13 11:36 ┃　┗[楠吉彦 &lt;moredebu@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4011.html">   4011 2001-07-15 22:57 ┃　　┗[&quot;Rei Shimizu&quot; &lt;remo@]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4012.html">   4012 2001-07-15 23:14 ┃　　　┗[&quot;ebara hisashi&quot; &lt;eba]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4015.html">   4015 2001-07-16 12:05 ┃　　　　┗[&quot;Rei Shimizu&quot; &lt;remo@] 少しは進みました。          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4016.html">   4016 2001-07-16 13:02 ┃　　　　　┣[&lt;endo_t@xxxxxxxxxx&gt; ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4018.html">   4018 2001-07-16 13:33 ┃　　　　　┃┗[&quot;Rei Shimizu&quot; &lt;remo@]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4034.html">   4034 2001-07-18 07:30 ┃　　　　　┗[&quot;Rei Shimizu&quot; &lt;remo@] フィールドの定義について  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4036.html">   4036 2001-07-18 14:30 ┃　　　　　　┣[楠吉彦 &lt;moredebu@xxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4045.html">   4045 2001-07-19 12:06 ┃　　　　　　┃┗[&quot;Rei Shimizu&quot; &lt;remo@]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4041.html">   4041 2001-07-19 04:15 ┃　　　　　　┗[とみたまさひろ &lt;tomm]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4043.html">   4043 2001-07-19 10:15 ┃　　　　　　　┣[楠吉彦 &lt;moredebu@xxx]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4046.html">   4046 2001-07-19 13:13 ┃　　　　　　　┗[&quot;Rei Shimizu&quot; &lt;remo@]                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4048.html">   4048 2001-07-22 19:05 ┃　　　　　　　　┗[とみたまさひろ &lt;tomm]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3985.html">   3985 2001-07-12 23:10 ┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3986.html">   3986 2001-07-12 23:38 　┗[&quot;Rei Shimizu&quot; &lt;remo@]                                     </a></span>
</pre>
</body>
</html>
