<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8391</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8390">[前]</a><a href="8392">[次]</a><a href="../list/8301-8400">[番号順一覧]</a><a href="../thread/8301-8400">[スレッド一覧]</a></p>
<p class="id">
mysql:8391
</p>
<div class="header">
<p>
From: syuasai &lt;syuasai &lt;syuasai@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 13 Nov 2003 00:59:45 +0900<br>
Subject: [mysql 08391] 突然起動しなくなりました。<br>

</p>
</div>
<div class="body">
<pre>

専用レンタルサーバーにて mysql4.0.15-max,apache1.3.28,php4.3.2
を使い、顧客管理ツールを作り順調に稼動していたんですが、
何故かサーバーが勝手に再起動を起こしました。何が問題か、
ログを見たところ下記のようなエラーが出ていました。

031113  0:15:44  bdb:  Recovery function for LSN 1 661772 failed
031113  0:15:44  bdb:  warning: ./getterlove/XXXXXX.db: No such file or
direct
ory
031113  0:15:44  Can't init databases
031113  0:15:44  Aborting
031113  0:15:44  /usr/local/mysql/libexec/mysqld: Shutdown Complete
031113 00:15:44  mysqld ended

マニュアルによると「これは --bdb-recover 付きで mysqld が起動され、Berke
ley DB がデータベースを復元しようとした時にログファイルに悪い何かを見つ
けたということを意味します。」と書いてありましたが起動コマンドは下記のよ
うに設定しているのでこの場合とは状況が違うような気もします。

/bin/sh /usr/local/mysql/bin/mysqld_safe --datadir=/db/mysql/data --pid-
file=/db/mysql/ --default-character-set=ujis&amp;

このマニュアルの説明どおりにlog.0000001というファイルを削除した後に
/etc/rc.d/init.d/mysql startにて起動をかけるとすんなり起動しました。
しかし、初期にサーバーを立ち上げた際に数件登録したレコード以外の新しい
最近のデータがまったくといっていいほど消えていました。

何が原因かアドバイスいただけたら幸いです。


</pre>
</div>
<p class="button"><a href="8390">[前]</a><a href="8392">[次]</a><a href="../list/8301-8400">[番号順一覧]</a><a href="../thread/8301-8400">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8383">   8383 2003-11-12 16:11 [&quot;DAY s&quot; &lt;the_dayss@x] 起動しない、 PASS 設定できない          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8384">   8384 2003-11-12 16:26 ┣[遠藤 俊裕 &lt;endo_t@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8385">   8385 2003-11-12 16:39 ┣[&lt;yoshiaki@xxxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8386">   8386 2003-11-12 16:40 ┣[&lt;numata@xxxxxxxxxx&gt; ]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="8391">   8391 2003-11-13 00:59 ┗[syuasai &lt;syuasai@xxx] 突然起動しなくなりました。            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8392">   8392 2003-11-13 10:44 　┣[&quot;Mitsuhiro HASHIMOTO] READ ロックについて                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8393">   8393 2003-11-13 19:40 　┗[syuasai &lt;syuasai@xxx]                                     </a></span>
</pre>
</body>
</html>
