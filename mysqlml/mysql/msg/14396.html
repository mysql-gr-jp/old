<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14396</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14395.html">[前]</a><a href="14397.html">[次]</a><a href="../list/14301-14400.html">[番号順一覧]</a><a href="../thread/14301-14400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14396
</p>
<div class="header">
<p>
From: (渡辺義則) &lt;&lt;cabva301@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 22 Feb 2008 23:27:14 +0900<br>
Subject: [mysql 14396] Connector/J の Timestamp"0000-00-00 00:00:00"問題の解決方法<br>

</p>
</div>
<div class="body">
<pre>渡辺(a-san)です。ども。

mysql:12214 などで議論になり、zeroDateTimeBehavior プロパティ
で３つの挙動を選ぶようになっているようですが、
別の解決方法を思いつきました。

アプリケーション側の話ではなく、Connector/J側の話です。
Connector/J で以下のクラスを作成し、そのクラスに変換して
返すように実装するのです。
こうすれば、Javaでも、"0000-00-00 00:00:00"が扱えるハズです。

// java.sql.Timestampを継承する。しかしそのメンバは使わない。
public class MySqlTimestamp extends java.sql.Timestamp {
    int year;
    ...
    int nano;
    public MySqlTimestamp(int year, ...) {
        this.year = year;
        ...
    }
    // すべてのメソッドをオーバーライドする。
    ...
}

どう思います？

----
渡辺 義則  a-san1@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="14395.html">[前]</a><a href="14397.html">[次]</a><a href="../list/14301-14400.html">[番号順一覧]</a><a href="../thread/14301-14400.html">[スレッド一覧]</a></p>


</body></html>