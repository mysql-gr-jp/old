<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10810</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10809">[前]</a><a href="10811">[次]</a><a href="../list/10801-10900">[番号順一覧]</a><a href="../thread/10801-10900">[スレッド一覧]</a></p>
<p class="id">
mysql:10810
</p>
<div class="header">
<p>
From: &quot;Matsunobu, Yoshinori&quot; &lt;&quot;Matsunobu, Yoshinori&quot; &lt;Yoshinori.Matsunobu@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 17 Jan 2005 11:30:54 +0900<br>
Subject: [mysql 10810] Re: mysqldプロセスの数が多い<br>

</p>
</div>
<div class="body">
<pre>
松信と申します。

樋口さん
お使いのMySQLが、ソースからコンパイルしたものなのか、
MySQL AB社提供のバイナリ版なのかによっても結果は変わります。

Linuxカーネル2.6(+RH9,RHEL3,etc)とそれ以前とで、
スレッドライブラリの実装が違うということは山本さんのご指摘の通りなのですが、
MySQL AB社提供のバイナリ版では、現状ではLinuxのバージョンに関わらず、
スレッドライブラリとしてLinuxThreadsを使うように静的コンパイルされています。
そのためpsコマンドなどを使うと、mysqldプロセスが複数存在するように見えます。
実際にはサーバ側のプロセスは1個で、後は全部スレッドです。

--------------
松信　嘉範 (Matsunobu Yoshinori)
Yoshinori.Matsunobu@xxxxxxxxxx

<span class="quote1">&gt; -----Original Message-----</span>
<span class="quote1">&gt; From: 樋口聡 [mailto:satoshi@xxxxxxxxxx] </span>
<span class="quote1">&gt; Sent: Monday, January 17, 2005 11:06 AM</span>
<span class="quote1">&gt; To: ml@xxxxxxxxxx</span>
<span class="quote1">&gt; Subject: <a href="10809">[mysql 10809]</a> Re: mysqldプロセスの数が多い</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 山本さん、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; OSの環境も含めて再度調査してみます。質問の際は焦っていて、十分な情報を</span>
<span class="quote1">&gt; 提</span>
<span class="quote1">&gt; 供しないで質問してしまい申し訳ありませんでした。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; アドバイスありがとうございました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; kuyo@xxxxxxxxxx wrote:</span>
<span class="quote2">&gt; &gt; 山本です。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 樋口さんの環境には OS とそのバージョンが記述されていませんので推測で</span>
<span class="quote1">&gt; す</span>
<span class="quote2">&gt; &gt; が、プロセスが多く見えている環境の OS は Linux のカーネル 2.4 以前で</span>
<span class="quote1">&gt; は</span>
<span class="quote2">&gt; &gt; ないでしょうか。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; また、プロセスが一つのみの環境は Red Hat 9 以降の Red Hat ディストリ</span>
<span class="quote2">&gt; &gt; ビューションか、 Linux 2.6 以降ではないかと考えます。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 二つの違いは利用しているスレッドライブラリが異なる点です。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; Linux 2.4 以前で標準的に使用するスレッドライブラリは linuxthread です</span>
<span class="quote1">&gt; 。</span>
<span class="quote2">&gt; &gt; これは個々のスレッドをプロセスと同様な方式で管理します。よって ps コ</span>
<span class="quote1">&gt; マ</span>
<span class="quote2">&gt; &gt; ンドでは個々のスレッドがプロセスとして一つずつ表示されます。(PIDを持</span>
<span class="quote1">&gt; っ</span>
<span class="quote2">&gt; &gt; ている)</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; Red Hat 9 以降の Red Hat ディストリビューションや Linux 2.6 以降では</span>
<span class="quote1">&gt; ス</span>
<span class="quote2">&gt; &gt; レッドライブラリに NPTL を使用します。これは POSIX に準拠した管理を行</span>
(以下略)

</pre>
</div>
<p class="button"><a href="10809">[前]</a><a href="10811">[次]</a><a href="../list/10801-10900">[番号順一覧]</a><a href="../thread/10801-10900">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="10810">  10810 2005-01-17 11:30 [&quot;Matsunobu, Yoshinor] Re: mysqldプロセスの数が多い            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10848">  10848 2005-01-29 02:11 ┗[樋口聡 &lt;satoshi@xxxx]                                       </a></span>
</pre>
</body>
</html>
