<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5422</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5421">[前]</a><a href="5423">[次]</a><a href="../list/5401-5500">[番号順一覧]</a><a href="../thread/5401-5500">[スレッド一覧]</a></p>
<p class="id">
mysql:5422
</p>
<div class="header">
<p>
From: Tatsuhiko Miyagawa &lt;Tatsuhiko Miyagawa &lt;miyagawa@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 27 Apr 2002 13:06:59 +0900<br>
Subject: [mysql 05422] Re: Full-text Search<br>

</p>
</div>
<div class="body">
<pre>
宮川です。

At Sat, 27 Apr 2002 12:46:17 +0900,
TOYOSHIMA, Masayuki &lt;mtoyo@xxxxxxxxxx&gt; wrote:
 
<span class="quote1">&gt; DBIx::FullTextSearch の仕組みは(これ又ソース見ないで言う奴ですが)転置索</span>
<span class="quote1">&gt; 引そのものの様に見えるのですが…、</span>

えーと、そういうことになりますね。先のスクリプトを実行するとこんな感じ
のテーブルができます。(テストなんで、END で drop してますが)

mysql&gt; select * from _fts_doc_words limit 20;
+--------------+----+
<span class="quote1">| word         | id |</span>
+--------------+----+
<span class="quote1">| はず         |  1 |</span>
<span class="quote1">| アクセス     |  2 |</span>
<span class="quote1">| でも         |  3 |</span>
<span class="quote1">| たい         |  4 |</span>
<span class="quote1">| Perl         |  5 |</span>
<span class="quote1">| 思う         |  6 |</span>
<span class="quote1">| する         |  7 |</span>
<span class="quote1">| から         |  8 |</span>
<span class="quote1">| だれ         |  9 |</span>
<span class="quote1">| データベース | 10 |</span>
<span class="quote1">| 一般         | 11 |</span>
<span class="quote1">| こと         | 12 |</span>
<span class="quote1">| 利用         | 13 |</span>
<span class="quote1">| 方法         | 14 |</span>
<span class="quote1">| DBI          | 15 |</span>
<span class="quote1">| 最も         | 16 |</span>
<span class="quote1">| もの         | 17 |</span>
<span class="quote1">| レストラン   | 18 |</span>
<span class="quote1">| みる         | 19 |</span>
<span class="quote1">| 例える       | 20 |</span>
+--------------+----+
20 rows in set (0.00 sec)

mysql&gt; select word_id, doc_id from _fts_doc_data limit 10;
+---------+--------+
<span class="quote1">| word_id | doc_id |</span>
+---------+--------+
<span class="quote1">|       1 |      1 |</span>
<span class="quote1">|       2 |      1 |</span>
<span class="quote1">|       3 |      1 |</span>
<span class="quote1">|       4 |      1 |</span>
<span class="quote1">|       5 |      1 |</span>
<span class="quote1">|       6 |      1 |</span>
<span class="quote1">|       7 |      1 |</span>
<span class="quote1">|       8 |      1 |</span>
<span class="quote1">|       9 |      1 |</span>
<span class="quote1">|      10 |      1 |</span>
+---------+--------+
10 rows in set (0.00 sec)


で、この _fts_doc_data のテーブル構造の持ち方が何種類かあって、検索重
視か、更新重視か、など選べます。上の持ち方ですと単語とドキュメントが並
ぶリファレンステーブルになるので、検索対象のテーブルが巨大だとさらに巨
大なテーブルができることになります。

--
Tatsuhiko Miyagawa &lt;miyagawa@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="5421">[前]</a><a href="5423">[次]</a><a href="../list/5401-5500">[番号順一覧]</a><a href="../thread/5401-5500">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5375">   5375 2002-04-20 22:23 [&lt;moeru@xxxxxxxxxx&gt;  ] Full-text Search                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5376">   5376 2002-04-20 23:19 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5377">   5377 2002-04-20 23:35 　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5378">   5378 2002-04-21 00:34 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5379">   5379 2002-04-21 00:47 　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5381">   5381 2002-04-21 07:37 　　　　┣[&quot;KAWAI,Takanori&quot; &lt;GC]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5383">   5383 2002-04-21 11:13 　　　　┃┗[&lt;moeru@xxxxxxxxxx&gt;  ]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5386">   5386 2002-04-21 23:19 　　　　┃　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5387">   5387 2002-04-22 00:13 　　　　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5401">   5401 2002-04-25 11:06 　　　　┃　　　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5403">   5403 2002-04-25 12:14 　　　　┃　　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5404">   5404 2002-04-25 14:10 　　　　┃　　　　　┣[&quot;KAWAI,Takanori&quot; &lt;GC]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5407">   5407 2002-04-26 01:10 　　　　┃　　　　　┃┣[&lt;moeru@xxxxxxxxxx&gt;  ]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5408">   5408 2002-04-26 07:44 　　　　┃　　　　　┃┃┗[&quot;KAWAI,Takanori&quot; &lt;GC]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5410">   5410 2002-04-26 09:47 　　　　┃　　　　　┃┃　┗[&lt;moeru@xxxxxxxxxx&gt;  ]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5411">   5411 2002-04-26 10:52 　　　　┃　　　　　┃┃　　┣[&quot;KAWAI,Takanori&quot; &lt;GC]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5417">   5417 2002-04-27 00:22 　　　　┃　　　　　┃┃　　┃┣[&lt;moeru@xxxxxxxxxx&gt;  ]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5419">   5419 2002-04-27 12:30 　　　　┃　　　　　┃┃　　┃┗[Tatsuhiko Miyagawa &lt;]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5421">   5421 2002-04-27 12:46 　　　　┃　　　　　┃┃　　┃　┣[&quot;TOYOSHIMA, Masayuki]       </a></span>
<span class="current">-&gt;&nbsp;<a href="5422">   5422 2002-04-27 13:06 　　　　┃　　　　　┃┃　　┃　┃┣[Tatsuhiko Miyagawa &lt;]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5423">   5423 2002-04-28 11:50 　　　　┃　　　　　┃┃　　┃　┃┃┗[&quot;TOYOSHIMA, Masayuki]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5424">   5424 2002-04-28 18:36 　　　　┃　　　　　┃┃　　┃　┃┗[&quot;KAWAI,Takanori&quot; &lt;GC]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5425">   5425 2002-04-28 18:50 　　　　┃　　　　　┃┃　　┃　┗[&quot;KAWAI,Takanori&quot; &lt;GC]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5432">   5432 2002-05-05 14:58 　　　　┃　　　　　┃┃　　┃　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5416">   5416 2002-04-26 20:20 　　　　┃　　　　　┃┃　　┗[Hidetoshi OKAWA &lt;hid]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5420">   5420 2002-04-27 12:46 　　　　┃　　　　　┃┗[Tatsuhiko Miyagawa &lt;]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5405">   5405 2002-04-25 18:33 　　　　┃　　　　　┗[Hidetoshi OKAWA &lt;hid]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5382">   5382 2002-04-21 08:04 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
</pre>
</body>
</html>
