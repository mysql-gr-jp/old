<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11046</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11045">[前]</a><a href="11047">[次]</a><a href="../list/11001-11100">[番号順一覧]</a><a href="../thread/11001-11100">[スレッド一覧]</a></p>
<p class="id">
mysql:11046
</p>
<div class="header">
<p>
From: 佐々木 祐 &lt;佐々木 祐 &lt;yuu_sasaki@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 26 Feb 2005 10:48:26 +0900<br>
Subject: [mysql 11046] Re: 累積を計算するSQLは<br>

</p>
</div>
<div class="body">
<pre>
こんな感じでどうかな

select ID, Value +
ifnull((select sum(b.Value) from table as b where b.id &lt; a.id), 0) as Sum
from table as a


柴垣 wrote:
<span class="quote1">&gt; 柴垣です。SQL文で、累積を計算していくものは書けないでしょうか。</span>
<span class="quote1">&gt; 具体的には、下記のようなデータセットがあって、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ID   Value</span>
<span class="quote1">&gt; -------------</span>
<span class="quote1">&gt;  1       5</span>
<span class="quote1">&gt;  2       3</span>
<span class="quote1">&gt;  3       7</span>
<span class="quote1">&gt;  4      12</span>
<span class="quote1">&gt;  5       8</span>
<span class="quote1">&gt; .....</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; これから、</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ID     Sum</span>
<span class="quote1">&gt; -------------</span>
<span class="quote1">&gt;  1       5</span>
<span class="quote1">&gt;  2       8</span>
<span class="quote1">&gt;  3      15</span>
<span class="quote1">&gt;  4      27</span>
<span class="quote1">&gt;  5      35</span>
<span class="quote1">&gt; ....</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; という具合に、累積をとっていくものを考えているのですが、</span>
<span class="quote1">&gt; 自己結合その他をいろいろと考えてもうまくいきません。</span>
<span class="quote1">&gt; 　こんな計算をさせることはできないのでしょうか。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; _/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  柴垣　顕郎 akiro@xxxxxxxxxx</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; _/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="11045">[前]</a><a href="11047">[次]</a><a href="../list/11001-11100">[番号順一覧]</a><a href="../thread/11001-11100">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11044">  11044 2005-02-26 04:18 [柴垣 &lt;akiro@xxxxxxxx] 累積を計算するSQLは                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11045">  11045 2005-02-26 10:47 ┣[tadashi nagao &lt;tadas]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11046">  11046 2005-02-26 10:48 ┣[佐々木 祐 &lt;yuu_sasak]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11047">  11047 2005-02-26 13:03 ┃┗[柴垣 &lt;akiro@xxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11048">  11048 2005-02-26 13:34 ┃　┣[tadashi nagao &lt;tadas]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11049">  11049 2005-02-26 15:24 ┃　┣[一山昌紀 &lt;icchan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11050">  11050 2005-02-26 17:43 ┃　┃┗[柴垣 &lt;akiro@xxxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11051">  11051 2005-02-27 18:09 ┃　┃　┗[遠藤 俊裕 &lt;endo@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11059">  11059 2005-02-28 12:00 ┃　┗[&quot;waya&quot; &lt;wayama@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11067">  11067 2005-02-28 13:56 ┗[班石悦夫 &lt;madara@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11077">  11077 2005-02-28 14:28 　┣[柴垣 &lt;akiro@xxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11080">  11080 2005-02-28 14:45 　┗[一山 昌紀 &lt;icchan@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11089">  11089 2005-02-28 15:37 　　┗[班石悦夫 &lt;madara@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11093">  11093 2005-02-28 15:55 　　　┗[一山 昌紀 &lt;icchan@xx]                                 </a></span>
</pre>
</body>
</html>
