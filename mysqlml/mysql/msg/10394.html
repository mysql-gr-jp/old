<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10394</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="10393.html">[前]</a><a href="10395.html">[次]</a><a href="../list/10301-10400.html">[番号順一覧]</a><a href="../thread/10301-10400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10394
</p>
<div class="header">
<p>
From: George Akimoto &lt;George Akimoto &lt;george@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 09 Nov 2004 00:53:15 +0900<br>
Subject: [mysql 10394] Re: Windows版4.1.7でデータベース名、テーブル名、フィールド名の漢字が化ける<br>

</p>
</div>
<div class="body">
<pre>秋元です。

気になったのでWindowsにMySQL4.1を入れて確認してみましたら、

mysql&gt; SHOW VARIABLES;
+--------------------------+------------------+
<span class="quote1">| Variable_name            | Value            |</span>
+--------------------------+------------------+
...
<span class="quote1">| character_set_client     | sjis             |</span>
<span class="quote1">| character_set_connection | sjis             |</span>
<span class="quote1">| character_set_database   | sjis             |</span>
<span class="quote1">| character_set_results    | sjis             |</span>
<span class="quote1">| character_set_server     | sjis             |</span>
<span class="quote1">| character_set_system     | utf8             |</span>
<span class="quote1">| collation_connection     | sjis_japanese_ci |</span>
<span class="quote1">| collation_database       | sjis_japanese_ci |</span>
<span class="quote1">| collation_server         | sjis_japanese_ci |</span>
...

default-character-set=sjisとしても、
character_set_systemがutf8になってます。

これはテーブル名とかコラム名を格納する際に使われているみたいですが、
utf8に固定でmy.iniなどでの上書きもできなさそうです。

適当なテーブルを作ってみたところ、確かにファイル名はUTF8でした。

まぁ、内部処理においてはきちんと変換されているようですから、マルチバイト
文字をテーブル名等に使うこと自体は問題ないのではないでしょうか。
ファイル名がUTF8になるので、Explorerで化けるのは避けられないでしょうが。


内藤さんのケースでは移行の際にこのファイル名が問題になりますが...

まぁmysqldumpを使ってしまえば回避できますね。

あとはファイルをコピーした上で、ファイル名をsjisからutf8に直すのかな。
といってもExplorerでUTF8は扱えませんから、多少強引ですが、一旦適当な英数
字のファイル名にした上で、MySQL-ClientからALTER TABLEで日本語にするとか。

これでテーブルが認識できれはば、格納されているデータについては文字コード
設定でいけそうな気がします。

#自信ありません(^^;)
#どなたか詳しい方いらっしゃいましたらフォローして下さると助かります。



</pre>
</div>
<p class="button"><a href="10393.html">[前]</a><a href="10395.html">[次]</a><a href="../list/10301-10400.html">[番号順一覧]</a><a href="../thread/10301-10400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="10391.html">  10391 2004-11-08 11:57 [&lt;naito@xxxxxxxxxx&gt;  ] Windows版4.1.7でデータベース名、テーブル名、フィールド名の漢字が化ける</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10392.html">  10392 2004-11-08 16:03 ┗[George Akimoto &lt;geor]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10393.html">  10393 2004-11-08 19:27 　┗[&lt;naito@xxxxxxxxxx&gt;  ]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="10394.html">  10394 2004-11-09 00:53 　　┗[George Akimoto &lt;geor]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10528.html">  10528 2004-11-28 10:13 　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10559.html">@ 10559 2004-11-30 10:14 　　　　┗[&lt;naito@xxxxxxxxxx&gt;  ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10560.html">  10560 2004-11-30 12:06 　　　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                             </a></span>
</pre>


</body></html>