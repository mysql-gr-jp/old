<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7559</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7558">[前]</a><a href="7560">[次]</a><a href="../list/7501-7600">[番号順一覧]</a><a href="../thread/7501-7600">[スレッド一覧]</a></p>
<p class="id">
mysql:7559
</p>
<div class="header">
<p>
From: SAITO Masaru &lt;SAITO Masaru &lt;daisaito@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 19 Apr 2003 17:34:54 +0900<br>
Subject: [mysql 07559] Re: timestamp 型で、 between の利用は可か<br>

</p>
</div>
<div class="body">
<pre>
齋藤＠横浜です。

202003/04/19 13:00:16 ごろ
ihandman &lt;ihandman@xxxxxxxxxx&gt; さんは以下のように書きました
<span class="quote1">&gt; 初めまして。</span>
<span class="quote1">&gt; 下記のオリジナルメッセージ中、★で始まる行が回答のつもりです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ---------- ORIGINAL MESSAGE ----------</span>
<span class="quote1">&gt; On Sat, 19 Apr 2003 02:26:55 +0900</span>
<span class="quote1">&gt; tamura &lt;zai91210@xxxxxxxxxx&gt; wrote:</span>
<span class="quote2">&gt; &gt; 田村です、毎度。いつも、お世話になります。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 環境は、</span>
<span class="quote2">&gt; &gt; OS　　　：Windows2000Pro</span>
<span class="quote2">&gt; &gt; MySQL　：　MySQL3.23.51</span>
<span class="quote2">&gt; &gt; PHP　　：　php-4.2.2-Win32</span>
<span class="quote2">&gt; &gt; です。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; PHPの中で使うSQLについて教えてください。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; t_order_sales_main テーブル(売上伝票)の構成：</span>
<span class="quote2">&gt; &gt; order_sales_id        int(11)</span>
<span class="quote2">&gt; &gt; sales_date            timestamp(14)</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　★なぜ（１４）？　不要では？</span>

14の場合はあえて指定する必要は無いかもしれないですが、
明示的に指定しても害は無いと思います。

<a href="http://www.mysql.gr.jp/jpdoc/3.23/manual.ja_Reference.html#DATETIME">http://www.mysql.gr.jp/jpdoc/3.23/manual.ja_Reference.html#DATETIME</a>


<span class="quote2">&gt; &gt; select * from t_order_sales_main where sales_date between $ymd1 and</span>
<span class="quote2">&gt; &gt; $ymd2</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; のようなものを、実現させたいのです。</span>
<span class="quote2">&gt; &gt; 　sales_date( timestamp )を、date化できればと考えたのですが、うまくいき</span>
<span class="quote2">&gt; &gt; ません。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 　よろしくお願いいたします。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote1">&gt; 　★ｂｅｔｗｅｅｎ　ａｎｄ句はＤＡＴＥだけに適用されるものではありません</span>
<span class="quote1">&gt; 　★ので、ｂｅｔｗｅｅｎ　ａｎｄ句を使うためにｄａｔｅ化する必要はないの</span>
<span class="quote1">&gt; 　★では？</span>


単に $ymd1,$ymd2は普通の文字列で、sales_dateが timestamp型で
型が違っているからbetweenの比較がうまくいかないと言っているん
だと思います。解決策としては、下記のように型を合わせて比較
すればうまくいくと思います。

1) sales_date between TO_DAYS($ymd1) and TO_DAYS($ymd2)
2) DATE_FORMAT(sales_date,'%Y%m%d%H%i%s') between '$ymd1' and '$ymd2'
# DATE_FORMATの第2引数の内容は$ymd1,$ymd2の中身に合わせる必要があります。

<span class="quote1">&gt; 　また、ＴＩＭＥＳＴＡＭＰ型とＤＡＴＥ型は同じものではないです</span>
<span class="quote1">&gt; 　★か？</span>

上記のURLを参照すればわかりますが、目的などが違いますので、
同じではないと思います。



---
SAITO Masaru &lt;daisaito@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="7558">[前]</a><a href="7560">[次]</a><a href="../list/7501-7600">[番号順一覧]</a><a href="../thread/7501-7600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7557">   7557 2003-04-19 02:26 [tamura &lt;zai91210@xxx] timestamp 型で、 between の利用は可か   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7558">   7558 2003-04-19 13:00 ┗[ihandman &lt;ihandman@x]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="7559">   7559 2003-04-19 17:34 　┗[SAITO Masaru &lt;daisai]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7560">   7560 2003-04-19 20:22 　　┣[ihandman &lt;ihandman@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7563">   7563 2003-04-20 00:19 　　┣[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7565">   7565 2003-04-20 01:36 　　┃┗[tamura &lt;zai91210@xxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7564">   7564 2003-04-20 01:24 　　┗[tamura &lt;zai91210@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7571">   7571 2003-04-21 01:02 　　　┗[tamura &lt;zai91210@xxx] Re: timestamp 型で、 between の利用は可か（自己レス）</a></span>
</pre>
</body>
</html>
