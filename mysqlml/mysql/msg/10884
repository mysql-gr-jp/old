<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10884</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10883">[前]</a><a href="10885">[次]</a><a href="../list/10801-10900">[番号順一覧]</a><a href="../thread/10801-10900">[スレッド一覧]</a></p>
<p class="id">
mysql:10884
</p>
<div class="header">
<p>
From: &quot;Nagano&quot; &lt;&quot;Nagano&quot; &lt;nagano_imcj@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 4 Feb 2005 15:31:02 +0900<br>
Subject: [mysql 10884] Re: mysql-essential-4.1.9-win32  が落ちる<br>

</p>
</div>
<div class="body">
<pre>
  長野です。

  初めてメールさせていただきます。



  もりきゅうさんと同じく、Windows XP Pro. SP2　に、mysql-4.1.9-win32.msi　をインストールしていろいろ基本動作確認などしているのですがDSNからSQLサーバーにうまくつながりません。

  MySQLに関してはVer 4．1.8ではうまく設定が出来なかったのですが、4．１．９の最新版を載せたところ、以下の様にサーバーにアクセスできる所まではうまくいきました。　C:\Windows\my.ini　に　[client]で user＋ password　を記載して 
共通環境してあります。


  １；MySQLにログイン　→　サーバーの正常起動状態が確認できる

  C:\Documents and Settings\長野&gt;mysql
  Welcome to the MySQL monitor.  Commands end with ; or \g.
  Your MySQL connection id is 11 to server version: 4.1.9-nt

  Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

  mysql&gt;

  ２；MｙSQLのコマンドでDBのテーブル一覧を表示

  C:\Documents and Settings\長野&gt;mysqlshow
  +-----------+
  | Databases |
  +-----------+
  | mysql     |
  | test      |
  +-----------+


  しかし、ODBCを設定して繋ごうとすると失敗してしまいます。ODBCは、以下の様にしてインストールしました。

  C:\usr\local\cygwin\usr\local\src\ODBC

  ・C:\usr\local\cygwin\usr\local\src\ODBC\odbc3.5-latest\binary　に、MyODBC-3.51.02.exe 
を置きダブルクリックして起動
  　後はひたすらにNext　でFinish

  ・文字コードがEUCに設定されているMySQLサーバーに接続する場合は、更に日本語対応版ODBCをインストールする事が必要。

  　ujis変換機能つきのドライバ　winclients+myodbc3-conv_ujis-20020409.zip をダウンロード後、展開
  　optフォルダ内の、myodbc3.dll を、C:\WINDOWS\SYSTEM32 以下にコピー



  その後、以下の様にDSN(Data Source Name) の登録処理を実施するとはじかれてしまいます。

  　　「コントロールパネル」
  →　「管理ツール」
  →　「データソース（ODBC）」
  →　「システムDSN」タブを選択
  →　「追加」ボタンを押下
  →　「データソースの新規作成」画面起動
  →　「MySQL ODBC 3.5.1 driver」を選択して「完了」ボタンを押下
  →　「MySQL ODBC 3.51 Driver - DSN Configuration」画面が起動


  「MySQL ODBC 3.51 Driver - DSN Configuration」画面での設定

  DSN Information;
     Data Source Name:  何でもOK
     Description:  MySQl ODBC 3.51 Driver DSN

  MySQL Connection Parameters;
     Host/Server name(or IP): 192.168.***.***
     Database Name: test
     User: root
     password: *******
     Port: 3306
     SQL command on connect: 未記入

  Options that　affects the behaviour of MyODBC 3.51 Driver
    Return Matching Rows を必ずチェック　→　MS Access 使用に必須のオプション 



  「Test Data Source」を押すが、以下のエラーメッセージが出る。

  [MySQL][ODBC 3.51 Driver] Client does not support authentication protocol 
requested by server; consider upgrading MySQL client



  どこが問題なのでしょうか？もりきゅうさんの処理途中でサーバーが落ちる現象と類似性があるような気もするのですが如何でしょうか。


  --------------------------------- 
  〒162-8655
  東京都新宿区戸山1-21-1
  国立国際医療センター研究所　
  遺伝子診断治療開発研究部　　
  長野　忍
  03-3202-7181(内線；2894)
  nagano_imcj@xxxxxxxxxx
  --------------------------------- 


  ----- Original Message ----- 
  From: &quot;Kazuhiro Yoshida&quot; &lt;moriq@xxxxxxxxxx&gt;
  To: &lt;ml@xxxxxxxxxx&gt;
  Sent: Friday, February 04, 2005 2:35 PM
  Subject: <a href="10883">[mysql 10883]</a> mysql-essential-4.1.9-win32 が落ちる


  &gt; もりきゅうです。
  &gt;
  &gt; 一般に再現する現象なのか確認したいのですが
  &gt; 私の環境では
  &gt;
  &gt; * Windows XP Pro. SP2
  &gt; * mysql-essential-4.1.9-win32.msi
  &gt;
  &gt; <a href="http://www.moriq.com/ruby/rubima/test-dump.txt">http://www.moriq.com/ruby/rubima/test-dump.txt</a>
  &gt;
  &gt; C:\var\www\rubima&gt;mysql -u root -p test &lt; test-dump.txt
  &gt; mysql&gt; update topics set c1='123456789012345678901';
  &gt; ERROR 2013 (HY000): Lost connection to MySQL server during query
  &gt;
  &gt; このように MySQL サービスが落ちてしまいます。
  &gt;
  &gt; ----
  &gt; Kazuhiro Yoshida  moriq@xxxxxxxxxx
  &gt;
  &gt;


</pre>
</div>
<p class="button"><a href="10883">[前]</a><a href="10885">[次]</a><a href="../list/10801-10900">[番号順一覧]</a><a href="../thread/10801-10900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10883">  10883 2005-02-04 14:35 [Kazuhiro Yoshida &lt;mo] mysql-essential-4.1.9-win32  が落ちる   </a></span>
<span class="current">-&gt;&nbsp;<a href="10884">  10884 2005-02-04 15:31 ┣[&quot;Nagano&quot; &lt;nagano_imc]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10885">  10885 2005-02-04 16:10 ┃┗[doumae &lt;doumae@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10887">  10887 2005-02-04 16:24 ┃　┗[&quot;Nagano&quot; &lt;nagano_imc]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10888">  10888 2005-02-04 22:55 ┗[tateyan &lt;tateyan@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10889">  10889 2005-02-04 23:51 　┗[tateyan &lt;tateyan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10890">  10890 2005-02-05 01:34 　　┗[Kazuhiro Yoshida &lt;mo]                                   </a></span>
</pre>
</body>
</html>
