近藤さん<br><br>&gt;PHPやってないのでわかりませんが、php.iniにujisと設定しても?になりますか。<br><br>はい。設定出来る所は全て設定してますし、後はどこを見直せば良いのやら、と言った所です。<br>とりあえず、ここではPHPの話題は止めておきますね。<br><br>時間が出来次第RPMでも試してみようと思います。<br><br><br><b>kondo &lt;mail.list.dev@aaf-s.co.jp&gt;</b> wrote:<blockquote class="replbq" style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5px;"> 近藤です。<br><br>&gt;ただ、PHPからMySQLに接続しデータを取得する際、いちいち"SET NAMES
 ujis"<br>をやるの<br>&gt;が面倒だってのが一番の理由です。<br>&gt;これをやらないと文字列が「?」になってしまうので。。。<br><br>PHPやってないのでわかりませんが、php.iniにujisと設定しても?になりますか。<br>設定がない場合等、PHPがどういう文字コードで取得しているのかがポイントで<br>すね。<br>もし、"OS標準の文字コードに準ずる"というのであれば、FCって確か標準文字<br>コードが<br>UTF-8だったと思ったので、default-character-set=utf8と設定してあげると幸<br>せになれる<br>かもしれません。<br>当方環境がないため、確認できていませんが。4.0.20のRPMパッケージがだめ<br>だったら、<br>このあたりをいじくる方が早道かもしれません。<br><br><br><br>2many dj wrote:<br>&gt; お返事ありがとうございます。<br>&gt;<br>&gt; &gt;makeってスーパーユーザーでやってますよね？<br>&gt; rootでやっています。<br>&gt;<br>&gt; &gt;MySQL4.0.20というのもちょっと古いですね。<br>&gt; 一番慣れているのがこれだって理由で使おうと思っています。<br>&gt; やはり古いってのも問題なんでしょうか。<br>&gt;<br>&gt;
 &gt;私も見たことないエラーですが、mysql-4.0.27.tar.gz<br>&gt; でやってみてはどうでしょうか？<br>&gt;<br>&gt; これは一度試してみました。<br>&gt; そのときも全く同じ状態です。<br>&gt;<br>&gt; ただ、MySQL4.1.x系は試していません。<br>&gt;<br>&gt; &gt;あと、rpmパッケージでインストールしてみるのという手もあるかと思います。<br>&gt;<br>&gt; これから試してみます！<br>&gt;<br>&gt; &gt;それと、蛇足ではありますがMySQL5.0.22で日本語の扱いに困ったというのは<br>&gt; どういう内容でしょうか？<br>&gt;<br>&gt; php.ini、my.cnf共にcharsetはujisにしております。<br>&gt; 特に文字化け等も発生しておりません。<br>&gt; ただ、PHPからMySQLに接続しデータを取得する際、いちいち"SET NAMES ujis"<br>&gt; をやるのが面倒だってのが一番の理由です。<br>&gt; これをやらないと文字列が「?」になってしまうので。。。<br>&gt; 出来る限り発行するクエリを減らしたいのと、ある程度枯れてる4.0系を使い<br>&gt; たいってのも理由です。<br>&gt;<br>&gt;<br>&gt;<br>&gt; *kondo <mail.list.dev@aaf-s.co.jp>* wrote:<br>&gt;<br>&gt;    
 近藤です。<br>&gt;<br>&gt;     makeってスーパーユーザーでやってますよね？<br>&gt;     MySQL4.0.20というのもちょっと古いですね。<br>&gt;     私も見たことないエラーですが、mysql-4.0.27.tar.gz<br>&gt;     で<br>&gt;     やってみてはどうでしょうか？<br>&gt;     あと、rpmパッケージでインストールしてみるのという手もあるかと思い<br>&gt;     ます。<br>&gt;<br>&gt;     ■4.0.20<br>&gt;     http://downloads.mysql.com/archives/mysql-4.0/<br>&gt;     MySQL-4.0.20-0.src.rpm<br>&gt;<br>&gt;<br>&gt;     ■4.0.27<br>&gt;     http://downloads.mysql.com/archives/mysql-4.0/MySQL-4.0.27-0.src.rpm<br>&gt;     http://downloads.mysql.com/archives/mysql-4.0/mysql-4.0.27.tar.gz<br>&gt;<br>&gt;     それと、蛇足ではありますがMySQL5.0.22で日本語の扱いに困ったという<br>&gt;     のはど<br>&gt;     ういう<br>&gt;     内容でしょうか？<br>&gt;     仮に「日本語が正しく表示されない・書き込まれない」という問題だとす<br>&gt;     れば、<br>&gt;     どのように<br>&gt;    
 確かめたかが問題になります。MySQLの場合、my.confで使用する文字コー<br>&gt;     ドの設定が<br>&gt;     default-character-setという設定が[mysqld]でできますので、クライア<br>&gt;     ントの<br>&gt;     文字コード<br>&gt;     と合わせれば問題なないかとおもいます。<br>&gt;<br>&gt;<br>&gt;<br>&gt;     2many dj wrote:<br>&gt;     &gt; 皆様始めまして。<br>&gt;     &gt;<br>&gt;     &gt; 自宅サーバ(Fedora Core 5)にyumコマンドでMySQL5.0.22、PHP5.1.6を<br>&gt;     インス<br>&gt;     &gt; トールしました。<br>&gt;     &gt; ただ、MySQLの日本語の扱いに困りMySQL4.0.20に変更しようと思い下記<br>&gt;     手順を<br>&gt;     &gt; 踏みました。<br>&gt;     &gt;<br>&gt;     &gt; yum remove mysql.i386で削除。<br>&gt;     &gt;<br>&gt;     &gt; http://downloads.mysql.com/archives/mysql-4.0/mysql-4.0.20.tar.gz<br>&gt;     &gt; をwgetし解凍。<br>&gt;     &gt; その後<br>&gt;     &gt; ./configure --with-charset=ujis --prefix=/var/lib/mysql/<br>&gt;     &gt; --with-mysqld-user=mysql
 --with-extra-charsets=all<br>&gt;     --without-readline<br>&gt;     &gt; --with-named-thread-libs="-lpthread"<br>&gt;     &gt; と指定しconfigure。<br>&gt;     &gt;<br>&gt;     &gt; configure自体は特に問題無く終わるのでmakeをすると<br>&gt;     &gt; make[4]: *** [mysqld] Error 1<br>&gt;     &gt; make[4]: Leaving directory `/usr/src/mysql-4.0.20/sql'<br>&gt;     &gt; make[3]: *** [all-recursive] Error 1<br>&gt;     &gt; make[3]: Leaving directory `/usr/src/mysql-4.0.20/sql'<br>&gt;     &gt; make[2]: *** [all] Error 2<br>&gt;     &gt; make[2]: Leaving directory `/usr/src/mysql-4.0.20/sql'<br>&gt;     &gt; make[1]: *** [all-recursive] Error 1<br>&gt;     &gt; make[1]: Leaving directory `/usr/src/mysql-4.0.20'<br>&gt;     &gt; make: *** [all] Error 2<br>&gt;     &gt;<br>&gt;     &gt; と言う表示が出て止まります。<br>&gt;     &gt; このメッセージで色々検索し、いくつか手がかりになりそうな物を見つ<br>&gt;     け試し<br>&gt;     &gt; てみましたが、全く変化が無いです。<br>&gt;    
 &gt;<br>&gt;     &gt; 尚、config.logを見ると<br>&gt;     &gt;<br>&gt;     &gt; configure: failed program was:<br>&gt;     &gt; | #line 31477 "configure"<br>&gt;     &gt; | /* confdefs.h. */<br>&gt;     &gt; |<br>&gt;     &gt; | #define PACKAGE_NAME ""<br>&gt;     &gt; | #define PACKAGE_TARNAME ""<br>&gt;     &gt; | #define PACKAGE_VERSION ""<br>&gt;     &gt; | #define PACKAGE_STRING ""<br>&gt;     &gt; | #define PACKAGE_BUGREPORT ""<br>&gt;     &gt; | #define PACKAGE "mysql"<br>&gt;     &gt; | #define VERSION "4.0.20"<br>&gt;     &gt; | #define PROTOCOL_VERSION 10<br>&gt;     &gt; | #define DOT_FRM_VERSION 6<br>&gt;     &gt; | #define SYSTEM_TYPE "pc-linux"<br>&gt;     &gt; | #define MACHINE_TYPE "i686"<br>&gt;     &gt; | #ifdef __cplusplus<br>&gt;     &gt;<br>&gt;     &gt; こんな感じでずらっとあります。<br>&gt;     &gt;<br>&gt;     &gt; 何かご意見頂けると助かります。<br>&gt;     &gt; よろしくお願いします。<br>&gt;     &gt;<br>&gt;     &gt;<br>&gt;    
 ------------------------------------------------------------------------<br>&gt;     &gt; Yahoo! JAPAN "Pink Ribbon Campaign 2006"<br>&gt;     &gt;<br>&gt;     &gt; -Breast Cancer Awareness-<br>&gt;<br>&gt;<br>&gt;<br>&gt; ------------------------------------------------------------------------<br>&gt; Yahoo! JAPAN "Pink Ribbon Campaign 2006"<br>&gt; <http:><br>&gt; -Breast Cancer Awareness- <br><br><br></http:></mail.list.dev@aaf-s.co.jp></blockquote><br>
<div style="line-height: 0; width: 0; height: 5px; clear: both;">&nbsp;</div>
<p>

<hr size=1><a href=http://pr.mail.yahoo.co.jp/pinkribbon/ target="new">Yahoo! JAPAN "Pink Ribbon Campaign 2006"</a><br>-Breast Cancer Awareness-

