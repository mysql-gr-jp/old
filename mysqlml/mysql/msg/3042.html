<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3042</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3041.html">[前]</a><a href="3043.html">[次]</a><a href="../list/3001-3100.html">[番号順一覧]</a><a href="../thread/3001-3100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3042
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 16 Jan 2001 23:46:55 +0900<br>
Subject: [mysql 03042] Re: 本日完了！！（その６） mysql-ruby-2.3.1 編<br>

</p>
</div>
<div class="body">
<pre>とみたです。

["m.sasaki" &lt;ccr60140@xxxxxxxxxx&gt;さんが]
["<a href="03031.html">[mysql 03031]</a> 本日完了！！（その６） mysql-ruby-2.3.1 編" で曰く]

<span class="quote1">&gt; ○mysql-ruby-2.3.1○</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; MySQL+Rubyの環境にはMySQL/Rubyが必要です。</span>
<span class="quote1">&gt; インストール手順は結局のところP95のとおりです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; しかし私の場合はここで大はまりでした。</span>

ありゃ、すいません (^^;

<span class="quote1">&gt; ●まずP96に書かれているtest.rbのエラー発生。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; これは環境変数LD_LIBRARY_PATHを設定します。</span>
	～～
<span class="quote1">&gt; 以上でmake installまで進みました。</span>

make 時に指定するなら、LD_RUN_PATH の方がお勧めです。make 時に 
LD_RUN_PATH で指定しておけば、作成したモジュールの使用時にいちいち 
LD_LIBRARY_PATH を指定する必要がないので。

	% env LD_RUN_PATH=/usr/local/lib/mysql make

<span class="quote1">&gt; ●サンプルプログラムのbboard.cgiがrequire'mysql'で落ちる。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; これは/etc/ld.so.confに</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; /usr/local/lib/mysql</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; を追加することで掲示板の画面を拝みました。</span>
<span class="quote1">&gt; 先ほどのインストール時のエラーもここの１カ所で解決だと思います。</span>

私は /etc/ld.so.conf に指定するよりも、先の LD_RUN_PATH の方が好みです。
MySQL のためだけに、何もシステム全体の設定を変えなくても…という思いがあ
るので。

<span class="quote1">&gt; この辺の設定の解説についてはシーラカンス本や</span>
<span class="quote1">&gt; PHP+Apache+PostgreSQLの雑誌記事の方が詳しくて親切だと思います。</span>

ん～、わかりにくかったですかね…。

<span class="quote1">&gt; ●サンプルプログラムのbboard.cgiをbboard.rbxに名前を変更</span>
<span class="quote1">&gt; して実行（=mod_rubyで実行）するとrequire'mysql'で落ちる。</span>
	～～
<span class="quote1">&gt; 再度、mysql-rubyをインストールし直した時に発見しました。</span>
<span class="quote1">&gt; make install時にmysql.soが古いバージョンのrubyのディレクトリに</span>
<span class="quote1">&gt; コピーされているのを。</span>
<span class="quote1">&gt; /usr/local/lib/ruby/1.6/i686-linux/にmysql.soを上書きコピーして</span>
<span class="quote1">&gt; require'mysql'を試すと・・・・・・・動いちゃいました。</span>

古いバージョンの ruby で exconf.rb を実行しちゃったんですね、きっと。複
数のバージョンがシステム上にあると、私も時々はまります (^^;

---
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="3041.html">[前]</a><a href="3043.html">[次]</a><a href="../list/3001-3100.html">[番号順一覧]</a><a href="../thread/3001-3100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="3031.html">   3031 2001-01-14 23:10 [m.sasaki &lt;ccr60140@x] 本日完了！！（その６） mysql-ruby-2.3.1 編</a></span>
<span class="current">-&gt;&nbsp;<a href="3042.html">   3042 2001-01-16 23:46 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3074.html">   3074 2001-01-19 21:44 　┗[m.sasaki &lt;ccr60140@x]                                     </a></span>
</pre>


</body></html>