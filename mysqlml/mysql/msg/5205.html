<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5205</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5204.html">[前]</a><a href="5206.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5205
</p>
<div class="header">
<p>
From: tateyan &lt;tateyan &lt;tateyan@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 27 Feb 2002 00:11:01 +0900<br>
Subject: [mysql 05205] Re: 全件検索の時間<br>

</p>
</div>
<div class="body">
<pre>
たてやんっす

とみたまさひろさんの
題名「<a href="05204.html">[mysql 05204]</a> Re: 全件検索の時間」のメールからの引用です
<span class="quote1">&gt; とみたです。</span>
<span class="quote1">&gt; Perl は詳しくないので、具体的に書けませんが…。</span>
おっ　そうか　join 使えば便利っすね　(^o^)丿

<span class="quote1">&gt; # Ruby だとこんな感じ。</span>
<span class="quote1">&gt; # </span>
<span class="quote1">&gt; # sql = 'SELECT * FROM test'</span>
<span class="quote1">&gt; # where = []</span>
<span class="quote1">&gt; # if kw1 == '' then where &lt;&lt; &quot;test1 LIKE '#{kw1}%'&quot; end</span>
<span class="quote1">&gt; # if kw2 == '' then where &lt;&lt; &quot;test2 LIKE '#{kw2}%'&quot; end</span>
<span class="quote1">&gt; # if kw3 == '' then where &lt;&lt; &quot;test3 LIKE '#{kw3}%'&quot; end</span>
<span class="quote1">&gt; # if where.length &gt; 0 then</span>
<span class="quote1">&gt; #   sql &lt;&lt; ' where '+where.join(' and ')</span>
<span class="quote1">&gt; # end</span>
オブジェクト指向じゃないっすけど　力技で直してみたっす
my $sql = &quot;SELECT * FROM test&quot;;
my @where=();
push(@where,&quot;test1 LIKE '$kw1%'&quot;) if $kw1 ne &quot;&quot;;
push(@where,&quot;test2 LIKE '$kw2%'&quot;) if $kw2 ne &quot;&quot;;
push(@where,&quot;test3 LIKE '$kw3%'&quot;) if $kw3 ne &quot;&quot;;
if( $#where &gt;= 0 ) {
    $sql.=&quot; where &quot; . join(&quot; and &quot;,@where);
}

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  彡彡从        たてやんっす
 d□/□-ｂ      &lt;tateyan@xxxxxxxxxx&gt;
 ヽ&quot;ー&quot;丿

Key fingerprint = 5D56 8EA3 B9FE A721 4866  FB4A 0041 672C 08DD C33A




</pre>
</div>
<p class="button"><a href="5204.html">[前]</a><a href="5206.html">[次]</a><a href="../list/5201-5300.html">[番号順一覧]</a><a href="../thread/5201-5300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5201.html">   5201 2002-02-26 22:22 [&quot;fuji&quot; &lt;fujita_n@xxx] 全件検索の時間                          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5202.html">   5202 2002-02-26 23:01 ┣[tateyan &lt;tateyan@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5203.html">   5203 2002-02-26 23:09 ┣[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5204.html">   5204 2002-02-26 23:09 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="5205.html">   5205 2002-02-27 00:11 　┗[tateyan &lt;tateyan@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5206.html">   5206 2002-02-27 03:34 　　┗[&quot;Takuji Hidaka&quot; &lt;tak]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5207.html">   5207 2002-02-27 10:29 　　　┗[&quot;fuji&quot; &lt;fujita_n@xxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5208.html">   5208 2002-02-27 11:51 　　　　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                               </a></span>
</pre>
</body>
</html>
