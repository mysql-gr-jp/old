<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1134</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1133.html">[前]</a><a href="1135.html">[次]</a><a href="../list/1101-1200.html">[番号順一覧]</a><a href="../thread/1101-1200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1134
</p>
<div class="header">
<p>
From: Yutaka Miyahara &lt;Yutaka Miyahara &lt;yutaka@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 23 Aug 1999 13:48:29 +0900<br>
Subject: [mysql 01134] インデックス作成のトラブル<br>

</p>
</div>
<div class="body">
<pre>
はじめまして。宮原＠富士通と申します。

最近mysqlを使い始めたばかりなのですが、インデックスの作成がうまくゆかな
いという問題に遭遇しました。
300万行程度のテーブルのmediumintのカラムに対してuniqueでないインデックス
を作成しようとしています。
create indexを実行するとsqlプロンプトが戻ってきません。ユーザに対応する
ディレクトリを見ると次の三つのファイルができています。

A-1.ISD	インデックス作成対象の表と同じサイズ（65MB程度）
A-1.ISM	60MB程度
A-1.frm	8KB程度

それぞれのタイムスタンプは、A-1.frmはインデックス作成開始時刻頃、A-1.ISD
は作成開始後3時間程度、A-1.ISMはサイズが変わらないままいつまでも更新され
つづけています。パフォーマンスメーターを見ると、CPUやディスクアクセスは
数分間隔で鋸歯状のピークを描いています。
これは既知の現象なのでしょうか？また、バッファサイズなどのパラメータを変
更すれば回避できるのでしょうか？
情報がありましたら教えてください。

なお、環境は次のとおりです。

mysql 3.22.25
Solaris 2.5.1
gcc 2.95で文字コードはujisでコンパイル

以上、よろしくお願いします。
-- 
                      富士通(株)計算科学技術センター)知的システム研究部
                      宮原　豊
                      yutaka@xxxxxxxxxx
                      Phone:043-299-3290, Fax:043-299-3010

</pre>
</div>
<p class="button"><a href="1133.html">[前]</a><a href="1135.html">[次]</a><a href="../list/1101-1200.html">[番号順一覧]</a><a href="../thread/1101-1200.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="1134.html">   1134 1999-08-23 13:48 [Yutaka Miyahara &lt;yut] インデックス作成のトラブル              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1136.html">   1136 1999-08-23 15:32 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1146.html">   1146 1999-08-24 14:07 ┃┗[Yutaka Miyahara &lt;yut]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1147.html">   1147 1999-08-24 15:34 ┗[Yuzuru Goto &lt;kn6y-gt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1148.html">   1148 1999-08-24 18:23 　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1150.html">   1150 1999-08-25 10:58 　　┣[Yutaka Miyahara &lt;yut]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1158.html">   1158 1999-08-26 11:26 　　┗[Yuzuru Goto &lt;kn6y-gt]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1160.html">   1160 1999-08-26 12:23 　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
</pre>
</body>
</html>
