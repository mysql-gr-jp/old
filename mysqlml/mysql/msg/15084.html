<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15084</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15083.html">[前]</a><a href="15085.html">[次]</a><a href="../list/15001-15100.html">[番号順一覧]</a><a href="../thread/15001-15100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15084
</p>
<div class="header">
<p>
From: &quot;Katada Kenshi&quot; &lt;&quot;Katada Kenshi&quot; &lt;katada@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 3 Dec 2009 10:54:18 +0900<br>
Subject: [mysql 15084] Re: mysql.sockが消えてしまった（再送）<br>

</p>
</div>
<div class="body">
<pre>
池田様

お騒がせしました。
Fedoraを再インストールし解決しました。

失敗の原因は、mysqlではなく、多分システムに有ったと考えられます。
ご指摘の、エラーログは見つからず、/var/log/mysqld.log.rpmsave
のログに'mysql.host' doesn't exist の記述が見られました。
my.cnfも確かめたところ、取り立てておかしい記述は見られませんでした。

----- Original Message ----- 
From: &quot;Tetsuro IKEDA&quot; &lt;te.ikeda@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Tuesday, December 01, 2009 11:02 AM
Subject: <a href="15079.html">[mysql 15079]</a> Re: mysql.sockが消えてしまった（再送）


<span class="quote1">&gt; こんにちは。池田です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; この場合、まずはmysqldサーバの起動が失敗した原因を調査すべきだと</span>
<span class="quote1">&gt; 思います。そうしないと再インストールしてもまた起動できないかも</span>
<span class="quote1">&gt; しれませんので。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; /etc/my.cnfを誤った内容に書き換えたりしてはいませんか。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; yumやRPMでインストールしたのなら、/var/lib/mysqlディレクトリ配下に</span>
<span class="quote1">&gt; エラーログがでているかもしれません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; root権限で以下のコマンドを実行してみてください。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; tail -n50 /var/lib/mysql/`hostname`.err</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; もしこれでエラーログが取れるなら、そこから何か分かるかもしれません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Katada Kenshi さんは書きました:</span>
<span class="quote2">&gt;&gt; 池田様</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 早速のご返答有難うございます。</span>
<span class="quote2">&gt;&gt; 確かにMySQLサーバが起動しなくなっている状態で、</span>
<span class="quote2">&gt;&gt; コマンドラインでmysqldやmysqladmin　の再起動をはかると[失敗]</span>
<span class="quote2">&gt;&gt; のメッセージが出ました。（なぜか[システム」メニューの［サービス］</span>
<span class="quote2">&gt;&gt; 画面では［mysqld］は有効の状態？？）</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; そこで、yumでmysql-serverおよびmysql*をすべてremoveして</span>
<span class="quote2">&gt;&gt; 再インストールし、</span>
<span class="quote2">&gt;&gt; /etc/rc.d/init.d/mysqld start　としてもやはりMySQLが起動しません。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; したがって、今後はyum以外の方法でインストールすることを考えています。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ----- Original Message ----- From: &quot;Tetsuro IKEDA&quot; &lt;ikdttr@xxxxxxxxxx&gt;</span>
<span class="quote2">&gt;&gt; To: &lt;ml@xxxxxxxxxx&gt;</span>
<span class="quote2">&gt;&gt; Sent: Sunday, November 29, 2009 3:23 PM</span>
<span class="quote2">&gt;&gt; Subject: <a href="15073.html">[mysql 15073]</a> Re: mysql.sockが消えてしまった（再送）</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; こんにちは。池田です。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; mysql.sockはサーバが起動中にのみ作られるファイルです。終了すると消えま</span>
<span class="quote3">&gt;&gt;&gt; す。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote4">&gt;&gt;&gt;&gt; 2〜3日前、突然MySQLが起動しなくなり、</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; と仰ってますが、サーバが起動していない状態でクライアントから接続しようと</span>
<span class="quote3">&gt;&gt;&gt; して失敗しているだけではないでしょうか。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 2009年11月29日11:25 Katada Kenshi &lt;katada@xxxxxxxxxx&gt;:</span>
<span class="quote4">&gt;&gt;&gt;&gt; 最初に送ったメールが改行されてませんでした。</span>
<span class="quote4">&gt;&gt;&gt;&gt; 再送です。</span>
<span class="quote4">&gt;&gt;&gt;&gt; Fedora10をベースにして、yumでMySQLをインストールして動かしています。</span>
<span class="quote4">&gt;&gt;&gt;&gt; 2〜3日前、突然MySQLが起動しなくなり、下記のメッセージが出てストップし</span>
<span class="quote4">&gt;&gt;&gt;&gt; ます。</span>
<span class="quote4">&gt;&gt;&gt;&gt; findでmysql.sockを探しても、どこにも見当たりません。</span>
<span class="quote4">&gt;&gt;&gt;&gt; どなたか、mysql.sockの復旧方法などお教えいただければ、助かります。</span>
<span class="quote4">&gt;&gt;&gt;&gt; エラーメッセージおよび環境などは下記です。</span>
<span class="quote4">&gt;&gt;&gt;&gt;</span>
<span class="quote4">&gt;&gt;&gt;&gt; ERROR2002: Can't connect to local MySQL server through socket</span>
<span class="quote4">&gt;&gt;&gt;&gt; '/var/lib/mysql/mysql.sock'(2)</span>
<span class="quote4">&gt;&gt;&gt;&gt; 環境</span>
<span class="quote4">&gt;&gt;&gt;&gt; OS: Fedora10</span>
<span class="quote4">&gt;&gt;&gt;&gt; MySQL Version: 5.0.84---phpinfo()で参照したClient API version</span>
<span class="quote4">&gt;&gt;&gt;&gt; 以上</span>
<span class="quote4">&gt;&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="15083.html">[前]</a><a href="15085.html">[次]</a><a href="../list/15001-15100.html">[番号順一覧]</a><a href="../thread/15001-15100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15072.html">@ 15072 2009-11-29 11:25 [&quot;Katada Kenshi&quot; &lt;kat] mysql.sockが消えてしまった（再送）      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15073.html">  15073 2009-11-29 15:23 ┗[Tetsuro IKEDA &lt;ikdtt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15077.html">  15077 2009-12-01 10:47 　┗[&quot;Katada Kenshi&quot; &lt;kat]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15079.html">  15079 2009-12-01 11:02 　　┗[Tetsuro IKEDA &lt;te.ik]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="15084.html">  15084 2009-12-03 10:54 　　　┗[&quot;Katada Kenshi&quot; &lt;kat]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15086.html">  15086 2009-12-03 11:12 　　　　┗[Tetsuro IKEDA &lt;te.ik]                               </a></span>
</pre>
</body>
</html>
