<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10702</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10701.html">[前]</a><a href="10703.html">[次]</a><a href="../list/10701-10800.html">[番号順一覧]</a><a href="../thread/10701-10800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10702
</p>
<div class="header">
<p>
From: mattun &lt;mattun &lt;mattun@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 20 Dec 2004 05:56:25 +0900<br>
Subject: [mysql 10702] SELECTの速度が遅い<br>

</p>
</div>
<div class="body">
<pre>
みなさま、はじめまして、Mysql初心者の松丸と申します。

現在仕事上で、phpとmysqlの開発をしています。サーバーの移転作業があり、mysql-3.23.57から、mysql-4.0.21に移行し 
ました。

DBの中で、message、user、二つのテーブルに対して以下ような感じSELECTしています。

select b.id, b.name from messages as a, users as b where a.target=b.id  
and b.sid=53 and a.isread='f' group by b.id order by b.id

SQLの知識が乏しいためphpMyAdminを使用しているのですが、上記のクエリを行うと、平均0.5ぐらいで結果が返ってきます。

これを、

$db = mysql_connect(&quot;localhost&quot;, &quot;ユーザー名&quot;,&quot;パスワード&quot;);
mysql_select_db(&quot;DB名&quot;,$db);
$query_alart = &quot;select b.id, b.name from messages as a, users as b  
where a.target=b.id and b.sid=53 and a.isread='f' group by b.id order  
by b.id&quot;;

と書いたphpファイルで実行させると、だいたい５秒ぐらいはかかるんですね。

これは、php側の処理の問題なのか、それともmysqlのインデックスなり、メモリの割り当てなりが原因なのでしょうか？

以上よろしくお願いいたします。


松丸頒泰
mattun@xxxxxxxxxx
<a href="http://www.meganebu.com/">http://www.meganebu.com/</a>




</pre>
</div>
<p class="button"><a href="10701.html">[前]</a><a href="10703.html">[次]</a><a href="../list/10701-10800.html">[番号順一覧]</a><a href="../thread/10701-10800.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="10702.html">  10702 2004-12-20 05:56 [mattun &lt;mattun@xxxxx] SELECTの速度が遅い                      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10703.html">  10703 2004-12-20 09:23 ┣[Hideki SUNADA &lt;hidek]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10704.html">  10704 2004-12-20 10:03 ┣[SUGAWARA Hajime &lt;sug]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10705.html">  10705 2004-12-20 10:22 ┗[al-kamil &lt;al-kamil@x]                                       </a></span>
</pre>
</body>
</html>
