<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10158</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="10157.html">[前]</a><a href="10159.html">[次]</a><a href="../list/10101-10200.html">[番号順一覧]</a><a href="../thread/10101-10200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10158
</p>
<div class="header">
<p>
From: seiji takegata &lt;seiji takegata &lt;takegata@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 15 Sep 2004 11:44:32 +0900<br>
Subject: [mysql 10158] Re: rootにもPASSWORDが付かない・・！？<br>

</p>
</div>
<div class="body">
<pre>
竹形です。

&lt;20040915004914.18172FD829@xxxxxxxxxx&gt; の、
   &quot;<a href="10156.html">[mysql 10156]</a> Re: rootにもPASSWORDが付かない・・！？&quot; において、
   &quot;渡邊昌之 &lt;mark@xxxxxxxxxx&gt;&quot;さんは書きました：

<span class="quote1">&gt; 渡邊と申します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 手元のmysqlで試してみましたが</span>
<span class="quote1">&gt; バージョンは　4.0.20　サーバはFreeBSD 4.5です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; &quot;井上　武則&quot; &lt;take-inoue@xxxxxxxxxx&gt; wrote:</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; おはようございます。井上です。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; ＞竹形様</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; rootで試してみましたが、同様にpasswordが与えられません。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 以下に作業logを貼り付けます。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; mysql&gt; grant all on root to thanks@localhost IDENTIFIED BY 'r';</span>
<span class="quote1">&gt; どうもこれだと、table rootに対する権限が設定されるだけみたいです。</span>
<span class="quote1">&gt; select * from tables_priv;</span>
<span class="quote1">&gt; をやってみるとわかります。</span>
<span class="quote1">&gt; また、この状態だと、userテーブルの中ではほとんどの権限がNになっています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; grant all on *.* to thanks@localhost IDENTIFIED BY 'r';</span>
<span class="quote1">&gt; という風にやってみてはいかがでしょう。</span>
<span class="quote1">&gt; すべてのテーブルに対してということはこういうことみたいです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; もしくは特定のデータベースに対してのみのアクセスであれば</span>
<span class="quote1">&gt; grant all on db.* to thanks@localhost IDENTIFIED BY 'r';</span>
<span class="quote1">&gt; という感じで</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; rootというテーブルだけに対しての権限なのでログインできないんじゃないでしょうか。</span>
<span class="quote1">&gt; </span>

パスワードを付けるだけなら
set password for root@localhost=password('&lt;パスワード&gt;');
flush privileges;

でいいはずなんですけど。

rootに対してgrantしたことがないので良く分かりませんが、with grant option を付ける
必要があるのではないでしょうか。

私はいつもroot@localhostにパスワードを付けてからパスワード無しのアカウントを削除して
&lt;user&gt;@localhostをパスワード付きでgrantしています。あまり深く考えたことがないので、
こういうのが正しいのかどうか分かりませんが、とりあえずlocalhostからのアクセスには
問題ありません。

--
seiji takegata
takegata@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="10157.html">[前]</a><a href="10159.html">[次]</a><a href="../list/10101-10200.html">[番号順一覧]</a><a href="../thread/10101-10200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10155.html">@ 10155 2004-09-15 09:20 [&quot;井上　武則&quot; &lt;take-i] rootにもPASSWORDが付かない・・！？      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10156.html">  10156 2004-09-15 09:49 ┗[渡邊昌之 &lt;mark@xxxxx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="10158.html">  10158 2004-09-15 11:44 　┗[seiji takegata &lt;take]                                     </a></span>
</pre>
</body>
</html>
