<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8111</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8110.html">[前]</a><a href="8112.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8111
</p>
<div class="header">
<p>
From: 伊藤 恵吾 &lt;伊藤 恵吾 &lt;k5_ito@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 7 Aug 2003 14:07:05 +0900 (JST)<br>
Subject: [mysql 08111] Re: InnoDB への大量 INSERT ，高速化 <br>

</p>
</div>
<div class="body">
<pre>
廣中さん：

素早いレス、ありがとうございます。

<span class="quote1">&gt; </span>
<span class="quote1">&gt; 毎回commitしているのでは？</span>
<span class="quote1">&gt; 1000回insertしたら１回commitなんて感じでやれば早くなり</span>
ます．
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 外してたらごめんちゃい</span>

1000個のVALUE を一度にINSERTしています。具体的にはこうで
す。

LOCK TABLES foo WRITE;
INSERT INTO foo VALUES
  (f1, ...),
  (f2, ...),
  ....
  (f1000, ...);
UNLOCK TABLES;

上記の繰り返しです。
1000個のVALUEごとに LOCK/UNLOCK TABLES しているのは、そ
う
することによって速度が改善されるとマニュアルに書いてあり
ま
した。

<a href="http://www.mysql.gr.jp/jpdoc/3.23.x/manual.ja_MySQL_Optimization.html#IDX853">http://www.mysql.gr.jp/jpdoc/3.23.x/manual.ja_MySQL_Optimization.html#IDX853</a>
（MyISAM形式について言及していて、InnoDB形式には該当しな
い
かもしれませんが。。。）

1000個のINSERTが度重なるごとに、一度のINSERT文にかかる時
間
がどんどん長くなっていきます。

引き続き、アドバイス頂けましたら、よろしくお願いいたしま
す。


</pre>
</div>
<p class="button"><a href="8110.html">[前]</a><a href="8112.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8108.html">   8108 2003-08-07 11:29 [伊藤 恵吾 &lt;k5_ito@xx] InnoDB への大量 INSERT ，高速化         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8109.html">   8109 2003-08-07 12:00 ┣[hironaka &lt;hironaka@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8110.html">   8110 2003-08-07 13:57 ┃┣[ken &lt;t_takahashi@xxx]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="8111.html">   8111 2003-08-07 14:07 ┃┗[伊藤 恵吾 &lt;k5_ito@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8113.html">   8113 2003-08-07 14:27 ┃　┗[Tatsuhiko Miyagawa &lt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8114.html">   8114 2003-08-07 18:47 ┃　　┗[伊藤 恵吾 &lt;k5_ito@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8112.html">   8112 2003-08-07 14:25 ┗[SUGAWARA Hajime &lt;sug]                                       </a></span>
</pre>
</body>
</html>
