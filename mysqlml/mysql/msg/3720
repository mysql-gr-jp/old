<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3720</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3719">[前]</a><a href="3721">[次]</a><a href="../list/3701-3800">[番号順一覧]</a><a href="../thread/3701-3800">[スレッド一覧]</a></p>
<p class="id">
mysql:3720
</p>
<div class="header">
<p>
From: Kazufumi Hase &lt;Kazufumi Hase &lt;kazufumi@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 03 Jun 2001 04:25:46 +0900<br>
Subject: [mysql 03720] ライブラリがロードできない<br>

</p>
</div>
<div class="body">
<pre>
長谷＠八戸です。

前回、ユーザ設定の件でご迷惑をおかけしました。
今回も、トラブルの対処の方法でご相談です。

この度、開発環境を二重化(といっても、同じ環境をもうひとつ
構築する)する作業をやっており、新しい PC に MySQL の環境を
作ろうとしていますが、うまくいきません。

環境は、どちらも Vine Linux 1.1 に MySQL 3.22.32 です。
MySQL はソースからコンパイルしてインストールしています。

MySQL は、C で作った CGI で利用しています。
以前に作った環境では全く問題なく動くのですが、今度作った
環境では、ブラウザ(LAN接続のWindows98 PCのMS-IE 5.01)から
実行するとエラーになってしまいます。

そこで試しにと思い、スーパーユーザになってコンソールから
動かしてみたら

# ./hogehoge.cgi
./hogehoge.cgi: error in loading shared libraries
libmysqlclient.so.6: cannot open shared object file: No such file or directory

このような表示がされ、ライブラリがロードできないと言われ
ます。そこで過去ログを検索したところ

<span class="quote1">&gt; /etc/ld.so.confに　libmysqlclient.soのパスを書く</span>
<span class="quote1">&gt;              （/usr/local/lib/mysql など）</span>

というのがありましたので、その通りに追加しましたが一向に
現象は変わらず、使えないままです。

ちなみに、コンパイルとリンクはエラー無しで通ってしまいます。

makefile には
LDFLAGS = -L/usr/local/lib/mysql
LDLIBS = -lmysqlclient -lm -lz
を指定しています。最後に

/usr/local/lib/mysql には、libmysqlclient.so.6 は
libmysqlclient.so.6.0.0 へのリンクとして存在しています。
パーミッションは 777 です。

考えてみたら、コンソールでスーパーユーザでさえ実行できない
のは何か変なのでしょうが、その理由がさっぱり分からず、途方
に暮れています。

この現象の原因になっているところについて、どなたか、どこか
心あたりがありましたらよろしくお願いいたします。

*********************************************
* 長谷　一史（はせ　かずふみ）
* e-mail: kazufumi@xxxxxxxxxx
* Nifty : VYG01106@xxxxxxxxxx
*********************************************



</pre>
</div>
<p class="button"><a href="3719">[前]</a><a href="3721">[次]</a><a href="../list/3701-3800">[番号順一覧]</a><a href="../thread/3701-3800">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="3720">   3720 2001-06-03 04:25 [Kazufumi Hase &lt;kazuf] ライブラリがロードできない              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3721">   3721 2001-06-03 09:50 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3722">   3722 2001-06-03 21:50 　┗[Kazufumi Hase &lt;kazuf]                                     </a></span>
</pre>
</body>
</html>
