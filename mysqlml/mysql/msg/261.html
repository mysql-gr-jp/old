<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:261</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="260.html">[前]</a><a href="262.html">[次]</a><a href="../list/201-300.html">[番号順一覧]</a><a href="../thread/201-300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:261
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Mon, 21 Sep 1998 15:02:08 +0900<br>
Subject: [mysql 261] Re: ruby.. unresolv moddi3<br>

</p>
</div>
<div class="body">
<pre>
tommy&gt; &gt; ちょっと民斗さんの ruby を使って、 ruby の勉強でもしようとおもって、
tommy&gt; 
tommy&gt; おお～ ruby-mysql の初ユーザかも… (^^)

ちょっとやってみたところ、気に入りました。
perl より見通しいいですね！　記述がすっきりします。


tommy&gt; &gt; ruby: can't resolve symbol '__moddi3'
tommy&gt; &gt; ruby: can't resolve symbol '__divdi3'
tommy&gt; &gt; となってしまいました。
tommy&gt; &gt; ( gcc-2.7.2, mysql-3.22.4a-beta, Linux libc5 )

tommy&gt; 現象としては、MySQL のマニュアルの「Perl installation comments」に
tommy&gt; 書かれてるのと同じなんで、同じように対処できます。
tommy&gt; 
tommy&gt; 具体的には extconf.rb の $libs に "/usr/local/gcc-lib/～～/libgcc.a"
tommy&gt; を追加すればうまくいくと思います。

なんと、gcc-2.7.2.1 では、libgcc.a を追加してもできませんでした。(X_X)
しかし、はたと思って、gcc-2.7.2.3 にしたら、この方法で OK になりました。\^^/
m(__)m

結論は gcc は最低 gcc-2.7.2.3 にしろ、って事ですかねぇ...
.so を作る場合は /usr/local/gcc-lib/～～/libgcc.a を追加。

# しかし、またマニュアルを見ていないことが露見された...

じつは apache-1.3.1 でも同様に悩まされて source 追加で回避していたのですが、
この方法 + 環境で、スマートにできそうです。

ありがとうございました。

 村上 毅  takeshi@xxxxxxxxxx
 PGP fingerprint = 45 5D 54 12 B4 55 77 7F  D4 52 66 EC 03 3F 1B E9
 [ <a href="http://www.softagency.co.jp/mysql/">http://www.softagency.co.jp/mysql/</a> ]
 [ MySQL ML: mysql-help@xxxxxxxxxx ]


</pre>
</div>
<p class="button"><a href="260.html">[前]</a><a href="262.html">[次]</a><a href="../list/201-300.html">[番号順一覧]</a><a href="../thread/201-300.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="259.html">    259 1998-09-21 13:44 ["民斗 " &lt;tommy@xxxxx] Re: ruby.. unresolv moddi3              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="260.html">    260 1998-09-21 14:46 ┣[民斗 &lt;tommy@xxxxxxxx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="261.html">    261 1998-09-21 15:02 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
</pre>


</body></html>