<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4060</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="4059.html">[前]</a><a href="4061.html">[次]</a><a href="../list/4001-4100.html">[番号順一覧]</a><a href="../thread/4001-4100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4060
</p>
<div class="header">
<p>
From: tateyan &lt;tateyan &lt;tateyan@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 26 Jul 2001 22:11:46 +0900<br>
Subject: [mysql 04060] Re: データベースの複製<br>

</p>
</div>
<div class="body">
<pre>たてやんっす

== Kobayasi Hiroyuki ==さんの
題名「<a href="04059.html">[mysql 04059]</a> Re: データベースの複製」のメールからの引用です
<span class="quote1">&gt; 小林です。コメントありがとうございます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; tateyan@xxxxxxxxxx wrote:</span>
<span class="quote2">&gt; &gt; 800M を毎回　コピーするのはちょっと...</span>
<span class="quote2">&gt; &gt; なんで</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　それが、差分だけをみるrsync なので意外と、速いんですよ。。</span>
なるほど　言われてみれば...

私の場合は異種のデータベースなんでSQL発行しか手段がなかった
というのも理由ではあるのです
<span class="quote1">&gt; 　差分コピーも考えたのですが、抽出に時間がかかるのと、</span>
<span class="quote1">&gt; （timestamp にindex をはってないのですが、すでにある大きな</span>
<span class="quote1">&gt; テーブルに add index をかけるのがやっかいでやめました）</span>
<span class="quote1">&gt; 大きな変更がmaster にあった場合、かなり時間がかかって</span>
<span class="quote1">&gt; しまうんです。。。これも設計が悪いのですが(^^; 復元も</span>
<span class="quote1">&gt; SQL文レベルだと時間がかかります。</span>
日付別のデータベーステーブルを作って入力時こちらにも入れる
なんて案は　多分無いでしょうね　(^^ゞ
余分な容量食っちゃうから...
これだと日付別のテーブルだけ参照側に持ってくって...

<span class="quote2">&gt; &gt;データベース自体のデータは　月一回とか週一回ぐらい完全</span>
<span class="quote2">&gt; &gt;な同期を取るって具合にすれば違いは減るかもしれませんね</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　そうですね・・・。差分同期と、全部の両方を用意しておくのは</span>
<span class="quote1">&gt; 必要ですね・・。参考になりました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　でも、rsync ・・・いいと思うんですけどね(^^;;;</span>
いろんな形態は望めますしね(ined / デーモン / sshと選択肢はいろいろ）


<span class="quote1">&gt; mysqlhotcopy と併用すれば、バックアップと同期のために</span>
<span class="quote1">&gt; ファイルが流用できますし。。</span>
とみたさんのご発言どおり　参照側のファイルの問題が残ってますねぇ
UNIX系だとオープンしたファイルはiノードで見てるからrsync でコピー
されたファイルを参照しているかは？ですものね
=================
  彡彡从        たてやんっす
 d□/□-ｂ      &lt;tateyan@xxxxxxxxxx&gt;
 ヽ"ー"丿


</pre>
</div>
<p class="button"><a href="4059.html">[前]</a><a href="4061.html">[次]</a><a href="../list/4001-4100.html">[番号順一覧]</a><a href="../thread/4001-4100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="4049.html">   4049 2001-07-23 13:41 [== Kobayasi Hiroyuki] データベースの複製                      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4050.html">   4050 2001-07-24 22:24 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4051.html">   4051 2001-07-24 23:27 ┃┗[== Kobayasi Hiroyuki]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4052.html">   4052 2001-07-24 23:44 ┗[tateyan &lt;tateyan@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4059.html">   4059 2001-07-26 12:37 　┗[== Kobayasi Hiroyuki]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="4060.html">   4060 2001-07-26 22:11 　　┗[tateyan &lt;tateyan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4061.html">   4061 2001-07-26 22:21 　　　┣[Tatsuhiko Miyagawa &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4063.html">   4063 2001-07-26 22:32 　　　┃┣[== Kobayasi Hiroyuki]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4064.html">   4064 2001-07-26 22:40 　　　┃┗[tateyan &lt;tateyan@xxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4062.html">   4062 2001-07-26 22:30 　　　┗[== Kobayasi Hiroyuki]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4065.html">   4065 2001-07-26 22:42 　　　　┗[Tatsuhiko Miyagawa &lt;]                               </a></span>
</pre>


</body></html>