<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1146</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1145">[前]</a><a href="1147">[次]</a><a href="../list/1101-1200">[番号順一覧]</a><a href="../thread/1101-1200">[スレッド一覧]</a></p>
<p class="id">
mysql:1146
</p>
<div class="header">
<p>
From: Yutaka Miyahara &lt;Yutaka Miyahara &lt;yutaka@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 24 Aug 1999 14:07:35 +0900<br>
Subject: [mysql 01146] Re: インデックス作成のトラブル<br>

</p>
</div>
<div class="body">
<pre>
宮原＠富士通です。

<span class="quote1">&gt; 毅です</span>

ありがとうございます。

<span class="quote1">&gt; MySQL は、 ALTER TABLE を行うとき、一度、今あるテーブルを</span>
<span class="quote1">&gt; まるまる A-数字.* にコピーします。</span>
<span class="quote1">&gt; したがって、ファイルサイズが多いテーブルを alter すると、時間がかかります。</span>
<span class="quote1">&gt; が、たがだか 65M 300万件で、何時間も、っていうのはあまりにも変です</span>
<span class="quote1">&gt; # --tmpdir (通常こんぱいるしたら /tmp) が少ないとか</span>
<span class="quote1">&gt; # disk があまりにも遅いとかメモリがないものだとか</span>

いかんせんメモリが少なくて（Oracleやapacheも動いているサーバ機なのに
128MBしかない）ページングが頻発しているので遅いのはそのせいかもしれませ
ん。
ただ、create indexはもう一度トライしてみたのですがやはり駄目でした（今度
はmysqldが暴走してCPU高負荷状態のまま）。

<span class="quote1">&gt; 他の手段としては、一度 mysqldump を取っておき、</span>
<span class="quote1">&gt; そのテーブルはダンプ後にリネーム. そして新しく</span>
<span class="quote1">&gt; 正しいテーブルを作って入れてみる手があります。</span>

この手段をとってみることにします。
ありがとうございました。

以上
-- 
                      富士通(株)計算科学技術センター)知的システム研究部
                      宮原　豊
                      yutaka@xxxxxxxxxx
                      Phone:043-299-3290, Fax:043-299-3010

</pre>
</div>
<p class="button"><a href="1145">[前]</a><a href="1147">[次]</a><a href="../list/1101-1200">[番号順一覧]</a><a href="../thread/1101-1200">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1134">   1134 1999-08-23 13:48 [Yutaka Miyahara &lt;yut] インデックス作成のトラブル              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1136">   1136 1999-08-23 15:32 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="1146">   1146 1999-08-24 14:07 ┃┗[Yutaka Miyahara &lt;yut]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1147">   1147 1999-08-24 15:34 ┗[Yuzuru Goto &lt;kn6y-gt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1148">   1148 1999-08-24 18:23 　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1150">   1150 1999-08-25 10:58 　　┣[Yutaka Miyahara &lt;yut]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1158">   1158 1999-08-26 11:26 　　┗[Yuzuru Goto &lt;kn6y-gt]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1160">   1160 1999-08-26 12:23 　　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                                 </a></span>
</pre>
</body>
</html>
