<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4818</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4817.html">[前]</a><a href="4819.html">[次]</a><a href="../list/4801-4900.html">[番号順一覧]</a><a href="../thread/4801-4900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4818
</p>
<div class="header">
<p>
From: "f.t" &lt;"f.t" &lt;fujiyama@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 14 Dec 2001 15:31:20 +0900<br>
Subject: [mysql 04818] Re: mysql のログと実際のテーブルの値が一致しない<br>

</p>
</div>
<div class="body">
<pre>fujiyamaです。

"orita shigeru" &lt;orita18@xxxxxxxxxx&gt; wrote(Thu, 13 Dec 2001 16:05:18 +0900):

<span class="quote1">&gt; 現在 Mysql-3.22.32 と php-3.0.15-i18n-ja を使用してある管理プログラムを</span>
<span class="quote1">&gt; 作成しているのですが</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysqlのログと実際のテーブルの値が合わない現象が出ています。</span>

<span class="quote1">&gt; 1. update tbl_a set col_a = 2,col_b = 2,col_c = 4 where ----</span>
<span class="quote1">&gt; 2. update tbl_a set col_a = col_a -1,col_b = col_b +1,col_c = col_d -1</span>
<span class="quote1">&gt; where ----</span>
<span class="quote1">&gt; 3. update tbl_a set col_a = col_a -1,col_b = col_b +1,col_c = col_d -1</span>
<span class="quote1">&gt; where ----</span>
<span class="quote1">&gt; 1.を実行後の各値は         col_a = 2 col_b = 2 col_d = 13</span>
<span class="quote1">&gt; 2.3.の実行後の値が    col_a = -1 col_b = 5 col_d = 10</span>

<span class="quote1">&gt; </span>
<span class="quote1">&gt; となる現象が起きています。ログの確認漏れは在りません。</span>

ログというのはMySQLで--log-updateをつけて取得したログのことでしょうか？
だとしたら、
<a href="http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_MySQL_Database_Administration.html#Update_log">http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_MySQL_Database_Administration.html#Update_log</a>
を読んだ感じでは、正しい結果かと思いますがどうでしょう？
（＝同じupdate文を発行する時には1回しか書かない）

＃プログラムで予測された値が出ないというわけではないですよね？

-- よろしくお願いします
f.t &lt;fujiyama@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="4817.html">[前]</a><a href="4819.html">[次]</a><a href="../list/4801-4900.html">[番号順一覧]</a><a href="../thread/4801-4900.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="4815.html">   4815 2001-12-13 16:05 ["orita shigeru" &lt;ori] mysql のログと実際のテーブルの値が一致しない</a></span>
<span class="current">-&gt;&nbsp;<a href="4818.html">   4818 2001-12-14 15:31 ┗["f.t" &lt;fujiyama@xxxx]                                       </a></span>
</pre>


</body></html>