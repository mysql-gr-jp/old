<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8183</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="8182.html">[前]</a><a href="8184.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8183
</p>
<div class="header">
<p>
From: UNO Shintaro &lt;UNO Shintaro &lt;uno@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 02 Sep 2003 18:01:38 +0900<br>
Subject: [mysql 08183] Re: auto_increment について<br>

</p>
</div>
<div class="body">
<pre>
<span class="quote1">&gt;smp_seqはauto_incrementなのですが、次の値はいくつか取得したいのですが</span>
<span class="quote1">&gt;”SELECT”文でどのようにすればよいのでしょうか？</span>

その「次の値」を得たい理由は何ですか？
関連する複数テーブルへの同時INSERTという使い方のためでしたら、
1つINSERTを実行した直後にLAST_INSERT_ID()関数で生成された値を取得して、
次のINSERTでその値を使うのが定石です。
たとえば、header_tableの「header_id」がauto incrementのprimary keyで、
detail_tableにheader_tableとの関連を示すための「header_id」がある場合、
こんな感じ。

INSERT INTO header_table
 (header_value) VALUES ( ... );

INSERT INTO detail_table
  (header_id, detail_value) VALUES (LAST_INSERT_ID(), ... );

-- 
UNO Shintaro, 宇野 信太郎
mailto:uno@xxxxxxxxxx
<a href="http://www.venus.dti.ne.jp/~uno/">http://www.venus.dti.ne.jp/~uno/</a>

</pre>
</div>
<p class="button"><a href="8182.html">[前]</a><a href="8184.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8182.html">   8182 2003-09-02 17:30 [&quot;いとうかつひこ&quot; &lt;ka] auto_increment について                 </a></span>
<span class="current">-&gt;&nbsp;<a href="8183.html">   8183 2003-09-02 18:01 ┗[UNO Shintaro &lt;uno@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8184.html">   8184 2003-09-03 10:42 　┗[&quot;いとうかつひこ&quot; &lt;ka]                                     </a></span>
</pre>
</body>
</html>
