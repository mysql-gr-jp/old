<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7716</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7715.html">[前]</a><a href="7717.html">[次]</a><a href="../list/7701-7800.html">[番号順一覧]</a><a href="../thread/7701-7800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7716
</p>
<div class="header">
<p>
From: SUGAWARA Hajime &lt;SUGAWARA Hajime &lt;sugawara@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 14 May 2003 19:56:47 +0900<br>
Subject: [mysql 07716] Re: MAX 関数について<br>

</p>
</div>
<div class="body">
<pre>
　菅原です。

matics@xxxxxxxxxxさんは書きました：
<span class="quote1">&gt; ただ、あのwhere句を見ると</span>
<span class="quote1">&gt; CREATE INDEX IDX_OUTINF ON OUTINF ( prjname, svname, outymd, item ) ;</span>
<span class="quote1">&gt; このindex使いそうな感じもするのですが？？？</span>
<span class="quote1">&gt; ＊MySQLのオプティマイザがどれほどかわかりません。</span>

　ええと、上記の CREATE INDEX の場合は、「prjname,svname,outymd,item」が
全部セットになったインデックスになるハズです。

　なので今回の WHERE句では、ひょっとすると「prjname,svname」の部分までは
インデックスが使われるかもしれませんが、後ろの item の部分はインデックス
が使われないんじゃないかな？
（「prjname,svname,item,outymd」ならインデックスが使われるかもしれないで
す）

　また、outymd単独の場合（今回の場合はMAX()の部分）はインデックスが使わ
れないような気がします。


　――というお話が正しいかどうかを確認するためにも、EXPLAINの結果は必要
なのです :)

　まあ、面倒なら何も考えずに必要そうな部分に全部インデックスを作るのもア
リではないかと思いますし（笑）。


<span class="quote1">&gt; 抽出対象rowの数にもよりますが、</span>
<span class="quote1">&gt; FORMAT系関数はかなり遅い(Oracle,Sybase経験上)ので</span>
<span class="quote1">&gt; １件のformatで終了する下のほうがよろしいかと。</span>
<span class="quote1">&gt; 仮に抽出対象rowが10000件とかだったらいやですし。</span>

　このあたりについてはMySQLは異常に速かったような気が……。

-- 
菅原はじめ＠ホビー・データ
sugawara@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="7715.html">[前]</a><a href="7717.html">[次]</a><a href="../list/7701-7800.html">[番号順一覧]</a><a href="../thread/7701-7800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7707.html">   7707 2003-05-14 17:52 [ga-ko &lt;kuga_ko@xxxxx] MAX 関数について                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7709.html">   7709 2003-05-14 18:09 ┗[SUGAWARA Hajime &lt;sug]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7710.html">   7710 2003-05-14 18:48 　┗[ga-ko &lt;kuga_ko@xxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7711.html">   7711 2003-05-14 19:01 　　┣[&lt;matics@xxxxxxxxxx&gt; ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7713.html">   7713 2003-05-14 19:11 　　┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7714.html">   7714 2003-05-14 19:27 　　　┣[&lt;matics@xxxxxxxxxx&gt; ]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="7716.html">   7716 2003-05-14 19:56 　　　┃┗[SUGAWARA Hajime &lt;sug]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7715.html">   7715 2003-05-14 19:44 　　　┗[ga-ko &lt;kuga_ko@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7717.html">   7717 2003-05-14 20:05 　　　　┗[SUGAWARA Hajime &lt;sug]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7718.html">   7718 2003-05-14 21:43 　　　　　┗[ga-ko &lt;kuga_ko@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7720.html">   7720 2003-05-15 02:46 　　　　　　┗[ga-ko &lt;kuga_ko@xxxxx]                           </a></span>
</pre>
</body>
</html>
