<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11279</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11278.html">[前]</a><a href="11280.html">[次]</a><a href="../list/11201-11300.html">[番号順一覧]</a><a href="../thread/11201-11300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11279
</p>
<div class="header">
<p>
From: HORI &lt;HORI &lt;john.smith@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 26 Mar 2005 22:06:25 +0900<br>
Subject: [mysql 11279] perlからのストアドプロシージャーの使い方を教えて下さい<br>

</p>
</div>
<div class="body">
<pre>
いつもお世話になっております。堀と申します。

perlからストアドプロシージャーを呼びたいのですが
うまくいきません。どなたかご存知の方いますか？

こんな感じでテストしましたがダメでした。

hori@debian:~$ mysql -u root -p system
Enter password:
Welcome to the MySQL monitor. Commands end with ; or \g.
Your MySQL connection id is 9 to server version: 5.0.2-alpha-standard

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; delimiter '/';
mysql&gt; create procedure proc1() begin select &quot;Hello world&quot;; end/
Query OK, 0 rows affected (0.00 sec)

mysql&gt; call proc1();
-&gt; /
+-------------+
<span class="quote1">| Hello world |</span>
+-------------+
<span class="quote1">| Hello world |</span>
+-------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.00 sec)

mysql&gt;

hori@debian:~$ ./aa.pl
DBD::mysql::st execute failed: SELECT in a stored procedure must have
INTO at ./aa.pl line 6.
DBD::mysql::st fetchrow_arrayref failed: fetch() without execute() at
./aa.pl line 7.
hori@debian:~$


hori@debian:~$ cat aa.pl
#!/usr/local/bin/perl
use DBI;
$dbh =
DBI-&gt;connect(&quot;DBI:mysql:database=system;host=localhost&quot;,'root','???');
$dbh-&gt;do(&quot;set names ujis&quot;);
$sth = $dbh-&gt;prepare(&quot;call proc1()&quot;);
$sth-&gt;execute();
while($ref = $sth-&gt;fetchrow_arrayref()){
print join(',',@{$ref}),&quot;\n&quot;;
}


hori@debian:~$




</pre>
</div>
<p class="button"><a href="11278.html">[前]</a><a href="11280.html">[次]</a><a href="../list/11201-11300.html">[番号順一覧]</a><a href="../thread/11201-11300.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="11279.html">  11279 2005-03-26 22:06 [HORI &lt;john.smith@xxx] perlからのストアドプロシージャーの使い方を教えて下さい</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11282.html">  11282 2005-03-27 22:54 ┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11289.html">  11289 2005-03-28 23:10 　┗[HORI &lt;john.smith@xxx]                                     </a></span>
</pre>
</body>
</html>
