<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15453</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15452">[前]</a><a href="15454">[次]</a><a href="../list/15401-15500">[番号順一覧]</a><a href="../thread/15401-15500">[スレッド一覧]</a></p>
<p class="id">
mysql:15453
</p>
<div class="header">
<p>
From: Mikiya Okuno &lt;Mikiya Okuno &lt;mikiya.okuno@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 17 Dec 2010 18:19:35 +0900<br>
Subject: [mysql 15453] Re: MySQL5.1 からMySQL5.5へのアップグレードについて<br>

</p>
</div>
<div class="body">
<pre>
奥野です。

On 12/17/2010 06:00 PM, Seiichi YANAI wrote:
<span class="quote1">&gt; 楊井と申します。</span>
<span class="quote1">&gt; ざぁっと省略して…</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　　以下がエラーファイルに残っているエラーです。</span>
<span class="quote2">&gt;&gt;       101217 15:33:19  InnoDB: Initializing buffer pool, size = 128.0M</span>
<span class="quote2">&gt;&gt;       101217 15:33:19  InnoDB: Completed initialization of buffer pool</span>
<span class="quote2">&gt;&gt;       InnoDB: Error: log file ./ib_logfile0 is of different size 0 1073741824 bytes</span>
<span class="quote2">&gt;&gt;       InnoDB: than specified in the .cnf file 0 5242880 bytes!</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; InnoDBのエラーに注目してみました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; んで、「InnoDB: Error: log file ./ib_logfile0 is of different size」のキーワードで</span>
<span class="quote1">&gt; ググってみたところ何点かヒットして、以下のURLより</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; <a href="http://blog.enjoitech.jp/article/196">http://blog.enjoitech.jp/article/196</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; &quot;innoDB は my.cnf で指定された innodb_log_file_size の値と</span>
<span class="quote1">&gt; 実際のログファイルのサイズが異なると、エラーにするらしい。&quot;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; との記述がありました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; これが当たってたらいいんですが…。</span>

正解です ;)

my.cnfで指定されているサイズと実際のサイズが異なると
エラーになります。

5.5へのアップグレードとは別でログファイルサイズの変更を
するといいでしょう。

ログファイルのサイズを変更するには、まずmysqldをキレイに
シャットダウンしてからログファイルを別の場所に退避し、
再起動してください。すると起動時にファイルが作成されます。
ただし、innodb_fast_shutdownは2以外にする必要があります。

参考： <a href="http://dev.mysql.com/doc/refman/5.1/en/innodb-data-log-reconfiguration.html">http://dev.mysql.com/doc/refman/5.1/en/innodb-data-log-reconfiguration.html</a>

--
奥野 幹也 
<a href="http://www.google.com/profiles/mikiya.okuno">http://www.google.com/profiles/mikiya.okuno</a>
<a href="http://nippondanji.blogspot.com/">http://nippondanji.blogspot.com/</a> 
<a href="http://twitter.com/nippondanji">http://twitter.com/nippondanji</a>

</pre>
</div>
<p class="button"><a href="15452">[前]</a><a href="15454">[次]</a><a href="../list/15401-15500">[番号順一覧]</a><a href="../thread/15401-15500">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15450">  15450 2010-12-17 16:43 [nukii &lt;nukii@xxxxxxx] MySQL5.1 からMySQL5.5へのアップグレードについて</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15451">  15451 2010-12-17 17:19 ┣[KOJIMA Takanori &lt;tak]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15454">  15454 2010-12-17 18:26 ┃┗[Tsuyoshi Nukii &lt;nuki]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15452">  15452 2010-12-17 18:00 ┗[Seiichi YANAI &lt;yanai]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="15453">  15453 2010-12-17 18:19 　┗[Mikiya Okuno &lt;mikiya]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15455">  15455 2010-12-17 18:38 　　┣[Tsuyoshi Nukii &lt;nuki]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15459">  15459 2010-12-27 14:05 　　┗[Tsuyoshi Nukii &lt;nuki]                                   </a></span>
</pre>
</body>
</html>
