<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1249</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="1248.html">[前]</a><a href="1250.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1249
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Tue, 21 Sep 1999 08:54:14 +0900<br>
Subject: [mysql 01249] Re: mysql-3.22.26a.tar.gz<br>

</p>
</div>
<div class="body">
<pre>

3.22.26a に対するパッチを流します。
BLOB(TEXT) に対して、SELECT DISTINCT がうまく動かないのを修正する
パッチです

--- mysql-3.22.26a/sql/sql_select.cc.orig	Fri Sep  3 06:39:51 1999
+++ mysql-3.22.26a/sql/sql_select.cc	Fri Sep 17 21:32:39 1999
@@ -4045,12 +4045,12 @@
     if (error == 0)
     {
       ha_info(entry,1);
-      memcpy(new_record,org_record,reclength);
       if (copy_blobs(first_field))
       {
 	error=ENOMEM;
 	break;
       }
+      memcpy(new_record,org_record,reclength);
       while ((error=info.read_record(&amp;info)) &lt;= 0)
       {
 	if (error == 0)

-- 
 村上 毅  takeshi@xxxxxxxxxx
 Soft Agency Co., Ltd. TEL +81-48-661-1527
 PGP fingerprint = 45 5D 54 12 B4 55 77 7F  D4 52 66 EC 03 3F 1B E9
 [ <a href="http://www.softagency.co.jp/mysql/">http://www.softagency.co.jp/mysql/</a> ]
 [ MySQL ML: mysql-guide@xxxxxxxxxx ]

</pre>
</div>
<p class="button"><a href="1248.html">[前]</a><a href="1250.html">[次]</a><a href="../list/1201-1300.html">[番号順一覧]</a><a href="../thread/1201-1300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="1241.html">   1241 1999-09-16 14:32 [&lt;sino@xxxxxxxxxx&gt;   ] mysql-3.22.26a.tar.gz                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1242.html">   1242 1999-09-18 22:44 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1245.html">   1245 1999-09-20 09:31 ┃┗[&lt;sino@xxxxxxxxxx&gt;   ]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="1249.html">   1249 1999-09-21 08:54 ┗[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
</pre>
</body>
</html>
