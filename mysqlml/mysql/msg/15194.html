<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15194</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15193.html">[前]</a><a href="15195.html">[次]</a><a href="../list/15101-15200.html">[番号順一覧]</a><a href="../thread/15101-15200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15194
</p>
<div class="header">
<p>
From: "EBIHARA, Yuichiro" &lt;"EBIHARA, Yuichiro" &lt;ebihara@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 24 Feb 2010 02:43:08 +0900<br>
Subject: [mysql 15194] 指定地点までレプリケート<br>

</p>
</div>
<div class="body">
<pre>MyNAの皆さま

こんにちは、海老原と申します。
レプリケーションについて質問があります。

マスター/スレーブ型のレプリケーション構成で、スレーブを常にマスターに追随させるのではなく、スレーブの状態をマスターのある時点のスナップショットとして固定しておきたいと思っています。

マスターには継続的に更新が発生するものとし、たとえば1日に1回、(おおよそ)00:00時点のマスターの状態をスレーブにレプリケートするとします。
この場合、次のような手順を考えているのですが、もし問題や注意点などがあればご指摘いただけないでしょうか。

前提1)スレーブ側でCHNAGE MASTER TOコマンドは適切に実行完了している

前提2)START SLAVE IO_THREADコマンドで I/Oスレッドだけは起動され、バイナリログの転送は常時行われている

1)00:00にマスター側でSHOW MASTER STATUSコマンドを実行
FileとPositionを確認する。

2)スレーブ側でSTART SLAVE SQL_THREAD UNTILコマンドを実行
MASTER_LOG_FILEとMASTER_LOG_POSパラメータに、1)で確認した値を指定する。

後は毎日1)と2)を繰り返す。


意外とシンプルに実装できそうな気がしていますが、何か勘違いしている点などあれば、ご指摘いただけると助かります。
(または、勘違いがなければないと言っていただけるのも同じくらい助かります)

どうぞよろしくお願いします。

海老原 雄一郎

</pre>
</div>
<p class="button"><a href="15193.html">[前]</a><a href="15195.html">[次]</a><a href="../list/15101-15200.html">[番号順一覧]</a><a href="../thread/15101-15200.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="15194.html">  15194 2010-02-24 02:43 ["EBIHARA, Yuichiro" ] 指定地点までレプリケート                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15195.html">  15195 2010-02-24 14:06 ┗["EBIHARA, Yuichiro" ]                                       </a></span>
</pre>


</body></html>