<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12566</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12565">[前]</a><a href="12567">[次]</a><a href="../list/12501-12600">[番号順一覧]</a><a href="../thread/12501-12600">[スレッド一覧]</a></p>
<p class="id">
mysql:12566
</p>
<div class="header">
<p>
From: &lt;kanamaru@xxxxxxxxxx&gt;<br>
Date: Thu, 15 Dec 2005 11:18:00 +0900<br>
Subject: [mysql 12566] Re: MySQLへの日本語データ格納方法について<br>

</p>
</div>
<div class="body">
<pre>
〓〓〓〓〓です。ありがとうございます！

<span class="quote1">&gt; ということは、データベースには SJIS でデータが格納されているということ</span>
<span class="quote1">&gt; ですかね。</span>
<span class="quote1">&gt; select colname,hex(colname) from tablename; としてみたら、文字とコード</span>
<span class="quote1">&gt; の対応が得られるので、はっきりすると思います。</span>

mysql&gt; select Id, hex(Id), Birth, hex(Birth) from MEMBER;
+----------+---------+-------+------------+
<span class="quote1">| Id       | hex(Id) | Birth | hex(Birth) |</span>
+----------+---------+-------+------------+
<span class="quote1">| 4950013  | 4B87FD  |       | NULL       |</span>
<span class="quote1">| 27950011 | 1AA7BBB |       | NULL       |</span>
<span class="quote1">| 15930005 | F31295  | 1947  | 79B        |</span>
<span class="quote1">| 43830205 | 29CCBBD | 1942  | 796        |</span>
<span class="quote1">| 13890056 | D3F208  | 1954  | 7A2        |</span>
<span class="quote1">| 28990028 | 1BA5A4C | 1975  | 7B7        |</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt; &gt; 今度は日本語入力ができなく</span>
<span class="quote2">&gt; &gt; なってしまいました。</span>


<span class="quote1">&gt; これは mysql&gt; のプロンプト上での話でしょうか。TeraTerm が EUC のときは</span>
<span class="quote1">&gt; ちゃんと表示できたのでしょうか。</span>

mysql&gt;のプロンプト上で、です。TeraTermがEUCですと
mysql&gt; select Name_Kanji from MEMBER where Access_count &gt; 5;
+--------------+
<span class="quote1">| Name_Kanji   |</span>
+--------------+
<span class="quote1">|</span>

F   ・
KY   |
NY   |
<span class="quote1">| コ@L     |</span>
<span class="quote1">| 冴マ</span>
     鉚 |
<span class="quote1">| 冴@袮 |</span>

と文字化けしてしまいます。

<span class="quote1">&gt; MySQL のバージョンは何でしょうか？ 「set names」が使えるのは 4.1.x 以</span>
<span class="quote1">&gt; 降です。</span>

mysql  Ver 11.18 Distrib 3.23.58, for unknown-freebsd4.8 (i386)

となりました。ということはset namesは使えないということなのでしょうか・・・

なお、MySQL では EUC-JP は「ujis」という名前なので、
<span class="quote1">&gt; 「set names ujis」とするのが正しいです。</span>

これも試してみたのですが、うまくいきませんでした。
statusコマンドでみたところ、
Client characterset:    ujis
Server characterset:    ujis
と表示されたので、ujisということになるんでしょうか。
そうするとEUCでselectした日本語データは化けるのは
なぜなのかわかりません。前任者はどうやってデータを
入れたのか聞ければ楽なのですが・・・

アドバイス引き続きいただけると大変助かります。




</pre>
</div>
<p class="button"><a href="12565">[前]</a><a href="12567">[次]</a><a href="../list/12501-12600">[番号順一覧]</a><a href="../thread/12501-12600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12557">  12557 2005-12-12 16:00 [&lt;kanamaru@xxxxxxxxxx] MySQLへの日本語データ格納方法について   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12561">  12561 2005-12-15 00:36 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="12566">  12566 2005-12-15 11:18 ┃┗[&lt;kanamaru@xxxxxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12575">  12575 2005-12-16 04:18 ┃　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12583">  12583 2005-12-16 17:41 ┗[班石悦夫 &lt;madara@xxx]                                       </a></span>
</pre>
</body>
</html>
