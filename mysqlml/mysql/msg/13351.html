<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13351</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="13350.html">[前]</a><a href="13352.html">[次]</a><a href="../list/13301-13400.html">[番号順一覧]</a><a href="../thread/13301-13400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13351
</p>
<div class="header">
<p>
From: Mamiya Masataka &lt;Mamiya Masataka &lt;xc8m-mmy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 15 Sep 2006 12:14:36 +0900<br>
Subject: [mysql 13351] Re: ２バイト文字の文字コード<br>

</p>
</div>
<div class="body">
<pre>間宮です。皆さんいろいろな情報をありがとうございます。
スレッドを新しくして、問題点が整理できればうれしいと思います。

ところで、「十」の問題でエラーになるということ
スレッドを改めて読み

<span class="quote1">&gt; satoです、お騒がせしています。みなさんありがとうございます。</span>
<span class="quote1">&gt; 念のため、NavicatというmySQLのGUIツールを使って</span>
<span class="quote1">&gt; 直接、文字を入力してみましたが、結果は同じでした。</span>
<span class="quote1">&gt; ただ、「十十」「十能」「能十」十十十十」「十十能十能十」はOK</span>
<span class="quote1">&gt; 　　　「能」「十十十」「能十能」「十能十能十」はNG</span>
<span class="quote1">&gt; つまり、文字列中に、0x5cが、偶数個はOK、奇数個はNG、となりました。</span>

のところがありました。
じつは私のところでも Navicat を使っています。
ためしに適当なところに「十」とか「三十」を入れてみたのですが
エラーになりませんでした。
と言うことは mySQL のバージョンも関係しているかもしれません。
私のところのバージョンは、mySQL 4.0.18 となっています。
4.0.x で仕様が異なっているのかもしれません。
となると同じ 4.0.x をバージョンアップすることもうかつには出来ない。

いずれにしても複数バイトの文字を扱う場合、
上位バイト（３バイト利用の場合は上位２バイト）に何バイトで１文字とするかの情報があり、
それを正しく読み取れる処理が mySQL 側に備わっているバージョンを使わなければ、

<span class="quote1">&gt; mySQL で LIKE %香% をすると</span>
<span class="quote1">&gt; 「香」と「枕（」に合致してしまう</span>

は防げないと言うことになるようです。
バージョンを移行していくのもかなり慎重にしていかないと、
文字コードの問題で大きなトラブルとなる可能性もあるとのこと。
草間さんの情報は大変参考となりました。

文字コードをどのように処理するか、むずかしいですね。


--
Mamiya masataka from IBARAKI JAPAN
0297-58-6313 090-4430-2918
mamiya@xxxxxxxxxx
masataka-orange@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="13350.html">[前]</a><a href="13352.html">[次]</a><a href="../list/13301-13400.html">[番号順一覧]</a><a href="../thread/13301-13400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="13348.html">  13348 2006-09-15 08:24 [Mamiya Masataka &lt;xc8] ２バイト文字の文字コード                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13349.html">  13349 2006-09-15 11:22 ┣[&lt;kiwah@xxxxxxxxxx&gt;  ]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="13351.html">  13351 2006-09-15 12:14 ┃┗[Mamiya Masataka &lt;xc8]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13350.html">  13350 2006-09-15 11:41 ┗[早間 &lt;hayama@xxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13352.html">  13352 2006-09-15 13:00 　┗[Mitsuhiro KIZU &lt;kizu]                                     </a></span>
</pre>


</body></html>