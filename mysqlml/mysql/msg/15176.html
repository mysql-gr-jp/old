<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15176</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="15175.html">[前]</a><a href="15177.html">[次]</a><a href="../list/15101-15200.html">[番号順一覧]</a><a href="../thread/15101-15200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15176
</p>
<div class="header">
<p>
From: 小林 正史 &lt;小林 正史 &lt;gustav.tk@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 1 Feb 2010 17:14:56 +0900<br>
Subject: [mysql 15176] JOIN文での件数絞り込みについて<br>

</p>
</div>
<div class="body">
<pre>MYSQL初心者で勉強中の Tadashi Kunitomoといいます
環境はCentOS5.3 Mysql5で作業しています

現在スケジューラを作っていて、初回アクセス時に次回のイベント 
を表示させたいと思います。
取得するデータは　eventテーブルから開催日やイベント 
名、sankashaテーブルから参加者名なので

SELECT ~~ FROM `t_event` LEFT JOIN `t_sankasha` ON `t_event`.id =  
`t_sankasha`.evId
WHERE `t_event`.evDay &gt;= {$today} ORDER BY `t_event`.evDay,  
`t_event`.starttime

という感じに書いたんですが、これだと当然今日の日付より新しい 
イベントが全部取られてしまいます
直近の一イベントの情報に限って取得するにはどうしたら良いで 
しょうか？
LIMIT 1を上のクエリ文に追記で書いたところ、本当に１行しか返し 
てくれないので
LEFT JOINで取得される複数行部分が取れず不完全になってしまいま 
した。

どなたか宜しくお願いします。
PHP側で整形することを考えましたが、クエリの負担を減らせるグッ 
ドアイデアを教えてくれると嬉しいです。
宜しくお願いいたします。

</pre>
</div>
<p class="button"><a href="15175.html">[前]</a><a href="15177.html">[次]</a><a href="../list/15101-15200.html">[番号順一覧]</a><a href="../thread/15101-15200.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="15176.html">  15176 2010-02-01 17:14 [小林 正史 &lt;gustav.tk] JOIN文での件数絞り込みについて          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15177.html">  15177 2010-02-01 17:44 ┗[&lt;kaba@xxxxxxxxxx&gt;   ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15178.html">  15178 2010-02-01 19:08 　┗[小林 正史 &lt;gustav.tk] Re: JOIN 文での件数絞り込みについて　解決</a></span>
</pre>


</body></html>