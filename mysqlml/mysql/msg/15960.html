<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15960</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="15959.html">[前]</a><a href="15961.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15960
</p>
<div class="header">
<p>
From: 當山正一 &lt;當山正一 &lt;lahchi@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 20 May 2013 15:08:25 +0900<br>
Subject: [mysql 15960] Re: MySQL Connector/NETで取得したデータのレコード数<br>

</p>
</div>
<div class="body">
<pre>岩崎さん、

當山と申します。 初めまして。

データ件数ですが、FieldCountとというMySQLDataReaderのプロパティは使えないでしょうか？
上記のコードですと、myReader.FieldCountでデータ件数が取得できるはずです。





2013年5月20日 14:35 岩崎 誠司 &lt;iwasaki_ryuqseed_6130@xxxxxxxxxx&gt;:

<span class="quote1">&gt; 岩崎です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 皆様、ご無沙汰しております。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 今まではC APIでSQL処理をしていましたが、</span>
<span class="quote1">&gt; 今度、C# + MySQL Connector/NETを使う必要に迫られ</span>
<span class="quote1">&gt; 四苦八苦しております。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; どうしても情報を見つけることができませんでしたので</span>
<span class="quote1">&gt; 皆様のお力添えをお願いします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 下記のようにしてデータを取得することはできましたが、</span>
<span class="quote1">&gt; データ件数の取得方法がわかりません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; C APIならmysql_num_rows()でデータ件数を取得できますが、</span>
<span class="quote1">&gt; MySQL Connector/NETで件数を取得する方法はありますでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ご教授のほどよろしくお願いします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 尚、データや件数を含めてクラス化したいと考えていますので</span>
<span class="quote1">&gt; "SELECT COUNT(*) ..."以外でお願いできたらと思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     string mySelectQuery = "SELECT OrderID, CustomerID FROM Orders";</span>
<span class="quote1">&gt;     MySqlConnection myConnection = new MySqlConnection(myConnString);</span>
<span class="quote1">&gt;     MySqlCommand myCommand = new MySqlCommand(mySelectQuery,myConnection);</span>
<span class="quote1">&gt;     myConnection.Open();</span>
<span class="quote1">&gt;     MySqlDataReader myReader;</span>
<span class="quote1">&gt;     myReader = myCommand.ExecuteReader();</span>
<span class="quote1">&gt;     // Always call Read before accessing data.</span>
<span class="quote1">&gt;     while (myReader.Read()) {</span>
<span class="quote1">&gt;        Console.WriteLine(myReader.GetInt32(0) + ", " +</span>
<span class="quote1">&gt; myReader.GetString(1));</span>
<span class="quote1">&gt;     }</span>
<span class="quote1">&gt;     // always call Close when done reading.</span>
<span class="quote1">&gt;     myReader.Close();</span>
<span class="quote1">&gt;     // Close the connection when done with it.</span>
<span class="quote1">&gt;     myConnection.Close();</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 開発環境</span>
<span class="quote1">&gt; Windows7 641bit</span>
<span class="quote1">&gt; MySQL Connector/NET 6.6.5</span>
<span class="quote1">&gt; Visual C#2012</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>


-- 
<a href="http://about.me/touchan">http://about.me/touchan</a>


</pre>
</div>
<div class="attach">
<h3 class="attachtitle">添付ファイル</h3>
<ul>
<li><a href="15960/0/index.html"> [text/html]</a>
</li></ul>
</div>
<p class="button"><a href="15959.html">[前]</a><a href="15961.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="15959.html">  15959 2013-05-20 14:35 [岩崎　誠司 &lt;iwasaki_] MySQL Connector/NETで取得したデータのレコード数</a></span>
<span class="current">-&gt;&nbsp;<a href="15960.html">@ 15960 2013-05-20 15:08 ┗[當山正一 &lt;lahchi@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15961.html">  15961 2013-05-20 15:54 　┣[岩崎　誠司 &lt;iwasaki_] Re: [mysql 15960] Re: MySQL Connector/NETで取得したデータのレコード数</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15962.html">@ 15962 2013-05-20 15:58 　┗[志澤 敦 &lt;atsushi.shi]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15963.html">@ 15963 2013-05-20 16:16 　　┣[當山正一 &lt;lahchi@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15964.html">  15964 2013-05-20 16:28 　　┗[岩崎　誠司 &lt;iwasaki_] Re: [mysql 15962] Re: MySQL Connector/NETで取得したデータのレコード数</a></span>
</pre>


</body></html>