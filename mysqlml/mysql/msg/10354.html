<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10354</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10353.html">[前]</a><a href="10355.html">[次]</a><a href="../list/10301-10400.html">[番号順一覧]</a><a href="../thread/10301-10400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10354
</p>
<div class="header">
<p>
From: &lt;i_hagiwara@xxxxxxxxxx&gt;<br>
Date: Wed, 27 Oct 2004 17:33:47 +0900<br>
Subject: [mysql 10354] MySQL4.1.6-gamma  での文字化けについて<br>

</p>
</div>
<div class="body">
<pre>

萩原と申します。

現在、下記の環境で日本語文字列をHTML画面に表示しようとしておりますが、
文字化けを起こしており、困っております。

OS：Windows2000 Pro SP4
APサーバ：Apache Tomcat 5.0.28
MySQL：4.1.6-gamma
JDBCはMyODBC-standard-3.51.9-winを使用しております。

これまで試してみたことは以下の通りです。
1.my.iniファイル中のdefault-character-setの設定確認

[mysqld]
default-character-set=sjis
[mysql]
default-character-set=sjis

2.createしたDBのdb.optファイルの設定確認

default-character-set=sjis
default-collation=sjis

3.Tomcatのserver.xml内のJDBCURLの設定確認

jdbc:mysql://localhost:3306/bugtool?useUnicode=true&amp;amp;characterEncoding=sjis

また、当メーリングリストの<a href="9586.html">[mysql:9586]</a>を参考にし（バージョンは異なります
が）
文字コードに関する6つのシステム関数を確認したところ、以下のようになっており
ました。

mysql&gt; show variables like 'character\_set\_%';
+--------------------------+--------+
<span class="quote1">| Variable_name            | Value  |</span>
+--------------------------+--------+
<span class="quote1">| character_set_client     | latin1 |</span>
<span class="quote1">| character_set_connection | latin1 |</span>
<span class="quote1">| character_set_database   | sjis   |</span>
<span class="quote1">| character_set_results    | latin1 |</span>
<span class="quote1">| character_set_server     | sjis   |</span>
<span class="quote1">| character_set_system     | utf8   |</span>
+--------------------------+--------+
6 rows in set (0.00 sec)

「latin1」がいけないのではないかとも考えておりますが、これらの設定を変更す
る方法がわかりません。
CommandClient上で
mysql&gt; set character_set_results=sjis;
などと変更しても、CommandClientを起動しなおすと設定が戻りますし、文字化けし
たままでした。

以上です。
CommandClient上でselectすると表示されますが、アプリケーション内でselectした
結果を
標準出力するとすでに化けております。

どなたかご教授願いませんでしょうか。
ちなみにMySQLのバージョンですが、SQL文の関係で4.1以上を希望しております。

よろしくお願いいたします。



</pre>
</div>
<p class="button"><a href="10353.html">[前]</a><a href="10355.html">[次]</a><a href="../list/10301-10400.html">[番号順一覧]</a><a href="../thread/10301-10400.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="10354.html">  10354 2004-10-27 17:33 [&lt;i_hagiwara@xxxxxxxx] MySQL4.1.6-gamma  での文字化けについて  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10355.html">  10355 2004-10-27 17:49 ┗[Yukihiro KAWADA &lt;kaw]                                       </a></span>
</pre>
</body>
</html>
