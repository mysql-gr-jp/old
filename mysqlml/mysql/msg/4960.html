<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4960</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4959.html">[前]</a><a href="4961.html">[次]</a><a href="../list/4901-5000.html">[番号順一覧]</a><a href="../thread/4901-5000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4960
</p>
<div class="header">
<p>
From: Satoshi Koiwa &lt;Satoshi Koiwa &lt;koiwa@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 18 Jan 2002 11:51:20 +0900<br>
Subject: [mysql 04960] Re: 数値型の扱いについて<br>

</p>
</div>
<div class="body">
<pre>ご無沙汰しております、小岩です。
エラーが出ないという意味では大丈夫だと思います。
が、単純に

$sql = "select * from table where hoge = $i ";
$rv = "";
$rv = $dbh-&gt;selectrow_array($sql) if length($i) &gt; 0;

という感じで$iに何か入っている場合にしか走らないようにしてしまえばなおよいよ
うな気がします。


<span class="quote1">&gt; はじめまして</span>
<span class="quote1">&gt; 早川と申します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql を利用し始めてから3月程度の初心者です。</span>
<span class="quote1">&gt; 宜しくお願い致します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 早速ですが、質問をさせていただきたいと思います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Perl cgi より、mysql を使おうとしているのですが、</span>
<span class="quote1">&gt; 下記のように hoge が整数型の際に</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; $sql = "select * from table";</span>
<span class="quote1">&gt; $sql .= "where hoge = $i";</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; として作った sql を流す際に $i が NULL ですと、error が</span>
<span class="quote1">&gt; 帰って来ます。</span>
<span class="quote1">&gt; 従って、その対策として</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; $sql = "select * from table";</span>
<span class="quote1">&gt; $sql .= "where hoge = '$i'";</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; の様に、$i を '' で囲ってしまうとエラーが出なくなるので</span>
<span class="quote1">&gt; すが、ホントにこれで良いのかと不安に思っています。</span>
<span class="quote1">&gt; これは対応として mysql 的に正しいのでしょうか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 恐れ入りますが、この点につきましてご教授願えますよう</span>
<span class="quote1">&gt; 宜しくお願いいたします。</span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="4959.html">[前]</a><a href="4961.html">[次]</a><a href="../list/4901-5000.html">[番号順一覧]</a><a href="../thread/4901-5000.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="4958.html">   4958 2002-01-18 11:38 [Youhei Hayakawa &lt;hay] 数値型の扱いについて                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4959.html">   4959 2002-01-18 11:44 ┣["Ningfeng Yang" &lt;yan]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="4960.html">   4960 2002-01-18 11:51 ┣[Satoshi Koiwa &lt;koiwa]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4961.html">   4961 2002-01-18 12:10 ┣[Noriyuki Sakimura &lt;s]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4970.html">   4970 2002-01-18 13:52 ┃┗[Youhei Hayakawa &lt;hay]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4969.html">   4969 2002-01-18 13:44 ┗["KAWAI,Takanori" &lt;GC]                                       </a></span>
</pre>


</body></html>