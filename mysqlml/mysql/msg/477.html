<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:477</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="476.html">[前]</a><a href="478.html">[次]</a><a href="../list/401-500.html">[番号順一覧]</a><a href="../thread/401-500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:477
</p>
<div class="header">
<p>
From: Satoshi Koiwa &lt;Satoshi Koiwa &lt;koiwa@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 26 Dec 98 18:54:24 +0900<br>
Subject: [mysql 477]  Re: クロス集計の方法<br>

</p>
</div>
<div class="body">
<pre>

小岩です。

<span class="quote1">&gt;mysqlでやる場合、decodeがないんで</span>
<span class="quote1">&gt;select</span>
<span class="quote1">&gt;       if(地区コード = 1,1,if(地区コード= 2,2,0)) as 地区,</span>
<span class="quote1">&gt;       sum(売上金額)</span>
<span class="quote2">&gt;&gt;from 売上テーブル</span>
<span class="quote1">&gt;group by 地区</span>

これだと縦横にならないですよねー、スマートなのは間違いないですが。

<span class="quote1">&gt;で、decode って、何なんでしょうか？</span>
<span class="quote1">&gt;お教え下さい。m(_ _)m</span>

Oracle本には書いてあると思うんですが、
     decode(Exp, A, B, C, D, Z)
というように書きます。この関数を実行するとExpの結果がAだったらBが、Cだった
らDが、それ以外だったらZを返します。Expは必須で、A以下は基本的には2個セット
でいくつでも書けます(上限はあるんだろうけれど上限にあたったことはない)。A以
下が奇数個になった場合だけ、default値になります。偶数個で一連のセットの中に
該当する値がなかったらNULLが返る。
     decode(県コ−ド,  '01', '北海道',
                         '02', '青森県',
                         '03', '岩手県',
                         '04', '宮城県',
                         '13', '東京都
                         'それ以外の府県')
とか、
     decode(性別コ−ド, '1', '男', '2','女', '性別不明')
とか、
     decode(性別コ−ド, '1', '男', '女')
とかという使い方や、
     decode(県コ−ド,  '01', decode(性別コ−ド,
                                        '1', 'えびす男', 'えびす女'),
                         '12', decode(性別コ−ド,
                                        '1', 'あづま男', 'あづま女'),
                         decode(性別コ−ド,
                                        '1', 'その他のおのこ', 'その他のお
とめ')
という感じの入れ子を重ねていく使い方なんかがあります。SELECT節でもWHERE節で
もGROUP BY節でもどこでも書けるんで便利だけれど、物凄いものを書かれると解析
が大変。

</pre>
</div>
<p class="button"><a href="476.html">[前]</a><a href="478.html">[次]</a><a href="../list/401-500.html">[番号順一覧]</a><a href="../thread/401-500.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="477.html">    477 1998-12-26 18:54 [Satoshi Koiwa &lt;koiwa] Re: クロス集計の方法                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="478.html">    478 1998-12-27 01:12 ┣[&lt;endot@xxxxxxxxxx&gt;  ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="479.html">    479 1998-12-28 07:44 ┣[Tamon Nomura &lt;tamon@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="480.html">    480 1998-12-28 09:49 ┗[民斗 &lt;tommy@xxxxxxxx]                                       </a></span>
</pre>
</body>
</html>
