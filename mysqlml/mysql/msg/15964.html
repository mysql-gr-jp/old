<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15964</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15963.html">[前]</a><a href="15965.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15964
</p>
<div class="header">
<p>
From: 岩崎　誠司 &lt;岩崎　誠司 &lt;iwasaki_ryuqseed_6130@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 20 May 2013 16:28:24 +0900 (JST)<br>
Subject: [mysql 15964] Re: [mysql 15962] Re: MySQL Connector/NETで取得したデータのレコード数<br>

</p>
</div>
<div class="body">
<pre>
志澤さん、ご返信ありがとうございます。

やはり、レコード数の取得は無理なのですね。
C#もまだ不慣れなのですが「DataTable」も一度調べてみます。
ありがとうございました。

岩崎


----- Original Message -----
<span class="quote1">&gt;From: 志澤 敦 &lt;atsushi.shizawa@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt;To: ml@xxxxxxxxxx </span>
<span class="quote1">&gt;Date: 2013/5/20, Mon 15:58</span>
<span class="quote1">&gt;Subject: <a href="15962.html">[mysql 15962]</a> Re: MySQL Connector/NETで取得したデータのレコード数</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;岩崎さん</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;始めまして、志澤と申します。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;C# のMySQLDataReaderでは、</span>
<span class="quote1">&gt;取得行の有無はHasRowsプロパティで確認出来ますが、</span>
<span class="quote1">&gt;行数までは取得出来ません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;取得対象行数等にもよりますが、</span>
<span class="quote1">&gt;.NETの場合、DataTableへ一度格納するなどであれば、</span>
<span class="quote1">&gt;DataTable.Rows.Countで取得可能です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;従い、</span>
<span class="quote1">&gt;手法の見直しをご検討される事をお勧めします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;以上、</span>
<span class="quote1">&gt;ご参考になれば幸いです。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;尚、</span>
<span class="quote1">&gt;FieldsCountはカラム方向での件数となるとの記憶です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;(2013/05/20 15:08), 當山正一 wrote:</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;岩崎さん、 </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; </span>
<span class="quote2">&gt;&gt;當山と申します。　初めまして。 </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; </span>
<span class="quote2">&gt;&gt;データ件数ですが、FieldCountとというMySQLDataReaderのプロパティは使えないでしょうか？ </span>
<span class="quote2">&gt;&gt;上記のコードですと、myReader.FieldCountでデータ件数が取得できるはずです。 </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; </span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;2013年5月20日 14:35 岩崎　誠司 &lt;iwasaki_ryuqseed_6130@xxxxxxxxxx&gt;:</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;岩崎です。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;皆様、ご無沙汰しております。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;今まではC APIでSQL処理をしていましたが、</span>
<span class="quote3">&gt;&gt;&gt;今度、C# + MySQL Connector/NETを使う必要に迫られ</span>
<span class="quote3">&gt;&gt;&gt;四苦八苦しております。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;どうしても情報を見つけることができませんでしたので</span>
<span class="quote3">&gt;&gt;&gt;皆様のお力添えをお願いします。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;下記のようにしてデータを取得することはできましたが、</span>
<span class="quote3">&gt;&gt;&gt;データ件数の取得方法がわかりません。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;C APIならmysql_num_rows()でデータ件数を取得できますが、</span>
<span class="quote3">&gt;&gt;&gt;MySQL Connector/NETで件数を取得する方法はありますでしょうか？</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;ご教授のほどよろしくお願いします。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;尚、データや件数を含めてクラス化したいと考えていますので</span>
<span class="quote3">&gt;&gt;&gt;&quot;SELECT COUNT(*) ...&quot;以外でお願いできたらと思います。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; string mySelectQuery = &quot;SELECT OrderID, CustomerID FROM</span>
Orders&quot;;
<span class="quote3">&gt;&gt;&gt; MySqlConnection myConnection = new</span>
MySqlConnection(myConnString);
<span class="quote3">&gt;&gt;&gt; MySqlCommand myCommand = new</span>
MySqlCommand(mySelectQuery,myConnection);
<span class="quote3">&gt;&gt;&gt; myConnection.Open();</span>
<span class="quote3">&gt;&gt;&gt; MySqlDataReader myReader;</span>
<span class="quote3">&gt;&gt;&gt; myReader = myCommand.ExecuteReader();</span>
<span class="quote3">&gt;&gt;&gt; // Always call Read before accessing data.</span>
<span class="quote3">&gt;&gt;&gt; while (myReader.Read()) {</span>
<span class="quote3">&gt;&gt;&gt; Console.WriteLine(myReader.GetInt32(0) + &quot;, &quot; +</span>
myReader.GetString(1));
<span class="quote3">&gt;&gt;&gt; }</span>
<span class="quote3">&gt;&gt;&gt; // always call Close when done reading.</span>
<span class="quote3">&gt;&gt;&gt; myReader.Close();</span>
<span class="quote3">&gt;&gt;&gt; // Close the connection when done with it.</span>
<span class="quote3">&gt;&gt;&gt; myConnection.Close();</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;開発環境</span>
<span class="quote3">&gt;&gt;&gt;Windows7　641bit</span>
<span class="quote3">&gt;&gt;&gt;MySQL Connector/NET 6.6.5</span>
<span class="quote3">&gt;&gt;&gt;Visual C#2012</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
-- 
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;<a href="http://about.me/touchan">http://about.me/touchan</a></span>
<span class="quote2">&gt;&gt; </span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="15963.html">[前]</a><a href="15965.html">[次]</a><a href="../list/15901-16000.html">[番号順一覧]</a><a href="../thread/15901-16000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15959.html">  15959 2013-05-20 14:35 [岩崎　誠司 &lt;iwasaki_] MySQL Connector/NETで取得したデータのレコード数</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15960.html">@ 15960 2013-05-20 15:08 ┗[當山正一 &lt;lahchi@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15961.html">  15961 2013-05-20 15:54 　┣[岩崎　誠司 &lt;iwasaki_] Re: [mysql 15960] Re: MySQL Connector/NETで取得したデータのレコード数</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15962.html">@ 15962 2013-05-20 15:58 　┗[志澤 敦 &lt;atsushi.shi]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15963.html">@ 15963 2013-05-20 16:16 　　┣[當山正一 &lt;lahchi@xxx]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="15964.html">  15964 2013-05-20 16:28 　　┗[岩崎　誠司 &lt;iwasaki_] Re: [mysql 15962] Re: MySQL Connector/NETで取得したデータのレコード数</a></span>
</pre>
</body>
</html>
