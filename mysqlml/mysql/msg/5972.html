<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5972</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="5971.html">[前]</a><a href="5973.html">[次]</a><a href="../list/5901-6000.html">[番号順一覧]</a><a href="../thread/5901-6000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5972
</p>
<div class="header">
<p>
From: &quot;Cold Winter&quot; &lt;&quot;Cold Winter&quot; &lt;coldwinter@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 22 Aug 2002 11:44:27 +0900<br>
Subject: [mysql 05972] Re: JDBC での INSERT  と UPDATE で日本語が ?  に化けてしまいます<br>

</p>
</div>
<div class="body">
<pre>
福元さん，はじめまして。

<span class="quote1">&gt; 　接続文字列では、</span>
<span class="quote1">&gt; jdbc:mysql:///master1?useUnicode=true&amp;characterEncoding=SJIS</span>
<span class="quote1">&gt; 　UpdateCount = sta.executeUpdate(new</span>
<span class="quote1">&gt; String(p1.getBytes(&quot;8859_1&quot;),&quot;Shift_JIS&quot;));</span>
<span class="quote1">&gt; のようにきちんとSJIS変換しているつもりなのですが</span>
<span class="quote1">&gt; INSERTとUPDATEを行うと、「あ」のような日本後全てが「?」となって</span>
<span class="quote1">&gt; データベースに格納されているようです。</span>

…次のような点を考慮してみるとよいかもしれません。

１．SQL のエンコードに「8859_1 → Shift_JIS」の変換を &quot;かけないで&quot;
　　そのまま実行する

２．DB エンジンの起動状態のうち，キャラクターセットの設定を確認する

　　# 確認方法

　　　&quot;C:\work\&gt; mysqladmin variables&quot; ででてくる表の character_set
　　　の行が &quot;sjis&quot; であることを確認する，念の為 character_sets に
　　　&quot;sjis&quot; が含まれていることも確認する



----- Original Message -----
From: &quot;福元 政明&quot; &lt;fukumoto@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Thursday, August 22, 2002 11:38 AM
Subject: <a href="05971.html">[mysql 05971]</a> JDBC での INSERT と UPDATE で日本語が ? に化けてしまいます


<span class="quote1">&gt; 福元と申します。</span>
<span class="quote1">&gt; 環境は、Win2K + JDK1.4 + TOMCAT4.18です。</span>
<span class="quote1">&gt; 実はタイトルのような不具合で悩んでおります。</span>
<span class="quote1">&gt; 処理的には</span>
<span class="quote1">&gt; 　WEB-INF/lib/mm.mysql-2.0.13-you-must-unjar-me.jar</span>
<span class="quote1">&gt; 　接続文字列では、</span>
<span class="quote1">&gt; jdbc:mysql:///master1?useUnicode=true&amp;characterEncoding=SJIS</span>
<span class="quote1">&gt; 　UpdateCount = sta.executeUpdate(new</span>
<span class="quote1">&gt; String(p1.getBytes(&quot;8859_1&quot;),&quot;Shift_JIS&quot;));</span>
<span class="quote1">&gt; のようにきちんとSJIS変換しているつもりなのですが</span>
<span class="quote1">&gt; INSERTとUPDATEを行うと、「あ」のような日本後全てが「?」となって</span>
<span class="quote1">&gt; データベースに格納されているようです。</span>
<span class="quote1">&gt; なみに、mysqlコマンドでINSERT文を実行したレコードについては、読み込んだ際に</span>
<span class="quote1">&gt; も○きちんと日本語表示されます。</span>
<span class="quote1">&gt; なみに、本メーリングリストで紹介されていました「PreparedStatement」の動作は</span>
<span class="quote1">&gt; まだ検証していません。</span>
<span class="quote1">&gt; よろしくお願いします。</span>
<span class="quote1">&gt;</span>


</pre>
</div>
<p class="button"><a href="5971.html">[前]</a><a href="5973.html">[次]</a><a href="../list/5901-6000.html">[番号順一覧]</a><a href="../thread/5901-6000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5971.html">   5971 2002-08-22 11:38 [福元 政明 &lt;fukumoto@] JDBC での INSERT と UPDATE で日本語が ? に化けてしまいます</a></span>
<span class="current">-&gt;&nbsp;<a href="5972.html">   5972 2002-08-22 11:44 ┗[&quot;Cold Winter&quot; &lt;coldw]                                       </a></span>
</pre>
</body>
</html>
