<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14387</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="14386.html">[前]</a><a href="14388.html">[次]</a><a href="../list/14301-14400.html">[番号順一覧]</a><a href="../thread/14301-14400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14387
</p>
<div class="header">
<p>
From: Yusuke Kawabata &lt;Yusuke Kawabata &lt;kawabata@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 20 Feb 2008 21:07:52 +0900<br>
Subject: [mysql 14387] レプリケーション時にDecimal型の値だけ壊れる<br>

</p>
</div>
<div class="body">
<pre>はじめまして、川畑と申します。

MySQLをJavaからJConnectorのPreparedStatement 
で使用しているのですが
レプリケーションを行った際に、Decimal型が壊れるという現象が
発生しております。

---
OS:RHEL4
MySQL:5.0.19
Java:JDK1.4
---

例：下記のようなテーブルがあった際に
id    int(8)
dec decimal(6,2)

マスタDBに対しinsertを実行すると、正しく挿入されるのです 
が
（ 例えば id = 4 dec = 5023.0 ）
それをレプリケーションしているスレーブ側でのぞく 
と、decimalの
値が999999などとおかしな値になっている状況です。

バイナリログをcatでみる限り、16進数のhex値 
でログに保存されている
ようなのです。これが原因なのかわかりませんが上記現象となります。

切り分けですが、コマンドラインのmysqlクライアントで書き 
込むと
正常にレプリケーションされ、またPHPMyAdminから書き込んでも
正しくレプリケーションされてしまいます。

これ以上の対処法が見つからずご相談させていただきました。
何か情報があればお知らせいただきたいと思います。

---
Yusuke Kawabata &lt;kawabata at mars co jp&gt;


</pre>
</div>
<p class="button"><a href="14386.html">[前]</a><a href="14388.html">[次]</a><a href="../list/14301-14400.html">[番号順一覧]</a><a href="../thread/14301-14400.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="14387.html">  14387 2008-02-20 21:07 [Yusuke Kawabata &lt;kaw] レプリケーション時にDecimal型の値だけ壊れる</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14388.html">  14388 2008-02-21 07:42 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14389.html">  14389 2008-02-21 09:43 ┗[&lt;idaaki@xxxxxxxxxx&gt; ]                                       </a></span>
</pre>


</body></html>