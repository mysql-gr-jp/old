<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1395</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="1394.html">[前]</a><a href="1396.html">[次]</a><a href="../list/1301-1400.html">[番号順一覧]</a><a href="../thread/1301-1400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1395
</p>
<div class="header">
<p>
From: &lt;takeshi@xxxxxxxxxx&gt;<br>
Date: Fri, 10 Dec 1999 12:17:23 +0900<br>
Subject: [mysql 01395] 3.23.7 mb<br>

</p>
</div>
<div class="body">
<pre>MySQL-3.23.7 では、一部の関数に、multi bytes 対応を試みています。
これより前のバージョンからアプリ等を移行する際には、注意してください。

例えば、SJIS サーバーで以下のクエリ：

================
select INSERT('ああ構想宗家圭介いい', 3, 3, '宗家表示圭介');
select INSTR('ああ構想宗家圭介いい', '圭');
select LEFT('ああ構想宗家圭介いい', 5);
select MID('ああ構想宗家圭介いい', 3, 5);
select POSITION('圭' IN 'ああ構想宗家圭介いい');
select REPLACE('ああ構想宗家圭介いい' , '圭' , '宗');
select REVERSE('ああ構想宗家圭介いい');
select RIGHT('ああ構想宗家圭介いい', 5);
select SUBSTRING('ああ構想宗家圭介いい' FROM 5);
select TRIM(BOTH '圭' FROM 'ああ構想宗家圭介いい');
select UCASE('ああ構想宗家圭介いい');

select INSERT('ああ構想宗家圭介いい', 3, 3, '宗a家c表示圭介');
select INSTR('ああ構想宗家abc圭介いい', '圭');
select LEFT('ああ構想abc宗家圭介いい', 5);
select MID('ああ構abc想宗家圭介いい', 3, 5);
select POSITION('圭' IN 'ああ構想宗家abc圭介いい');
select RIGHT('ああ構想宗家abc圭介いい', 5);
select REPLACE('ああ構b想宗c家a圭介いい' , '圭' , '宗');
select REVERSE('ああ構v想c宗家a圭介いい');
select SUBSTRING('ああ構想abc宗家圭介いい' ,5);
select TRIM(BOTH '圭' FROM 'ああ構想宗家a圭c介いい');
select UCASE('ああ構a想b宗家圭c介いい');
================


この結果は：

================
INSERT('ああ構想宗家圭介いい', 3, 3, '宗家表示圭介')
ああ宗家表示圭介家圭介いい
INSTR('ああ構想宗家圭介いい', '圭')
7
LEFT('ああ構想宗家圭介いい', 5)
ああ構想宗
MID('ああ構想宗家圭介いい', 3, 5)
構想宗家圭
POSITION('圭' IN 'ああ構想宗家圭介いい')
7
REPLACE('ああ構想宗家圭介いい' , '圭' , '宗')
ああ構想宗家宗介いい
REVERSE('ああ構想宗家圭介いい')
いい介圭家宗想構ああ
RIGHT('ああ構想宗家圭介いい', 5)
家圭介いい
SUBSTRING('ああ構想宗家圭介いい' FROM 5)

TRIM(BOTH '圭' FROM 'ああ構想宗家圭介いい')
ああ構想宗家圭介いい
UCASE('ああ構想宗家圭介いい')
ああ構想宗家圭介いい
INSERT('ああ構想宗家圭介いい', 3, 3, '宗a家c表示圭介')
ああ宗a家c表示圭介家圭介いい
INSTR('ああ構想宗家abc圭介いい', '圭')
10
LEFT('ああ構想abc宗家圭介いい', 5)
ああ構想a
MID('ああ構abc想宗家圭介いい', 3, 5)
構abc想
POSITION('圭' IN 'ああ構想宗家abc圭介いい')
10
RIGHT('ああ構想宗家abc圭介いい', 5)
c圭介いい
REPLACE('ああ構b想宗c家a圭介いい' , '圭' , '宗')
ああ構b想宗c家a宗介いい
REVERSE('ああ構v想c宗家a圭介いい')
いい介圭a家宗c想v構ああ
SUBSTRING('ああ構想abc宗家圭介いい' ,5)

TRIM(BOTH '圭' FROM 'ああ構想宗家a圭c介いい')
ああ構想宗家a圭c介いい
UCASE('ああ構a想b宗家圭c介いい')
ああ構A想B宗家圭C介いい
================

MID() が動いて、SUBSTRING() が動かないのは不思議

-- 
 村上 毅  takeshi@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="1394.html">[前]</a><a href="1396.html">[次]</a><a href="../list/1301-1400.html">[番号順一覧]</a><a href="../thread/1301-1400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="1394.html">   1394 1999-12-10 11:21 [&lt;takeshi@xxxxxxxxxx&gt;] 3.23.7                                  </a></span>
<span class="current">-&gt;&nbsp;<a href="1395.html">   1395 1999-12-10 12:17 ┗[&lt;takeshi@xxxxxxxxxx&gt;] 3.23.7 mb                             </a></span>
</pre>


</body></html>