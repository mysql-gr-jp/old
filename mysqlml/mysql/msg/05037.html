<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5037</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="5036.html">[前]</a><a href="5038.html">[次]</a><a href="../list/5001-5100.html">[番号順一覧]</a><a href="../thread/5001-5100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5037
</p>
<div class="header">
<p>
From: "gosikaku" &lt;"gosikaku" &lt;gosikaku@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 28 Jan 2002 10:41:29 +0900<br>
Subject: [mysql 05037] フィールド名に変数を使った UPDATE の方法はどうすれば？<br>

</p>
</div>
<div class="body">
<pre>宏です。

Perl-DBIで作成していて解らない事があるので質問させて頂きます。

例えば、フィールド名「txt1」、「txt2」、「txt3」というのがあるとして、その
フィールドの
中の「txt1」にUPDATEコマンドで送られてきたコマンドを入れようと思っていて、そ
こ
のフィールド名の数字の部分を変数にして実行しようと思って下記のようにプログラ
ムを作ってみたのですがエラーは何もでないのですがデータベースの中をみても、
全然送られてきたデータが入っていないのです。色々試してみたのですが上手くい
きません。どうか何かいい方法があればお教えください。

$a=1;
$txtbun="テスト";
$dbh = DBI -&gt; connect ($dns, $username, $password) or &amp;Error("データベースへ
アクセスできません。2");
$sth2 = $dbh-&gt;prepare( qq{ UPDATE box SET "txt$a" = "$txtbun" WHERE id =
"aa"});
$sth2 -&gt; execute() or &amp;Error("MySQL UPDATE コマンドを実行できません。1");
$sth2 -&gt; finish();
$dbh -&gt; disconnect();




</pre>
</div>
<p class="button"><a href="5036.html">[前]</a><a href="5038.html">[次]</a><a href="../list/5001-5100.html">[番号順一覧]</a><a href="../thread/5001-5100.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="5037.html">   5037 2002-01-28 10:41 ["gosikaku" &lt;gosikaku] フィールド名に変数を使った UPDATE の方法はどうすれば？</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5038.html">   5038 2002-01-28 11:02 ┣["gosikaku" &lt;gosikaku] フィールド名に変数を使った UPDATE  の方法はどうすれば？【自己解決】</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5039.html">   5039 2002-01-28 11:04 ┗["KAWAI,Takanori" &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5040.html">   5040 2002-01-28 11:19 　┗["gosikaku" &lt;gosikaku]                                     </a></span>
</pre>


</body></html>