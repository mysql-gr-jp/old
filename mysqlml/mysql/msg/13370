<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13370</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13369">[前]</a><a href="13371">[次]</a><a href="../list/13301-13400">[番号順一覧]</a><a href="../thread/13301-13400">[スレッド一覧]</a></p>
<p class="id">
mysql:13370
</p>
<div class="header">
<p>
From: &quot;megu&quot; &lt;&quot;megu&quot; &lt;samplemailsend@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 20 Sep 2006 17:19:59 +0900<br>
Subject: [mysql 13370] Re: 最善の検索方法を教えて下さい<br>

</p>
</div>
<div class="body">
<pre>
こんにちは
hataさんご回答ありがとうございます。
早速num0を追加してみました。
そこで

select num0 from テーブル名 group by num0 order by num1 desc;

とか

select distinct(num0) from テーブル名 order by num1 desc;

として検索してみたのですが、
なぜかnum1の小さいほうが先に検索されてきます。
基本的に使い方が間違っているのでしょうか。

初歩的な質問になってしまって申し訳ありません。

<span class="quote1">&gt; こんにちは</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ツリー型式の掲示板で、最新の発言を含むツリーから順にN件表示したい。</span>
<span class="quote1">&gt; というパターンであれば項目を１つ追加すればシンプル＆高速に出来ます。</span>
<span class="quote1">&gt; num1,num2が一度決まれば更新されない、と言う条件ですが。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 項目num0 を作り、そこに一番親の番号を入れます。MySQL4.0ではトリガが使えな</span>
いの
<span class="quote1">&gt; で、プログラム側で、</span>
<span class="quote1">&gt; ・新規レコード作成時には、自分のnum1をコピー</span>
<span class="quote1">&gt; ・子レコードとして追加時には親レコードのnum1をコピー</span>
<span class="quote1">&gt; するようにします。するとデータは下表の様になりますから、後は簡単ですね。</span>
<span class="quote1">&gt; +------+------+------+-----+</span>
<span class="quote2">&gt; | num0 | num1 | num2 | sub |</span>
<span class="quote1">&gt; +------+------+------+-----+</span>
<span class="quote2">&gt; | 1111 | 1111 |      |  A  |</span>
<span class="quote2">&gt; | 2222 | 2222 |      |  B  |</span>
<span class="quote2">&gt; | 1111 | 3333 | 1111 |  C  |</span>
<span class="quote2">&gt; | 2222 | 4444 | 2222 |  D  |</span>
<span class="quote2">&gt; | 1111 | 5555 | 3333 |  E  |</span>
<span class="quote2">&gt; | 1111 | 6666 | 3333 |  F  |</span>
<span class="quote1">&gt; +------+------+------+-----+</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; hata</span>
<span class="quote1">&gt;</span>

--------------------------------------
[10th Anniversary] special auction campaign now!
<a href="http://pr.mail.yahoo.co.jp/auction/">http://pr.mail.yahoo.co.jp/auction/</a>

</pre>
</div>
<p class="button"><a href="13369">[前]</a><a href="13371">[次]</a><a href="../list/13301-13400">[番号順一覧]</a><a href="../thread/13301-13400">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13365">  13365 2006-09-20 15:24 [&quot;megu&quot; &lt;samplemailse] 最善の検索方法を教えて下さい            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13366">  13366 2006-09-20 15:46 ┣[&quot;GotouYutaka&quot; &lt;yu.go]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13367">  13367 2006-09-20 16:00 ┃┗[&quot;megu&quot; &lt;samplemailse]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13368">  13368 2006-09-20 16:13 ┗[&lt;hata@xxxxxxxxxx&gt;   ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13369">  13369 2006-09-20 16:17 　┣[&lt;hata@xxxxxxxxxx&gt;   ]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="13370">  13370 2006-09-20 17:19 　┗[&quot;megu&quot; &lt;samplemailse]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13372">  13372 2006-09-21 08:59 　　┗[&lt;hata@xxxxxxxxxx&gt;   ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13373">  13373 2006-09-21 09:31 　　　┗[&quot;megu&quot; &lt;samplemailse]                                 </a></span>
</pre>
</body>
</html>
