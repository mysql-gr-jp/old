<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8184</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8183">[前]</a><a href="8185">[次]</a><a href="../list/8101-8200">[番号順一覧]</a><a href="../thread/8101-8200">[スレッド一覧]</a></p>
<p class="id">
mysql:8184
</p>
<div class="header">
<p>
From: &quot;いとうかつひこ&quot; &lt;&quot;いとうかつひこ&quot; &lt;katsuhiko@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 3 Sep 2003 10:42:32 +0900<br>
Subject: [mysql 08184] Re: auto_increment について<br>

</p>
</div>
<div class="body">
<pre>
こんにちは。
まさにこの通りのことを行おうと思っていました。
”シーケンス”をキーワードで探していたんですが、
なかなか探し出せなかったのですが、
MySQLではこういった方法が一般なんですね。
アドバイスありがとうございました。

<span class="quote2">&gt; &gt;smp_seqはauto_incrementなのですが、次の値はいくつか取得したいのですが</span>
<span class="quote2">&gt; &gt;”SELECT”文でどのようにすればよいのでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; その「次の値」を得たい理由は何ですか？</span>
<span class="quote1">&gt; 関連する複数テーブルへの同時INSERTという使い方のためでしたら、</span>
<span class="quote1">&gt; 1つINSERTを実行した直後にLAST_INSERT_ID()関数で生成された値を取得して、</span>
<span class="quote1">&gt; 次のINSERTでその値を使うのが定石です。</span>
<span class="quote1">&gt; たとえば、header_tableの「header_id」がauto incrementのprimary keyで、</span>
<span class="quote1">&gt; detail_tableにheader_tableとの関連を示すための「header_id」がある場合、</span>
<span class="quote1">&gt; こんな感じ。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; INSERT INTO header_table</span>
<span class="quote1">&gt;  (header_value) VALUES ( ... );</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; INSERT INTO detail_table</span>
<span class="quote1">&gt;   (header_id, detail_value) VALUES (LAST_INSERT_ID(), ... );</span>

=========================================
===
      Name    : Katsuhiko Ito
      HP        : <a href="http://www.garage110.net">http://www.garage110.net</a>
      E-mail   : katsuhiko@xxxxxxxxxx
                                                             ===
=========================================



</pre>
</div>
<p class="button"><a href="8183">[前]</a><a href="8185">[次]</a><a href="../list/8101-8200">[番号順一覧]</a><a href="../thread/8101-8200">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8182">   8182 2003-09-02 17:30 [&quot;いとうかつひこ&quot; &lt;ka] auto_increment について                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8183">   8183 2003-09-02 18:01 ┗[UNO Shintaro &lt;uno@xx]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="8184">   8184 2003-09-03 10:42 　┗[&quot;いとうかつひこ&quot; &lt;ka]                                     </a></span>
</pre>
</body>
</html>
