<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4222</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="4221.html">[前]</a><a href="4223.html">[次]</a><a href="../list/4201-4300.html">[番号順一覧]</a><a href="../thread/4201-4300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4222
</p>
<div class="header">
<p>
From: e-oohira &lt;e-oohira &lt;e-oohira@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 27 Aug 2001 00:00:01 +0900<br>
Subject: [mysql 04222] Re: <br>

</p>
</div>
<div class="body">
<pre>おおひらです。


<span class="quote1">&gt; Makefile の LOCAL_LIBS の行を以下のように編集して</span>
<span class="quote1">&gt; make し直せばいいでしょう。</span>
<span class="quote1">&gt;   LOCAL_LIBS = -lresolv</span>

MySQLをソースからインストールし、
mysql-rubyのMakefileを下記のようにすると無事できました。
ありがとうございました。


SHELL = /bin/sh

#### Start of system configuration section. ####

srcdir = .
topdir = $(rubylibdir)/$(arch)
hdrdir = $(rubylibdir)/$(arch)
VPATH = $(srcdir)

CC = gcc

CFLAGS   = -fPIC -g -O2 -I/sol/mysql/include/mysql
CPPFLAGS = -I$(hdrdir) -I$(prefix)/include
CXXFLAGS = $(CFLAGS)
DLDFLAGS =  -L$(rubylibdir)/$(arch) -L$(exec_prefix)/lib
-L/sol/mysql/lib/mysql -L/usr/local
/lib/ruby/1.6/sparc-solaris2.8
LDSHARED = $(CC) -Wl,-G
LIBPATH =

RUBY_INSTALL_NAME = ruby
RUBY_SO_NAME =
arch = sparc-solaris2.8
ruby_version = 1.6

prefix = $(DESTDIR)/usr/local
exec_prefix = $(prefix)
libdir = $(exec_prefix)/lib
rubylibdir = $(libdir)/ruby/$(ruby_version)
archdir = $(rubylibdir)/$(arch)
sitedir = $(prefix)/lib/ruby/site_ruby
sitelibdir = $(sitedir)/$(ruby_version)
sitearchdir = $(sitelibdir)/$(arch)

#### End of system configuration section. ####

LOCAL_LIBS = -lz -lm -lnsl -lsocket
LIBS = $(LIBRUBY_A) -lmysqlclient
OBJS = mysql.o

TARGET = mysql

LOCAL_LIBSにこれら全部必要なのかどうかもよくわかりませんが、
とりあえずRubyからMySQL使えるようになりました。

ところで、今回初めてＭＬに参加させてもらっているのですが、
どうも使い方を間違っているような気がします。
メールがスレッドに表示されないのですが・・・・
「返信」で送るんですよね。

-- 
e-oohira

</pre>
</div>
<p class="button"><a href="4221.html">[前]</a><a href="4223.html">[次]</a><a href="../list/4201-4300.html">[番号順一覧]</a><a href="../thread/4201-4300.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="4222.html">   4222 2001-08-27 00:00 [e-oohira &lt;e-oohira@x]                                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4226.html">   4226 2001-08-27 12:15 ┗[とみたまさひろ &lt;tomm] スレッド表示について                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4230.html">   4230 2001-08-27 15:22 　┗["tamuzin2" &lt;tamuzin@] 画像を表示                          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4232.html">   4232 2001-08-27 16:30 　　┗["Kawai,Takanori" &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4256.html">   4256 2001-08-30 14:57 　　　┗["tamuzin2" &lt;tamuzin@] Re: 画像を表示【解決】          </a></span>
</pre>


</body></html>