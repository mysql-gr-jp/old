<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15929</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15928">[前]</a><a href="15930">[次]</a><a href="../list/15901-16000">[番号順一覧]</a><a href="../thread/15901-16000">[スレッド一覧]</a></p>
<p class="id">
mysql:15929
</p>
<div class="header">
<p>
From: Watanabe Tomoyuki &lt;Watanabe Tomoyuki &lt;WATANABE.TOMOYUKI.2@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 15 Feb 2013 05:54:28 +0000<br>
Subject: [mysql 15929] Re: レプリケーション構築について（長文です）（質問）<br>

</p>
</div>
<div class="body">
<pre>
こんにちは。渡辺です。

「MySQLデータベース構築バイブル」は素晴らしい書籍で私も（自宅に）持っています。
今自宅にいないので確認できませんが、時期的にはおそらくMySQL5.0を前提に書かれているのではないかと推測します。
（先取りしていたとしてもMySQL5.1まで）


<span class="quote1">&gt; CHANGE MASTER TOがエラーになるので、古い解説本（MySQLデータベース構築バイブル，2008年7月21日初版）</span>
<span class="quote1">&gt;に「スレーブとして動作させるためには、最低限、次のオプションをmy.cnfに記述する必要があります」とあったので、敢えて入れてみました。</span>
<span class="quote1">&gt;my.iniファイルから削除しておいたほうがいいでしょうか？</span>

私の手元にある環境(MySQL5.5.29 Windows x64)では、master-host=をmy.iniに書いて起動させようとすると、
エラーで起動できませんでした。
unknown variable 'master-host=(略
そちらで起動できている理由はわかりませんが、削除しておく方が良いと思います。


<span class="quote1">&gt;Failed to open the relay log</span>

このキーワードで思い出したのですが、スレーブ側のmy.iniに relay-logの指定があるかを確認してください。
指定がないとCHANGE MASTER TOしたときに
“ERROR 1201 (HY000): Could not initialize master info structure; more error messages can be found in the MySQL error log”
と出るのは確認できました。

もしmy.iniに記述なければ、以下のように追記してください。

relay-log = relay-log
または
relay-log = &quot;C:\ProgramData\MySQL\MySQL Server 5.5\data\relay-log&quot;


<span class="quote1">&gt; tee コマンドで操作ログをファイルに書き出そうとしました。</span>

ごめんなさい、こちらは再現できなかったのでわかりませんでした。



Sent: Friday, February 15, 2013 10:50 AM
To: ml@xxxxxxxxxx
Subject: <a href="15928">[mysql 15928]</a> Re: レプリケーション構築について（長文です）（質問）

# 後略


</pre>
</div>
<div class="attach">
<h3 class="attachtitle">添付ファイル</h3>
<ul>
<li><a href="http://www.mysql.gr.jp/mysqlml/mysql/msg/15929/0/"> [text/html]</a>
</ul>
</div>
<p class="button"><a href="15928">[前]</a><a href="15930">[次]</a><a href="../list/15901-16000">[番号順一覧]</a><a href="../thread/15901-16000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15925">@ 15925 2013-02-13 16:39 [&quot;ochiai&quot; &lt;s.ochiai@x] レプリケーション構築について（長文です）（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15926">@ 15926 2013-02-14 09:14 ┗[Watanabe Tomoyuki &lt;W]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15928">@ 15928 2013-02-15 10:50 　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="15929">@ 15929 2013-02-15 14:54 　　┗[Watanabe Tomoyuki &lt;W]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15930">  15930 2013-02-15 15:02 　　　┣[&quot;yoku ts.&quot; &lt;yoku0825]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15932">@ 15932 2013-02-15 16:48 　　　┃┗[&quot;ochiai&quot; &lt;s.ochiai@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15933">  15933 2013-02-15 18:47 　　　┃　┗[&quot;yoku ts.&quot; &lt;yoku0825]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15936">@ 15936 2013-02-20 11:31 　　　┃　　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15937">  15937 2013-02-20 15:24 　　　┃　　　┗[&quot;yoku ts.&quot; &lt;yoku0825]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15941">  15941 2013-02-27 12:28 　　　┃　　　　┗[Watanabe Tomoyuki &lt;W]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15942">  15942 2013-02-27 13:03 　　　┃　　　　　┗[&quot;yoku ts.&quot; &lt;yoku0825]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15952">  15952 2013-03-13 15:17 　　　┃　　　　　　┗[ochiai &lt;s.ochiai@xxx] Re: レプリケーション構築について（長文です）（質問）_解決まとめ</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15953">  15953 2013-03-13 15:38 　　　┃　　　　　　　┗[&quot;yoku ts.&quot; &lt;yoku0825]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15954">  15954 2013-03-13 16:49 　　　┃　　　　　　　　┗[ochiai &lt;s.ochiai@xxx]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15931">@ 15931 2013-02-15 16:35 　　　┗[&quot;ochiai&quot; &lt;s.ochiai@x] RE:[mysql 15929] Re: レプリケーション構築について（長文です）（質問）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15934">@ 15934 2013-02-15 19:06 　　　　┗[Watanabe Tomoyuki &lt;W] RE: [mysql 15931] RE:[mysql 15929] Re: レプリケーション構築について（長文です）（質問）</a></span>
</pre>
</body>
</html>
