<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13771</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13770.html">[前]</a><a href="13772.html">[次]</a><a href="../list/13701-13800.html">[番号順一覧]</a><a href="../thread/13701-13800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13771
</p>
<div class="header">
<p>
From: ひら けん &lt;ひら けん &lt;hirai0213@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 27 Feb 2007 02:19:47 +0900<br>
Subject: [mysql 13771] 全DBを読み取りロックする方法について<br>

</p>
</div>
<div class="body">
<pre>
平井と申します。こんばんは。

先日、オンラインバックアップのトピックが上がっておりましたが、
その中でも利用されておりました、
FLUSH TABLES WITH READ LOCKについて、質問がございます。

FLUSH TABLES WITH READ LOCK文を実行する場合は、
   # mysql &lt;DATABASE名&gt;
といったように、あるDBへログインし、RELOAD権限(LOCK TABLESも必要？)があれ
ば、
ログインした&lt;DATABASE名&gt;に関してはLOCKが実行できるということを確認済みなので
すが、
『すべてのDB(の全テーブル)を読み取りロックする。』
には、どのようにすればよいのでしょうか？

当初は、
   # mysql -u root -e &quot;FLUSH TABLES WITH READ LOCK&quot;
と
   # mysql -u root -e &quot;UNLOCK TABLES&quot;
の間にバックアップをとればOKかなと思っていたのですが、
試したところセッションが切れるようで、実際にはLOCKがかかっておりませんでし
た。
(他からDBへログインして、表を更新できてしまいました。)

以上、何卒ご教授願いませんでしょうか。
よろしくお願い申し上げます。

平井

_________________________________________________________________
陽気で好奇心旺盛な鳥「Carol」をあなたのブログで飼ってみよう 
<a href="http://www.live-carol.jp/">http://www.live-carol.jp/</a> 


</pre>
</div>
<p class="button"><a href="13770.html">[前]</a><a href="13772.html">[次]</a><a href="../list/13701-13800.html">[番号順一覧]</a><a href="../thread/13701-13800.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="13771.html">  13771 2007-02-27 02:19 [ひら けん &lt;hirai0213] 全DBを読み取りロックする方法について    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13772.html">  13772 2007-02-27 07:34 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13773.html">  13773 2007-02-28 01:16 　┗[ひら けん &lt;hirai0213]                                     </a></span>
</pre>
</body>
</html>
