<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10691</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10690">[前]</a><a href="10692">[次]</a><a href="../list/10601-10700">[番号順一覧]</a><a href="../thread/10601-10700">[スレッド一覧]</a></p>
<p class="id">
mysql:10691
</p>
<div class="header">
<p>
From: &quot;m.sato&quot; &lt;&quot;m.sato&quot; &lt;sato.m48081@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 16 Dec 2004 23:53:31 +0900<br>
Subject: [mysql 10691] Re: ランダムアクセスがうまくいきません。<br>

</p>
</div>
<div class="body">
<pre>
谷口様
ありがとうございます。佐藤です。

<span class="quote1">&gt; 谷口です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; う〜ん。何故でしょうね...</span>
<span class="quote1">&gt; 私はPerl使いではないので試すことができないのが申し訳ないです。</span>

いえいえ、こちらこそお手数おかけしまして申し訳ありません。

<span class="quote1">&gt;</span>
<span class="quote1">&gt; で、Webでゴソゴソ調べていると</span>
<span class="quote1">&gt; <a href="../../../Manual/mysql-4.00.12/manual.ja_News.html#News-4.0.1">http://www.mysql.gr.jp/Manual/mysql-4.00.12/manual.ja_News.html#News-4.0.1</a></span>
<span class="quote1">&gt; に</span>
<span class="quote1">&gt; 「Changed RAND() initialisation so that RAND(N) and RAND(N+1) are more</span>
<span class="quote1">&gt; distinct. 」</span>
<span class="quote1">&gt; という記述がありました。4.0.1リリース時の修正内容ですが「シードが1違っ</span>
<span class="quote1">&gt; てもあまり差異が無かったので差がつくようにしました」と取れるのでは?</span>

そーですね・・・・・・・。
あまり、英語は自信ありませんが・・・・・・・・。

<span class="quote1">&gt;</span>
<span class="quote1">&gt; もし可能なら4.0.1以降のバージョンで試されてみてはいかがでしょう。</span>

レンタルサーバの都合があるのでバージョンアップ等は難しいと思います。

<span class="quote1">&gt; ($r=rand(99)*10なんてやっても良いのかな...)</span>

今、$r=rand(999)でテストしてます＾＾

<span class="quote1">&gt;</span>
<span class="quote1">&gt; 私が調べるのはこれが限界のようです。</span>
<span class="quote1">&gt; 後は識者の方にお願いします...m(_ _)m</span>
<span class="quote1">&gt; お力になれず申し訳ないです。</span>

本当に申し訳ありませんでした。

簡単に現状ですが、
本番サーバ（レンタルサーバ）にUPしてテストしていますが、
こちらの方が最悪で、
シード値を変更してもランダムにアクセスしてくてません。
（１０回やっても同じ順番にしか読み出してきません）
この原因をサーバ屋に聞きましたが、
”わかりません”って言われてしまいました・・・・・・・・。
ただ、シード値を入れない（SQLをRAND()に変更）
すると、ランダムにアクセスされます。
シード値が変更されているのは確認しているのですが・・・・・・・・。

もー少し調査します。

ありがとうございました。



</pre>
</div>
<p class="button"><a href="10690">[前]</a><a href="10692">[次]</a><a href="../list/10601-10700">[番号順一覧]</a><a href="../thread/10601-10700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="10675">  10675 2004-12-16 05:21 [&quot;m.sato&quot; &lt;sato.m4808] ランダムアクセスがうまくいきません。    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10676">  10676 2004-12-16 07:04 ┗[Kikuo Taniguchi &lt;ki-]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10681">  10681 2004-12-16 13:41 　┗[&quot;m.sato&quot; &lt;sato.m4808]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10682">  10682 2004-12-16 14:04 　　┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10683">  10683 2004-12-16 14:18 　　　┗[Kikuo Taniguchi &lt;ki-]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10684">  10684 2004-12-16 14:22 　　　　┣[Kikuo Taniguchi &lt;ki-]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10686">  10686 2004-12-16 15:23 　　　　┗[&quot;m.sato&quot; &lt;sato.m4808]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10687">  10687 2004-12-16 15:43 　　　　　┣[&quot;Makoto Goto&quot; &lt;gmako] mysql-5.0.0aでVIEWが作成できない</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10688">  10688 2004-12-16 16:03 　　　　　┃┗[SUGAWARA Hajime &lt;sug]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10689">  10689 2004-12-16 16:16 　　　　　┃　┗[&quot;Makoto Goto&quot; &lt;gmako]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10690">  10690 2004-12-16 23:34 　　　　　┗[Kikuo Taniguchi &lt;ki-]                             </a></span>
<span class="current">-&gt;&nbsp;<a href="10691">  10691 2004-12-16 23:53 　　　　　　┗[&quot;m.sato&quot; &lt;sato.m4808]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10692">  10692 2004-12-17 03:40 　　　　　　　┗[&quot;m.sato&quot; &lt;sato.m4808]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10696">  10696 2004-12-17 10:22 　　　　　　　　┗[杉本誠 &lt;sugimoto@xxx]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10698">  10698 2004-12-17 13:10 　　　　　　　　　┣[Masakazu Nakano &lt;n-m]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10699">  10699 2004-12-17 13:10 　　　　　　　　　┗[&quot;m.sato&quot; &lt;sato.m4808]                     </a></span>
</pre>
</body>
</html>
