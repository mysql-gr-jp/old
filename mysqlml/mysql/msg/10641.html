<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10641</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="10640.html">[前]</a><a href="10642.html">[次]</a><a href="../list/10601-10700.html">[番号順一覧]</a><a href="../thread/10601-10700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10641
</p>
<div class="header">
<p>
From: MORIYAMA Masayuki &lt;MORIYAMA Masayuki &lt;msyk@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 10 Dec 2004 01:20:53 +0900<br>
Subject: [mysql 10641] Re: 新規キャラクタセットの名称<br>

</p>
</div>
<div class="body">
<pre>森山です。

On Wed, 8 Dec 2004 22:52:57 -0800
"Shuichi Tamagawa" &lt;shuichi@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; ユーザー定義文字の部分については、未対応でした。</span>
<span class="quote1">&gt; cp932 -&gt; Unicodeのマッピングがファイルになっているものは</span>
<span class="quote1">&gt; どこかにありますでしょうか？</span>

テーブルで持つよりもコードを書いて変換した方がプログラムサイズの節約に
なると思いますが、次の Perl スクリプトでユーザ定義文字のみの cp932 -
Unicode 変換表を作成できます。
------------------------------------------------------------------------
#!/usr/bin/perl

foreach my $c1 (0xF0..0xF9) {
    foreach my $c2 (0x40..0x7E, 0x80..0xFC) {
        my $u = ($c1 - 0xF0) * 188 + ($c2 - 0x40 - (0x7E&lt;$c2)) + 0xE000;
        printf("0x%02X%02X\tU+%04X\n", $c1, $c2, $u);
    }
}
------------------------------------------------------------------------

<span class="quote2">&gt; &gt; (4) Windowsの日本語EUCと eucJP-ms</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt;   Windowsの日本語EUC は、Microsoft Windows Codepage 51932 というものな</span>
<span class="quote2">&gt; &gt;   のですが、これは一部、eucJP-ms とは互換性がありません。</span>
<span class="quote2">&gt; &gt;   LAMP(Linux,Apache,MySQL,PHP)環境のように Web ブラウザから受け取った</span>
<span class="quote2">&gt; &gt;   日本語を DB に格納する場合、HTML の文字コードに、eucJP-ms を使ってし</span>
<span class="quote2">&gt; &gt;   まうと、文字コード変換で文字化けが発生するので注意が必要となります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 対応策としてはどのようなことがあるでしょうか？</span>

Windows の文字セットを扱う必要がある場合は、HTML の文字コードは、CP932 
か UTF-8 にするという事が対策として考えられます。

UTF-8 は使用するブラウザによって「～」などで文字コード変換の際に文字化
が発生するので、HTML の文字コードとして最も安全なのは CP932 という事に
なるでしょう。

次のような構成であれば、Codepage 51932 との変換は必要なくなるので問題
を回避できるというわけです。

     HTML(web)                DB
  CP932 / UTF-8   ⇔ CP932 / eucJP-ms / UTF-8

∥森山 将之 (MORIYAMA Masayuki)
∥e-mail: msyk@xxxxxxxxxx


</pre>
</div>
<p class="button"><a href="10640.html">[前]</a><a href="10642.html">[次]</a><a href="../list/10601-10700.html">[番号順一覧]</a><a href="../thread/10601-10700.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="10615.html">  10615 2004-12-07 16:41 ["Shuichi Tamagawa" &lt;] 新規キャラクタセットの名称              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10617.html">  10617 2004-12-08 10:28 ┗[EBIHARA Yuichiro &lt;ui]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10625.html">  10625 2004-12-08 14:16 　┣[SATOH Fumiyasu &lt;fumi]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10635.html">  10635 2004-12-09 01:49 　┃┗[EBIHARA Yuichiro &lt;ui]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10636.html">  10636 2004-12-09 07:02 　┗[Shuichi Tamagawa &lt;sh]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10639.html">  10639 2004-12-09 13:05 　　┗[MORIYAMA Masayuki &lt;m]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10640.html">  10640 2004-12-09 15:52 　　　┗["Shuichi Tamagawa" &lt;]                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="10641.html">  10641 2004-12-10 01:20 　　　　┗[MORIYAMA Masayuki &lt;m]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10643.html">  10643 2004-12-10 09:38 　　　　　┗[Shuichi Tamagawa &lt;sh]                             </a></span>
</pre>


</body></html>