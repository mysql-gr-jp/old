<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12593</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12592.html">[前]</a><a href="12594.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12593
</p>
<div class="header">
<p>
From: Hirofumi Fujiwara &lt;Hirofumi Fujiwara &lt;fuji@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 18 Dec 2005 21:10:41 +0900 (JST)<br>
Subject: [mysql 12593] FUNCTIONの返す文字列型<br>

</p>
</div>
<div class="body">
<pre>藤原です

  MySQL5.0.16 を使用しておりますが、FUNCTIONで日本語の文字列を返そうと
  思っているのですが、CHARACTER SET の指定が有効になりません。


文字列 'こんにちは' を返す関数作ったら、以下のように動いたのですが、
CHARSETで文字列のCHARSETを調べたら、binaryでした。

mysql&gt; CREATE FUNCTION hello () RETURNS CHAR(50)
    -&gt; RETURN 'こんにちは';
Query OK, 0 rows affected (0.02 sec)
 
mysql&gt; SELECT hello();
+------------+
<span class="quote1">| hello()    |</span>
+------------+
<span class="quote1">| こんにちは |</span>
+------------+
1 row in set (0.00 sec)
 
mysql&gt; SELECT CHARSET(hello());
+------------------+
<span class="quote1">| CHARSET(hello()) |</span>
+------------------+
<span class="quote1">| binary           |</span>
+------------------+
1 row in set (0.00 sec)
 
mysql&gt;

mysql&gt; CREATE FUNCTION hello () RETURNS CHAR(50) CHARACTER SET eucjpms
    -&gt; RETURN 'こんにちは';
Query OK, 0 rows affected (0.00 sec)
 
mysql&gt; SELECT CHARSET(hello());
+------------------+
<span class="quote1">| CHARSET(hello()) |</span>
+------------------+
<span class="quote1">| binary           |</span>
+------------------+
1 row in set (0.01 sec)
 
mysql&gt;

ということで、eucjpmsの指定はエラーにならず受け付けられるのですが、
呼び出してキャラクタセットを見ると、やはり binary になってしまいます。

ちゃんとしたキャラクタセットを指定する方法はあるのでしょうか？

------------------------------------------------------------------
株式会社 タイムインターメディア       藤原 博文 fuji@xxxxxxxxxx
本社 160-0002 東京都新宿区坂町26-27 ＩＰＢビル    TEL 03-5362-9009
URL  <a href="http://www.timedia.co.jp/">http://www.timedia.co.jp/</a>                    FAX 03-5362-9008
地図 <a href="http://www.timedia.co.jp/company/map/">http://www.timedia.co.jp/company/map/</a>     新宿線曙橋駅徒歩5分
------------------------------------------------------------------
オープンソースWEB   <a href="http://oss.timedia.co.jp/">http://oss.timedia.co.jp/</a>   「MySQL日本語の旅」
------------------------------------------------------------------

</pre>
</div>
<p class="button"><a href="12592.html">[前]</a><a href="12594.html">[次]</a><a href="../list/12501-12600.html">[番号順一覧]</a><a href="../thread/12501-12600.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="12593.html">  12593 2005-12-18 21:10 [Hirofumi Fujiwara &lt;f] FUNCTIONの返す文字列型                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12617.html">  12617 2006-01-04 16:05 ┗[Hirofumi Fujiwara &lt;f]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12618.html">  12618 2006-01-04 18:50 　┗[Hirofumi Fujiwara &lt;f]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12629.html">  12629 2006-01-10 22:03 　　┗[Hirofumi Fujiwara &lt;f]                                   </a></span>
</pre>


</body></html>