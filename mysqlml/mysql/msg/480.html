<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:480</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="479.html">[前]</a><a href="481.html">[次]</a><a href="../list/401-500.html">[番号順一覧]</a><a href="../thread/401-500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:480
</p>
<div class="header">
<p>
From: 民斗 &lt;民斗 &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 28 Dec 1998 09:49:47 +0900<br>
Subject: [mysql 480] Re: クロス集計の方法<br>

</p>
</div>
<div class="body">
<pre>

民斗です。

元々のクロス集計というのは良く知りませんが、

[Subject: <a href="477.html">[mysql 477]</a> Re: クロス集計の方法]
[Date: Sat, 26 Dec 98 18:54:24 +0900  From:Satoshi Koiwa]

<span class="quote1">&gt; Oracle本には書いてあると思うんですが、</span>
<span class="quote1">&gt;      decode(Exp, A, B, C, D, Z)</span>
<span class="quote1">&gt; というように書きます。この関数を実行するとExpの結果がAだったらBが、Cだった</span>
<span class="quote1">&gt; らDが、それ以外だったらZを返します。Expは必須で、A以下は基本的には2個セット</span>
<span class="quote1">&gt; でいくつでも書けます(上限はあるんだろうけれど上限にあたったことはない)。A以</span>
<span class="quote1">&gt; 下が奇数個になった場合だけ、default値になります。偶数個で一連のセットの中に</span>
<span class="quote1">&gt; 該当する値がなかったらNULLが返る。</span>

この機能なら、MySQL では if を使うより、ELT と FIELD を使った方が
読みやすいかもしれません。

<span class="quote1">&gt;      decode(県コ－ド,  '01', '北海道',</span>
<span class="quote1">&gt;                          '02', '青森県',</span>
<span class="quote1">&gt;                          '03', '岩手県',</span>
<span class="quote1">&gt;                          '04', '宮城県',</span>
<span class="quote1">&gt;                          '13', '東京都</span>
<span class="quote1">&gt;                          'それ以外の府県')</span>

  ELT(FIELD(県コード, '01, '02', '03', '04', '13'),
    '北海道', '青森県', '岩手県', '宮城県', '東京都')

<span class="quote1">&gt;      decode(性別コ－ド, '1', '男', '2','女', '性別不明')</span>
<span class="quote1">&gt; とか、</span>
<span class="quote1">&gt;      decode(性別コ－ド, '1', '男', '女')</span>

  ELT(性別コード, '男', '女')

リスト内に無い場合は FIELD は 0 を、ELT は NULL を返すので、

  IFNULL(ELT(性別コード, '男', '女'), '性別不明')

とかもできます。

--
民斗 &lt;tommy@xxxxxxxxxx&gt;

</pre>
</div>
<p class="button"><a href="479.html">[前]</a><a href="481.html">[次]</a><a href="../list/401-500.html">[番号順一覧]</a><a href="../thread/401-500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="477.html">    477 1998-12-26 18:54 [Satoshi Koiwa &lt;koiwa] Re: クロス集計の方法                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="478.html">    478 1998-12-27 01:12 ┣[&lt;endot@xxxxxxxxxx&gt;  ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="479.html">    479 1998-12-28 07:44 ┣[Tamon Nomura &lt;tamon@]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="480.html">    480 1998-12-28 09:49 ┗[民斗 &lt;tommy@xxxxxxxx]                                       </a></span>
</pre>
</body>
</html>
