<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3787</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3786.html">[前]</a><a href="3788.html">[次]</a><a href="../list/3701-3800.html">[番号順一覧]</a><a href="../thread/3701-3800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3787
</p>
<div class="header">
<p>
From: Masanori Maeda &lt;Masanori Maeda &lt;masanori@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 19 Jun 2001 19:26:47 +0900<br>
Subject: [mysql 03787] リモートからの mysqld の停止と起動 or ロック<br>

</p>
</div>
<div class="body">
<pre>

はじめて投稿させて頂きます。前田と申します。よろしくお願い致します。

今、MySQLをインストールしているマシンのＤＢデータのディレクトリを、
別のマシンからcronにより定期的にrsyncでコピーしようとしているので
すが、その際、リモート側からrshなどでmysqldを停止させて再起動をさ
せる、又は全てのテーブルをロックしてからコピーを行おうと思ってい
るのですが、rshを使用してサーバを停止はできるものの、再びrshを使用
してサーバを起動(safe_mysqld)させると、コマンドラインへ戻ってこな
くなってしまいます。

ロックでも良いのですが、一度に全てのテーブルをロックして、解除する
というようなコマンドがあるのかどうか、マニュアルを読んでみてもわか
りませんでした。
mysqldumpというコマンドはあるのを見つけたのですが、これは全てのテ
ーブルをロックするオプションはあるものの、テキストに落とすツールの
ようで、テキストではサイズが膨らんでしまいそうなので、今回のような
ディレクトリ丸ごとコピーで済ませたく思っております。

ＤＢが動いているマシンは不定期に外部からのアクセスがあるため、コピ
ー中はサーバを止めておきたいと思っているのですが、良い方法を見つけ
ることが出来ませんでした。

初歩的な段階で勘違いをしているのかもしれないのですが、そもそも、上記
のような作業を行うことは可能なのかどうかや、一般的でないなどのご意見
などでも御教授願えればと投稿させて頂きました。

使用環境はTurboLinux Workstation 6.0 + MySQL Ver3.22.32です。
rsh, rsyncなどリモート系のコマンドは動くように設定してあります。

どうぞよろしくお願い致します。

--
前田雅紀(gun@xxxxxxxxxx)


</pre>
</div>
<p class="button"><a href="3786.html">[前]</a><a href="3788.html">[次]</a><a href="../list/3701-3800.html">[番号順一覧]</a><a href="../thread/3701-3800.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="3787.html">   3787 2001-06-19 19:26 [Masanori Maeda &lt;masa] リモートからの mysqld の停止と起動 or ロック</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3789.html">   3789 2001-06-19 22:42 ┣[松嶋祥文 &lt;mats@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3790.html">   3790 2001-06-19 22:52 ┃┣[Shuhei Tomita &lt;shuhe]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3792.html">   3792 2001-06-20 01:43 ┃┗[Masanori Maeda &lt;gun@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3791.html">   3791 2001-06-19 23:55 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3795.html">   3795 2001-06-20 15:35 ┗[&quot;Masato OHTA&quot; &lt;heiwa]                                       </a></span>
</pre>
</body>
</html>
