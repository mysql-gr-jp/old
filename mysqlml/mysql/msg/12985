<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12985</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12984">[前]</a><a href="12986">[次]</a><a href="../list/12901-13000">[番号順一覧]</a><a href="../thread/12901-13000">[スレッド一覧]</a></p>
<p class="id">
mysql:12985
</p>
<div class="header">
<p>
From: &lt;kawaguchi@xxxxxxxxxx&gt;<br>
Date: Tue, 16 May 2006 02:49:48 +0900<br>
Subject: [mysql 12985] FC4へのインストール：makeでのみエラー<br>

</p>
</div>
<div class="body">
<pre>
お世話になっております。川口と申します。

FedoraCore4 に MySQLをインストールしようとしていますが、
configureでエラーが発生しませんが、
その後のmakeでエラーが発生してしまいます。

かれこれ2，3日同じ問題と格闘し続けていますが、
技術不足でどうにもこうにも進みません・・・。


問題箇所がおわかりの方、おられますでしょうか？
大変お手数ですが、ご指摘いただけますと非常に助かります。
どうぞよろしくお願いします。


 ---- ---- ---- ---- ---- ---- ---- ---- ---- ----
MySQLをソースからインストールしようとする前に、
yumでインストールしていたMySQLを削除しました。

 # yum remove mysql
 Removing:
  mysql                   i386       4.1.16-1.FC4.1   installed
 Removing for dependencies:
  mysql-devel             i386       4.1.16-1.FC4.1   installed
  mysql-server            i386       4.1.16-1.FC4.1   installed
  perl-DBD-MySQL          i386       2.9007-1         installed
 Is this ok [y/N]: y

 ---- ---- ---- ---- ---- ---- ---- ---- ---- ----
○環境
・FedoraCore4 (2.6.15-1.1833)
・Apache/1.3.34 
・PHP 4.4.2
・mysql-4.0.26.tar.gz
　　他には、mysql-3.23.58/mysql-4.1.16 を試しました

 ---- ---- ---- ---- ---- ---- ---- ---- ---- ----
○MySQL configure

 # make clean
 
 # ./configure \
   --prefix=/usr/local/mysql \
   --with-charset=ujis \
   -with-extra-charsets=all \
   --with-mysqld-user=mysql \
   --disable-dependency-tracking \
   --without-bench \
   --enable-assembler \
   --mandir=/usr/share/man \
   --with-pthread \
   --with-named-thread-libs=-lpthread

 ---- ---- ---- ---- ---- ---- ---- ---- ---- ----
○configureログ
# 末尾から20行ほど

 config.status: creating tools/Makefile
 config.status: creating tests/Makefile
 config.status: creating Docs/Makefile
 config.status: creating support-files/Makefile
 config.status: creating support-files/MacOSX/Makefile
 config.status: creating mysql-test/Makefile
 config.status: creating netware/Makefile
 config.status: creating include/mysql_version.h
 config.status: creating config.h
 config.status: config.h is unchanged
 config.status: executing depfiles commands
 config.status: executing default commands
 
 MySQL has a Web site at <a href="http://www.mysql.com/">http://www.mysql.com/</a> which carries details on the
 latest release, upcoming features, and other information to make your
 work or play with MySQL more productive. There you can also find
 information about mailing lists for MySQL discussion.
 
 Remember to check the platform specific part of the reference manual for
 hints about installing MySQL on your platform. Also have a look at the
 files in the Docs directory.
 
 Thank you for choosing MySQL!
 
 [root@local mysql-4.0.26]#


 ---- ---- ---- ---- ---- ---- ---- ---- ---- ----
○その後のmakeログ
# 末尾から20行ほど

 /include -I.     -O3 -DDBUG_OFF    -fno-implicit-templates -fno-exceptions -fno-rtti -c -o repl_failsafe.o repl_failsafe.cc
 item_sum.h: In member function 'virtual void Item_sum_avg::fix_length_and_dec()':
 item_sum.h:239: 警告: minimum/maximum operators are deprecated
 item_sum.h: In member function 'virtual void Item_sum_std::fix_length_and_dec()':
 item_sum.h:285: 警告: minimum/maximum operators are deprecated
 /bin/sh ../libtool 〜中略〜 lnsl -lm  -lpthread
 mkdir .libs
 g++ -O3 -DDBUG_OFF 〜中略〜 -lcrypt -lnsl -lm -lpthread
 sql_class.o(.text+0x1c7f): In function `THD::THD()':
 sql_class.cc: undefined reference to `my_fast_mutexattr'
 sql_class.o(.text+0x22af): In function `THD::THD()':
 sql_class.cc: undefined reference to `my_fast_mutexattr'
 mysqld.o(.text+0x36c9): In function `main':
 mysqld.cc: undefined reference to `my_fast_mutexattr'
 mysqld.o(.text+0x3740):mysqld.cc: undefined reference to `my_fast_mutexattr'
 mysqld.o(.text+0x3751):mysqld.cc: undefined reference to `my_fast_mutexattr'
 mysqld.o(.text+0x3762):mysqld.cc: more undefined references to `my_fast_mutexattr' follow
 collect2: ld returned 1 exit status
 make[4]: *** [mysqld] エラー 1
 make[4]: Leaving directory `/usr/src/mysql-4.0.26/sql'
 make[3]: *** [all-recursive] エラー 1
 make[3]: Leaving directory `/usr/src/mysql-4.0.26/sql'
 make[2]: *** [all] エラー 2
 make[2]: Leaving directory `/usr/src/mysql-4.0.26/sql'
 make[1]: *** [all-recursive] エラー 1
 make[1]: Leaving directory `/usr/src/mysql-4.0.26'
 make: *** [all] エラー 2
 [root@local mysql-4.0.26]#

 ---- ---- ---- ---- ---- ---- ---- ---- ---- ----
○その他
 # ps ax | grep mysql
 (なし)

 # rpm -qa | grep mysql
 (なし)

以上です。よろしくお願いします。

</pre>
</div>
<p class="button"><a href="12984">[前]</a><a href="12986">[次]</a><a href="../list/12901-13000">[番号順一覧]</a><a href="../thread/12901-13000">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="12985">  12985 2006-05-16 02:49 [&lt;kawaguchi@xxxxxxxxx] FC4へのインストール：makeでのみエラー   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12994">  12994 2006-05-17 18:49 ┗[&lt;kawaguchi@xxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13011">  13011 2006-05-19 23:26 　┗[&lt;kawaguchi@xxxxxxxxx]                                     </a></span>
</pre>
</body>
</html>
