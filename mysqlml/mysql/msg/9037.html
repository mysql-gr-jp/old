<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9037</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="9036.html">[前]</a><a href="9038.html">[次]</a><a href="../list/9001-9100.html">[番号順一覧]</a><a href="../thread/9001-9100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:9037
</p>
<div class="header">
<p>
From: &quot;ryujinmaru0403@xxxxxxxxxx&quot; &lt;&quot;ryujinmaru0403@xxxxxxxxxx&quot; &lt;ryujinmaru0403@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 22 Mar 2004 20:55:13 +0900 (JST)<br>
Subject: [mysql 09037] レプリケーション時のエラーメッセージ <br>

</p>
</div>
<div class="body">
<pre>
中村と申します。

掲題の件、以下の環境でMySQLのレプリケーションを
行っています。
OS:RedHat AS 2.1(Master,Slaveともに）
MySQL:3.23.58(Master,Slaveともに）

レプリケーションを行い、2日くらいして以下の
メッセージがログに出力されレプリケーションが
止まってしまいました。
Error reading packet from server: 
log event entry exceeded max_allowed_packet - 
increase max_allowed_packet on
master(server_errno=65535)

max_allowed_packetを増やせとのメッセージなので/etc/my.cnf
に
set-variable = max_allowed_packet = 16M
(3.23では16Mが最大値なので）
を記述しました。ですが、メッセージは出続けます。
結局、もう一度最初からレプリケーションしてこの場を
しのぎましたがまた数日後に起こるかと思うと不安です。
ちなみにこの時何をしてかと言うと、
テキストファイルをmysqlimportで表に流し込むという
作業をしていましたが、そのテキストファイルは1つ
数100kbyteという小さなものということです。
そのファイルをいくつも（しかもtruncateを使ってデータを
削除して何回も）流し込んでいたそうです。

そこで皆様にお聞きしたいのは
1.Master→Slave間のレプリケーションと
max_allowed_packetの関係
#レプリケーション時slave側はどこまでを1つのパケットと
#して見ているのか

２．mysqlimportとレプリケーションの関係
#mysqlimportでダイレクトロードインサート（？）された
#データはslaveにはどのような処理で入力されるのか
の2点です。MySQL経験豊富な皆様のお知恵をお貸し下さい。

以上です。宜しくお願いいたします。

__________________________________________________
Do You Yahoo!?
<a href="http://bb.yahoo.co.jp/">http://bb.yahoo.co.jp/</a>


</pre>
</div>
<p class="button"><a href="9036.html">[前]</a><a href="9038.html">[次]</a><a href="../list/9001-9100.html">[番号順一覧]</a><a href="../thread/9001-9100.html">[スレッド一覧]</a></p>
</body>
</html>
