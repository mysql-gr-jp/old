<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13423</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13422">[前]</a><a href="13424">[次]</a><a href="../list/13401-13500">[番号順一覧]</a><a href="../thread/13401-13500">[スレッド一覧]</a></p>
<p class="id">
mysql:13423
</p>
<div class="header">
<p>
From: &quot;fujita&quot; &lt;&quot;fujita&quot; &lt;t-fujita@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 20 Oct 2006 14:26:19 +0900<br>
Subject: [mysql 13423] FEDERATEDテーブルの挙動について<br>

</p>
</div>
<div class="body">
<pre>
藤田と申します。いつも参考にさせていただいております。


今回FEDERATEDテーブルを試してみて疑問点がありましたので質問させて頂きます。
Server1・2と二つのサーバーを用意して、

（1）Server1にテーブル(MyISAM)を作成
（2）Server2に（1）で作成したテーブルにリンクしたFEDERATEDテーブルを作成

しました。(データベース名、テーブル名はどちらも同じ）

ここでServer1にデータを70万件弱入れてServer2にSELECT COUNT(*) FROM hogeと
したところ、結果が返ってくるのに20秒強かかりました。
そこでもう一回Server2にSQL発行し、Server1でSHOW PROCESSLISTしたところ、
Server2からServer1へはSELECT Field1,Field2,..... FROM hoge　というSQLを発行
して
全件データを持ってきているようです。

これですと実運用では数千万件レベルのデータを入れるので使えないのですが、
素直にCOUNT(*)できるように回避できる方法はありますでしょうか？


環境
Server1
OS:Win2003 Server SP1
バージョン:5.0.26-max-nt
Server2
OS:Win2003 Server　ｘ64
バージョン:5.0.26-max-nt

+++++++++++++++++++++++++++
藤田　健
mailto:t-fujita@xxxxxxxxxx



</pre>
</div>
<p class="button"><a href="13422">[前]</a><a href="13424">[次]</a><a href="../list/13401-13500">[番号順一覧]</a><a href="../thread/13401-13500">[スレッド一覧]</a></p>
</body>
</html>
