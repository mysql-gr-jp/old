<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13943</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13942.html">[前]</a><a href="13944.html">[次]</a><a href="../list/13901-14000.html">[番号順一覧]</a><a href="../thread/13901-14000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13943
</p>
<div class="header">
<p>
From: &quot;TAMURA Kenshi&quot; &lt;&quot;TAMURA Kenshi&quot; &lt;kenshi0815@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 6 May 2007 02:52:19 +0900<br>
Subject: [mysql 13943] Re: MySQL5.032でリモート接続ができない<br>

</p>
</div>
<div class="body">
<pre>
中村様
回答ありがとうございます。

<span class="quote2">&gt;&gt; ■マシン</span>
<span class="quote2">&gt;&gt; Debian Linux 4.0(etch)</span>
<span class="quote2">&gt;&gt; MySQL 5.0.32</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ■現象</span>
<span class="quote2">&gt;&gt; リモート接続できない。（LAN内）</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ■原因</span>
<span class="quote2">&gt;&gt; 4.1系よりパッケージにてアップグレードを行った。</span>
<span class="quote1">&gt; port（3306）は開いてますよね？</span>

DBにはLAN内からのアクセスだけ可能として、
外部からのアクセスは不要としていましたので、
port（3306）は開いてはいませんでした。

ただ、ご指摘にありましたので、開いた状態で接続しましたが、
問題は解決できませんでした。

<span class="quote2">&gt;&gt; ■現象の詳細</span>
<span class="quote2">&gt;&gt; ・アップグレード前まではリモート接続が行われていた。</span>
<span class="quote2">&gt;&gt; ・以下のGRANT宣言により権限を与えている。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; GRANT ALL PRIVILEGES ON *.* TO spadmin@localhost IDENTIFIED BY</span>
<span class="quote3">&gt;&gt;&gt; 'passwd' WITH GRANT OPTION;</span>
<span class="quote3">&gt;&gt;&gt; GRANT ALL PRIVILEGES ON *.* TO spadmin@&quot;%&quot; IDENTIFIED BY 'passwd' WITH</span>
<span class="quote3">&gt;&gt;&gt; GRANT OPTION;</span>
<span class="quote1">&gt; リモート接続の際のパスワードに間違いはありませんか？</span>

改めて確認しましたが、誤りはないと思います。

<span class="quote2">&gt;&gt; ・リモート接続を行うと以下のエラーメッセージ</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ERROR 1045:Access denied for user 'spadmin@'192.168.11.24' (using</span>
<span class="quote2">&gt;&gt; password: YES)</span>
<span class="quote2">&gt;&gt; ※DBのプライベートアドレスは192.168.11.4だが何故か末尾が異なっている。</span>
<span class="quote1">&gt; アクセス元の端末 IP が 24 という事かな？</span>
<span class="quote1">&gt; ※すいません、確認してませんが．．．</span>

説明不足で申し訳ありません。
現在DBが動いているサーバーは端末（192.168.11.2）とは別のマシンとなり、
IPが192.168.11.4となります。
よって端末のIPではありません。

ちなみに、現在のLAN内のマシンには、
&quot;192.168.11.24&quot;　を持つマシンは存在しません。


<span class="quote2">&gt;&gt; ■その他</span>
<span class="quote2">&gt;&gt; 現在proftpdが起動しないため、サーバーにFTP接続ができない状態。</span>
<span class="quote1">&gt; MySQL のみをアップデートして FTP が終了してしまったんですか？</span>

Debian3.0　→ 4.0 へアップグレードを行ったときに、
mysqlと同様にproftpdもアップグレードされ、
その後起動できなくなりました。
どうやらIPV6の設定が有効となっているためのようです。

起動コマンドを実行すると、

IPv6 getaddrinfo '[マシン名]' error: Name or service not known
[マシン名] - fatal: Socket operation on non-socket

とエラーが表示されてしまいます。
設定ファイル（/etc/modules.conf）を確認しても、
alias net-pf-10 off # IPv6
となっているため、IPv6は無効と思われるのですが、
起動時に有効と見なされているようです。
※本MLで取扱う問題と異なってしまい申し訳ありません。

他に不明な点がありましたら再度ご報告します。
以上、よろしくお願いします。



</pre>
</div>
<p class="button"><a href="13942.html">[前]</a><a href="13944.html">[次]</a><a href="../list/13901-14000.html">[番号順一覧]</a><a href="../thread/13901-14000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13941.html">  13941 2007-05-05 18:51 [&quot;TAMURA Kenshi&quot; &lt;ken] MySQL5.032でリモート接続ができない      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13942.html">  13942 2007-05-06 01:12 ┗[Mitsutoshi Nakamura ]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="13943.html">  13943 2007-05-06 02:52 　┗[&quot;TAMURA Kenshi&quot; &lt;ken]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13944.html">  13944 2007-05-06 10:39 　　┗[goungoun &lt;gounx2@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13945.html">  13945 2007-05-06 11:48 　　　┗[&quot;TAMURA Kenshi&quot; &lt;ken]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13946.html">  13946 2007-05-06 21:14 　　　　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13947.html">  13947 2007-05-07 23:37 　　　　　┣[&quot;TAMURA Kenshi&quot; &lt;ken]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13948.html">  13948 2007-05-07 23:42 　　　　　┗[&quot;TAMURA Kenshi&quot; &lt;ken]                             </a></span>
</pre>
</body>
</html>
