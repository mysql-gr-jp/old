<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9504</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="9503.html">[前]</a><a href="9505.html">[次]</a><a href="../list/9501-9600.html">[番号順一覧]</a><a href="../thread/9501-9600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:9504
</p>
<div class="header">
<p>
From: yyuji &lt;yyuji &lt;yyuji@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 01 Jun 2004 13:18:43 +0900<br>
Subject: [mysql 09504] Re: UTF-8でのUpdate<br>

</p>
</div>
<div class="body">
<pre>山口です。

とりあえず、

mysql-connector-java-3.1.1-alpha-bin.jar

では試したのですが、結果は同じでした。

MySQL 4.1.2　は試してみます。


"HIROSE, Masaaki" &lt;hirose31@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt;ひろせといいます</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;on "<a href="09499.html">[mysql 09499]</a> Re: UTF-8でのUpdate"</span>
<span class="quote1">&gt;   &lt;200406010138.KAA09632@xxxxxxxxxx&gt;</span>
<span class="quote1">&gt;at Tue, 01 Jun 2004 10:38:49 +0900</span>
<span class="quote1">&gt;   yyuji &lt;yyuji@xxxxxxxxxx&gt; wrote:</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt; useUnicode=true&amp;characterEncoding=UTF8</span>
<span class="quote2">&gt;&gt; useUnicode=true&amp;characterEncoding=UTF-8</span>
<span class="quote2">&gt;&gt; </span>
<span class="quote2">&gt;&gt; ともに     </span>
<span class="quote2">&gt;&gt; Illegal mix of collations </span>
<span class="quote2">&gt;&gt; になっています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;ドライバをバージョンアップしてみるとか、試しに 3.1 系のドライバを使っ</span>
<span class="quote1">&gt;てみるとか。</span>
<span class="quote1">&gt;# 3.0.12 でいろいろ修正が入っているみたいですし。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;それでもダメならば、根本的な解決ではありませんが、</span>
<span class="quote1">&gt;<a href="http://dev.mysql.com/doc/mysql/ja/Charset.html">http://dev.mysql.com/doc/mysql/ja/Charset.html</a></span>
<span class="quote1">&gt;を一通り読んで、文字列リテラルでキャラクタセットを明示してみるとか。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;# MySQL 4.1.2 にしてみるとか…</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;                                  //</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;話は変わりますが、</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt; update tbl_test set tx_name = '" + buf_name.toString() + "' </span>
<span class="quote2">&gt;&gt;        where TX_UID = '" + uid + "';</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;PreparedStatement を使えない理由があるのかもしれませんし、uid がどんな</span>
<span class="quote1">&gt;ものかわかりませんが、uid の値に「'」が含まれていたらどうなるんだろうと</span>
<span class="quote1">&gt;か、「foo' or TX_UID != '」だったらどうなるんだろうとか…</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;SQL injection 対策をしているのかもしれませんが、老婆心ながら心配です。</span>
<span class="quote1">&gt;<a href="http://www.ipa.go.jp/security/awareness/vendor/programming/a02_01.html">http://www.ipa.go.jp/security/awareness/vendor/programming/a02_01.html</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;ではでは</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;-- </span>
<span class="quote1">&gt;ひろせ</span>
<span class="quote1">&gt;<a href="http://www.irori.org/">http://www.irori.org/</a></span>
<span class="quote1">&gt;</span>


</pre>
</div>
<p class="button"><a href="9503.html">[前]</a><a href="9505.html">[次]</a><a href="../list/9501-9600.html">[番号順一覧]</a><a href="../thread/9501-9600.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="9484.html">   9484 2004-05-31 18:41 [yyuji &lt;yyuji@xxxxxxx] UTF-8でのUpdate                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9485.html">   9485 2004-05-31 19:16 ┣[&lt;yasuyuki@xxxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9486.html">   9486 2004-05-31 19:35 ┃┗[yyuji &lt;yyuji@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9487.html">   9487 2004-05-31 20:01 ┃　┗[&lt;yasuyuki@xxxxxxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9499.html">   9499 2004-06-01 10:38 ┃　　┗[yyuji &lt;yyuji@xxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9503.html">   9503 2004-06-01 12:59 ┃　　　┗["HIROSE, Masaaki" &lt;h]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="9504.html">   9504 2004-06-01 13:18 ┃　　　　┣[yyuji &lt;yyuji@xxxxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9505.html">   9505 2004-06-01 13:35 ┃　　　　┗["TAKAHASHI, Tomohiro]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9500.html">   9500 2004-06-01 11:18 ┗[ML account &lt;ml@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9506.html">   9506 2004-06-01 13:41 　┗[yyuji &lt;yyuji@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9510.html">   9510 2004-06-01 16:51 　　┣[&lt;yasuyuki@xxxxxxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9513.html">   9513 2004-06-01 19:56 　　┃┗[yyuji &lt;yyuji@xxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9516.html">   9516 2004-06-01 20:25 　　┃　┗[&lt;yasuyuki@xxxxxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9524.html">   9524 2004-06-02 18:07 　　┃　　┗[yyuji &lt;yyuji@xxxxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9511.html">   9511 2004-06-01 17:16 　　┗[ML account &lt;ml@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9514.html">   9514 2004-06-01 19:58 　　　┣[yyuji &lt;yyuji@xxxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9515.html">   9515 2004-06-01 20:22 　　　┗[yyuji &lt;yyuji@xxxxxxx]                                 </a></span>
</pre>


</body></html>