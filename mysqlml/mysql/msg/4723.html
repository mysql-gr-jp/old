<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4723</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4722.html">[前]</a><a href="4724.html">[次]</a><a href="../list/4701-4800.html">[番号順一覧]</a><a href="../thread/4701-4800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:4723
</p>
<div class="header">
<p>
From: &quot;f.t&quot; &lt;&quot;f.t&quot; &lt;fujiyama@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 27 Nov 2001 11:49:27 +0900<br>
Subject: [mysql 04723] Re: PHP を使ったデータベースで配列による選択（セレクト）<br>

</p>
</div>
<div class="body">
<pre>
fujiyamaです。

Tom Mishima &lt;tmishima@xxxxxxxxxx&gt; wrote(Tue, 27 Nov 2001 09:26:43 +0900):
 
<span class="quote1">&gt; &lt;?</span>
<span class="quote1">&gt; num = mysql_num_rows ($result);</span>
<span class="quote1">&gt; sql=&quot;select * from table where&quot;</span>
<span class="quote1">&gt; for ($i=0; $i&lt;$num; $i++) {</span>
<span class="quote1">&gt;   if ($i!=0)</span>
<span class="quote1">&gt;     sql = sql + &quot; or&quot;;</span>
<span class="quote1">&gt;   sql = sql + &quot; id=&quot;$check[$i];</span>
<span class="quote1">&gt; }</span>
<span class="quote1">&gt; ?&gt;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 最近PHPをやっていないのと、</span>

sql .=&quot;or id='$check[$i]'&quot;;
でしょうね。後for文に入る前にsql .=&quot;1=1&quot;とかが必要。
多分、多紀さんのようにinで書いた方がスマートだとは思います。

＃ひょっとして最近やっているのはJavaScript系？

＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊＊元
<span class="quote2">&gt;&gt; たとえば、配列のデータを渡されたｐｈｐのページで下記のようにする</span>
<span class="quote2">&gt;&gt; と、</span>
<span class="quote2">&gt;&gt; </span>
<span class="quote2">&gt;&gt; &lt;?</span>
<span class="quote2">&gt;&gt; num = mysql_num_rows ($result);</span>
<span class="quote2">&gt;&gt; for ($i=0; $i&lt;$num; $i++) {</span>
<span class="quote2">&gt;&gt; print &quot;$check[$i]&lt;br&gt;&quot;;</span>
<span class="quote2">&gt;&gt; ?&gt;</span>

<span class="quote2">&gt; &gt; check[$i] は、下記と同じ意味だと理解しているのですが、</span>
<span class="quote2">&gt; &gt; select * from table where id= （'check1' or 'check2' or 'check3'</span>
<span class="quote2">&gt; &gt; .......）</span>

とはなりませんね。
$checkという配列のキーが$iの要素は一つなので。

それより、この$checkという配列がどのように作られているのかが謎なんですが？？
あと、mysqlに発行しているSQLも謎。$resultにはどんな結果が入っているのや
ら？

<span class="quote1">&gt; 何をしたいかというと、データを表形式に一覧表示して、チェックボック</span>
<span class="quote1">&gt; スからチェックをつけたものを一度に削除したり、データの更新したりし</span>
<span class="quote1">&gt; たいと考えています。</span>
<span class="quote1">&gt; そこで、複数チェックがついたものは、配列でデータを引き渡しすること</span>
<span class="quote1">&gt; にしました。</span>

１：表の元になるデータがMySQLに入っている。
↓
２：それをPHPを使って一覧表示する（示されたPHPの部分）。
↓
３：一覧表示画面のフォームでチェックをする。
↓
４：更新や削除ボタンで送信する。

ということだと勝手に理解しましたが、だと３，４の部分が出てないですね。

&lt;form action=update.php&gt;
&lt;input type=checkbox name=check_num[] value=$check[0]&gt;$check[0]
&lt;input type=checkbox name=check_num[] value=$check[1]&gt;$check[1]
...
&lt;input type=submit value=&quot;update&quot;&gt;
&lt;input type=submit value=&quot;delete&quot;&gt;
&lt;/form&gt;
なら分かりやすいですが。
で、
$set =&quot;yyy=$check_num[$k]&quot;;
for(チェックボックス分)
if($check_num[$k]){
	$set .=&quot;, yyy=$check_num[$k]&quot;;
}

…ちょっと効率悪いか(~~;


-- よろしくお願いします
f.t &lt;fujiyama@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="4722.html">[前]</a><a href="4724.html">[次]</a><a href="../list/4701-4800.html">[番号順一覧]</a><a href="../thread/4701-4800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4718.html">   4718 2001-11-27 01:03 [&quot;Hiroshi Ozeki&quot; &lt;oze] PHP を使ったデータベースで配列による選択（セレクト）</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4719.html">   4719 2001-11-27 02:00 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4720.html">   4720 2001-11-27 02:26 ┃┗[&quot;Hiroshi Ozeki&quot; &lt;oze]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4721.html">   4721 2001-11-27 09:26 ┃　┗[Tom Mishima &lt;tmishim]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="4723.html">   4723 2001-11-27 11:49 ┃　　┗[&quot;f.t&quot; &lt;fujiyama@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4722.html">   4722 2001-11-27 10:44 ┗[Taki.MR &lt;taki@xxxxxx]                                       </a></span>
</pre>
</body>
</html>
