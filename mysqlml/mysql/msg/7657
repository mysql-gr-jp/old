<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7657</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7656">[前]</a><a href="7658">[次]</a><a href="../list/7601-7700">[番号順一覧]</a><a href="../thread/7601-7700">[スレッド一覧]</a></p>
<p class="id">
mysql:7657
</p>
<div class="header">
<p>
From: くろ たろう &lt;くろ たろう &lt;kuro_taro_aki@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 7 May 2003 08:38:04 +0900 (JST)<br>
Subject: [mysql 07657] &lt;JDBC&gt; クエリーで関数を使うには？ <br>

</p>
</div>
<div class="body">
<pre>
くろたろうです。宇野さん、軽部さん、ご返答ありがとうござ
います。説明不足な内容で申し訳ありませんでした。今回は、
関数を使うとSQLのシンタックスエラーが出るということが問
題でした。以下に詳細を記します。どうか、よろしくお願いし
ます。（実際のソースは最後に記載しています。）

＜SQL文とシンタックスエラーの文面＞
１：select tan_odds from master;を実行すると、問題なく動
く。
２：select sum(tan_odds) from master;を実行すると、以下
のエラーが発生する。

 (実際のエラー文)
java.sql.SQLException: mysql exception: (You have an
error in your SQL syntax. Check the manual that
corresponds to your MySQL server version for the right
syntax to use near '' at line 1
        at gwe.sql.gweMysqlConnection.executeQuery(Unknown
Source)
        at gwe.sql.gweMysqlStatement.executeQuery(Unknown
Source)
        at
gwe.sql.gweMysqlDatabaseMetaData.getPrimaryKeys(Unknown
Source)
        at gwe.sql.gweMysqlResultSetBuffer.&lt;init&gt;(Unknown
Source)
        at gwe.sql.gweMysqlStatement.executeQuery(Unknown
Source)
        at QueryExe.getResultSet(QueryExe.java:41)
        at SelectData.&lt;init&gt;(SelectData.java:37)
        at SelectData.main(SelectData.java:76)
mysql can not get ResultSet and MetaData!! : mysql
exception: (You have an error in your SQL syntax.  Check
the manual that corresponds to your MySQL server version
for the right syntax to use near '' at line 1
odds_sum:2.0

（実際のソース）
import java.sql.*;
class Test{
　//constructor
  Test(){
    try{
      //DB接続とStatement生成は省略
　　　String sql = new String(&quot;select sum(tan_odds)　　
　　　　　　　　　　　　from master where raceNo=1;&quot;);　
　　ResultSet rset = stmt.executeQuery(sql);　　　　   
while(rset.next()){
　　　  float odds_sum = rset.getFloat(1);
        System.out.println(&quot;odds_sum:&quot; + odds_sum);　    }
　　}catch(Exception e){			e.printStackTrace();
    }
  }
  //mainmethod
  public static void main(String[] args){
    Test t = new Test();
  }
}



__________________________________________________
Do You Yahoo!?
Yahoo! BB is Broadband by Yahoo!
<a href="http://bb.yahoo.co.jp/">http://bb.yahoo.co.jp/</a>


</pre>
</div>
<p class="button"><a href="7656">[前]</a><a href="7658">[次]</a><a href="../list/7601-7700">[番号順一覧]</a><a href="../thread/7601-7700">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="7657">   7657 2003-05-07 08:38 [くろ たろう &lt;kuro_ta] &amp;lt;JDBC&amp;gt; クエリーで関数を使うには？ </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7663">   7663 2003-05-07 13:06 ┣[ken &lt;t_takahashi@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7664">   7664 2003-05-07 13:11 ┣[ken &lt;t_takahashi@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7665">   7665 2003-05-07 13:16 ┗[UNO Shintaro &lt;uno@xx]                                       </a></span>
</pre>
</body>
</html>
