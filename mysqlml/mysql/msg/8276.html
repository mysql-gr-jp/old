<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8276</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="8275.html">[前]</a><a href="8277.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8276
</p>
<div class="header">
<p>
From: TORU NOMURA &lt;TORU NOMURA &lt;toru2008@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 15 Oct 2003 23:09:07 +0900<br>
Subject: [mysql 08276] Re: ランキングをつける方法？<br>

</p>
</div>
<div class="body">
<pre>野村です


樋口さん、お世話になります。

On 2003.10.15, at 10:40 PM, HIGUCHI Koichi wrote:
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 私の場合ランキングというと、「上位30商品を表示」というようなイメージがあり</span>
<span class="quote1">&gt; ました。</span>
<span class="quote1">&gt; こういった場合だと、「LIMIT 30」をSELECT文の最後につければ実現できるのでは</span>
<span class="quote1">&gt; ？ということではないかと思います。</span>

そうですね、「ランキング」という言葉でなく、「順位づけ」という表現にしておけ
ば誤解がなかったですね。僕の表現ミスです、ごめんなさい。

「上位30商品を表示」と想定した場合も、同じ値もあり得ますから、単純にLIMITで
は問題があろうと思います。この場合も、最初に順位をつけ「上位（順位）30商品」
をSELECTというのが自然だと思います。もちろんそうでない場合は、LIMITで解決で
きますが...。

<span class="quote1">&gt;</span>
<span class="quote2">&gt;&gt; 現状は、ランキング用のテーブルを用意し、ランキングする項目で並び替えした</span>
<span class="quote2">&gt;&gt; 後、ゴリゴリとキーとランクをランキング用のテーブルに書き込み、リレーショ</span>
<span class="quote2">&gt;&gt; ンしておりますが、量が多くなると当然ながら遅くなるので別の方法がないもの</span>
<span class="quote2">&gt;&gt; かと思っています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 毎回順位を計算していたのでは大変だからということで、ランキング用のテーブル</span>
<span class="quote1">&gt; に順位を保存しておられるのですよね？</span>
<span class="quote1">&gt; この順位の計算＆保存が遅いということであれば、ちょっと、わからないです。す</span>
<span class="quote1">&gt; みません。</span>
<span class="quote1">&gt;</span>

いえいえ、僕も悩んでいるですから。全体のスピードを考えると、ここがネックで
すよね。やはりゴリゴリしかないかな...。

<span class="quote1">&gt; ただ、いったん順位をテーブルに保存した後、その順位テーブルとJOINしながらの</span>
<span class="quote1">&gt; 表示が遅いということであれば、おそらく適切なインデックスが無いのではという</span>
<span class="quote1">&gt; 気がいたします。</span>
<span class="quote1">&gt;</span>

この部分は気にしてません。


<span class="quote1">&gt; 以上、横やり失礼しました。</span>
<span class="quote1">&gt;</span>

今後とも「横やり」なんて言わずよろしくお願い致します。

---------+---------+---------+---------+---------+---------+---------+--
■ TORU NOMURA / 野村　亨
■ toru2008@xxxxxxxxxx / torunomura@xxxxxxxxxx
■ <a href="http://www.geocities.jp/toru2008/">http://www.geocities.jp/toru2008/</a>




</pre>
</div>
<p class="button"><a href="8275.html">[前]</a><a href="8277.html">[次]</a><a href="../list/8201-8300.html">[番号順一覧]</a><a href="../thread/8201-8300.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="8272.html">   8272 2003-10-15 20:47 [TORU NOMURA &lt;toru200] ランキングをつける方法？                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8273.html">   8273 2003-10-15 21:51 ┗[UNO Shintaro &lt;uno@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8274.html">   8274 2003-10-15 22:16 　┗[TORU NOMURA &lt;toru200]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8275.html">   8275 2003-10-15 22:40 　　┣["HIGUCHI Koichi" &lt;ko]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="8276.html">   8276 2003-10-15 23:09 　　┃┗[TORU NOMURA &lt;toru200]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8277.html">   8277 2003-10-15 23:20 　　┃　┣[mohri &lt;mohri@xxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8278.html">   8278 2003-10-15 23:31 　　┃　┗[UNO Shintaro &lt;uno@xx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8279.html">   8279 2003-10-15 23:34 　　┃　　┗[UNO Shintaro &lt;uno@xx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8281.html">   8281 2003-10-16 03:32 　　┗[seiji takegata &lt;take]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8282.html">   8282 2003-10-16 19:56 　　　┗[TORU NOMURA &lt;toru200]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8292.html">   8292 2003-10-18 04:26 　　　　┗[seiji takegata &lt;take]                               </a></span>
</pre>


</body></html>