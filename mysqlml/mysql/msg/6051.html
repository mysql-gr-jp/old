<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6051</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6050.html">[前]</a><a href="6052.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6051
</p>
<div class="header">
<p>
From: fukuixyz &lt;fukuixyz &lt;fukuixyz@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 02 Sep 2002 09:38:33 +0900<br>
Subject: [mysql 06051] 画像データーの保存<br>

</p>
</div>
<div class="body">
<pre>福嶋です。

過去のメールを検索できるので、MIYATSU Kazunariさんに
教えていただいたのですが、<a href="../../../index.html">http://www.mysql.gr.jp/</a>
ここから検索するといろいろなことが分かります。

私もここのログをもとに、最近、画像データーのＤＢ登録に
挑戦しています。

しかし、うまく行かないので質問させていただきます。
過去のログを参考に（MIYATSU KazunariさんのサンプルＰＨＰを利用）
動かしてみたところ、登録（アップロード）はうまく行くのですが、
登録内容の利用（ダウンロード）ができません。
ＩＥ５だと「ファイルに保存ＯＲアプリから実行」となるので、
アプリから実行を選ぶと、ｂｍｐの場合はペイントが起動して表示されます。
しかし、その他の形式ｊｐｇ、ｇｉｆの場合は、ＩＥ上に四角い表示用の
エリアが作られますが、画像は表示されません。その他ネスケとかモジラだと
「ファイルに保存ＯＲアプリから実行」というのは表示されず、どの形式でも
四角い表示用のエリアが作られますが、画像は表示されません。

ＰＨＰ内容
（ＤＢ登録内容を表示させ、ＩＤを選択させて、あとはMIYATSU Kazunariさんの
サンプルＰＨＰ、SND.PHPにＩＤを渡して実行させる。）

&lt;html&gt;
&lt;body&gt;

&lt;?
$conn=mysql_connect("localhost");
if(!mysql_select_db("StdArchive",$conn)){echo ("Cannot select
database.\n");}
$result = mysql_query("select ID, MIME, Filename from stddoc");

$fields = mysql_num_fields($result);
$rows = mysql_num_rows($result);
$table = mysql_field_table($result,0);
echo "&lt;html&gt;";
echo "&lt;head&gt;";
echo "&lt;/head&gt;";


//　データーの抽出＆表示
        echo "&lt;table BORDER COLS=3 WIDTH=\"75%\" &gt;";

//　項目名の抽出＆表示
	$i = 0;
	while( $i &lt; $fields ) {
             $name = mysql_field_name($result,$i);
             echo "&lt;td&gt;".$name."&lt;/td&gt;";
             $i++;
             }

//  データー本体の表示
	while(($data=mysql_fetch_row($result))){
		echo "&lt;tr&gt;";

		$i = 0;
		while( $i &lt; $fields ) {
			echo "&lt;td&gt;" . $data[$i] . "&lt;/td&gt;";
			$i++;
		}
		echo "&lt;/tr&gt;";
	}
        echo "&lt;/table&gt;";

	mysql_close();


echo "&lt;FORM action=\"SND.php\"&gt;";
echo "&amp;nbsp;&amp;nbsp;&amp;nbspＩＤ&amp;nbsp;&amp;nbsp&lt;INPUT TYPE=text NAME=FileID
size=3 value=\"\"&gt;";
echo "&amp;nbsp;&amp;nbsp;&lt;INPUT TYPE=submit value=\"要求\"&gt;";

//　入力内容の送信、クリア
echo "&amp;nbsp;&amp;nbsp;&amp;nbsp&lt;INPUT TYPE=reset value=\"訂正\"&gt;";
echo "&lt;/FORM&gt;";

?&gt;

&lt;/body&gt;
&lt;/html&gt;

どこを直したらよいのか分かりませんので、アドバイス願います。

__________________________________________________
Do You Yahoo!?
Yahoo! BB is Broadband by Yahoo!  <a href="http://bb.yahoo.co.jp/">http://bb.yahoo.co.jp/</a>


</pre>
</div>
<p class="button"><a href="6050.html">[前]</a><a href="6052.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="6005.html">   6005 2002-08-28 09:42 [&lt;m-kanata@xxxxxxxxxx] ファイルの保存                          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6008.html">   6008 2002-08-28 10:30 ┣[fukuixyz &lt;fukuixyz@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6012.html">   6012 2002-08-28 16:42 ┃┗["MIYATSU Kazunari" &lt;] RE: (バイナリ) ファイルの ( テーブルへの) 保存</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6013.html">   6013 2002-08-28 16:50 ┃　┣["TOYOSHIMA,Masayuki"]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6016.html">   6016 2002-08-28 21:11 ┃　┃┗["KAWAI,Takanori" &lt;GC]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6014.html">   6014 2002-08-28 17:43 ┃　┣[fukuixyz &lt;fukuixyz@x]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6018.html">   6018 2002-08-29 10:52 ┃　┣[fukuixyz &lt;fukuixyz@x] (バイナリ) ファイルの ( テーブルへの) 保存できました。</a></span>
<span class="current">-&gt;&nbsp;<a href="6051.html">   6051 2002-09-02 09:38 ┃　┗[fukuixyz &lt;fukuixyz@x] 画像データーの保存                </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6060.html">   6060 2002-09-02 17:27 ┃　　┗["MIYATSU Kazunari" &lt;]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6071.html">   6071 2002-09-03 09:35 ┃　　　┗[fukuixyz &lt;fukuixyz@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6010.html">   6010 2002-08-28 10:56 ┗["KAWAI,Takanori" &lt;GC]                                       </a></span>
</pre>


</body></html>