<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4976</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4975">[前]</a><a href="4977">[次]</a><a href="../list/4901-5000">[番号順一覧]</a><a href="../thread/4901-5000">[スレッド一覧]</a></p>
<p class="id">
mysql:4976
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 18 Jan 2002 16:14:35 +0900<br>
Subject: [mysql 04976] Re: 月末を求めるには？<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Fri, 18 Jan 2002 15:09:32 +0900
&quot;ContentsProvider JD&quot; &lt;ram-2k@xxxxxxxxxx&gt; wrote:

<span class="quote2">&gt; &gt; mysql&gt; select from_days(to_days(20020201)-1);</span>
<span class="quote2">&gt; &gt; mysql&gt; select from_days(to_days(period_add(200201,1)*100+1)-1);</span>
<span class="quote1">&gt; 上記の求め方の違いによって返ってくる結果が変わる事も考えられるのでしょうか？</span>

この場合の結果は同じです。

前者は月末を求めたい月の次の月を人間が指定できる場合の例で、1月の月末を
求めるのに 20020201(2002年2月1日)を指定しています。

後者は MySQL に計算させる例で、1月の月末を求めたいので 200201(2002年1月)
を指定しています。

<span class="quote1">&gt; (to_days(period_add(200201,1)*100+1)-1);</span>
<span class="quote1">&gt; 上記の計算方法(?)が分からないので</span>

period_add(YYYYMM,1) → YYYY年MM月の一月後の年月を求める
YYYYMM*100+1	     → 年月(YYYYMM) から 年月日(YYYYMM01) に変換
to_days(YYYYMMDD)    → 日付を西暦0年からの日数に変換

--
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="4975">[前]</a><a href="4977">[次]</a><a href="../list/4901-5000">[番号順一覧]</a><a href="../thread/4901-5000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4962">   4962 2002-01-18 13:05 [&quot;ContentsProvider JD] 月末を求めるには？                      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4963">   4963 2002-01-18 13:12 ┣[&quot;mikio kimura&quot; &lt;miki]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4965">   4965 2002-01-18 13:17 ┣[&quot;yu-ji.takahashi&quot; &lt;y]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4967">   4967 2002-01-18 13:31 ┃┗[&quot;yu-ji.takahashi&quot; &lt;y]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4966">   4966 2002-01-18 13:30 ┣[Satoshi Koiwa &lt;koiwa]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4968">   4968 2002-01-18 13:33 ┣[Satoshi Koiwa &lt;koiwa]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4972">   4972 2002-01-18 14:48 ┃┗[&quot;ContentsProvider JD]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4975">   4975 2002-01-18 15:10 ┃　┗[&quot;yu-ji.takahashi&quot; &lt;y]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4971">   4971 2002-01-18 14:19 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4974">   4974 2002-01-18 15:09 　┗[&quot;ContentsProvider JD]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="4976">   4976 2002-01-18 16:14 　　┗[とみたまさひろ &lt;tomm]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4977">   4977 2002-01-18 17:27 　　　┗[&quot;T.Yamamoto&quot; &lt;yamamo] Access2000 でのデータ更新       </a></span>
</pre>
</body>
</html>
