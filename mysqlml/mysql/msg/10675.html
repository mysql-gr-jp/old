<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10675</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="10674.html">[前]</a><a href="10676.html">[次]</a><a href="../list/10601-10700.html">[番号順一覧]</a><a href="../thread/10601-10700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10675
</p>
<div class="header">
<p>
From: "m.sato" &lt;"m.sato" &lt;sato.m48081@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 16 Dec 2004 05:21:53 +0900<br>
Subject: [mysql 10675] ランダムアクセスがうまくいきません。<br>

</p>
</div>
<div class="body">
<pre>佐藤と申します。
現在、mysql+perlでランダムアクセスしようとしていますが、うまくいきません。
はじめ、
SELECT a FROM b WHERE c ORDER BY rand() LIMIT d,10
のようにしていましたが、
１０件以上の場合、次ページで再度rand() が実行されると当然
前回の抽出した内容を考慮していませんので、だぶってしまいます。
そこで、perlのrandで乱数を生成し,それを使おうと思いました。

$r = rand;
SELECT a FROM b WHERE c ORDER BY rand($r) LIMIT d,10

こんな感じです。

しかし、乱数は生成していますが、
なかなかランダムになってくれません。

具体的には
１０回中、
パターン１が８回
パターン２が２回
と２パターンぐらいしかランダムになりません。

何が原因でしょうか。
アドバイスいただけましたら幸いです。



</pre>
</div>
<p class="button"><a href="10674.html">[前]</a><a href="10676.html">[次]</a><a href="../list/10601-10700.html">[番号順一覧]</a><a href="../thread/10601-10700.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="10675.html">  10675 2004-12-16 05:21 ["m.sato" &lt;sato.m4808] ランダムアクセスがうまくいきません。    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10676.html">  10676 2004-12-16 07:04 ┗[Kikuo Taniguchi &lt;ki-]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10681.html">  10681 2004-12-16 13:41 　┗["m.sato" &lt;sato.m4808]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10682.html">  10682 2004-12-16 14:04 　　┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10683.html">  10683 2004-12-16 14:18 　　　┗[Kikuo Taniguchi &lt;ki-]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10684.html">  10684 2004-12-16 14:22 　　　　┣[Kikuo Taniguchi &lt;ki-]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10686.html">  10686 2004-12-16 15:23 　　　　┗["m.sato" &lt;sato.m4808]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10687.html">  10687 2004-12-16 15:43 　　　　　┣["Makoto Goto" &lt;gmako] mysql-5.0.0aでVIEWが作成できない</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10688.html">  10688 2004-12-16 16:03 　　　　　┃┗[SUGAWARA Hajime &lt;sug]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10689.html">  10689 2004-12-16 16:16 　　　　　┃　┗["Makoto Goto" &lt;gmako]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10690.html">  10690 2004-12-16 23:34 　　　　　┗[Kikuo Taniguchi &lt;ki-]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10691.html">  10691 2004-12-16 23:53 　　　　　　┗["m.sato" &lt;sato.m4808]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10692.html">  10692 2004-12-17 03:40 　　　　　　　┗["m.sato" &lt;sato.m4808]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10696.html">  10696 2004-12-17 10:22 　　　　　　　　┗[杉本誠 &lt;sugimoto@xxx]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10698.html">  10698 2004-12-17 13:10 　　　　　　　　　┣[Masakazu Nakano &lt;n-m]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10699.html">  10699 2004-12-17 13:10 　　　　　　　　　┗["m.sato" &lt;sato.m4808]                     </a></span>
</pre>


</body></html>