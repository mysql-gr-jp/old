<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13982</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="13981.html">[前]</a><a href="13983.html">[次]</a><a href="../list/13901-14000.html">[番号順一覧]</a><a href="../thread/13901-14000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13982
</p>
<div class="header">
<p>
From: 富士和電子 伊藤浩樹 &lt;富士和電子 伊藤浩樹 &lt;hiroki.itoh@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 23 May 2007 12:02:52 +0900<br>
Subject: [mysql 13982] 4.1→5.0移行にともなうエラー<br>

</p>
</div>
<div class="body">
<pre>富士和電子　伊藤と申します。

view機能を使いたいため、4.1.19で運用しているDBを
別ホストで稼働している5.0.41に移行したいのです。
5.0.41側でエラー発生しデータが取り込めない状況です。

環境は
元DB側＝FedoraCore4　4.1.19（rpm版）

mysql&gt;  SHOW VARIABLES LIKE 'char%';
+--------------------------+----------------------------+
<span class="quote1">| Variable_name            | Value                      |</span>
+--------------------------+----------------------------+
<span class="quote1">| character_set_client     | sjis                       |</span>
<span class="quote1">| character_set_connection | sjis                       |</span>
<span class="quote1">| character_set_database   | sjis                       |</span>
<span class="quote1">| character_set_results    | sjis                       |</span>
<span class="quote1">| character_set_server     | sjis                       |</span>
<span class="quote1">| character_set_system     | utf8                       |</span>
<span class="quote1">| character_sets_dir       | /usr/share/mysql/charsets/ |</span>
+--------------------------+----------------------------+


新DB側＝CentOS5　5.0.41（sourceから）
mysql&gt; SHOW VARIABLES LIKE 'char%';
+--------------------------+----------------------------------------------------------+
<span class="quote1">| Variable_name            | Value                                                    |</span>
+--------------------------+----------------------------------------------------------+
<span class="quote1">| character_set_client     | sjis                                                     |</span>
<span class="quote1">| character_set_connection | sjis                                                     |</span>
<span class="quote1">| character_set_database   | sjis                                                     |</span>
<span class="quote1">| character_set_filesystem | binary                                                   |</span>
<span class="quote1">| character_set_results    | sjis                                                     |</span>
<span class="quote1">| character_set_server     | sjis                                                     |</span>
<span class="quote1">| character_set_system     | utf8                                                     |</span>
<span class="quote1">| character_sets_dir       | /usr/local/mysql-5.0.41-linux-i686/share/mysql/charsets/ |</span>
+--------------------------+----------------------------------------------------------+

となっています。

元DB側
# mysqldump -q --default-character-set=sjis 元DB -u root --password=パスワード &gt; バックアップファイル名

これで出来たファイルをNFSを使ってCentOS5にコピー


新DB（テスト中）側
# /usr/local/mysql/bin/mysql -u root -p 新DB &lt; 元DB
とすると途中まですすみ

ERROR at line 435: Unknown command '\'.
というエラーメッセージが出て処理が終了してしまいます。
生成されたテーブルを順に見てみるとあるテーブルにはデータが入っていません。
（元DBには入っています）


文字コードはAccessなどからODBC接続をするために4.1,5.0共すべてsjisとして
います。
4.1では問題なくDB操作が可能なのです。
回避策、解決策などございましたらご教示いただければとおもいます。

よろしくお願いいたします。


===========================
伊藤　浩樹　システムグループ
富士和電子株式会社



</pre>
</div>
<p class="button"><a href="13981.html">[前]</a><a href="13983.html">[次]</a><a href="../list/13901-14000.html">[番号順一覧]</a><a href="../thread/13901-14000.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="13982.html">  13982 2007-05-23 12:02 [富士和電子 伊藤浩樹 ] 4.1→5.0移行にともなうエラー            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13983.html">  13983 2007-05-22 21:07 ┣[mye &lt;mye@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13985.html">  13985 2007-05-23 15:05 ┃┗[富士和電子 伊藤浩樹 ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13984.html">  13984 2007-05-23 13:26 ┗[ezaki &lt;kjc_post@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13986.html">  13986 2007-05-23 15:09 　┗[富士和電子 伊藤浩樹 ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13987.html">  13987 2007-05-23 16:17 　　┗[YuGo &lt;yu.gotou@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14006.html">  14006 2007-05-25 08:59 　　　┗[富士和電子 伊藤浩樹 ]                                 </a></span>
</pre>


</body></html>