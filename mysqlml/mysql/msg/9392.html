<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:9392</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="9391.html">[前]</a><a href="9393.html">[次]</a><a href="../list/9301-9400.html">[番号順一覧]</a><a href="../thread/9301-9400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:9392
</p>
<div class="header">
<p>
From: "久松大輔" &lt;"久松大輔" &lt;CQN04630@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 20 May 2004 09:02:27 +0900<br>
Subject: [mysql 09392] Re: 巨大テーブルの高速操作<br>

</p>
</div>
<div class="body">
<pre>久松です。

菅原様、ありがとうございます。

<span class="quote1">&gt; 　SELECTしてもマッチしない、ということでしょうか。</span>

はい。SELECTしていた時刻にINSERTしていたであろうデータが、存在しません。

<span class="quote2">&gt; &gt; SELECT 実行中にそのテーブルがロックされ、 INSERTが拒否されているように</span>
<span class="quote2">&gt; &gt; 思えるのですが、これを回避する方法はないでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; であれば、INSERT時にエラーが返ると思うのですけれど。</span>

あ、やはりそうなんですか？
実は、INSERTはミドルウェアが実行していて、エラーが返っているかどうかは確認できな
いんです。ですので、SELECTのプライオリティを下げる（上げるのはHIGH_PRIORITYがあ
りますけど）か、INSERTに失敗しない設定とかあるといいのですが…。

※INSERTにLOW_PRIORITYを付けることができれば、SELECT終了後に書き込まれるのですよ
ね？

<span class="quote1">&gt; 　ちなみに、MySQLでこの手の質問をするときはテーブルタイプも書いたほうが</span>
<span class="quote1">&gt; 良いと思います。</span>

すいませんでした。テーブルタイプは MyISAM です。



</pre>
</div>
<p class="button"><a href="9391.html">[前]</a><a href="9393.html">[次]</a><a href="../list/9301-9400.html">[番号順一覧]</a><a href="../thread/9301-9400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="9387.html">   9387 2004-05-19 15:52 ["久松大輔" &lt;CQN04630] 巨大テーブルの高速操作                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9390.html">   9390 2004-05-19 22:45 ┗[SUGAWARA Hajime &lt;sug]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="9392.html">   9392 2004-05-20 09:02 　┗["久松大輔" &lt;CQN04630]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9395.html">   9395 2004-05-20 11:30 　　┣[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9397.html">   9397 2004-05-20 11:56 　　┃┗[SUGAWARA Hajime &lt;sug]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9398.html">   9398 2004-05-20 12:48 　　┃　┗["久松大輔" &lt;CQN04630]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="9396.html">   9396 2004-05-20 11:46 　　┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
</pre>


</body></html>