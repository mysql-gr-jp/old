<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15882</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15881.html">[前]</a><a href="15883.html">[次]</a><a href="../list/15801-15900.html">[番号順一覧]</a><a href="../thread/15801-15900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15882
</p>
<div class="header">
<p>
From: 中川 貴 &lt;中川 貴 &lt;takashi.nakagawa@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 11 Oct 2012 13:31:52 +0900<br>
Subject: [mysql 15882] Re: mysql5でのINSERT INTO hoge SELECT FROM  tempでSELECT側のデータが取得できない。<br>

</p>
</div>
<div class="body">
<pre>
どうでもいいことかもしれませんが、Yahooの知恵袋にも投稿なさっていますね。
マルチポストは、その後解決したならしたなりに対応しないとエチケット違反だと思いますが。
後、トランザクション分離レベルをRepeatable ReadからRead Committedに変えると同時実行性
は改善されますが、同一トランザクションでの読込直しなどで不整合が出る可能性もあるので
そこのあたりは注意なさったほうがいいと思います。

****************************************
コープ情報システム株式会社
運用事業部
コーププラザサービスデスクグループ
中川　貴
175-0094
東京都渋谷区渋谷3-29-8 コーププラザ5F
TEL 03-5778-8010
E-MAIL takashi.nakagawa@xxxxxxxxxx
****************************************

(2012/10/10 18:45), 雪竹　勝義 wrote:
<span class="quote1">&gt; 　yoku様、後藤様</span>
<span class="quote1">&gt; 　Yukitakeです。</span>
<span class="quote1">&gt; 　</span>
<span class="quote1">&gt; 　お世話になります。</span>
<span class="quote1">&gt; 　</span>
<span class="quote1">&gt; 　今回マイクロソフトのSQLServerからmysqlヘDBを移行させPGを修正してたのですが今回のSQLがうまく動作し</span>
<span class="quote1">&gt; なく困っていました。</span>
<span class="quote1">&gt; 　</span>
<span class="quote1">&gt; 　</span>
<span class="quote1">&gt; 　以下の内容参考にして再度ロック関係を確認したいと思います。</span>
<span class="quote1">&gt; 　</span>
<span class="quote1">&gt; 　</span>
<span class="quote1">&gt; 　以上</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt;&gt; 後藤さん</span>
<span class="quote2">&gt;&gt; こんばんは、yokuといいます。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; トランザクション分離レベルとロック競合は別の話なので、</span>
<span class="quote2">&gt;&gt; READ COMMITTEDでもロックは競合します。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ご参考までに。。</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; ts. yoku</span>
<span class="quote2">&gt;&gt;</span>
<span class="quote2">&gt;&gt; 2012年10月10日 17:55 tsyk goto&lt;ngyuki.ts@xxxxxxxxxx&gt;:</span>
<span class="quote3">&gt;&gt;&gt; 後藤と申します。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; InnoDB なら INSERT INTO の側でトランザクション隔離レベルを</span>
<span class="quote3">&gt;&gt;&gt; READ COMMITTED にすれば競合しないと思われます。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;      SET SESSION TRANSACTION ISOLATION LEVEL READ COMMITTED;</span>
<span class="quote3">&gt;&gt;&gt;      INSERT INTO WORK( コード、名 )SELECT コード、名 FROM 得意先マスタ WHERE</span>
<span class="quote3">&gt;&gt;&gt; コード = 1;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt; 以上です。</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote3">&gt;&gt;&gt;</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


</pre>
</div>
<p class="button"><a href="15881.html">[前]</a><a href="15883.html">[次]</a><a href="../list/15801-15900.html">[番号順一覧]</a><a href="../thread/15801-15900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15873.html">  15873 2012-10-10 17:15 [雪竹　勝義 &lt;yukitake] mysql5でのINSERT INTO hoge SELECT FROM tempでSELECT側のデータが取得できない。</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15874.html">  15874 2012-10-10 17:33 ┗[&quot;yoku ts.&quot; &lt;yoku0825]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15875.html">  15875 2012-10-10 17:55 　┣[tsyk goto &lt;ngyuki.ts]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15877.html">  15877 2012-10-10 18:25 　┃┣[&quot;yoku ts.&quot; &lt;yoku0825]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15879.html">  15879 2012-10-10 18:45 　┃┃┗[雪竹　勝義 &lt;yukitake]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15880.html">  15880 2012-10-10 21:21 　┃┃　┣[&quot;yoku ts.&quot; &lt;yoku0825]                               </a></span>
<span class="current">-&gt;&nbsp;<a href="15882.html">  15882 2012-10-11 13:31 　┃┃　┗[中川 貴 &lt;takashi.nak]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15878.html">  15878 2012-10-10 18:39 　┃┗[雪竹　勝義 &lt;yukitake]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15876.html">  15876 2012-10-10 18:09 　┗[雪竹　勝義 &lt;yukitake]                                     </a></span>
</pre>
</body>
</html>
