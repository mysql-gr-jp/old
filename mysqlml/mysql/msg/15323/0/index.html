<html>
<head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:メイリオ
}
--></style>
</head>
<body class='hmmessage'>
<BR>増田さん、こんにちは&nbsp;<BR>
らっちょと申します。<BR>
私も駆け出しなのですが、普段<BR>
　CentOS5.3　＆　MySQL5.1.41　＆　PHP5.3.1<BR>
　Server　cpu：Opteron1352　memory：8G<BR>
の環境で動かしております。<BR>
最大レコード数は約２４０万ですが、快適に作動しております。<BR>
&nbsp;<BR>
さて、お問合せの件ですが<BR>
&gt; 一ヶ月目で、130ぐらいレコード数が増えます。<BR>&gt; これを1000ヶ月とか10000ヶ月になった場合、膨大なレコード数になり、パフォーマンスが落ちないか心配な面があります。<BR>
ミヤタさんも仰っていますが、1000ヶ月で１３万、10000ヶ月（約833年）で１３０万レコードと<BR>
あまり多くはないように思います。<BR>
パフォーマンスの心配はしなくても大丈夫だと思います。<BR>
（古いＰＣでスペックが低すぎると分かりませんが）<BR>
&nbsp;<BR>
それより気になったのは、<BR>
・その月のaction回数を調べて今回可能か判断する場合<BR>
　　table1）カラムを順に調べて空きがあればactionへ<BR>
　　table2）その月の件数を調べて10未満ならactionへ<BR>
　が必要と思われますが、table2の方が楽だと思います。<BR>
&nbsp;<BR>
・なんらかの集計をされますでしょうか<BR>
　　月に１０回未満が許されるのなら個人別action状況<BR>
　　行為日が特定でなければ、日別のaction数　とか<BR>
　集計されるのならtable2でないと大変のような気がします。<BR>
&nbsp;<BR>
以上少しでもお役に立てればと思い、レスいたします。<BR>
#MySQL（データベース）で、楽＆幸になる人が増えることを願ってます<BR>
&nbsp;<BR>
&nbsp;<BR>&gt; --------------<BR>&gt; table1<BR>&gt; <BR>&gt; key | user_id | 1day_action1 | 2day_action1 .... 10day_action1 |<BR>&gt; 1day_action2 | .... 10day_action2<BR>&gt; <BR>&gt; とすべきか、<BR>&gt; <BR>&gt; <BR>&gt; table2<BR>&gt; <BR>&gt; key | user_id | action | day<BR>&gt; <BR>&gt; とすべきかで迷っております。<BR>&gt; <BR>&gt; table1であれば、一度user_idなどをINSERTしてしまえば、action部分をUPDATEするだけ（NOT<BR>&gt; NULL制約有）なので、フィールドもそこまで増えず、ある意味見やすいです。<BR>&gt; ただし、アクションを2つ行えるのは3名しかいないため、残り7名にとっては無駄なフィールドがあって、<BR>&gt; あまり効率よくない感じがします。<BR>&gt; <BR>&gt; table2だと、フィールドも少なく、actionの内容とその行為日だけを入れればよいので、<BR>&gt; 楽なのですが、INSERTが多くなり、レコード数も必然と増えます。<BR>&gt; <BR>&gt; ただし、フィールドに無駄はありませんし、WHERE
 句を使えばデータは取ってこれるので、<BR>&gt; 1レコードとしては見にくいですが、データを素早く取ってこれることが大事なので、<BR>&gt; こちらのほうがよいのかなと思っています。<BR>&gt; <BR>&gt; ---<BR>&gt; <BR>&gt; ただし、行為の対象として、targetフィールドを設けなければならなくなったり、<BR>&gt; 10日間を複数回繰り返すことができるようになり、1ヶ月目（10日間）、2ヶ月目（10日間）というように<BR>&gt; 増えて言った場合、table2だと、<BR>&gt; <BR>&gt; key | month | user_id | action | target | day<BR>&gt; となり、1monthで1user、10action（3人は20action）ですので、<BR>&gt; 一ヶ月目で、130ぐらいレコード数が増えます。<BR>&gt; <BR>&gt; これを1000ヶ月とか10000ヶ月になった場合、膨大なレコード数になり、パフォーマンスが落ちないか心配な面があります。<BR>&gt; <BR>&gt; table1だと、<BR>&gt; <BR>&gt; <BR>&gt; key | month | user_id | 1day_action1 | 2day_action1 ..
 .. 10day_action1<BR>&gt; | 1day_action2 | .... 10day_action2<BR>&gt; target<BR>&gt; として、アクションフィールドのデータにその行為のターゲットを入れればデータは取れるので、<BR>&gt; レコード数もあまり増えず、無駄なフィールドはあるものの、こちらのほうがよいのだろうかとも思ってしまいます。<BR>&gt; <BR>&gt; <BR>&gt; この場合、どちらのほうがパフォーマンスとして望ましいのでしょうか？<BR>&gt; データが多くなれば検証もできるのですが、現在データが少なく、比較できるほど大きなデータも持っていないため、もし何か分かりましたらご教授いただけると嬉しく思います。<BR>&gt; <BR>&gt; <BR>&gt; <BR>&gt; 増田<BR>&gt; -- <BR>&gt; mailto:masuken@gmail.com<BR> 		 	   		  <br /><hr />USBメモリ代わりにお使いください。無料で使える25GB。 <a href='http://clk.atdmt.com/GBL/go/158982540/direct/01/' target='_new'>SkyDriveを今すぐ体験</a></body>
</html>
