<html><head>
<style><!--
.hmmessage P
{
margin:0px;
padding:0px
}
body.hmmessage
{
font-size: 10pt;
font-family:メイリオ
}
--></style>
</head>
<body class="hmmessage">
<br>増田さん、こんにちは&nbsp;<br>
らっちょと申します。<br>
私も駆け出しなのですが、普段<br>
　CentOS5.3　＆　MySQL5.1.41　＆　PHP5.3.1<br>
　Server　cpu：Opteron1352　memory：8G<br>
の環境で動かしております。<br>
最大レコード数は約２４０万ですが、快適に作動しております。<br>
&nbsp;<br>
さて、お問合せの件ですが<br>
&gt; 一ヶ月目で、130ぐらいレコード数が増えます。<br>&gt; これを1000ヶ月とか10000ヶ月になった場合、膨大なレコード数になり、パフォーマンスが落ちないか心配な面があります。<br>
ミヤタさんも仰っていますが、1000ヶ月で１３万、10000ヶ月（約833年）で１３０万レコードと<br>
あまり多くはないように思います。<br>
パフォーマンスの心配はしなくても大丈夫だと思います。<br>
（古いＰＣでスペックが低すぎると分かりませんが）<br>
&nbsp;<br>
それより気になったのは、<br>
・その月のaction回数を調べて今回可能か判断する場合<br>
　　table1）カラムを順に調べて空きがあればactionへ<br>
　　table2）その月の件数を調べて10未満ならactionへ<br>
　が必要と思われますが、table2の方が楽だと思います。<br>
&nbsp;<br>
・なんらかの集計をされますでしょうか<br>
　　月に１０回未満が許されるのなら個人別action状況<br>
　　行為日が特定でなければ、日別のaction数　とか<br>
　集計されるのならtable2でないと大変のような気がします。<br>
&nbsp;<br>
以上少しでもお役に立てればと思い、レスいたします。<br>
#MySQL（データベース）で、楽＆幸になる人が増えることを願ってます<br>
&nbsp;<br>
&nbsp;<br>&gt; --------------<br>&gt; table1<br>&gt; <br>&gt; key | user_id | 1day_action1 | 2day_action1 .... 10day_action1 |<br>&gt; 1day_action2 | .... 10day_action2<br>&gt; <br>&gt; とすべきか、<br>&gt; <br>&gt; <br>&gt; table2<br>&gt; <br>&gt; key | user_id | action | day<br>&gt; <br>&gt; とすべきかで迷っております。<br>&gt; <br>&gt; table1であれば、一度user_idなどをINSERTしてしまえば、action部分をUPDATEするだけ（NOT<br>&gt; NULL制約有）なので、フィールドもそこまで増えず、ある意味見やすいです。<br>&gt; ただし、アクションを2つ行えるのは3名しかいないため、残り7名にとっては無駄なフィールドがあって、<br>&gt; あまり効率よくない感じがします。<br>&gt; <br>&gt; table2だと、フィールドも少なく、actionの内容とその行為日だけを入れればよいので、<br>&gt; 楽なのですが、INSERTが多くなり、レコード数も必然と増えます。<br>&gt; <br>&gt; ただし、フィールドに無駄はありませんし、WHERE
 句を使えばデータは取ってこれるので、<br>&gt; 1レコードとしては見にくいですが、データを素早く取ってこれることが大事なので、<br>&gt; こちらのほうがよいのかなと思っています。<br>&gt; <br>&gt; ---<br>&gt; <br>&gt; ただし、行為の対象として、targetフィールドを設けなければならなくなったり、<br>&gt; 10日間を複数回繰り返すことができるようになり、1ヶ月目（10日間）、2ヶ月目（10日間）というように<br>&gt; 増えて言った場合、table2だと、<br>&gt; <br>&gt; key | month | user_id | action | target | day<br>&gt; となり、1monthで1user、10action（3人は20action）ですので、<br>&gt; 一ヶ月目で、130ぐらいレコード数が増えます。<br>&gt; <br>&gt; これを1000ヶ月とか10000ヶ月になった場合、膨大なレコード数になり、パフォーマンスが落ちないか心配な面があります。<br>&gt; <br>&gt; table1だと、<br>&gt; <br>&gt; <br>&gt; key | month | user_id | 1day_action1 | 2day_action1 ..
 .. 10day_action1<br>&gt; | 1day_action2 | .... 10day_action2<br>&gt; target<br>&gt; として、アクションフィールドのデータにその行為のターゲットを入れればデータは取れるので、<br>&gt; レコード数もあまり増えず、無駄なフィールドはあるものの、こちらのほうがよいのだろうかとも思ってしまいます。<br>&gt; <br>&gt; <br>&gt; この場合、どちらのほうがパフォーマンスとして望ましいのでしょうか？<br>&gt; データが多くなれば検証もできるのですが、現在データが少なく、比較できるほど大きなデータも持っていないため、もし何か分かりましたらご教授いただけると嬉しく思います。<br>&gt; <br>&gt; <br>&gt; <br>&gt; 増田<br>&gt; -- <br>&gt; mailto:masuken@gmail.com<br> 		 	   		  <br><hr>USBメモリ代わりにお使いください。無料で使える25GB。 <a href="http://clk.atdmt.com/GBL/go/158982540/direct/01/" target="_new">SkyDriveを今すぐ体験</a>

</body></html>