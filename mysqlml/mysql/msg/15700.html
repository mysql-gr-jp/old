<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15700</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15697.html">[前]</a><a href="15701.html">[次]</a><a href="../list/15601-15700.html">[番号順一覧]</a><a href="../thread/15601-15700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15700
</p>
<div class="header">
<p>
From: &quot;ochiai&quot; &lt;&quot;ochiai&quot; &lt;s.ochiai@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 29 Mar 2012 10:45:41 +0900<br>
Subject: [mysql 15700] Error Code:2013（Lost connection…）対策を教えてください<br>

</p>
</div>
<div class="body">
<pre>
お世話になります。

Left Join句を付けたUPDATEで処理時間がかかりすぎているせいか、下記のエラーが出て、処理に失敗します。
処理時間が長くなるクエリーを実行する場合に、許容する接続時間を長く設定する方法をお教えください。できれば、WorkbenchのOption File設定画面のタブ名と項目名を教えていただければ幸いです。

実行したSQL

UPDATE `table-a` LEFT JOIN `table-b` ON ( `table-a`.`Ka` = `table-b`.`Kb` )
    SET `table-a`.`fa` = `table-b`.`fb`;

Error Code:2013
Lost connection to MySQL server during query

接続時間：600.526 sec

ちなみに、作業環境は以下の通りです。

＜作業環境＞
１．サーバーマシンの環境
　　MySQLサーバ：バージョン5.5.11
　　（mysql-5.5.11-win32.msi）
　　Workbench：バージョン5.2.33CE Revision 7508
　　（mysql-workbench-gpl-5.2.33b-win32.msi）
　　OS：Windows 7 Professional SP1(32bit)
　　PC：DELL Vostro(Intel Core 2 Duo,CPU E7500 2.93GHz) RAM 2.00GB
２．クライアントマシンの環境
　　サーバマシンと同じ構成のPC
３．データ
　　table-a
　　　　レコード数：約25万件
　　　　レコードサイズ：約３００バイト
　　　　`table-a`.`Ka`：VARCHAR(30) KEY設定済み
　　table-b
　　　　レコード数：約20万件
　　　　レコードサイズ：約３００バイト
　　　　`table-b`.`Kb`：VARCHAR(30) KEY設定済み

なお、今回のUPDATE処理時間を短くする方策に関する質問は別に投稿します。 


</pre>
</div>
<p class="button"><a href="15697.html">[前]</a><a href="15701.html">[次]</a><a href="../list/15601-15700.html">[番号順一覧]</a><a href="../thread/15601-15700.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="15700.html">  15700 2012-03-29 10:45 [&quot;ochiai&quot; &lt;s.ochiai@x] Error Code:2013（Lost connection…）対策を教えてください</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15701.html">  15701 2012-03-29 11:38 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15702.html">  15702 2012-03-29 14:02 　┗[&quot;ochiai&quot; &lt;s.ochiai@x]                                     </a></span>
</pre>
</body>
</html>
