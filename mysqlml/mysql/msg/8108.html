<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8108</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8107.html">[前]</a><a href="8109.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8108
</p>
<div class="header">
<p>
From: 伊藤 恵吾 &lt;伊藤 恵吾 &lt;k5_ito@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 7 Aug 2003 11:29:43 +0900 (JST)<br>
Subject: [mysql 08108] InnoDB への大量 INSERT ，高速化 <br>

</p>
</div>
<div class="body">
<pre>
初めまして。伊藤と申します。

InnoDB形式のテーブルへ大量データ（160万件ほど）のINSERT
を
試みていますが、大幅に時間がかかってしまいます。
PRIMARY KEY 

　・LOAD DATA文は使わず、INSERT文（複数VALUEの拡張形式）
　　にて行う。
　　　→ LOAD DATAだと、エラー発生箇所が明確でないため。

という条件下のもと、どなたか最良の方法をご存知でないでし
ょうか？

＃ もしMyISAM形式のテーブルでしたら、
「5.2.8 INSERT クエリの速度」
<a href="http://www.mysql.gr.jp/jpdoc/3.23.x/manual.ja_MySQL_Optimization.html#IDX853">http://www.mysql.gr.jp/jpdoc/3.23.x/manual.ja_MySQL_Optimization.html#IDX853</a>
の方法で、1時間以内に処理が完了します。でもInnoDBとなる
と
10時間以上要してしまいました。

＃ DROP PRIMARY KEY してから、
　 160万件INSERT
　 ALTER TABLE xxx ADD PRIMARY KEY
　 も試みましたが、普通にINSERTするよりも、時間を要して
し
　 まいました。

　ご教授のほど、よろしくお願いいたします。

※ 環境
　 MySQL 3.23.56
　 RedHat Linux 7.3

</pre>
</div>
<p class="button"><a href="8107.html">[前]</a><a href="8109.html">[次]</a><a href="../list/8101-8200.html">[番号順一覧]</a><a href="../thread/8101-8200.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="8108.html">   8108 2003-08-07 11:29 [伊藤 恵吾 &lt;k5_ito@xx] InnoDB への大量 INSERT ，高速化         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8109.html">   8109 2003-08-07 12:00 ┣[hironaka &lt;hironaka@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8110.html">   8110 2003-08-07 13:57 ┃┣[ken &lt;t_takahashi@xxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8111.html">   8111 2003-08-07 14:07 ┃┗[伊藤 恵吾 &lt;k5_ito@xx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8113.html">   8113 2003-08-07 14:27 ┃　┗[Tatsuhiko Miyagawa &lt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8114.html">   8114 2003-08-07 18:47 ┃　　┗[伊藤 恵吾 &lt;k5_ito@xx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8112.html">   8112 2003-08-07 14:25 ┗[SUGAWARA Hajime &lt;sug]                                       </a></span>
</pre>
</body>
</html>
