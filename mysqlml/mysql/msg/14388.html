<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14388</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14387.html">[前]</a><a href="14389.html">[次]</a><a href="../list/14301-14400.html">[番号順一覧]</a><a href="../thread/14301-14400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14388
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 21 Feb 2008 07:42:10 +0900<br>
Subject: [mysql 14388] Re: レプリケーション時にDecimal型の値だけ壊れる<br>

</p>
</div>
<div class="body">
<pre>
冨田です。

On Wed, 20 Feb 2008 21:07:52 +0900
Yusuke Kawabata &lt;kawabata@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; マスタDBに対しinsertを実行すると、正しく挿入されるのです </span>
<span class="quote1">&gt; が</span>
<span class="quote1">&gt; （ 例えば id = 4 dec = 5023.0 ）</span>
<span class="quote1">&gt; それをレプリケーションしているスレーブ側でのぞく </span>
<span class="quote1">&gt; と、decimalの</span>
<span class="quote1">&gt; 値が999999などとおかしな値になっている状況です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; バイナリログをcatでみる限り、16進数のhex値 </span>
<span class="quote1">&gt; でログに保存されている</span>
<span class="quote1">&gt; ようなのです。これが原因なのかわかりませんが上記現象となります。</span>

cat じゃなくて、mysqlbinlog で見たらどうなってるでしょうか。

<span class="quote1">&gt; 切り分けですが、コマンドラインのmysqlクライアントで書き </span>
<span class="quote1">&gt; 込むと</span>
<span class="quote1">&gt; 正常にレプリケーションされ、またPHPMyAdminから書き込んでも</span>
<span class="quote1">&gt; 正しくレプリケーションされてしまいます。</span>

クエリログを取って、問題のアプリから発行されているクエリを覗いてみるとか。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="14387.html">[前]</a><a href="14389.html">[次]</a><a href="../list/14301-14400.html">[番号順一覧]</a><a href="../thread/14301-14400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14387.html">  14387 2008-02-20 21:07 [Yusuke Kawabata &lt;kaw] レプリケーション時にDecimal型の値だけ壊れる</a></span>
<span class="current">-&gt;&nbsp;<a href="14388.html">  14388 2008-02-21 07:42 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14389.html">  14389 2008-02-21 09:43 ┗[&lt;idaaki@xxxxxxxxxx&gt; ]                                       </a></span>
</pre>
</body>
</html>
