<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12878</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="12877.html">[前]</a><a href="12879.html">[次]</a><a href="../list/12801-12900.html">[番号順一覧]</a><a href="../thread/12801-12900.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12878
</p>
<div class="header">
<p>
From: &quot;F.Y&quot; &lt;&quot;F.Y&quot; &lt;fumi_sby@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 20 Mar 2006 15:29:09 +0900 (JST)<br>
Subject: [mysql 12878] Re: レコード件数 10 万件のロック<br>

</p>
</div>
<div class="body">
<pre>
MySQLの問題なの?
<a href="3325.html">http://www.mysql.gr.jp/mysqlml/mysql/msg/3325</a>
(古っ)

PHPの問題じゃなくて?
「Unable to save result set in」で検索するとどっちゃり出てくるけど、一
通り読んだ?

PHP使わないわたしはロックは常に
lock tables SYSTEM_LOG read;
select * from SYSTEM_LOG;
unlock tables;
にしてる。
SYSTEM_LOG表のデータいじるならreadじゃなくてwrite。

--- 吉田　敬一 &lt;yoshida@xxxxxxxxxx&gt; からのメッセージ：
<span class="quote1">&gt; 初めて投稿します。</span>
<span class="quote1">&gt; 既に納品済のシステムでデータ更新中に下記の警告が発生しました。</span>
<span class="quote1">&gt; Warning: mysql_query(): Unable to save result set in &quot;ソースのパス&quot;</span>
<span class="quote1">&gt; on</span>
<span class="quote1">&gt; line 36</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; この行数の命令が</span>
<span class="quote1">&gt; mysql_query(&quot;select * from SYSTEM_LOG for update&quot;);</span>
<span class="quote1">&gt; です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 排他的制御をかけたかった為&quot;FOR UPDATE&quot;でロックをかけました。</span>
<span class="quote1">&gt; レコード件数が１０万件ほどある為mysql_query()でバッファリング出来る</span>
<span class="quote1">&gt; 容量を超えたのかと考えているのですが解決策が思いつきません。</span>
<span class="quote1">&gt; そもそもロックをかけたいだけなので、結果リソースを取得する必要</span>
<span class="quote1">&gt; さえないのかと思っています。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 環境</span>
<span class="quote1">&gt; Suse Linux 9.2</span>
<span class="quote1">&gt; MySQL 4.0.21</span>
<span class="quote1">&gt; php 4.3.8</span>
<span class="quote1">&gt; 対象テーブルInnoDB使用</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; メーリングリストに参加されている方々のお知恵を</span>
<span class="quote1">&gt; 貸していただけると助かります。</span>
<span class="quote1">&gt; 以上</span>
<span class="quote1">&gt; よろしくお願い致します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>

--------------------------------------
TSUKAME EIKOU! KAGAYAKE EGAO!
Yahoo! JAPAN JPC OFFICIAL PARTNER INTERNET PORTAL SITE
<a href="http://pr.mail.yahoo.co.jp/wintergames/">http://pr.mail.yahoo.co.jp/wintergames/</a>

</pre>
</div>
<p class="button"><a href="12877.html">[前]</a><a href="12879.html">[次]</a><a href="../list/12801-12900.html">[番号順一覧]</a><a href="../thread/12801-12900.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="12874.html">  12874 2006-03-20 12:42 [吉田　敬一 &lt;yoshida@] レコード件数10万件のロック              </a></span>
<span class="current">-&gt;&nbsp;<a href="12878.html">  12878 2006-03-20 15:29 ┗[&quot;F.Y&quot; &lt;fumi_sby@xxxx]                                       </a></span>
</pre>
</body>
</html>
