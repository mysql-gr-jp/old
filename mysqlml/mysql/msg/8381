<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8381</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8380">[前]</a><a href="8382">[次]</a><a href="../list/8301-8400">[番号順一覧]</a><a href="../thread/8301-8400">[スレッド一覧]</a></p>
<p class="id">
mysql:8381
</p>
<div class="header">
<p>
From: とみたまさひろ &lt;とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 7 Nov 2003 00:16:19 +0900<br>
Subject: [mysql 08381] Re: レプリケーションについて<br>

</p>
</div>
<div class="body">
<pre>
とみたです。

On Wed, 05 Nov 2003 13:12:12 +0900
Koichi Takai &lt;ktakai@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; レプリケーションについてお伺いいたします。</span>
<span class="quote1">&gt; Master-Slaveの関係でMasterが何らかの原因でStopした場合に、</span>
<span class="quote1">&gt; SlaveをMasterに切り替える方法ですが、下記のように行いました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 現在のホストを以下と仮定します。</span>
<span class="quote1">&gt; Master：MyHOST1</span>
<span class="quote1">&gt; Slave：MyHOST2</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; [MyHOST2]SLAVE STOP;</span>
<span class="quote1">&gt; [MyHOST2]RESET MASTER;</span>
<span class="quote1">&gt; [MyHOST2]CHANGE MASTER TO MASTER_HOST='MyHOST2';</span>
<span class="quote1">&gt; と実行しました。</span>
<span class="quote1">&gt; これでMyHost2がMasterに切り替わりました。</span>

３番目の「CHANGE MASTER TO MASTER_HOST='MyHOST2'」は不要だと思います。

<span class="quote1">&gt; 今度はMasterが復旧した場合に元に戻す方法がよくわかりません。</span>
<span class="quote1">&gt; MyHOST1をMasterに切り替えたいのです。</span>
<span class="quote1">&gt; 以下で正しいか教えていただけませんか。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; [MyHOST2]CHANGE MASTER TO MASTER_HOST='MyHOST1';</span>
<span class="quote1">&gt; [MyHOST2]SLAVE START</span>

MyHOST1 が停止していた間 MyHOST2 で更新されたデータを MyHOST1 に反映さ
せる必要があります。その後、[MyHOST1] で RESET MASTER, [MyHOST2] で 
RESET SLAVE すれば良いんじゃないかと思います。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="../../../index.html">http://www.mysql.gr.jp</a>

</pre>
</div>
<p class="button"><a href="8380">[前]</a><a href="8382">[次]</a><a href="../list/8301-8400">[番号順一覧]</a><a href="../thread/8301-8400">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8377">   8377 2003-11-05 13:12 [Koichi Takai &lt;ktakai] レプリケーションについて                </a></span>
<span class="current">-&gt;&nbsp;<a href="8381">   8381 2003-11-07 00:16 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8382">   8382 2003-11-10 10:10 　┗[Koichi Takai &lt;ktakai]                                     </a></span>
</pre>
</body>
</html>
