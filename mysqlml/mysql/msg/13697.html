<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13697</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13696.html">[前]</a><a href="13698.html">[次]</a><a href="../list/13601-13700.html">[番号順一覧]</a><a href="../thread/13601-13700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13697
</p>
<div class="header">
<p>
From: Hiroki Tamakoshi &lt;Hiroki Tamakoshi &lt;hiroki.tamakoshi@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 29 Jan 2007 10:13:13 +0900<br>
Subject: [mysql 13697] UNIQUEの最大バイト数の変更<br>

</p>
</div>
<div class="body">
<pre>こんにちは、株式会社ビービットの玉越です。

インデックスの最大バイト数はMyISAMで1000, InnoDBで767バイトと決められて
いるようですが、これ以上にするにはコンパイルし直すしかないのでしょうか。

<a href="http://dev.mysql.com/doc/refman/5.0/en/create-index.html">http://dev.mysql.com/doc/refman/5.0/en/create-index.html</a>


URLを入力するカラムを作成する必要があります。
URLは一意ですから、UNIQUEにする必要がありますが、定められたバイト数以上
に長いURLが入らず困っています。
（767バイト以上のURLもたまにあります）


回避する方法はあるでしょうか？


# これを書いていて今なんとなく思い浮かんだのですが・・・
# URLを500バイトずつ区切ってURL1, URL2, URL3・・・ などとしてそれぞれの
テーブルを作成し、そのIDでUNIQUEインデックスを作るという感じでしょうか？

url_table_1:
( id1 INT PRIMARY KEY AUTO_INCREMENT,
  URL1 VARCHAR(500) UNIQUE )

url_table_2:
( id2 INT PRIMARY KEY AUTO_INCREMENT,
  URL2 VARCHAR(500) UNIQUE )

url_table_3:
( id3 INT PRIMARY KEY AUTO_INCREMENT,
  URL3 VARCHAR(500) UNIQUE )

url_table:
( id INT PRIMARY KEY AUTO_INCREMENT,
  id1 INT,
  id2 INT,
  id3 INT,
  CONSTRAINT UNIQUE (id1, id2, id3) )


--
株式会社ビービット　玉越 大輝
ユーザビリティ コンサルタント
beBit,Inc. Tamakoshi Hiroki hiroki.tamakoshi@xxxxxxxxxx
--------------------------------------------------------
〒105-0001 東京都港区虎ノ門1-18-1 虎ノ門10森ビル7F
TEL: 03-3509-7602 / FAX: 03-3509-7605
URL: <a href="http://www.bebit.co.jp/">http://www.bebit.co.jp/</a>
--------------------------------------------------------
◆◆◆お知らせ◆◆◆
・ビービット新刊書籍 『ユーザ中心ウェブサイト戦略』発売
  <a href="http://www.bebit.co.jp/news/2006/book.html">http://www.bebit.co.jp/news/2006/book.html</a>
  <a href="http://www.amazon.co.jp/gp/product/4797333529/">http://www.amazon.co.jp/gp/product/4797333529/</a>


</pre>
</div>
<p class="button"><a href="13696.html">[前]</a><a href="13698.html">[次]</a><a href="../list/13601-13700.html">[番号順一覧]</a><a href="../thread/13601-13700.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="13697.html">  13697 2007-01-29 10:13 [Hiroki Tamakoshi &lt;hi] UNIQUEの最大バイト数の変更              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13698.html">  13698 2007-01-29 10:23 ┗["Tetsuro IKEDA" &lt;ikd]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13699.html">  13699 2007-01-29 10:33 　┗["Tetsuro IKEDA" &lt;ikd]                                     </a></span>
</pre>


</body></html>