<html><head></head><body><div dir="ltr">岩崎さん、志澤さん、<div><br></div><div>ご指摘ありがとうございます。</div><div>確かに、FieldCountですとReadで一行読み込んだ時のカラムのデータ数でした。</div><div><br></div><div style=""><br></div></div><div class="gmail_extra"><br><br><div class="gmail_quote">2013年5月20日 15:58 志澤 敦 <span dir="ltr">&lt;<a href="mailto:atsushi.shizawa@seikodo.co.jp" target="_blank">atsushi.shizawa@seikodo.co.jp</a>&gt;</span>:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
  
    
  
  <div text="#000000" bgcolor="#FFFFFF">
    岩崎さん<br>
    <br>
    始めまして、志澤と申します。<br>
    <br>
    C# のMySQLDataReaderでは、<br>
    取得行の有無はHasRowsプロパティで確認出来ますが、<br>
    行数までは取得出来ません。<br>
    <br>
    取得対象行数等にもよりますが、<br>
    .NETの場合、DataTableへ一度格納するなどであれば、<br>
    DataTable.Rows.Countで取得可能です。<br>
    <br>
    従い、<br>
    手法の見直しをご検討される事をお勧めします。<br>
    <br>
    以上、<br>
    ご参考になれば幸いです。<br>
    <br>
    <br>
    尚、<br>
    FieldsCountはカラム方向での件数となるとの記憶です。<div><div class="h5"><br>
    <br>
    <br>
    <div>(2013/05/20 15:08), 當山正一 wrote:<br>
    </div>
    <blockquote type="cite">
      <div dir="ltr">岩崎さん、
        <div><br>
        </div>
        <div>當山と申します。　初めまして。</div>
        <div><br>
        </div>
        <div>データ件数ですが、FieldCountとというMySQLDataReaderのプロパティは使えないでしょうか？</div>
        <div>上記のコードですと、myReader.FieldCountでデータ件数が取得できるはずです。</div>
        <div><br>
        </div>
        <div><br>
        </div>
        <div><br>
        </div>
      </div>
      <div class="gmail_extra"><br>
        <br>
        <div class="gmail_quote">2013年5月20日 14:35 岩崎　誠司 <span dir="ltr">&lt;<a href="mailto:iwasaki_ryuqseed_6130@yahoo.co.jp" target="_blank">iwasaki_ryuqseed_6130@yahoo.co.jp</a>&gt;</span>:<br>
          <blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">岩崎です。<br>
            &nbsp;<br>
            皆様、ご無沙汰しております。<br>
            &nbsp;<br>
            今まではC APIでSQL処理をしていましたが、<br>
            今度、C# + MySQL Connector/NETを使う必要に迫られ<br>
            四苦八苦しております。<br>
            &nbsp;<br>
            どうしても情報を見つけることができませんでしたので<br>
            皆様のお力添えをお願いします。<br>
            &nbsp;<br>
            下記のようにしてデータを取得することはできましたが、<br>
            データ件数の取得方法がわかりません。<br>
            &nbsp;<br>
            C APIならmysql_num_rows()でデータ件数を取得できますが、<br>
            MySQL Connector/NETで件数を取得する方法はありますでしょうか？<br>
            &nbsp;<br>
            ご教授のほどよろしくお願いします。<br>
            &nbsp;<br>
            尚、データや件数を含めてクラス化したいと考えていますので<br>
            "SELECT COUNT(*) ..."以外でお願いできたらと思います。<br>
            &nbsp;<br>
            &nbsp;<br>
            &nbsp;&nbsp;&nbsp; string mySelectQuery = "SELECT OrderID, CustomerID FROM
            Orders";<br>
            &nbsp;&nbsp;&nbsp; MySqlConnection myConnection = new
            MySqlConnection(myConnString);<br>
            &nbsp;&nbsp;&nbsp; MySqlCommand myCommand = new
            MySqlCommand(mySelectQuery,myConnection);<br>
            &nbsp;&nbsp;&nbsp; myConnection.Open();<br>
            &nbsp;&nbsp;&nbsp; MySqlDataReader myReader;<br>
            &nbsp;&nbsp;&nbsp; myReader = myCommand.ExecuteReader();<br>
            &nbsp;&nbsp;&nbsp; // Always call Read before accessing data.<br>
            &nbsp;&nbsp;&nbsp; while (myReader.Read()) {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Console.WriteLine(myReader.GetInt32(0) + ", " +
            myReader.GetString(1));<br>
            &nbsp;&nbsp;&nbsp; }<br>
            &nbsp;&nbsp;&nbsp; // always call Close when done reading.<br>
            &nbsp;&nbsp;&nbsp; myReader.Close();<br>
            &nbsp;&nbsp;&nbsp; // Close the connection when done with it.<br>
            &nbsp;&nbsp;&nbsp; myConnection.Close();<br>
            &nbsp;<br>
            開発環境<br>
            Windows7　641bit<br>
            MySQL Connector/NET 6.6.5<br>
            Visual C#2012<br>
            <br>
            <br>
          </blockquote>
        </div>
        <br>
        <br clear="all">
        <div><br>
        </div>
        -- <br>
        <div dir="ltr"><a href="http://about.me/touchan" target="_blank">http://about.me/touchan</a><br>
        </div>
      </div>
    </blockquote>
    <br>
    <br>
  </div></div></div>

</blockquote></div><br><br clear="all"><div><br></div>-- <br><div dir="ltr"><a href="http://about.me/touchan" target="_blank">http://about.me/touchan</a><br></div>
</div>
</body></html>