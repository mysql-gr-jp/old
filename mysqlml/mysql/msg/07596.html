<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7596</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7595.html">[前]</a><a href="7597.html">[次]</a><a href="../list/7501-7600.html">[番号順一覧]</a><a href="../thread/7501-7600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7596
</p>
<div class="header">
<p>
From: aimitsu katoh &lt;aimitsu katoh &lt;akimitsu@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 25 Apr 2003 20:21:42 +0900<br>
Subject: [mysql 07596] クォーテーションの扱いについて<br>

</p>
</div>
<div class="body">
<pre>
katohです。

Perl+DBI+MySQL+HTMLでCGIプログラムを制作しているのですが、クォーテーション【&quot;】の扱いに
ついて質問します。
今 PerlでデータベースにINSERTする時は次のように記述しています。

##### (データベースへはconnect済み、エラー処理は記述していません)
$no=150; $text='text_text';
$sql=qq{INSERT tb_A SET id_no=$no,user_name=&quot;$text&quot;};
$sth = $dbh-&gt;prepare($sql);
$rt_value=$sth-&gt;execute();
#####

この時、$textに【&quot;】や【\】が入るとデータが正常にINSERT出来なくなったり、UPDATEの時は
最悪全てのデータにUPDATEかけてしまうといった問題が起きてしまいます。

そこで変数内の【&quot;】や【\】を【\&quot;】や【\\】に置換しようと思ったのですが、とりあえずINSERTなど
データ登録は問題ないのですが、【&quot;】や【\】を登録できてしまいますと
今度 SELECT してHTMLのフォームにデータを読み込むときにもう一度置換をしないといけないですし、
その他で問題が起きる可能性があるのではないかと懸念しています。

そこで皆さんに質問なのですが、【&quot;】や【\】の処理はどうされていますか？
なにかよい方法がありましたら是非ご教授くださいませ。

#-----------------------------
katoh akimitsu
akimitsu@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="7595.html">[前]</a><a href="7597.html">[次]</a><a href="../list/7501-7600.html">[番号順一覧]</a><a href="../thread/7501-7600.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="7596.html">   7596 2003-04-25 20:21 [aimitsu katoh &lt;akimi] クォーテーションの扱いについて          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7597.html">   7597 2003-04-25 20:45 ┣[SUGAWARA Hajime &lt;sug]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7598.html">   7598 2003-04-25 23:03 ┃┣[とみたまさひろ &lt;tomm]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7605.html">   7605 2003-04-28 11:17 ┃┃┗[SUGAWARA Hajime &lt;sug]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7599.html">   7599 2003-04-26 17:06 ┃┗[Katoh Akimitsu &lt;akim]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7600.html">   7600 2003-04-26 23:42 ┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7602.html">   7602 2003-04-27 05:28 　┗[Katoh Akimitsu &lt;akim]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7603.html">   7603 2003-04-27 09:16 　　┗[&quot;KAWAI,Takanori&quot; &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7604.html">   7604 2003-04-27 16:12 　　　┗[Katoh Akimitsu &lt;akim]                                 </a></span>
</pre>
</body>
</html>
