<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13375</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13374.html">[前]</a><a href="13376.html">[次]</a><a href="../list/13301-13400.html">[番号順一覧]</a><a href="../thread/13301-13400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13375
</p>
<div class="header">
<p>
From: 早間 &lt;早間 &lt;hayama@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 21 Sep 2006 12:00:10 +0900 (JST)<br>
Subject: [mysql 13375] Re: mysqlが起動しない（4.0.26⇒5.0.24a）<br>

</p>
</div>
<div class="body">
<pre>
From: &quot;Yoshio Kawano&quot; &lt;kawano@xxxxxxxxxx&gt;
Subject: <a href="13374.html">[mysql 13374]</a> Re: mysqlが起動しない（4.0.26⇒5.0.24a）
Date: Thu, 21 Sep 2006 11:21:13 +0900
Message-ID: &lt;002901c6dd24$9c590a40$0300aac0@yoshio4889b59a&gt;

<span class="quote1">&gt;  </span>
<span class="quote1">&gt; ◆インポートした時のコマンド</span>
<span class="quote1">&gt;     $mysql -u xxx db_name　&lt; db_name.schema　←これは成功</span>
<span class="quote1">&gt;     $mysql -u xxx db_name　&lt; db_name.insert　←失敗</span>
<span class="quote1">&gt;     エラー内容は、</span>
<span class="quote1">&gt;         ERROR 1062(23000) at line 367：Duplicate entry 'ｘｘｘｘｘ'　fro key 1</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt; ◎キーに対して同じ値を登録しようとしているので失敗していると思われる。（mysqldumpの素のデータなのに、何故？）</span>
<span class="quote1">&gt;     そこで、二重登録が発生したら無視する様な指定で実行すれば良いかと思ったのですが</span>
<span class="quote1">&gt;     mysqlコマンドに、ignoreオプションが無い。『-i』は、あるが、これは少し意味合いが違うみたい。</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt;     しょうがないので、mysqlimportを使ってみた。　←これを使う事が有っているのか解らず。</span>
<span class="quote1">&gt;     しかし、結果はダメでした。</span>
<span class="quote1">&gt;         mysqlimport：Error:Table　'db_name.db_name' doesn't　exist when using table：　db_name</span>
<span class="quote1">&gt; </span>

mysql 5.0.x は使用していないのですが、データ(キー)に漢字が含まれて
いるのではないでしょうか。

4.0.21 から 4.1.21 に変更するときに(my.conf も異なっていたのですが)
漢字キーのデータがエラーになりました。
設定ファイルに(何カ所も)
  default-character-set=utf8
の設定が入っていました。これをすべて
  default-character-set=ujis
に変えたのですが、成功しませんでした。
  character_set_client = ujis
を設定した結果インポートに成功しました。

db そのままの時は内部コードが異なっていたのではないかと思います。
  character-set-server
で対応できたかも知れません。

-- 早間 義博

</pre>
</div>
<p class="button"><a href="13374.html">[前]</a><a href="13376.html">[次]</a><a href="../list/13301-13400.html">[番号順一覧]</a><a href="../thread/13301-13400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13371.html">@ 13371 2006-09-20 18:28 [&quot;Yoshio Kawano&quot; &lt;kaw] mysqlが起動しない（4.0.26⇒5.0.24a）    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13374.html">@ 13374 2006-09-21 11:21 ┗[&quot;Yoshio Kawano&quot; &lt;kaw]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="13375.html">  13375 2006-09-21 12:00 　┗[早間 &lt;hayama@xxxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13382.html">  13382 2006-09-28 23:09 　　┗[&quot;Yoshio Kawano&quot; &lt;kaw]                                   </a></span>
</pre>
</body>
</html>
