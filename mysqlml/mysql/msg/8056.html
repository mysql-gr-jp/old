<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8056</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8055.html">[前]</a><a href="8057.html">[次]</a><a href="../list/8001-8100.html">[番号順一覧]</a><a href="../thread/8001-8100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:8056
</p>
<div class="header">
<p>
From: Tomoyuki Ishino &lt;Tomoyuki Ishino &lt;ishino@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 18 Jul 2003 01:54:59 +0900<br>
Subject: [mysql 08056] Re: [Q] default-character-set 指定を my.cnf へするとジレンマに至る<br>

</p>
</div>
<div class="body">
<pre>
石野です。こんばんは。

* <a href="08045.html">[mysql 08045]</a> [Q] default-character-set 指定を my.cnfへするとジレンマに至る
* Takahide Nojima &lt;nojima@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt;     [1] このままgroup名[client]でdefault-character-set=sjisを指定すると、</span>
<span class="quote1">&gt;       mysql附属のコマンドのうち、オプション引数に--default-character-setを</span>
<span class="quote1">&gt;       持たないコマンド群は全て</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;           「コマンドラインオプション--default-character-setは知りません」</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;      で終了してしまいます。（例：mysqladmin,mysqlshow,etc...）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;     [2] my.cnf中、[コマンド名]セクションで個別指定すれば</span>
<span class="quote1">&gt;        --default-character-setを持たないコマンド群（例：mysqladmin）も</span>
<span class="quote1">&gt;        問題無く使えるようになりますが、今度はperlのDBIモジュールのように</span>
<span class="quote1">&gt;        libmysqlをデフォルトで使っているようなAPIがsjisを扱えなくなって</span>
<span class="quote1">&gt;        しまいます。これはlibmysqlがデフォルトではmy.cnfのgroup[client]</span>
<span class="quote1">&gt;        しか見てない為です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  以上の[1],[2]を同時に解決するような、./configure --default-character-set=sjis</span>
<span class="quote1">&gt; で入れ直す以外の最も簡単な方法ってありますでしょうか？</span>


libmysqlに対する--default-character-setの指定は、まず不要
<a href="http://www.softagency.co.jp/mysql/TIPS/jp.html#charset">http://www.softagency.co.jp/mysql/TIPS/jp.html#charset</a>
というのは、とりあえず置いといて、

mysql_options()のMYSQL_READ_DEFAULT_FILE やMYSQL_READ_DEFAULT_GROUPで
読み込ませれば良いと思います。
<a href="http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_Clients.html#mysql_options">http://www.mysql.gr.jp/jpdoc/4.0/manual.ja_Clients.html#mysql_options</a>

（デフォルトではどのファイルも読み込まれず、ファイル名・セクション名に
空文字を指定することで、デフォルトのmy.ini/my.cnfのclientセクションが
読みこまれるようです。たぶん。）

perlに関して言えば、詳しくは知りませんが、DBI-&gt;connect()の接続文字列で
指定できるみたいです。

ともかく、例のケンタッキー問題があるので、sjisを使うのは要注意ですね。

--
Tomoyuki Ishino


</pre>
</div>
<p class="button"><a href="8055.html">[前]</a><a href="8057.html">[次]</a><a href="../list/8001-8100.html">[番号順一覧]</a><a href="../thread/8001-8100.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="8045.html">   8045 2003-07-16 15:57 [Takahide Nojima &lt;noj] [Q] default-character-set 指定を my.cnf へするとジレンマに至る</a></span>
<span class="current">-&gt;&nbsp;<a href="8056.html">   8056 2003-07-18 01:54 ┗[Tomoyuki Ishino &lt;ish]                                       </a></span>
</pre>
</body>
</html>
