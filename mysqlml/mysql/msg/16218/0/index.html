<div dir="ltr">こんにちは、平塚と言います。<br><div class="gmail_extra"><br><div class="gmail_quote">2015年3月2日 10:40  <span dir="ltr">&lt;<a href="mailto:kiro0318@lguplus.co.kr" target="_blank">kiro0318@lguplus.co.kr</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">
<div link="blue" vlink="purple" lang="KO"><div><span style="font-family:&quot;MS Mincho&quot;" lang="EN-US">MySQL</span><span style="font-family:&quot;MS Mincho&quot;" lang="JA">で</span><span style="font-family:&quot;MS Mincho&quot;" lang="EN-US">oracle</span><span style="font-family:&quot;MS Mincho&quot;" lang="JA">のように</span><span style="font-family:&quot;MS Mincho&quot;" lang="EN-US">invalid object</span><span style="font-family:&quot;MS Mincho&quot;" lang="JA">を確認する方法はありますか？</span><span style="font-family:&quot;MS Mincho&quot;" lang="EN-US"></span><p class="MsoNormal"><span style="font-family:&quot;MS Mincho&quot;" lang="EN-US"></span><br></p></div></div></blockquote></div><br>効率的に確認する方法は、ないと思います。<br><br>■プロシージャの場合<br><br>(1) プロシージャを定義して実行<br><br>DROP PROCEDURE IF EXISTS test_invalid;<br>DELIMITER //<br>CREATE PROCEDURE test_invalid() DETERMINISTIC<br>BEGIN<br> SELECT ename FROM emp WHERE empno = 7788;<br>END<br>//<br>DELIMITER ;<br><br>CALL test_invalid();<br><br>+-------+<br>| ename |<br>+-------+<br>| scott |<br>+-------+<br><br>(2) テーブル名を変更<br><br>ALTER TABLE emp RENAME emp_renamed;<br><br>(3) プロシージャを実行するとエラー<br><br>CALL test_invalid();<br>ERROR 1146 (42S02): Table &#39;scott.emp&#39; doesn&#39;t exist<br><br><br>■ビューの場合<br><br>(1) ビューを定義して参照<br><br>CREATE VIEW emp_view AS SELECT * FROM emp;<br>SELECT * FROM emp_view;<br><br>(SELECT結果は省略)<br><br>(2) テーブル名を変更<br><br>ALTER TABLE emp RENAME emp_renamed;<br><br>(3) ビューを参照するとエラー<br><br>SELECT * FROM emp_view;<br>ERROR 1356 (HY000): View &#39;scott.emp_view&#39; references invalid table(s) or<br>column(s) or function(s) or definer/invoker of view lack rights to use them<br><br>==<br><br>Oracle DatabaseではDBA/ALL/USER_OBJECTSでINVALID列を確認することにより<br>(2)と(3)の間で事前にチェックをかけることができます。<br><br>MySQLでは私の把握する限りそのような仕組みはないです。<br>プロシージャでしたら動作確認する、ビューでしたらSELECT文を実行してみる<br>必要があると思います。<br>
</div></div>
