<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12204</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12203.html">[前]</a><a href="12205.html">[次]</a><a href="../list/12201-12300.html">[番号順一覧]</a><a href="../thread/12201-12300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12204
</p>
<div class="header">
<p>
From: &lt;nikamnb@xxxxxxxxxx&gt;<br>
Date: Sun, 02 Oct 2005 10:26:57 +0900<br>
Subject: [mysql 12204] 改良版Mysql拡張について<br>

</p>
</div>
<div class="body">
<pre>
はじめまして荷川取と申します。
今回、改良版Mysql拡張導入についてPHPのconfigure実行に伴い
以下のエラーで止まってしまう現象について解決策を教えて頂きたくメールしました。
configure: error: wrong mysql library version or lib not found. Check config.log for more information.

【環境】
OS:FC3
Mysql:mysql-standard-4.1.14
PHP:php-5.0.5

【実行内容】
# ./configure --enable-mbstring --enable-mbregex \
--enable-zend-multibyte -with-apxs2filter=/usr/local/apache2/bin/apxs \
--without-mysql --with-mysqli=/usr/local/mysql/bin/mysql_config \
--with-pgsql=/usr/local/pgsql --with-ldap=/usr
【結果】
checking for mysql_set_server_option in -lmysqlclient... no
configure: error: wrong mysql library version or lib not found. Check config.log for more information.

【config.log抜粋】
configure:62543: gcc -o conftest -g -O2  -Wl,-rpath,/usr/local/mysql/lib -L/usr/local/mysql/lib \
-Wl,-rpath,/usr/local/lib -L/usr/local/lib -lmysqlclient -lz -lcrypt \
-lnsl -lm conftest.c -lmysqlclient  -lldap -llber -lresolv -lm -ldl -lnsl -lxml2
-lz -lm -lxml2 -lz -lm 1&gt;&amp;5
/usr/local/mysql/lib/libmysqlclient.a(libmysql.o)(.text+0x1cfa): In function `store_param_time':
: undefined reference to `_intel_fast_memcpy'
/usr/local/mysql/lib/libmysqlclient.a(libmysql.o)(.text+0x1dbe): In function `net_store_datetime':
: undefined reference to `_intel_fast_memcpy'
/usr/local/mysql/lib/libmysqlclient.a(libmysql.o)(.text+0x1e07): In function `store_param_str':
: undefined reference to `_intel_fast_memcpy'
/usr/local/mysql/lib/libmysqlclient.a(libmysql.o)(.text+0x26fc): In function `mysql_stmt_bind_param':
: undefined reference to `_intel_fast_memcpy'
/usr/local/mysql/lib/libmysqlclient.a(libmysql.o)(.text+0x2cef): In function `fetch_result_bin'
～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
: undefined reference to `_intel_fast_memcmp'
/usr/local/mysql/lib/libmysqlclient.a(ctype-mb.o)(.text+0xf3e): In function `my_wildcmp_mb_bin.':
: undefined reference to `_intel_fast_memcmp'
collect2: ld returned 1 exit status
configure: failed program was:
#line 62532 &quot;configure&quot;
#include &quot;confdefs.h&quot;
/* Override any gcc2 internal prototype to avoid an error.  */
/* We use char because int might match the return type of a gcc2
    builtin and then its argument prototype would still apply.  */
char mysql_set_server_option();

int main() {
mysql_set_server_option()
; return 0; }


【/usr/local/mysql/lib　配下】

-rw-r--r--  1 root mysql   14020 Aug 18 20:30 libdbug.a
-rw-r--r--  1 root mysql    1685 Aug 18 02:06 libmysql.imp
-rw-r--r--  1 root mysql 1347712 Aug 18 20:37 libmysqlclient.a
-rw-r--r--  1 root mysql 1354612 Aug 18 20:36 libmysqlclient_r.a
-rw-r--r--  1 root mysql 8815958 Aug 18 20:40 libmysqld.a
-rw-r--r--  1 root mysql 1076254 Aug 18 20:30 libmystrings.a
-rw-r--r--  1 root mysql  287610 Aug 18 20:30 libmysys.a

【/usr/local/lib　配下】
-rw-r--r--  1 root root 3131594 Sep 30 18:46 libxml2.a
-rwxr-xr-x  1 root root     805 Sep 30 18:46 libxml2.la
lrwxrwxrwx  1 root root      17 Sep 30 18:46 libxml2.so -&gt; libxml2.so.2.6.22
lrwxrwxrwx  1 root root      17 Sep 30 18:46 libxml2.so.2 -&gt; libxml2.so.2.6.22
-rwxr-xr-x  1 root root 2364463 Sep 30 18:46 libxml2.so.2.6.22
drwxr-xr-x  2 root root    4096 Sep 30 18:46 pkgconfig
drwxr-xr-x  3 root root    4096 Sep 30 18:46 python2.3
-rw-r--r--  1 root root     211 Sep 30 18:46 xml2Conf.sh

よろしくお願いいたします。

～～～～～～～～～～～～～～～ 
荷川取　学 
E-mail : nikamnb@xxxxxxxxxx
～～～～～～～～～～～～～～～


</pre>
</div>
<p class="button"><a href="12203.html">[前]</a><a href="12205.html">[次]</a><a href="../list/12201-12300.html">[番号順一覧]</a><a href="../thread/12201-12300.html">[スレッド一覧]</a></p>
</body>
</html>
