<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11332</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11331.html">[前]</a><a href="11333.html">[次]</a><a href="../list/11301-11400.html">[番号順一覧]</a><a href="../thread/11301-11400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11332
</p>
<div class="header">
<p>
From: Shigeki Nakazawa &lt;Shigeki Nakazawa &lt;shigeki-mon@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 16 Apr 2005 19:10:32 +0900<br>
Subject: [mysql 11332] InnoDBデータ領域のリサイズについて<br>

</p>
</div>
<div class="body">
<pre>
はじめまして、中沢と申します。

今回、InnoDBのデータ領域のリサイズ絡みで、
識者の方々のアドバイスをいただければと思いメールさせていただきました。

現在MySQL+PHPを使用したWEBサービスを実施していますが、
InnoDBのデータファイルがディスクを圧迫しています。

調査したところ、下記のリファレンスマニュアルにあるとおり、
一度データをダンプ→レストアする必要があると考えています。
<a href="http://dev.mysql.com/doc/mysql/ja/adding-and-removing.html">http://dev.mysql.com/doc/mysql/ja/adding-and-removing.html</a>

DBサーバは３台でレプリケーション構成をとっていますので、
なんとか、レプリケーションをうまく利用してサービスを停止せずに
データサイズをリサイズする方法はないものかと模索しておりますが、
今のところよい案が思い浮かばない状態です。

やりたいこと：サービスを停止せずにInnoDBデータ領域のリサイズを実行したい。

構成
DB1: OS GentooLinux
Kernel 2.6.7
MySQL 4.0.22
(replication master)

DB2: OS GentooLinux
Kernel 2.6.7
MySQL 4.0.22
(replication slave)

DB3: OS GentooLinux
Kernel 2.6.7
MySQL 4.0.22
(replication slave)

※DB2,DB3はそれぞれreplicationのマスターにDB1を指定しています。
※DBの更新処理(INSERT,UPDATE,DELETE)はDB1に対し実施し、検索処理はDB2とDB3
で実施しています。
※DB2,DB3はDNSラウンドロビンにより、検索処理を振り分けています。
※WEBサーバは別にあり、そこからDB1,DB2,DB3に対し処理を行っています。

なにか、よい案はございませんでしょうか、
アドバイスなどありましたらよろしくお願いします。

以上です。


</pre>
</div>
<p class="button"><a href="11331.html">[前]</a><a href="11333.html">[次]</a><a href="../list/11301-11400.html">[番号順一覧]</a><a href="../thread/11301-11400.html">[スレッド一覧]</a></p>
</body>
</html>
