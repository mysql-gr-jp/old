<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7582</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="7581.html">[前]</a><a href="7583.html">[次]</a><a href="../list/7501-7600.html">[番号順一覧]</a><a href="../thread/7501-7600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7582
</p>
<div class="header">
<p>
From: "M.Kusumura" &lt;"M.Kusumura" &lt;kusumura@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 22 Apr 2003 12:42:00 +0900<br>
Subject: [mysql 07582] InnoDB 利用時のテーブルスペース追加<br>

</p>
</div>
<div class="body">
<pre>こんにちは
楠村と申します。
発投稿になります。
よろしくお願いします。

とあるシステムでMySQLを利用しています。
いままでは、MyISAMで利用していたのですが、
アプリケーションからの利用をしやすくする為
にInnoDBに切替えを行ったのですが、その後
問題が発生しています。

同様の現象を経験した方がおりましたら、アドバイスいただけると助かります。

データベースの動作
・ある処理のログをひたすら溜める（INSERT）
・ログの検索を行う（SELECT－Indexを利用してます）
・７日程度経過したログを破棄（DELETE）

動作環境
OS：Solaris7
MySQL：mysql-max-3.23.52

１．テーブルの領域の消費が激しい

MyISAM
1300万レコードぐらい
テーブルサイズ：1.3Gぐらい
インデックスサイズ400MBぐらい

InnoDBへ変換後
変換後少し運用した後
1300万レコードぐらい
テーブルサイズ：4.3Gぐらい
インデックスサイズ：1.4Gぐらい

２．追加したテーブルスペースが利用されない

初期の段階で2G×3=6Gの領域を用意したが、tablespace full
になったので、追加で2G×2を追加したが利用してくれない。
追加後、タイムスタンプが更新されないので利用していないように見えます。

マニュアル等は眺めてみたのですが、今ひとつ動作について
分かる記述がありません。よろしくお願いします。

---------------------------------------------------------------
ADSL回線事業者別満足度 第１位 V３達成！（日経ネットナビ 2003年1月号発表） 
安心＆親切サポートの【ADSL】はアッカ！ <a href="http://www.acca.ne.jp/">http://www.acca.ne.jp/</a> 
---------------------------------------------------------------
M.Kusumura &lt;kusumura@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="7581.html">[前]</a><a href="7583.html">[次]</a><a href="../list/7501-7600.html">[番号順一覧]</a><a href="../thread/7501-7600.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="7576.html">   7576 2003-04-22 10:08 [二宗 崇 &lt;nisyu@xxxxx] 「リレーショナルでない」機能について    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7577.html">   7577 2003-04-22 10:28 ┣["TOYOSHIMA,Masayuki"]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7578.html">   7578 2003-04-22 10:33 ┣[Kazuaki Inagaki &lt;ina]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7581.html">   7581 2003-04-22 11:10 ┃┗[ksuzuki &lt;ksuzuki@xxx] bye                                 </a></span>
<span class="current">-&gt;&nbsp;<a href="7582.html">   7582 2003-04-22 12:42 ┗["M.Kusumura" &lt;kusumu] InnoDB 利用時のテーブルスペース追加   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7590.html">   7590 2003-04-23 11:59 　┗[Hironaka &lt;hironaka@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7591.html">   7591 2003-04-23 15:53 　　┗["M.Kusumura" &lt;kusumu]                                   </a></span>
</pre>


</body></html>