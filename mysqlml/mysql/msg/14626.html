<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14626</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14625.html">[前]</a><a href="14627.html">[次]</a><a href="../list/14601-14700.html">[番号順一覧]</a><a href="../thread/14601-14700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14626
</p>
<div class="header">
<p>
From: MAO &lt;MAO &lt;mao@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 14 Aug 2008 01:51:14 +0900<br>
Subject: [mysql 14626] group by っぽい絞り込み検索<br>

</p>
</div>
<div class="body">
<pre>
こんばんは。MAOです。
すみません。お知恵をかしてください。

MySQL 4.1.xで、下記のようなデータより、
絞込みをしたいと思っています。

tbl_user_task
+--------+-------+------+
<span class="quote1">| user   | time  | task |</span>
+--------+-------+------+
<span class="quote1">| taro   |  8:10 | A    |</span>
<span class="quote1">| hanako |  8:20 | B    |</span>
<span class="quote1">| jiro   |  8:40 | C    |</span>
<span class="quote1">| ichiro |  8:50 | D    |</span>
<span class="quote1">| taro   |  9:10 | E    |</span>
<span class="quote1">| hanako | 10:10 | F    |</span>
<span class="quote1">| jiro   | 10:20 | G    |</span>
<span class="quote1">| ichiro | 10:30 | H    |</span>
<span class="quote1">| jiro   | 11:10 | I    |</span>
<span class="quote1">| ichiro | 12:10 | J    |</span>
<span class="quote1">| taro   | 14:20 | K    |</span>
+--------+-------+------+

taroが8時10分に、Aの仕事をやったという感じのデータなのですが、
それぞれのユーザが、一番最後に何をやったかというのを取り出したいと思って
おり、結果は、
+--------+-------+------+
<span class="quote1">| user   | time  | task |</span>
+--------+-------+------+
<span class="quote1">| hanako | 10:10 | F    |</span>
<span class="quote1">| jiro   | 11:10 | I    |</span>
<span class="quote1">| ichiro | 12:10 | J    |</span>
<span class="quote1">| taro   | 14:20 | K    |</span>
+--------+-------+------+
と、いう感じにしたいと思っています。

select user,max(time),task from tbl_user_task group by user で、絞り込みはで
きて、一番最後の時間はでてくるものの、taskは該当のものがでません。

group by がこういった処理用ではないのかもしれないのですが、
上記を解決するには、どういったSQLを書けばよいのでしょうか？

以上、宜しくお願い致します。


--
MAO&lt;mao@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="14625.html">[前]</a><a href="14627.html">[次]</a><a href="../list/14601-14700.html">[番号順一覧]</a><a href="../thread/14601-14700.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="14626.html">  14626 2008-08-14 01:51 [MAO &lt;mao@xxxxxxxxxx&gt;] group by っぽい絞り込み検索             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14627.html">  14627 2008-08-14 10:04 ┗[HIRATSUKA Sadao &lt;hir]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14628.html">  14628 2008-08-14 14:39 　┗[MAO &lt;mao@xxxxxxxxxx&gt;]                                     </a></span>
</pre>
</body>
</html>
