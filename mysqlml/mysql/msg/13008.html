<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13008</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="13007.html">[前]</a><a href="13009.html">[次]</a><a href="../list/13001-13100.html">[番号順一覧]</a><a href="../thread/13001-13100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13008
</p>
<div class="header">
<p>
From: &quot;山下 智久&quot; &lt;&quot;山下 智久&quot; &lt;peanuts1113@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 19 May 2006 11:22:48 +0900<br>
Subject: [mysql 13008] メモリチューニング　64bitOSの場合<br>

</p>
</div>
<div class="body">
<pre>
山下と申します。

mysqlのチューニング設定で色々調べていたところ
mysql4.1のリファレンスマニュアルに下記の内容を見つけました。

下記の内容はおそらく32bitOSでの話かと思うのですが、
現在使用しているサーバは64bitOSを使用しています。

この場合、2GBを超えてはならないという下記の公式が、
当てはまるのかご存知の方がいらっしゃいましたら
ご教授いただけますと助かります。

何卒宜しくお願いいたします。

内容文とサーバ環境を記載させていただきます。

----------------内容文-------------------
警告: 
Linux x86 では、メモリ使用率の設定を高くし過ぎないように注意してください。
glibc はプロセスヒープがスレッドスタックよりも大きくなることを許可しており、
その場合にサーバがクラッシュします。次の計算式を見てください。

innodb_buffer_pool_size + key_buffer_size +
max_connections * (sort_buffer_size + read_buffer_size) + max_connections *　2 MB

この値が、2 GB に近いか、2 GB を超えていると危険です。各スレッドはスタックを
使用し（通常は 2 MB。ただし MySQL AB バイナリでは 256 KB のみ）、最悪の場
合、sort_buffer_size + read_buffer_size の大きさの追加メモリも使用します。
----------------------------------------

●ＤＢサーバ環境：
Xeon 3.33GHz 64bit * 4
メモリ8Ｇ

Red Hat Enterprise Linux AS4 64bit
php 4.4.2
mysql 4.1.18

●DB構成
innoとMyISAMが混同していますが、メインはinnodbです。




-----------------------------------------------
得するキャンペーンやプレゼント情報を是非ご覧下さい！
livedoor 懸賞
<a href="http://present.livedoor.com/">http://present.livedoor.com/</a>


</pre>
</div>
<p class="button"><a href="13007.html">[前]</a><a href="13009.html">[次]</a><a href="../list/13001-13100.html">[番号順一覧]</a><a href="../thread/13001-13100.html">[スレッド一覧]</a></p>
</body>
</html>
