<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1480</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1479.html">[前]</a><a href="1481.html">[次]</a><a href="../list/1401-1500.html">[番号順一覧]</a><a href="../thread/1401-1500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1480
</p>
<div class="header">
<p>
From: &quot;Isamu Narimatsu&quot; &lt;&quot;Isamu Narimatsu&quot; &lt;isamu@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 13 Jan 2000 22:33:08 +0900<br>
Subject: [mysql 01480] 郵政省の郵便番号データの LOAD DATA  INFILE の方法について<br>

</p>
</div>
<div class="body">
<pre>
成松です。
郵政省のホームページ
<a href="http://www.postal.mpt.go.jp/">http://www.postal.mpt.go.jp/</a>
から電話番号データをダウンロードして、これをMySQLにLOAD DATA  INFILEしようと
試みました。

郵政省のデータはカンマ区切りでカラムが区切られており、カラムの内容が&quot;&quot;でかこ
まれていることもあります。

01101,&quot;060  &quot;,&quot;0600000&quot;,&quot;ホツカイドウ&quot;,&quot;サツポロシチユウオウク&quot;,&quot;イカニケイサイガナイバアイ&quot;,&quot;北海道
&quot;,&quot;札幌市中央区&quot;,&quot;以下に掲載がない場合&quot;,0,0,0,0,0,0

そこで、以下のようにテーブルをまずつくりました。(CHARの長さは正確でないかも
しれません。)

create table zip(id int unsigned auto_increment primary key,extra1
char(5),zip5 char(5),zip7 char(7),extra4 char(14),extra5 char(40),extra6
char(40),prefname char(8),city char(40),street char(20),extra10
tinyint,extra11 tinyint,extra12 tinyint,extra13 tinyint,extra14
tinyint,extra15 tinyint)

そして次のように　LOAD DATA  INFILE　してみました。

mysql&gt; LOAD DATA LOCAL INFILE 'C:\\usr\\home\\dat\\Ken_all.txt' INTO TABLE
zip FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '&quot;'
 LINES TERMINATED BY '\n'
(extra1,zip5,zip7,extra4,extra5,extra6,prefname,city,street,extra10,extra11,
extra12,extra13,extra14,extra15)

すると

Records: 120018  Deleted: 0  Skipped: 0  Warnings: 4115

となり、しかも、データの内容に　&quot;(ダブルコーテーション)が含まれているではあ
りませんか！

どんなミスを私は犯したのでしょうか？





</pre>
</div>
<p class="button"><a href="1479.html">[前]</a><a href="1481.html">[次]</a><a href="../list/1401-1500.html">[番号順一覧]</a><a href="../thread/1401-1500.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="1480.html">   1480 2000-01-13 22:33 [&quot;Isamu Narimatsu&quot; &lt;i] 郵政省の郵便番号データの LOAD DATA  INFILE の方法について</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1481.html">   1481 2000-01-14 00:37 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
</pre>
</body>
</html>
