<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:16511</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="16510.html">[前]</a><a href="16512.html">[次]</a><a href="../list/16501-16600.html">[番号順一覧]</a><a href="../thread/16501-16600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:16511
</p>
<div class="header">
<p>
From: 落合 司郎 &lt;落合 司郎 &lt;s.ochiai@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 18 Feb 2019 11:47:36 +0900<br>
Subject: [mysql 16511] 関数Polygon(ls1,ls2,...)が動きません<br>

</p>
</div>
<div class="body">
<pre>
お世話になります。

関数Polygon(ls1,ls2,...)を以下のように試してみましたが、以下のエラーが出てポリゴンを作れません。
MySQL ver5.7とver8.0の二つで試しましたが、結果は同じでした。
ちなみに、Polygon(ls1,ls2,...)の引数として渡したパラメータの型を確認しましたが、全て'LINESTRING'となっています。
何がいけないのか、教えてください。

Error Code: 1367. Illegal non geometric '(@`ls1`)' value found during 
parsing

実行したスクリプト
SET
@ls1 = ST_LineFromText('linestring(4010 5009,4015 5005)'),
@ls2 = ST_LineFromText('linestring(4015 5005,4018 5010)'),
@ls3 = ST_LineFromText('linestring(4018 5010,4012 5010)'),
@ls4 = ST_LineFromText('linestring(4012 5010,4018 5013)'),
@ls5 = ST_LineFromText('linestring(4018 5013,3995 5013)'),
@ls6 = ST_LineFromText('linestring(3995 5013,3995 5000)'),
@ls7 = ST_LineFromText('linestring(3995 5000,4010 5009)');
select 
ST_GeometryType(@ls1),ST_GeometryType(@ls2),ST_GeometryType(@ls3),ST_GeometryType(@ls4),ST_GeometryType(@ls5),ST_GeometryType(@ls6),ST_GeometryType(@ls7);
select ST_AsText(@ls1);
SET @npoly = POLYGON(@ls1,@ls2,@ls3,@ls4,@ls5,@ls6,@ls7);# ここでエラー
select @npoly,ST_GeometryType(@npoly),ST_AsText(@npoly);

実行環境：
OS:Windows 8.0 64ビット
MySQL:Ver.5.7.18-log
Workbench:Ver.6.3.9


</pre>
</div>
<p class="button"><a href="16510.html">[前]</a><a href="16512.html">[次]</a><a href="../list/16501-16600.html">[番号順一覧]</a><a href="../thread/16501-16600.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="16511.html">  16511 2019-02-18 11:47 [落合 司郎 &lt;s.ochiai@] 関数Polygon(ls1,ls2,...)が動きません    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16512.html">  16512 2019-02-18 16:08 ┣[Watanabe Tomoyuki &lt;W] RE: [mysql 16511] 関数Polygon(ls1,ls2,...)が動きません</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16513.html">@ 16513 2019-02-18 16:50 ┗[SAKAI Kei &lt;sakaik@xx] Re: [mysql 16511] 関数Polygon(ls1,ls2,...)が動きません</a></span>
</pre>
</body>
</html>
