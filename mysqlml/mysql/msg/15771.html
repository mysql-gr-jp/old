<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15771</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="15770.html">[前]</a><a href="15772.html">[次]</a><a href="../list/15701-15800.html">[番号順一覧]</a><a href="../thread/15701-15800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15771
</p>
<div class="header">
<p>
From: 香西DA &lt;香西DA &lt;kosai@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 7 Jun 2012 12:07:37 +0900<br>
Subject: [mysql 15771] MySQLが返却するOKパケットのserver_status<br>

</p>
</div>
<div class="body">
<pre>
お世話になります。
香西といいます。

同じmysqlのデータ内容を持つ2台のサーバA、Bにそれぞれ個別に接続して
同じUPDATE文を実行しました。
両方のサーバともクエリの実行は成功するのですが、MySQLから返却される
OKパケット（ASCIIキャラクタ表示、ただし途中まで）が以下のように異なります。

サーバA
2%00%00%01%00%01%fc%89%08!%00%00%00(Rows+matched:+1++Changed:+1++Warnings:+0

サーバB
2%00%00%01%00%01%fc%89%08+%00%00%00(Rows+matched:+1++Changed:+1++Warnings:+0

以下のURL
<a href="http://forge.mysql.com/wiki/MySQL_Internals_ClientServer_Protocol#OK_Packet">http://forge.mysql.com/wiki/MySQL_Internals_ClientServer_Protocol#OK_Packet</a>
でOKパケットの構成を調べると、server_status（2バイト）の内容が異なって
いました（ASCIIキャラクタ表示）。

　サーバA　!%00
　サーバB　+%00

同上のURLでserver_statusの意味を調べると、
server_status:   = The client can use this to check if the
                  command was inside a transaction.
とありました。
今回の値の相違の意味は、一方がトランザクション区間中で、もう一方がトラ
ンザクション区間中でないということでしょうか。
両方のサーバ上で同じようにトランザクション処理をしているつもりなのですが。

以上です。



</pre>
</div>
<p class="button"><a href="15770.html">[前]</a><a href="15772.html">[次]</a><a href="../list/15701-15800.html">[番号順一覧]</a><a href="../thread/15701-15800.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="15771.html">  15771 2012-06-07 12:07 [香西DA &lt;kosai@xxxxxx] MySQLが返却するOKパケットのserver_status</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15772.html">  15772 2012-06-07 13:35 ┗[&lt;gotou1213@xxxxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15773.html">  15773 2012-06-07 14:53 　┗[香西DA &lt;kosai@xxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15774.html">  15774 2012-06-07 22:55 　　┗[&lt;gotou1213@xxxxxxxxx]                                   </a></span>
</pre>
</body>
</html>
