<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15509</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15508">[前]</a><a href="15510">[次]</a><a href="../list/15501-15600">[番号順一覧]</a><a href="../thread/15501-15600">[スレッド一覧]</a></p>
<p class="id">
mysql:15509
</p>
<div class="header">
<p>
From: Tsuyoshi Nukii &lt;Tsuyoshi Nukii &lt;nukii@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 15 Feb 2011 08:51:11 +0900<br>
Subject: [mysql 15509] Re: レプリケーションの遅延対策について<br>

</p>
</div>
<div class="body">
<pre>
とみた様

貫井（ぬきい）です。

解答いただきましていただきましてありがとうございます。

<span class="quote1">&gt; MySQL的には、マスターとスレーブで my.cnf が同じ設定になっているかどうか</span>
<span class="quote1">&gt; とか、行ベースレプリケーションだと複数行を更新するような update/delete</span>
<span class="quote1">&gt; が大量に発行されてないかとか…くらいですかね…。</span>
<span class="quote1">&gt;</span>
my.cnfについて、メモリー関連は同じ設定です。
マスタに接続して、大量のデータ更新を行うため最大接続数が大きく違っていま
す。（マスタ最大接続＝５００、スレーブマスタ最大接続＝２００）

更新に関しましては、複数行更新するupdateは発生していないですし、deleteの
処理は発生しておりません。


<span class="quote1">&gt; HDD交換したということなので、HDDまわりの設定を疑ってみるのもいいんじゃ</span>
<span class="quote1">&gt; ないかと思います。HDD のスペックとか、ファイルシステムのオプションとか、</span>
<span class="quote1">&gt; RAID 設定とか。</span>
<span class="quote1">&gt;</span>
こちらに付きましても、現状確認している限りでは障害発生前と同じなのです。

いろいろご指摘ありがとうございます。

他にもございましたら宜しくお願いたします。

以上

(2011/02/14 23:59), とみたまさひろ wrote:
<span class="quote1">&gt; とみたです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; On Mon, 14 Feb 2011 20:47:00 +0900</span>
<span class="quote1">&gt; Tsuyoshi Nukii&lt;nukii@xxxxxxxxxx&gt;  wrote:</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt;&gt; MySQLのレプリケーション環境で稼動しているサーバのスレーブサーバが</span>
<span class="quote2">&gt;&gt; HDD障害を起こしたので、HDDの交換をおこなって再レプリケーションを</span>
<span class="quote2">&gt;&gt; 行ったところ、レプリケーションの遅延が発生してこまっております。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; MySQL的には、マスターとスレーブで my.cnf が同じ設定になっているかどうか</span>
<span class="quote1">&gt; とか、行ベースレプリケーションだと複数行を更新するような update/delete</span>
<span class="quote1">&gt; が大量に発行されてないかとか…くらいですかね…。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; HDD交換したということなので、HDDまわりの設定を疑ってみるのもいいんじゃ</span>
<span class="quote1">&gt; ないかと思います。HDD のスペックとか、ファイルシステムのオプションとか、</span>
<span class="quote1">&gt; RAID 設定とか。</span>
<span class="quote1">&gt; </span>


-- 
   貫井 剛 （ぬきい つよし）

   mailto:nukii@xxxxxxxxxx

</pre>
</div>
<p class="button"><a href="15508">[前]</a><a href="15510">[次]</a><a href="../list/15501-15600">[番号順一覧]</a><a href="../thread/15501-15600">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15504">  15504 2011-02-14 20:47 [Tsuyoshi Nukii &lt;nuki] レプリケーションの遅延対策について      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15505">  15505 2011-02-14 23:59 ┣[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="15509">  15509 2011-02-15 08:51 ┃┗[Tsuyoshi Nukii &lt;nuki]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15506">  15506 2011-02-15 00:59 ┗[kenichi masuda &lt;masu] Re: [mysql 15504] レプリケーションの遅延対策について</a></span>
</pre>
</body>
</html>
