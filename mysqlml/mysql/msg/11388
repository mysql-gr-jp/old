<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11388</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11387">[前]</a><a href="11389">[次]</a><a href="../list/11301-11400">[番号順一覧]</a><a href="../thread/11301-11400">[スレッド一覧]</a></p>
<p class="id">
mysql:11388
</p>
<div class="header">
<p>
From: Tetsuro IKEDA &lt;Tetsuro IKEDA &lt;ikdttr@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 8 May 2005 21:36:02 -0700<br>
Subject: [mysql 11388] Re: userのho stの設定によ ってログインでき たりできなかったり<br>

</p>
</div>
<div class="body">
<pre>
池田と申します。

さしあたり、権限データベースmysqlの中身を覗いて見てはいかがでしょうか。

SELECT * FROM mysql.user \G
SELECT * FROM mysql.db \G

などで見ることができます。

MySQLでは例えば、

grant all on *.* to 'foobar'@'192.168.11.*' identified by 'pass1';
grant all on *.* to 'foobar'@'%' identified by 'pass2';

といった2つのgrantでユーザが追加されていて、192.168.11.3からユーザ名
foobarでアクセスした場合、認証に使用されるのは2個目のGrant情報ではなく、
1個目のGrant情報です。

私も同じような状況を経験したことがありますが、
権限設定がどのようになっているのかを正しく把握することが
解決の糸口でした。

05/05/08 に Koichi KAWAMURA&lt;koichi@xxxxxxxxxx&gt; さんは書きました:
<span class="quote1">&gt; はじめまして、河村といいます。</span>
<span class="quote1">&gt; まだmysqlを使い始めて間もない初心者です。</span>
<span class="quote1">&gt; よろしくお願いします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; さて、今ちょっと困っていることがあります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ホストA (LINUX)でmysqld Ver 4.0.21が動いており、これに他のホストからユーザー</span>
<span class="quote1">&gt; foobarでログインしたいのです。取りあえずLAN内限定ということで、</span>
<span class="quote1">&gt; foobar@'192.168.1.%'のユーザーを登録すると同LAN内のホストB (WIN XP-SP2)から</span>
<span class="quote1">&gt; 問題なくログインすることができます。クライアントはQuery Browser 1.1.6です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 次にLAN外からもログインできるようにmysql.userのhostを'%'または'%.%.%.%'に変</span>
<span class="quote1">&gt; 更してみたのですが、そうするとAccess denied for user:'foobar@xxxxxxxxxx'な</span>
<span class="quote1">&gt; どと表示され、ホストBからログインすることができません。flush privilegesは当</span>
<span class="quote1">&gt; 然実行しました。Hostを'192.168.1.%'に戻すとまた問題なくログインできるように</span>
<span class="quote1">&gt; なります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; どなたか原因に目星の付く方、解決方をご存知の方がいらっしゃいましたら助言の方</span>
<span class="quote1">&gt; よろしくお願いします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;</span>

</pre>
</div>
<p class="button"><a href="11387">[前]</a><a href="11389">[次]</a><a href="../list/11301-11400">[番号順一覧]</a><a href="../thread/11301-11400">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11387">  11387 2005-05-09 12:22 [&quot;Koichi KAWAMURA&quot; &lt;k] userのhostの設定によってログインできたりできなかったり</a></span>
<span class="current">-&gt;&nbsp;<a href="11388">  11388 2005-05-09 13:36 ┗[Tetsuro IKEDA &lt;ikdtt]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11389">  11389 2005-05-09 17:29 　┗[&quot;Koichi KAWAMURA&quot; &lt;k]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11390">  11390 2005-05-09 17:39 　　┣[Tetsuro IKEDA &lt;ikdtt]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11391">  11391 2005-05-09 17:56 　　┃┗[&quot;Koichi KAWAMURA&quot; &lt;k]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11394">  11394 2005-05-10 08:05 　　┃　┗[とみたまさひろ &lt;tomm]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11395">  11395 2005-05-10 08:17 　　┃　　┗[&quot;Koichi KAWAMURA&quot; &lt;k]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11403">  11403 2005-05-12 02:42 　　┃　　　┗[とみたまさひろ &lt;tomm]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11392">  11392 2005-05-09 17:53 　　┗[Tetsuro IKEDA &lt;ikdtt]                                   </a></span>
</pre>
</body>
</html>
