<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:16399</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="16398.html">[前]</a><a href="16400.html">[次]</a><a href="../list/16301-16400.html">[番号順一覧]</a><a href="../thread/16301-16400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:16399
</p>
<div class="header">
<p>
From: aoike &lt;aoike &lt;masahiro.aoike@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 14 Apr 2017 10:11:08 +0900<br>
Subject: [mysql 16399] Re: [mysql 16393] [告知] MySQL勉強会 in 大阪(第10回)：4/11(火)<br>

</p>
</div>
<div class="body">
<pre>
先日はありがとうございました、あおいけです。

宿題（？）だったJSON型の件です。
jsonを扱う関数にjson文字列をjsonObjectとして使えないか…という問いに対して
「json_extract使えばいいんじゃない？」とのことだったので試してみました。

JSON型のcolumn(authority)がupdate前には
   {&quot;authority&quot;: {&quot;DC1&quot;: {&quot;rack&quot;: [&quot;A01&quot;]}}}
となっている状態から
   {&quot;authority&quot;: {&quot;DC1&quot;: {&quot;rack&quot;: [&quot;A01&quot;]},&quot;DC2&quot;:{&quot;rack&quot;:[&quot;A01&quot;]}}}
に変更したい（{&quot;DC2&quot;:{&quot;rack&quot;:[&quot;A01&quot;]}}をinsert）ので、json_unquoteにJson文字列を放り込んで

update u_group set authority = 
json_insert(authority,'$.authority.DC2',json_unquote(&quot;{\&quot;DC2\&quot;:{\&quot;rack\&quot;:[\&quot;A01\&quot;]}}&quot;));

とすると
{&quot;authority&quot;: {&quot;DC1&quot;: {&quot;rack&quot;: [&quot;A01&quot;]},&quot;DC2&quot;: 
&quot;{\&quot;DC2\&quot;:{\&quot;rack\&quot;:[\&quot;A01\&quot;]}}&quot;}}

と文字列扱いされてしまい、NGでした。



</pre>
</div>
<p class="button"><a href="16398.html">[前]</a><a href="16400.html">[次]</a><a href="../list/16301-16400.html">[番号順一覧]</a><a href="../thread/16301-16400.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="16393.html">  16393 2017-04-05 18:30 [&quot;YAMASAKI, Yoshiaki&quot;] [告知] MySQL勉強会 in 大阪(第10回)：4/11(火)</a></span>
<span class="current">-&gt;&nbsp;<a href="16399.html">  16399 2017-04-14 10:11 ┗[aoike &lt;masahiro.aoik] Re: [mysql 16393] [告知] MySQL勉強会 in 大阪(第10回)：4/11(火)</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16400.html">  16400 2017-04-14 10:43 　┗[&quot;yoku ts.&quot; &lt;yoku0825] Re: [mysql 16399] Re: [mysql 16393] [告知] MySQL勉強会 in 大阪(第10回)：4/11(火)</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="16401.html">  16401 2017-04-14 11:19 　　┗[aoike &lt;masahiro.aoik] Re: [mysql 16400] Re: [mysql 16399] Re: [mysql 16393] [告知] MySQL勉強会 in 大阪(第10回)：4/11(火)</a></span>
</pre>
</body>
</html>
