<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:4882</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="4881">[前]</a><a href="4883">[次]</a><a href="../list/4801-4900">[番号順一覧]</a><a href="../thread/4801-4900">[スレッド一覧]</a></p>
<p class="id">
mysql:4882
</p>
<div class="header">
<p>
From: &quot;f.t&quot; &lt;&quot;f.t&quot; &lt;fujiyama@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 09 Jan 2002 13:36:41 +0900<br>
Subject: [mysql 04882] Re: delete の繰り返し<br>

</p>
</div>
<div class="body">
<pre>
fujiyamaです。

&quot;goudo&quot; &lt;goudo@xxxxxxxxxx&gt; wrote(Wed, 9 Jan 2002 12:14:49 +0900):

<span class="quote1">&gt; 下記のプログラムです。</span>
<span class="quote1">&gt; テキストファイル（　ファイルポインタ　fp）を読みこみ</span>
<span class="quote1">&gt; 注文番号だけを抜きだし、データベースのテーブル（nouki）</span>
<span class="quote1">&gt; から、その注文番号のデータを消しこむ作業です。</span>
<span class="quote1">&gt; 尚、OSはWinNT４．０、PHA３．０．１７　、</span>
<span class="quote1">&gt; WWWはNHTTP</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 問題。　消しこむデータは２０００ぐらいあるが、実際には</span>
<span class="quote1">&gt; 　　　　　４０ぐらいで終わってしまう。</span>
<span class="quote1">&gt; 　　　　　時々、WinNT４がアプリケーションエラーを出す（？）</span>
<span class="quote1">&gt;             （原因はphp.exeとログに書き出されている）</span>
<span class="quote1">&gt; 　　　　　ブラウザには、エラー類は表示しない。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 質問</span>
<span class="quote1">&gt;         １．このような繰り返しをしてもよいのか？。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　　　　　（１つのデリート処理中に次のデリート処理を</span>
<span class="quote1">&gt; 　　　　　　次々に入れてまずいのかな？。）</span>
<span class="quote1">&gt;         ２．まずいなら、どのように書いたら良いのか？。</span>
<span class="quote1">&gt; ------------------------------------------------</span>
<span class="quote1">&gt;  while ($buf=fgets($fp,500)) {</span>
<span class="quote1">&gt;       $buf=substr($buf,0,10);</span>
<span class="quote1">&gt;       $state=mysql_query(&quot;delete from nouki </span>
<span class="quote1">&gt;                  where 注文番号='$buf'&quot;);</span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt;  }</span>

これだけ見ると別に
<span class="quote1">&gt; １つのデリート処理中に次のデリート処理を</span>
とはなっていない気が？？

この組み合わせは知らないので的を外しているかもしれませんが、、、

一番ありそうなのはPHPのタイムアウトと日本語問題と思ったのですが、PHP（使
い方はよく分かりませんが）の方で普通(Apacheなどのサーバで通常のエラー表
示設定にしていれば）メッセージが出るだろうし、、、
ということで、MYSQLの方のログは何もないんですか？

＃肝心のMySQLのバージョン書いてないですよ。

＃ところで、
＃while($buf=fgets($fp,11))
＃で同じことなのでは？

-- よろしくお願いします
f.t &lt;fujiyama@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="4881">[前]</a><a href="4883">[次]</a><a href="../list/4801-4900">[番号順一覧]</a><a href="../thread/4801-4900">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="4878">   4878 2002-01-09 08:50 [Yukihiro KAWADA &lt;kaw] MyODBC conv_ujis                        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4879">   4879 2002-01-09 08:55 ┗[Yukihiro KAWADA &lt;kaw]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4881">   4881 2002-01-09 12:14 　┗[&quot;goudo&quot; &lt;goudo@xxxxx] delete の繰り返し                   </a></span>
<span class="current">-&gt;&nbsp;<a href="4882">   4882 2002-01-09 13:36 　　┗[&quot;f.t&quot; &lt;fujiyama@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4883">   4883 2002-01-09 16:17 　　　┣[&quot;goudo&quot; &lt;goudo@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4932">   4932 2002-01-16 13:42 　　　┃┗[&quot;f.t&quot; &lt;fujiyama@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4934">   4934 2002-01-16 15:35 　　　┃　┗[&quot;goudo&quot; &lt;goudo@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4935">   4935 2002-01-16 15:48 　　　┃　　┣[&quot;yu-ji.takahashi&quot; &lt;y]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4936">   4936 2002-01-16 20:04 　　　┃　　┗[&lt;yamauchi@xxxxxxxxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4886">   4886 2002-01-09 17:40 　　　┗[&quot;T.Yamamoto&quot; &lt;yamamo] データ形式について              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4887">   4887 2002-01-09 19:34 　　　　┣[Daiju Azuma &lt;daiju_a]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4888">   4888 2002-01-09 20:34 　　　　┃┗[&quot;T.Yamamoto&quot; &lt;yamamo]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4889">   4889 2002-01-09 20:47 　　　　┣[&quot;yu-ji.takahashi&quot; &lt;y]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="4890">   4890 2002-01-09 22:26 　　　　┗[&lt;donald@xxxxxxxxxx&gt; ]                               </a></span>
</pre>
</body>
</html>
