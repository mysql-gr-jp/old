<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3234</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3233.html">[前]</a><a href="3235.html">[次]</a><a href="../list/3201-3300.html">[番号順一覧]</a><a href="../thread/3201-3300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3234
</p>
<div class="header">
<p>
From: (遠藤 俊裕) &lt;&lt;endo_t@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 12 Feb 2001 18:18:32 +0900<br>
Subject: [mysql 03234] 検索速度の向上について<br>

</p>
</div>
<div class="body">
<pre>ども、えんどう＠にふてぃ です。

今まであるソフトを開発してきて、データベースの構造が変わると、
・データをクライアント側で CSV に変換して保存
・DROP TABLE でテーブルを削除
・CREATE TABLE でテーブル作成
・CSV をテーブルに INSERT INTO で戻す
という作業を行ってきました。
この時のキーはまぁ、お世辞にも良いとは言えませんでした。
で、検索速度が遅くなってきたので Index の構造を変えよう
と作業を始めました。
ま、でもその前にデータベースをバックアップして置いた方
が良かろうと言うことで、サーバ側で mysqldump を実行しま
した。
その結果の SQL 分に手を入れてキー候補に NOT NULL 属性を
追加しました。まだ Index は追加していません。

データベースをディレクトリごと固め（万が一のため）、削
除し、作成し直し、mysqldump の結果を食わせました。
で、ものは試しとばかりにクライアントソフトを動かすと。。
。むっちゃ速い。。
SELECT の結果も、作業を行う前は 4.? sec かかっていたの
に、現在は 0.02 sec です。
これはいかなる理由なのでしょうか？
検索速度が上がってしまったので、Index を増やしたときの
効果がわからなくなってしまってはなはだ迷惑です（爆笑）。
もしかして、Insert 時に NOT NULL 属性の付いた項目につい
ては勝手に Index を付けるのでしょうか？^^;

データベースを元に戻して確認し直せば色々わかるのかもしれ
ませんが、もし、既知の事実なら教えていただく方が楽かと思
い、横着してしまいました。^^;

理由をご存じの方お教え下さい。m(_ _)m

--
えんどう＠にふてぃ
mail: endo_t@xxxxxxxxxx, endo@xxxxxxxxxx
<a href="http://homepage1.nifty.com/EndoT/">http://homepage1.nifty.com/EndoT/</a>

</pre>
</div>
<p class="button"><a href="3233.html">[前]</a><a href="3235.html">[次]</a><a href="../list/3201-3300.html">[番号順一覧]</a><a href="../thread/3201-3300.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="3234.html">   3234 2001-02-12 18:18 [&lt;endo_t@xxxxxxxxxx&gt; ] 検索速度の向上について                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3235.html">   3235 2001-02-12 21:34 ┣[Kazufumi Hase &lt;kazuf]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3237.html">   3237 2001-02-12 22:58 ┃┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3238.html">   3238 2001-02-12 23:58 ┃　┗[Kazufumi Hase &lt;kazuf]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3240.html">   3240 2001-02-13 06:29 ┃　　┗[&lt;endo_t@xxxxxxxxxx&gt; ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3241.html">   3241 2001-02-13 10:09 ┃　　　┗[Kazufumi Hase &lt;kazuf]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3242.html">   3242 2001-02-13 10:54 ┃　　　　┗[&lt;endo_t@xxxxxxxxxx&gt; ]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3244.html">   3244 2001-02-13 17:45 ┗[madara &lt;madara@xxxxx]                                       </a></span>
</pre>


</body></html>