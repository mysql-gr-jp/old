<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11309</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="11308.html">[前]</a><a href="11310.html">[次]</a><a href="../list/11301-11400.html">[番号順一覧]</a><a href="../thread/11301-11400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11309
</p>
<div class="header">
<p>
From: &quot;佐野 大輔&quot; &lt;&quot;佐野 大輔&quot; &lt;d-sano@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 05 Apr 2005 23:34:33 +0900<br>
Subject: [mysql 11309] innodbのバイナリバックアップ<br>

</p>
</div>
<div class="body">
<pre>
佐野と申します。

事情がありまして、

1.mysqldをシャットダウンさせたくない
2.バイナリバックアップ（データファイルのコピー）
によるバックアップを行いたい
3.InnoDBホットバックアップは使えない

という状況に瀕しています。

このような場合に、

1.新たなDBへのリクエストが発生しない状態を保証する
2.進行中のトランザクションが全てコミットされるのを待つ
3.MySQLの書き込みスレッドが動作しなくなるのを待つ
4.datadir丸ごとコピーをとる

というような方法で、何か実質的な問題
（リストア時にリカバリが動いてしまうのはしょうがないとして）
はあるのでしょうか？

MySQLのマニュアルには
（<a href="http://dev.mysql.com/doc/mysql/ja/backing-up.html">http://dev.mysql.com/doc/mysql/ja/backing-up.html</a>）
シャットダウンしなければならないように記述がありますが、

一方で、
InnoDBホットバックアップのマニュアル6.3項には
（<a href="http://www.softagency.co.jp/products/innodb/manual.html">http://www.softagency.co.jp/products/innodb/manual.html</a>）

・進行中の書き込みトランザクションがない
・I/Oのスレッドが動いていない

ことを条件に、データファイルのコピーがとれるような記述がしてあります。

アーキテクチャに詳しい方がいらっしゃいましたら、
アドバイスお願いできませんでしょうか？

よろしくお願いいたします。

</pre>
</div>
<p class="button"><a href="11308.html">[前]</a><a href="11310.html">[次]</a><a href="../list/11301-11400.html">[番号順一覧]</a><a href="../thread/11301-11400.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="11309.html">  11309 2005-04-05 23:34 [&quot;佐野 大輔&quot; &lt;d-sano@] innodbのバイナリバックアップ            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11310.html">  11310 2005-04-06 00:15 ┣[Suzuki Yuta &lt;yuta@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11311.html">  11311 2005-04-06 01:03 ┗[SATOH Fumiyasu &lt;fumi]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11313.html">  11313 2005-04-06 10:49 　┗[&quot;佐野 大輔&quot; &lt;d-sano@]                                     </a></span>
</pre>
</body>
</html>
