<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13523</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13522.html">[前]</a><a href="13524.html">[次]</a><a href="../list/13501-13600.html">[番号順一覧]</a><a href="../thread/13501-13600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13523
</p>
<div class="header">
<p>
From: kondo &lt;kondo &lt;mail.list.dev@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 20 Nov 2006 13:58:51 +0900<br>
Subject: [mysql 13523] Re: Fedora Core 5   に MySQL4.0.20  をインストールしたい<br>

</p>
</div>
<div class="body">
<pre>
近藤です。

<span class="quote1">&gt;ただ、PHPからMySQLに接続しデータを取得する際、いちいち&quot;SET NAMES ujis&quot;</span>
をやるの
<span class="quote1">&gt;が面倒だってのが一番の理由です。</span>
<span class="quote1">&gt;これをやらないと文字列が「?」になってしまうので。。。</span>

PHPやってないのでわかりませんが、php.iniにujisと設定しても?になりますか。
設定がない場合等、PHPがどういう文字コードで取得しているのかがポイントで
すね。
もし、&quot;OS標準の文字コードに準ずる&quot;というのであれば、FCって確か標準文字
コードが
UTF-8だったと思ったので、default-character-set=utf8と設定してあげると幸
せになれる
かもしれません。
当方環境がないため、確認できていませんが。4.0.20のRPMパッケージがだめ
だったら、
このあたりをいじくる方が早道かもしれません。



2many dj wrote:
<span class="quote1">&gt; お返事ありがとうございます。</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt; &gt;makeってスーパーユーザーでやってますよね？</span>
<span class="quote1">&gt; rootでやっています。</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt; &gt;MySQL4.0.20というのもちょっと古いですね。</span>
<span class="quote1">&gt; 一番慣れているのがこれだって理由で使おうと思っています。</span>
<span class="quote1">&gt; やはり古いってのも問題なんでしょうか。</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt; &gt;私も見たことないエラーですが、mysql-4.0.27.tar.gz</span>
<span class="quote1">&gt; でやってみてはどうでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; これは一度試してみました。</span>
<span class="quote1">&gt; そのときも全く同じ状態です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ただ、MySQL4.1.x系は試していません。</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt; &gt;あと、rpmパッケージでインストールしてみるのという手もあるかと思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; これから試してみます！</span>
<span class="quote1">&gt;</span>
<span class="quote2">&gt; &gt;それと、蛇足ではありますがMySQL5.0.22で日本語の扱いに困ったというのは</span>
<span class="quote1">&gt; どういう内容でしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; php.ini、my.cnf共にcharsetはujisにしております。</span>
<span class="quote1">&gt; 特に文字化け等も発生しておりません。</span>
<span class="quote1">&gt; ただ、PHPからMySQLに接続しデータを取得する際、いちいち&quot;SET NAMES ujis&quot;</span>
<span class="quote1">&gt; をやるのが面倒だってのが一番の理由です。</span>
<span class="quote1">&gt; これをやらないと文字列が「?」になってしまうので。。。</span>
<span class="quote1">&gt; 出来る限り発行するクエリを減らしたいのと、ある程度枯れてる4.0系を使い</span>
<span class="quote1">&gt; たいってのも理由です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; *kondo &lt;mail.list.dev@xxxxxxxxxx&gt;* wrote:</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     近藤です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     makeってスーパーユーザーでやってますよね？</span>
<span class="quote1">&gt;     MySQL4.0.20というのもちょっと古いですね。</span>
<span class="quote1">&gt;     私も見たことないエラーですが、mysql-4.0.27.tar.gz</span>
<span class="quote1">&gt;     で</span>
<span class="quote1">&gt;     やってみてはどうでしょうか？</span>
<span class="quote1">&gt;     あと、rpmパッケージでインストールしてみるのという手もあるかと思い</span>
<span class="quote1">&gt;     ます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     ■4.0.20</span>
<span class="quote1">&gt;     <a href="http://downloads.mysql.com/archives/mysql-4.0/">http://downloads.mysql.com/archives/mysql-4.0/</a></span>
<span class="quote1">&gt;     MySQL-4.0.20-0.src.rpm</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     ■4.0.27</span>
<span class="quote1">&gt;     <a href="http://downloads.mysql.com/archives/mysql-4.0/MySQL-4.0.27-0.src.rpm">http://downloads.mysql.com/archives/mysql-4.0/MySQL-4.0.27-0.src.rpm</a></span>
<span class="quote1">&gt;     <a href="http://downloads.mysql.com/archives/mysql-4.0/mysql-4.0.27.tar.gz">http://downloads.mysql.com/archives/mysql-4.0/mysql-4.0.27.tar.gz</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     それと、蛇足ではありますがMySQL5.0.22で日本語の扱いに困ったという</span>
<span class="quote1">&gt;     のはど</span>
<span class="quote1">&gt;     ういう</span>
<span class="quote1">&gt;     内容でしょうか？</span>
<span class="quote1">&gt;     仮に「日本語が正しく表示されない・書き込まれない」という問題だとす</span>
<span class="quote1">&gt;     れば、</span>
<span class="quote1">&gt;     どのように</span>
<span class="quote1">&gt;     確かめたかが問題になります。MySQLの場合、my.confで使用する文字コー</span>
<span class="quote1">&gt;     ドの設定が</span>
<span class="quote1">&gt;     default-character-setという設定が[mysqld]でできますので、クライア</span>
<span class="quote1">&gt;     ントの</span>
<span class="quote1">&gt;     文字コード</span>
<span class="quote1">&gt;     と合わせれば問題なないかとおもいます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     2many dj wrote:</span>
<span class="quote2">&gt;     &gt; 皆様始めまして。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; 自宅サーバ(Fedora Core 5)にyumコマンドでMySQL5.0.22、PHP5.1.6を</span>
<span class="quote1">&gt;     インス</span>
<span class="quote2">&gt;     &gt; トールしました。</span>
<span class="quote2">&gt;     &gt; ただ、MySQLの日本語の扱いに困りMySQL4.0.20に変更しようと思い下記</span>
<span class="quote1">&gt;     手順を</span>
<span class="quote2">&gt;     &gt; 踏みました。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; yum remove mysql.i386で削除。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; <a href="http://downloads.mysql.com/archives/mysql-4.0/mysql-4.0.20.tar.gz">http://downloads.mysql.com/archives/mysql-4.0/mysql-4.0.20.tar.gz</a></span>
<span class="quote2">&gt;     &gt; をwgetし解凍。</span>
<span class="quote2">&gt;     &gt; その後</span>
<span class="quote2">&gt;     &gt; ./configure --with-charset=ujis --prefix=/var/lib/mysql/</span>
<span class="quote2">&gt;     &gt; --with-mysqld-user=mysql --with-extra-charsets=all</span>
<span class="quote1">&gt;     --without-readline</span>
<span class="quote2">&gt;     &gt; --with-named-thread-libs=&quot;-lpthread&quot;</span>
<span class="quote2">&gt;     &gt; と指定しconfigure。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; configure自体は特に問題無く終わるのでmakeをすると</span>
<span class="quote2">&gt;     &gt; make[4]: *** [mysqld] Error 1</span>
<span class="quote2">&gt;     &gt; make[4]: Leaving directory `/usr/src/mysql-4.0.20/sql'</span>
<span class="quote2">&gt;     &gt; make[3]: *** [all-recursive] Error 1</span>
<span class="quote2">&gt;     &gt; make[3]: Leaving directory `/usr/src/mysql-4.0.20/sql'</span>
<span class="quote2">&gt;     &gt; make[2]: *** [all] Error 2</span>
<span class="quote2">&gt;     &gt; make[2]: Leaving directory `/usr/src/mysql-4.0.20/sql'</span>
<span class="quote2">&gt;     &gt; make[1]: *** [all-recursive] Error 1</span>
<span class="quote2">&gt;     &gt; make[1]: Leaving directory `/usr/src/mysql-4.0.20'</span>
<span class="quote2">&gt;     &gt; make: *** [all] Error 2</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; と言う表示が出て止まります。</span>
<span class="quote2">&gt;     &gt; このメッセージで色々検索し、いくつか手がかりになりそうな物を見つ</span>
<span class="quote1">&gt;     け試し</span>
<span class="quote2">&gt;     &gt; てみましたが、全く変化が無いです。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; 尚、config.logを見ると</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; configure: failed program was:</span>
<span class="quote3">&gt;     &gt; | #line 31477 &quot;configure&quot;</span>
<span class="quote3">&gt;     &gt; | /* confdefs.h. */</span>
<span class="quote3">&gt;     &gt; |</span>
<span class="quote3">&gt;     &gt; | #define PACKAGE_NAME &quot;&quot;</span>
<span class="quote3">&gt;     &gt; | #define PACKAGE_TARNAME &quot;&quot;</span>
<span class="quote3">&gt;     &gt; | #define PACKAGE_VERSION &quot;&quot;</span>
<span class="quote3">&gt;     &gt; | #define PACKAGE_STRING &quot;&quot;</span>
<span class="quote3">&gt;     &gt; | #define PACKAGE_BUGREPORT &quot;&quot;</span>
<span class="quote3">&gt;     &gt; | #define PACKAGE &quot;mysql&quot;</span>
<span class="quote3">&gt;     &gt; | #define VERSION &quot;4.0.20&quot;</span>
<span class="quote3">&gt;     &gt; | #define PROTOCOL_VERSION 10</span>
<span class="quote3">&gt;     &gt; | #define DOT_FRM_VERSION 6</span>
<span class="quote3">&gt;     &gt; | #define SYSTEM_TYPE &quot;pc-linux&quot;</span>
<span class="quote3">&gt;     &gt; | #define MACHINE_TYPE &quot;i686&quot;</span>
<span class="quote3">&gt;     &gt; | #ifdef __cplusplus</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; こんな感じでずらっとあります。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; 何かご意見頂けると助かります。</span>
<span class="quote2">&gt;     &gt; よろしくお願いします。</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote1">&gt;     ------------------------------------------------------------------------</span>
<span class="quote2">&gt;     &gt; Yahoo! JAPAN &quot;Pink Ribbon Campaign 2006&quot;</span>
<span class="quote2">&gt;     &gt;</span>
<span class="quote2">&gt;     &gt; -Breast Cancer Awareness-</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ------------------------------------------------------------------------</span>
<span class="quote1">&gt; Yahoo! JAPAN &quot;Pink Ribbon Campaign 2006&quot;</span>
<span class="quote1">&gt; &lt;<a href="http://pr.mail.yahoo.co.jp/pinkribbon/">http://pr.mail.yahoo.co.jp/pinkribbon/</a>&gt;</span>
<span class="quote1">&gt; -Breast Cancer Awareness- </span>


</pre>
</div>
<p class="button"><a href="13522.html">[前]</a><a href="13524.html">[次]</a><a href="../list/13501-13600.html">[番号順一覧]</a><a href="../thread/13501-13600.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="13520.html">@ 13520 2006-11-20 12:59 [2many dj &lt;twomanydj2] Fedora Core 5 に MySQL4.0.20 をインストールしたい</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13521.html">  13521 2006-11-20 13:33 ┣[kondo &lt;mail.list.dev]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13522.html">@ 13522 2006-11-20 13:43 ┃┗[2many dj &lt;twomanydj2]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="13523.html">  13523 2006-11-20 13:58 ┃　┗[kondo &lt;mail.list.dev]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13526.html">@ 13526 2006-11-20 15:34 ┃　　┗[2many dj &lt;twomanydj2]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13524.html">@ 13524 2006-11-20 14:10 ┣[小川 &lt;mcn010@xxxxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13525.html">  13525 2006-11-20 15:14 ┗[Tetsuro IKEDA &lt;te.ik]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13527.html">@ 13527 2006-11-20 15:37 　┗[2many dj &lt;twomanydj2]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13528.html">  13528 2006-11-20 16:49 　　┗[Tetsuro IKEDA &lt;te.ik]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13529.html">@ 13529 2006-11-20 18:00 　　　┗[2many dj &lt;twomanydj2]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13530.html">  13530 2006-11-20 18:18 　　　　┗[Tetsuro IKEDA &lt;te.ik]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13531.html">@ 13531 2006-11-20 18:33 　　　　　┣[2many dj &lt;twomanydj2]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13532.html">  13532 2006-11-20 18:40 　　　　　┗[2many dj &lt;twomanydj2]                             </a></span>
</pre>
</body>
</html>
