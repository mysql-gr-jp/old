<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14220</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14219">[前]</a><a href="14221">[次]</a><a href="../list/14201-14300">[番号順一覧]</a><a href="../thread/14201-14300">[スレッド一覧]</a></p>
<p class="id">
mysql:14220
</p>
<div class="header">
<p>
From: mye &lt;mye &lt;mye@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 20 Sep 2007 08:50:37 -0600<br>
Subject: [mysql 14220] Re: innodb_file_per_tableなのにibdata1が利用される<br>

</p>
</div>
<div class="body">
<pre>

ムハマドです。

ibdata1ファイルはログと関係はありませんが、innoDBテーブルと関係はありま
す。
ibdata1ファイルサイズを初期化したい場合、次の方法で行ってみてください。

・innoDBテーブルを削除
・MySQLサーバを停止
・その後、ibdata1とinnoDBログファイルを削除
・MySQLを起動

起動した時に、自動的にMySQLサーバが小さいibdata1を作成します。

もしinnoDBテーブルがあり、それを利用したい場合、
上記の作業中にMySQLを停止する前に、mysqldumpでバックアップしてから、
innoDBテーブルを削除してみてください。
MySQLを起動した後、innoDBテーブルのリストアを行ってください。

このURLが英語ですが、一度確認ください。

<a href="http://bugs.mysql.com/bug.php?id=1287">http://bugs.mysql.com/bug.php?id=1287</a>

安全のために、作業前にmysqldumpでのバックアップとMySQLのディレクトリの丸
ごとコピーのバックアップを行ったほうがよいです。

On Thu, 20 Sep 2007 23:51:23 +0900
&quot;玉越大輝&quot; &lt;hiroki.tamakoshi@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; こんにちは。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 株式会社ビービットの玉越です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 利用しないはずのibdata1が何らかのために利用されているようで、原因が</span>
<span class="quote1">&gt; 分からないので質問させてください。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 現在、設定ファイルでinnodb_file_per_tableを設定しています。</span>
<span class="quote1">&gt; そのため、ibdata1は利用されないと考えていました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ところが、このファイルが現在7.3GBあり、少しずつ増えていて何かに使わ</span>
<span class="quote1">&gt; れていることが分かりました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; データベース全体は78GBくらいありますから、それがibdata1に全て入って</span>
<span class="quote1">&gt; はいないでしょうから何のために使われているのか分からない状況です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; この現象は一体なんでしょうか？また、調べる方法はありますでしょうか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; どなたかご存知でしたらご教示いただけますと幸いです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; -- </span>
<span class="quote1">&gt; ------------------------------------------------------</span>
<span class="quote1">&gt; 　　ビービットはチームマイナス6％に参画しています</span>
<span class="quote1">&gt; ------------------------------------------------------</span>
<span class="quote1">&gt; 株式会社ビービット　玉越 大輝</span>
<span class="quote1">&gt; ユーザビリティ コンサルタント</span>
<span class="quote1">&gt; beBit,Inc. Tamakoshi Hiroki hiroki.tamakoshi@xxxxxxxxxx</span>
<span class="quote1">&gt; --------------------------------------------------------</span>
<span class="quote1">&gt; 〒105-0001 東京都港区虎ノ門1-18-1 虎ノ門10森ビル7F</span>
<span class="quote1">&gt; TEL: 03-3509-7602 / FAX: 03-3509-7605</span>
<span class="quote1">&gt; URL: <a href="http://www.bebit.co.jp/">http://www.bebit.co.jp/</a></span>
<span class="quote1">&gt; --------------------------------------------------------</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>

==================================
mye &lt;mye@xxxxxxxxxx&gt;
<a href="http://www.infolinux.jp">http://www.infolinux.jp</a>
<a href="http://faq.infolinux.jp">http://faq.infolinux.jp</a>
<a href="http://exim.infolinux.jp">http://exim.infolinux.jp</a>
<a href="http://jp.chkrootkit.org">http://jp.chkrootkit.org</a>
<a href="http://admintool.infolinux.jp">http://admintool.infolinux.jp</a>



</pre>
</div>
<p class="button"><a href="14219">[前]</a><a href="14221">[次]</a><a href="../list/14201-14300">[番号順一覧]</a><a href="../thread/14201-14300">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14219">  14219 2007-09-20 23:51 [&quot;玉越大輝&quot; &lt;hiroki.t] innodb_file_per_tableなのにibdata1が利用される</a></span>
<span class="current">-&gt;&nbsp;<a href="14220">  14220 2007-09-20 23:50 ┗[mye &lt;mye@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14221">  14221 2007-09-21 10:24 　┗[&quot;玉越大輝&quot; &lt;hiroki.t]                                     </a></span>
</pre>
</body>
</html>
