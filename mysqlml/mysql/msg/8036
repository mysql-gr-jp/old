<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:8036</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="8035">[前]</a><a href="8037">[次]</a><a href="../list/8001-8100">[番号順一覧]</a><a href="../thread/8001-8100">[スレッド一覧]</a></p>
<p class="id">
mysql:8036
</p>
<div class="header">
<p>
From: &lt;ytb73@xxxxxxxxxx&gt;<br>
Date: Wed, 16 Jul 2003 13:08:31 +0900<br>
Subject: [mysql 08036] カラムの和でソート<br>

</p>
</div>
<div class="body">
<pre>
矢田部＠山梨です。
お世話になります。
MySQL3.23で、複数カラムの和をいくつか求め、その総和でソートをしたいのです。
table_a に a,b,c,d という整数型のカラムがあるとして、

[caseA]
select
a + b as AB,
c + d as CD,
a + b + c + d as ABCD
from table_a
order by ABCD

とすればうまくいくのですが、これだとあまりに不細工なのでを

[caseB]
select
a + b as AB,
c + d as CD,
AB + CD as ABCD
from table_a
order by ABCD

とすると
ERROR 1054: Unknown column 'AB' in 'field list'
が、

[caseC]
select
a + b as AB,
c + d as CD
from table_a
order by AB + CD

とすると
ERROR 1054: Unknown column 'AB' in 'order clause'
が出てしまいます。

過去のMLを見たところ、[caseB]は select clause で定義したエイリアスを
 orderby clause で使おうとしていることが、
[caseC]は order by の中に式を書こうとしているのがまずいとわかりました。

しかし、[caseA]以外の簡略化した手法はないでしょうか。
ご存知の方おられましたらご教授いただけるとうれしいです。

~~~~~
矢田部


</pre>
</div>
<p class="button"><a href="8035">[前]</a><a href="8037">[次]</a><a href="../list/8001-8100">[番号順一覧]</a><a href="../thread/8001-8100">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="8036">   8036 2003-07-16 13:08 [&lt;ytb73@xxxxxxxxxx&gt;  ] カラムの和でソート                      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8037">   8037 2003-07-16 13:15 ┣[&lt;ytb73@xxxxxxxxxx&gt;  ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8040">   8040 2003-07-16 13:33 ┣[班石悦夫 &lt;madara@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8042">   8042 2003-07-16 13:43 ┃┗[&lt;ytb73@xxxxxxxxxx&gt;  ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="8083">   8083 2003-07-28 17:04 ┗[Ohyama &lt;ohyamah@xxxx]                                       </a></span>
</pre>
</body>
</html>
