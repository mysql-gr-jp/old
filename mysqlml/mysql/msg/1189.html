<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:1189</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="1188.html">[前]</a><a href="1190.html">[次]</a><a href="../list/1101-1200.html">[番号順一覧]</a><a href="../thread/1101-1200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:1189
</p>
<div class="header">
<p>
From: 奥田  典子 &lt;奥田  典子 &lt;okud_no@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 01 Sep 1999 18:40:16 +0900<br>
Subject: [mysql 01189] mysqladmin について<br>

</p>
</div>
<div class="body">
<pre>
先日、更新系クエリー (サーバ：Linux 2.0.30/クライアント：
Perl +Win32::ODBC) の件でお世話になった奥田です。

運良く (??) 本日、ロック状態が発生したので、毅さんのアドバイスに
ありました、mysqladmin processlist  をたたいてみました。

fz000436:/# mysqladmin processlist
+----+------+----------------------------+------+-------------+
<span class="quote1">| Id | User | Host                       | db   | Command     |</span>
+----+------+----------------------------+------+-------------+
<span class="quote1">| 48 | root | fz000922.mid.fujitsu.co.jp | sadb | System lock |</span>
<span class="quote1">| 49 | root | localhost                  |      | Processes   |</span>
+----+------+----------------------------+------+-------------+
------------------------------------------------------------------------------------------------------+
 Info                                                                                                 |
------------------------------------------------------------------------------------------------------+
 UPDATE PKA SET FKBN = 'KA',MKBN = '3',KIKI = '189165',TYPE = 'A23746H0C1',ADDNO = '00',PKBN = 'S',DM |
                                                                                                      |
------------------------------------------------------------------------------------------------------+
Id=48が問題のスクリプトのプロセスです。
Command欄には、System lockとありますが、これは、MySQL がテーブル
をロックしようとしている状態、という意味でしょうか。

また、mysqladmin status  というのもやってみました。

fz000436:/# mysqladmin status
Uptime: 28582  Running threads: 2  Questions: 246  Opened_tables: 8  
Reloads: 1 Open tables: 5

3.22.21 MySQL Reference Manualでは、Open tables=現在開かれているテ
ーブルの数となっていますが、slelect や update を実行している最中、
テーブルをオープンしているという考え方なのでしょうか。
-----------------------------------------------------------------
奥田  典子 &lt;okud_no@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="1188.html">[前]</a><a href="1190.html">[次]</a><a href="../list/1101-1200.html">[番号順一覧]</a><a href="../thread/1101-1200.html">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="1189.html">   1189 1999-09-01 18:40 [奥田  典子 &lt;okud_no@] mysqladmin について                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1191.html">   1191 1999-09-01 19:03 ┣[&lt;takeshi@xxxxxxxxxx&gt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="1209.html">   1209 1999-09-06 04:41 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
</pre>
</body>
</html>
