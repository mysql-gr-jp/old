<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15365</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="15364.html">[前]</a><a href="15366.html">[次]</a><a href="../list/15301-15400.html">[番号順一覧]</a><a href="../thread/15301-15400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15365
</p>
<div class="header">
<p>
From: SAKAI Kei &lt;SAKAI Kei &lt;sak2@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 17 Aug 2010 12:05:39 +0900<br>
Subject: [mysql 15365] Re: 上手なお引っ越し<br>

</p>
</div>
<div class="body">
<pre>坂井です

  「仮定のお話にはお答えすることはできません」と冗談で返したく
  なるような質問ですが（笑）、面白そうなので考えてみました。
  
<span class="quote1">&gt; ＨＤＤの容量や、ＣＰＵの性能アップなどの問題で、お引っ越</span>
<span class="quote1">&gt; しを余儀なくされたとします。</span>

  条件として
  ・あんまり派手な手間はかけたくない
  ・サービス停止は最小限にしたい（多少止まっても良い）
  とすると、

（１）引っ越し先ＤＢをスレーブとしたレプリケーションを構成
（２）引っ越し先にスクリプト等（httpも同サーバで動かしているんですよね？）
を設置して動作可能な状態にしておく
（３）旧サーバ停止。新サーバレプリケーション終了してマスタ化。DNS切替。
      DNS切り替えのタイムラグ等で旧サーバに来た人のために、説明の文書
      掲示がよさげ。（ここで旧サーバも稼働継続していて、そちらで更新
      されちゃうのは最悪）

 こんな感じかなぁと思います。

thank you
On Tue, 17 Aug 2010 11:44:55 +0900
遠藤 俊裕 &lt;endo@xxxxxxxxxx&gt; wrote:
<span class="quote1">&gt; 遠藤と申します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 皆様にご質問です。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; とあるＤＢ（MySQL）を管理していたとします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＨＤＤの容量や、ＣＰＵの性能アップなどの問題で、お引っ越</span>
<span class="quote1">&gt; しを余儀なくされたとします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 皆さんなら、どうしますか？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; もちろん、そのＤＢは稼働中で、おいそれと止めることは出来</span>
<span class="quote1">&gt; ません。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ＤＢのタイプも MyISAM もあれば、InnoDB もあります。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ご意見頂ければ幸いです。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --</span>
<span class="quote1">&gt; えんどう</span>
<span class="quote1">&gt; endo@xxxxxxxxxx,endo@xxxxxxxxxx</span>
<span class="quote1">&gt; </span>

-- 
SAKAI Kei &lt;sak2@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="15364.html">[前]</a><a href="15366.html">[次]</a><a href="../list/15301-15400.html">[番号順一覧]</a><a href="../thread/15301-15400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="15364.html">  15364 2010-08-17 11:44 [遠藤 俊裕 &lt;endo@xxxx] 上手なお引っ越し                        </a></span>
<span class="current">-&gt;&nbsp;<a href="15365.html">  15365 2010-08-17 12:05 ┣[SAKAI Kei &lt;sak2@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15366.html">  15366 2010-08-17 12:26 ┃┗[遠藤 俊裕 &lt;endo@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15367.html">  15367 2010-08-17 12:39 ┃　┣[Masahiko Asano &lt;asan]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15371.html">  15371 2010-08-17 16:05 ┃　┃┗[遠藤 俊裕 &lt;endo@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15369.html">  15369 2010-08-17 15:17 ┃　┗[SAKAI Kei &lt;sak2@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15372.html">  15372 2010-08-17 16:05 ┃　　┗[遠藤 俊裕 &lt;endo@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15368.html">  15368 2010-08-17 13:51 ┗[Ryuichiro Munechika ] Re: [mysql 15364] 上手なお引っ越し    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15370.html">  15370 2010-08-17 16:05 　┗[遠藤 俊裕 &lt;endo@xxxx] Re: 上手なお引っ越し                </a></span>
</pre>


</body></html>