<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11913</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11912.html">[前]</a><a href="11914.html">[次]</a><a href="../list/11901-12000.html">[番号順一覧]</a><a href="../thread/11901-12000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:11913
</p>
<div class="header">
<p>
From: 深海水草 &lt;深海水草 &lt;VYG01106@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 06 Aug 2005 21:32:36 +0900<br>
Subject: [mysql 11913] Re: HEAP テーブルへのあいまい検索の速度<br>

</p>
</div>
<div class="body">
<pre>
長谷です

<span class="quote1">&gt; こんにちは。Jiaoと申します。</span>

こんばんは

<span class="quote1">&gt; ・VBからADOを使ってもMySQLDBを使っても検索時間に差は</span>
<span class="quote1">&gt; 　ほとんどありません。</span>

いささか古い技術ですが、ADO ではなく DAO を使ったらどうなり
ますか？以前 ADO を VB で使ったときにあまりの遅さに青くなっ
て DAO にした覚えがあります。

<span class="quote1">&gt; ・１５秒はPentium 4(3.0GHz)でMYSQLに最大５０％のCPU使用</span>
<span class="quote1">&gt; 　率とした時の例です。</span>
<span class="quote1">&gt; ・CPU使用率を変えると、使用率と検索時間はほぼ比例する。</span>
<span class="quote1">&gt; ・他の機種で試しても、カタログ上のCPU性能に検索時間は</span>
<span class="quote1">&gt; 　ほぼ比例する。</span>
<span class="quote1">&gt; ・レコード数と検索時間はほぼ比例する。</span>
<span class="quote1">&gt; ・メモリには余裕がある。（空容量：700M・速度：FSB800）</span>
<span class="quote1">&gt; ・テーブルを分割してUNIONしてみたら、検索時間はほとんど</span>
<span class="quote1">&gt; 　変わらない。</span>
<span class="quote1">&gt; ・AND　や　NOT　を加えても、検索時間はほとんど変わ</span>
<span class="quote1">&gt; 　らない。</span>
<span class="quote1">&gt; ・ORDER BY しても、検索時間はほとんど変わらない。</span>
<span class="quote1">&gt; ・limit　をつけても、検索時間はほとんど変わらない。</span>

この辺を考えると、MySQL サイドは十分高速に動作していると
思います。SQL のチューニングではさほどかわらないのですから。

Windows 側のチューニングが必要でしょうね。
例えば改善できそうな点を上げると

１．WindowsXP(2000 もですが)は、デフォルトではカーネルを
　　物理メモりにロードしていません。レジストリをいじるか
　　その手のツール(窓の手2004とか)で確実にロードするように
　　しておきます。

２．HDD がどのような運用なのかわからないのですが、１台だけ
　　で OS も MySQL も運用しているなら、最低２台は用意して
　　両者は分けるべきでしょう。
　　また、ATA100 HDD なら、Serial ATA RAID にするとか。
　　今の DOS/V 機で一番のパフォーマンス改善が一番目に見て
　　出てくるのは HDD の高速化です。

３．HDD に関連してきますが、デフォルトではページングファイル
　　が可変サイズです。これを OS と別の HDD で固定サイズ(3GB
    とか)にしておきます。
　　メモりを沢山積んでいるようですからページングファイルは
    あまり関係ないかもしれませんが．．．

４．VB は、.NET フレークワークでしょうか？
　　だとしたら ..NET は捨てて VB Ver.6 で作ることはできません
    でしょうか？
　　.NET フレームワークは昔の DOS 版 BASIC と同じで、拡張子は
　　EXE でもバイナリを作っているわけではなく、あくまで中間言
　　語に落としているだけです。
　　実際に比べたことはないですが、オーバーヘッドが気になります。
　　更に言えば、手間をかけてもいいなら VC++ Ver.6 で作るとか。

５．もし、Dual 構成(HT もそうなるのかな？)で、マザーボードが
　　完全に ACPI に準拠していない場合、Windows2000 では電源管理
　　を ACPI でインストールしていると、Idle タスク以外で CPU
　　使用率が異様に上がる事が知られています。ということは XP
    でも同じようになるのでしょう。ただ、pentium4 ということ
　　なので、これは外している可能性が高そうですが．．．


<span class="quote1">&gt; HEAPでもOSの違いはあるのでしょうか？</span>

そこまでは私も使いこんでいないので、分かりません．．．。

-- 
長谷 &lt;VYG01106@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="11912.html">[前]</a><a href="11914.html">[次]</a><a href="../list/11901-12000.html">[番号順一覧]</a><a href="../thread/11901-12000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11912.html">  11912 2005-08-06 18:11 [jiao congmian &lt;melma] HEAP テーブルへのあいまい検索の速度     </a></span>
<span class="current">-&gt;&nbsp;<a href="11913.html">  11913 2005-08-06 21:32 ┣[深海水草 &lt;VYG01106@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11914.html">  11914 2005-08-08 09:25 ┗[&quot;Ryousuke Wayama&quot; &lt;w]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11915.html">  11915 2005-08-08 11:32 　┗[川合孝典 &lt;gcd00051@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11919.html">  11919 2005-08-08 19:11 　　┗[&quot;T.Sasaki&quot; &lt;papasan2]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11951.html">  11951 2005-08-13 10:24 　　　┗[jiao congmian &lt;melma]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11952.html">  11952 2005-08-13 17:08 　　　　┗[深海水草 &lt;VYG01106@x]                               </a></span>
</pre>
</body>
</html>
