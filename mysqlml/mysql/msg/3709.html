<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3709</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="3708.html">[前]</a><a href="3710.html">[次]</a><a href="../list/3701-3800.html">[番号順一覧]</a><a href="../thread/3701-3800.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3709
</p>
<div class="header">
<p>
From: &quot;Masanori Takahashi&quot; &lt;&quot;Masanori Takahashi&quot; &lt;takahashi@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 30 May 2001 11:21:55 +0900<br>
Subject: [mysql 03709] Re: MySQL サーバーの仮想サーバー化方法<br>

</p>
</div>
<div class="body">
<pre>
高橋といいます。

MySQL マニュアルから抜粋しました。参考になればいいのですが。

同じマシン上で多くの異なる mysqld デーモン(サーバ)を動作させたい場合がありま
す。例えば、テスト用に MySQL の新しいバージョンを使用中の古いバージョンと共
に実行したい場合や、異なる mysqld サーバにそれを管理する異なるユーザアクセス
を与えたい場合などです。

一つの方法は、新しいサーバを次のように異なるソケットとポートで起動することで
す:


shell&gt; MYSQL_UNIX_PORT=/tmp/mysqld-new.sock
shell&gt; MYSQL_TCP_PORT=3307
shell&gt; export MYSQL_UNIX_PORT MYSQL_TCP_PORT
shell&gt; scripts/mysql_install_db
shell&gt; bin/safe_mysqld &amp;

この後、二つのデーモンを違うポート、ソケットで実行するように、起動スクリプト
を変更します。例えば、safe_mysqld を二つ書きますが、--socket, --port
と --basedir オプションをそれぞれの safe_mysqld に指定します。
safe_mysqld --default-file=path-to-option-file
少なくとも、次のオプションはサーバごとに異なるようにすべきです:
  port=#
  socket=path
  pid-file=path
次のオプションが使用される場合、異なるようにすべきです: log=path
log-bin=path log-update=path log-isam=path bdb-logdir=path さらに性能を求め
る場合、次も異なるように記述できます: tmpdir=path bdb-tmpdir=path



<span class="quote1">&gt; お久しぶりです。</span>
<span class="quote1">&gt; 荒です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 現在、PostgreSQLからMySQLに環境を移行しようと検討中です。</span>
<span class="quote1">&gt; その際、MySQLを仮想サーバーとして利用したいと考えています。</span>
<span class="quote1">&gt; PostgreSQLだと一つのマシンに複数のポートをたてれば、</span>
<span class="quote1">&gt; 違うユーザ名（/etc/passwd）で管理できるようですが、</span>
<span class="quote1">&gt; MySQLの場合はどのようにすればよいのでしょうか？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 私が思いつくことと言えばFreeVSD(FreeBSDではありません）を</span>
<span class="quote1">&gt; 利用する方法くらいしか思いつきません。</span>
<span class="quote1">&gt; <a href="http://www.freevsd.org/">http://www.freevsd.org/</a></span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; この方法だと、MySQL以外の仮想サーバーも</span>
<span class="quote1">&gt; 一括して管理できるので便利なのですが、</span>
<span class="quote1">&gt; MySQL単体でも出来るようであれば、そちらを利用したいと思います。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 現在利用している環境</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; FreeBSD4.2 + Apache1.3.9 + PHP4.0.4pl1 + MySQL3.28.35</span>
<span class="quote1">&gt; VineLinux2.1 + Apache1.3.9 + PHP4.0.4pl1 + MySQL3.28.35</span>
<span class="quote1">&gt; Win2k + IIS5 + PHP4.0.3 + MySQL3.28.25</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; となっています。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; よろしくお願いします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ----</span>
<span class="quote1">&gt; S.ARA</span>
<span class="quote1">&gt; ml@xxxxxxxxxx</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>


</pre>
</div>
<p class="button"><a href="3708.html">[前]</a><a href="3710.html">[次]</a><a href="../list/3701-3800.html">[番号順一覧]</a><a href="../thread/3701-3800.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="3705.html">   3705 2001-06-30 01:32 [&quot;s.ara&quot; &lt;ml@xxxxxxxx] MySQL サーバーの仮想サーバー化方法      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3707.html">   3707 2001-05-30 11:07 ┣[Akihiko Shinohara &lt;s]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="3709.html">   3709 2001-05-30 11:21 ┗[&quot;Masanori Takahashi&quot;]                                       </a></span>
</pre>
</body>
</html>
