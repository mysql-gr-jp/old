<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3102</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3101.html">[前]</a><a href="3103.html">[次]</a><a href="../list/3101-3200.html">[番号順一覧]</a><a href="../thread/3101-3200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3102
</p>
<div class="header">
<p>
From: ranze &lt;ranze &lt;ranze@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 26 Jan 2001 12:37:37 +0900<br>
Subject: [mysql 03102] C 言語から MySQL に接続（の前段階）についての質問<br>

</p>
</div>
<div class="body">
<pre>//////////////////////////////////
//	サーバー
RedHat 6.2
MySQL 3.22.32
gcc (egcs-1.1.2)

//	クライアント
Windous98

//	接続方法
telnet
//////////////////////////////////
はじめまして。
あゆみんと申します。

//	経過
最近までかなり親切なレンタルサーバーを利用して、
都合上、別のレンタルサーバーにプログラムを
そのまま載せ換える事になりました。
すると、新しいサーバーでは動かなくなりました。
両サーバーともMySQLのインストールは専門の方にしていただきました。
（私はMySQLのインストールは未経験です。）

//	ソース
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;iostream.h&gt;
#include &lt;string.h&gt;
#include &lt;mysql.h&gt;
#include &lt;sys/time.h&gt;

int main()
{
	printf("Content-type: text/html\n\n");

	printf("&lt;HTML&gt;");
	printf("&lt;HEAD&gt;");
	printf("&lt;/HEAD&gt;");
	printf("&lt;BODY&gt;");
	
	printf("Hello World");

	printf("&lt;/BODY&gt;");
	printf("&lt;/HTML&gt;");

	return 1;
}        

//	コンパイル方法（makefile）
show.cgi: show.o
	gcc show.o -o show.cgi -L/usr/local/lib/mysql -lmysqlclient
show.o: show.cpp
	gcc -c -I/usr/local/include/mysql show.cpp

//	状態
上記のソースはindex.htmlからshow.cgiを呼ぶと
「Hello World」が表示されるだけのプログラムです。
MySQLのリクエスト文など一切使っていません。
コンパイルは出来ます。
実行すると500番の
Internal Server Error
The server encountered an internal error or misconfiguration and was unable to complete your request.
が出ます。

「#include &lt;mysql.h&gt;」をはずして、
gcc show.cgi -o show.cppでコンパイルすると
「Hello World」は表示されます。（エラーは出ません）

簡単にまとめると、「#include &lt;mysql.h&gt;」を付けるだけで
エラーがでてしまいます。

私の素人の考えでは、「mysqlclient」になんらかの原因があると思うのですが、
どうしてもわかりません。

よろしくお願いします。



</pre>
</div>
<p class="button"><a href="3101.html">[前]</a><a href="3103.html">[次]</a><a href="../list/3101-3200.html">[番号順一覧]</a><a href="../thread/3101-3200.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="3102.html">   3102 2001-01-26 12:37 [ranze &lt;ranze@xxxxxxx] C 言語から MySQL に接続（の前段階）についての質問</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3103.html">   3103 2001-01-26 14:35 ┗[Seiji Tateyama &lt;tate]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3110.html">   3110 2001-01-27 00:22 　┗[とみたまさひろ &lt;tomm]                                     </a></span>
</pre>


</body></html>