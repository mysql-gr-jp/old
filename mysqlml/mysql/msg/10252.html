<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10252</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10251.html">[前]</a><a href="10253.html">[次]</a><a href="../list/10201-10300.html">[番号順一覧]</a><a href="../thread/10201-10300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:10252
</p>
<div class="header">
<p>
From: &quot;井上　武則&quot; &lt;&quot;井上　武則&quot; &lt;t-inoue@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 30 Sep 2004 09:18:59 +0900<br>
Subject: [mysql 10252] Re: insert時のNOW()で年月日しか登録されない！？<br>

</p>
</div>
<div class="body">
<pre>
＞坂井様

ご返信有難うございます。

これはそうとううっかりしていました。

MySQLで時分秒を保持する為には「DATE」ではなく「DATETIME」を使用しなければな
らなかったのですね。

慌てており、マニュアルを見ていながら、そんなことにも気が付かなかったのでし
た。

失礼致しました。


<span class="quote1">&gt; 坂井と申します。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; On Wed, 29 Sep 2004 21:03:53 +0900</span>
<span class="quote1">&gt; &quot;井上　武則&quot; &lt;t-inoue@xxxxxxxxxx&gt; wrote:</span>
<span class="quote2">&gt; &gt; MySQL4.0.13を使用しています</span>
<span class="quote2">&gt; &gt; NOW()を使用して現在日時をテーブルにinsertした際に、常に「XXXX-XX-XX</span>
<span class="quote2">&gt; &gt;  00:00:00」と、</span>
<span class="quote2">&gt; &gt; 時分秒を表現しない「年月日のみ」が書き込まれてしまいます。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote2">&gt; &gt; しかし、select now() from t_employee;等のようにすると「2004-09-29</span>
20:30:01」
<span class="quote2">&gt; &gt; といったように</span>
<span class="quote2">&gt; &gt; 抽出されてきます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;   手元ですぐに試せるもっとも古いバージョンである 4.0.15 で試した</span>
<span class="quote1">&gt;   のですが、DATETIME型ではそのようなことは再現できませんでした。</span>
<span class="quote1">&gt;   実際に井上さんが行った作業方法や確認方法をもうちょっと書いていた</span>
<span class="quote1">&gt;   だけるとなにかわかるかもしれません。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; mysql&gt; create table b (id int, d1 datetime, d2 date);</span>
<span class="quote1">&gt; Query OK, 0 rows affected (0.17 sec)</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; mysql&gt; insert into b values (10, now(), now());</span>
<span class="quote1">&gt; Query OK, 1 row affected (0.05 sec)</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; mysql&gt; select * from b;</span>
<span class="quote1">&gt; +------+---------------------+------------+</span>
<span class="quote2">&gt; | id   | d1                  | d2         |</span>
<span class="quote1">&gt; +------+---------------------+------------+</span>
<span class="quote2">&gt; |   10 | 2004-09-29 21:43:42 | 2004-09-29 |</span>
<span class="quote1">&gt; +------+---------------------+------------+</span>
<span class="quote1">&gt; 1 row in set (0.01 sec)</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;   ちなみに、4.0.14, 4.0.15 の change log もざっと確認しましたが、</span>
<span class="quote1">&gt;   関係しそうな変更はなさそうですね。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 以上</span>
<span class="quote1">&gt;</span>




</pre>
</div>
<div class="attach">
<h3 class="attachtitle">添付ファイル</h3>
<ul>
<li><a href="10252/0/index.html"> [text/html]</a>
</ul>
</div>
<p class="button"><a href="10251.html">[前]</a><a href="10253.html">[次]</a><a href="../list/10201-10300.html">[番号順一覧]</a><a href="../thread/10201-10300.html">[スレッド一覧]</a></p>
</body>
</html>
