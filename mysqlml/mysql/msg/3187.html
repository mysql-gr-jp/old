<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3187</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3186.html">[前]</a><a href="3188.html">[次]</a><a href="../list/3101-3200.html">[番号順一覧]</a><a href="../thread/3101-3200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:3187
</p>
<div class="header">
<p>
From: 楠吉彦  &lt;楠吉彦  &lt;moredebu@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 07 Feb 2001 12:57:46 +0900<br>
Subject: [mysql 03187] Re: バイナリーデータの扱いについて<br>

</p>
</div>
<div class="body">
<pre>
php3で画像データをmysql に入れるときにどんなバイナリーでも
入れられたと思いますが、この話の流れはライブラリーのバグの話なのでしょうか
それとも簡単にバイナリーをほりこむ話なのでしょうか

&lt;HTML&gt;
&lt;HEAD&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=shift_jis&quot;&gt;
&lt;meta name=&quot;GENERATOR&quot; content=&quot;Microsoft FrontPage 4.0&quot;&gt;
&lt;meta name=&quot;ProgId&quot; content=&quot;FrontPage.Editor.Document&quot;&gt;
&lt;TITLE&gt;UPLOAD&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;?
 echo &quot;Upload file Information.&lt;BR&gt;\n&quot;;
 echo &quot;&lt;TABLE BORDER=1&gt;\n&quot;;
 echo &quot;&lt;TR&gt;&lt;TD&gt;Server temporaly file name&lt;/TD&gt;&lt;TD&gt;$userfile &lt;/TD&gt;&lt;/TR&gt;\n&quot;;
 echo &quot;&lt;TR&gt;&lt;TD&gt;Uploaded file name&lt;/TD&gt;&lt;TD&gt;$userfile_name &lt;/TD&gt;&lt;/TR&gt;\n&quot;;
 echo &quot;&lt;TR&gt;&lt;TD&gt;Uploaded file Size&lt;/TD&gt;&lt;TD&gt;$userfile_size &lt;/TD&gt;&lt;/TR&gt;\n&quot;;
 echo &quot;&lt;TR&gt;&lt;TD&gt;MIME file type&lt;/TD&gt;&lt;TD&gt;$userfile_type &lt;/TD&gt;&lt;/TR&gt;\n&quot;;
 echo &quot;&lt;TR&gt;&lt;TD&gt;scode&lt;/TD&gt;&lt;TD&gt;$scode&lt;/TD&gt;&lt;/TR&gt;\n&quot;;
echo &quot;&lt;TR&gt;&lt;TD&gt;rno&lt;/TD&gt;&lt;TD&gt;$rno&lt;/TD&gt;&lt;/TR&gt;\n&quot;;
echo &quot;&lt;TR&gt;&lt;TD&gt;tekiyo&lt;/TD&gt;&lt;TD&gt;$tekiyo&lt;/TD&gt;&lt;/TR&gt;\n&quot;;
echo &quot;&lt;TR&gt;&lt;TD&gt;message&lt;/TD&gt;&lt;TD&gt;$message&lt;/TD&gt;&lt;/TR&gt;\n&quot;;
 echo &quot;&lt;/TABLE&gt;\n&quot;;
 echo &quot;&lt;HR&gt;&quot;;
$db = mysql_connect(&quot;localhost&quot;, &quot;root&quot;,&quot;********&quot;);     
if(!mysql_select_db(&quot;mydb&quot;,$db)){
echo (&quot;Cannot select database.\n&quot;);
}

if($userfile==&quot;none&quot; or $userfile==''){
 echo &quot;It was not uploaded.&lt;BR&gt;&lt;HR&gt;&quot;;
}else{
 $fp=fopen($userfile,&quot;r&quot;);
 $Binary=addslashes(fread($fp, filesize($userfile)));
 fclose ($fp);
 unlink($userfile);
 $query=&quot;insert into  sjyoho (rno,tekiyo,message,scode,photo,pimg,mime)
                      values ('$rno','$tekiyo','$message','$scode','$userfile_name','$Binary','$userfile_type')&quot;;

//values('','$userfile_type','$userfile_name','$Binary')&quot;;


 if(mysql_query($query)){
  echo(&quot;Write data sucessfully.&lt;BR&gt;&quot;);
 }else{
  echo(&quot;Write data Failure.&lt;BR&gt;&quot;);
 };
 echo (&quot;&lt;HR&gt;&lt;BR&gt;&quot;);
};
?&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;
楠吉彦　もあでぶ　moredebu
email: moredebu@xxxxxxxxxx
Homepage: <a href="http://www.my-drug.com">http://www.my-drug.com</a>

</pre>
</div>
<p class="button"><a href="3186.html">[前]</a><a href="3188.html">[次]</a><a href="../list/3101-3200.html">[番号順一覧]</a><a href="../thread/3101-3200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="3156.html">   3156 2001-02-05 16:31 [&quot;Mitsuru Maruno&quot; &lt;ma] バイナリーデータの扱いについて          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3158.html">   3158 2001-02-05 23:19 ┣[Toshihiro Fujimori &lt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3160.html">   3160 2001-02-06 10:26 ┃┗[&quot;Mitsuru Maruno&quot; &lt;ma]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3161.html">   3161 2001-02-06 10:43 ┃　┗[Yoshiyuki Asano &lt;asa]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3162.html">   3162 2001-02-06 11:06 ┃　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3163.html">   3163 2001-02-06 12:56 ┃　　　┗[Yoshiyuki Asano &lt;asa]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3164.html">   3164 2001-02-06 13:24 ┃　　　　┣[Yoshiyuki Asano &lt;asa]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3165.html">   3165 2001-02-06 13:32 ┃　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3166.html">   3166 2001-02-06 14:07 ┃　　　　　┗[Yoshiyuki Asano &lt;asa]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3168.html">   3168 2001-02-06 14:30 ┃　　　　　　┣[&quot;Mitsuru Maruno&quot; &lt;ma]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3169.html">   3169 2001-02-06 14:52 ┃　　　　　　┗[Akihiko Shinohara &lt;s]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3170.html">   3170 2001-02-06 15:09 ┃　　　　　　　┣[Yoshiyuki Asano &lt;asa]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3171.html">   3171 2001-02-06 15:11 ┃　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3172.html">   3172 2001-02-06 17:02 ┃　　　　　　　　┗[Tomohiro KATO &lt;tomop]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3173.html">   3173 2001-02-06 17:19 ┃　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3174.html">   3174 2001-02-06 17:28 ┃　　　　　　　　　　┣[Tomohiro KATO &lt;tomop]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3182.html">   3182 2001-02-07 10:11 ┃　　　　　　　　　　┃┗[&quot;Mitsuru Maruno&quot; &lt;ma]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3175.html">   3175 2001-02-06 17:29 ┃　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3179.html">   3179 2001-02-06 23:45 ┃　　　　　　　　　　　┗[Toshihiro Fujimori &lt;]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3180.html">   3180 2001-02-07 00:41 ┃　　　　　　　　　　　　┣[Toshihiro Fujimori &lt;]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3183.html">   3183 2001-02-07 10:30 ┃　　　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3184.html">   3184 2001-02-07 10:50 ┃　　　　　　　　　　　　　┗[Akihiko Shinohara &lt;s]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3185.html">   3185 2001-02-07 11:13 ┃　　　　　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3186.html">   3186 2001-02-07 12:11 ┃　　　　　　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]       </a></span>
<span class="current">-&gt;&nbsp;<a href="3187.html">   3187 2001-02-07 12:57 ┃　　　　　　　　　　　　　　　　┣[楠吉彦  &lt;moredebu@xx]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3188.html">   3188 2001-02-07 15:29 ┃　　　　　　　　　　　　　　　　┣[Akihiko Shinohara &lt;s]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3189.html">   3189 2001-02-07 15:35 ┃　　　　　　　　　　　　　　　　┃┗[Akihiko Shinohara &lt;s]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3190.html">   3190 2001-02-07 16:02 ┃　　　　　　　　　　　　　　　　┃　┗[&quot;Mitsuru Maruno&quot; &lt;ma] </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3191.html">   3191 2001-02-07 18:18 ┃　　　　　　　　　　　　　　　　┃　　┗[Akihiko Shinohara &lt;s]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3192.html">   3192 2001-02-07 21:46 ┃　　　　　　　　　　　　　　　　┗[Toshihiro Fujimori &lt;]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3195.html">   3195 2001-02-08 01:16 ┃　　　　　　　　　　　　　　　　　┗[とみたまさひろ &lt;tomm]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3177.html">   3177 2001-02-06 23:05 ┗[Tomohiro Takahashi &lt;]                                       </a></span>
</pre>
</body>
</html>
