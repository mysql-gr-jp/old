<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:2630</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="2629.html">[前]</a><a href="2631.html">[次]</a><a href="../list/2601-2700.html">[番号順一覧]</a><a href="../thread/2601-2700.html">[スレッド一覧]</a></p>
<p class="id">
mysql:2630
</p>
<div class="header">
<p>
From: Hiroyuki Sato &lt;Hiroyuki Sato &lt;hiro@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 21 Oct 2000 16:59:38 +0900<br>
Subject: [mysql 02630] datetime - datetime<br>

</p>
</div>
<div class="body">
<pre>本日このメーリングリストに参加いたしました
神奈川大学の佐藤と申します。

最近MySQLを利用しはじめました。

環境はつぎのようになっています。
OS: FreeBSD 4.1-RELEASE
MySQL: mysqlshow  Ver 8.1 Distrib 3.22.32, for unknown-freebsdelf4.1 (i386)


早速質問なのですが

mysql&gt; show fields from date_test
    -&gt; go
+-------+----------+------+-----+---------+----------------+
<span class="quote1">| Field | Type     | Null | Key | Default | Extra          |</span>
+-------+----------+------+-----+---------+----------------+
<span class="quote1">| id    | int(11)  |      | PRI | 0       | auto_increment |</span>
<span class="quote1">| date1 | datetime | YES  |     | NULL    |                |</span>
<span class="quote1">| date2 | datetime | YES  |     | NULL    |                |</span>
+-------+----------+------+-----+---------+----------------+

と二つのdatetime型のフィールドをもったテーブルがあり、

mysql&gt; select * from date_test
    -&gt; go
+----+---------------------+---------------------+
<span class="quote1">| id | date1               | date2               |</span>
+----+---------------------+---------------------+
<span class="quote1">|  1 | 2000-10-21 00:00:00 | 2000-10-22 00:00:00 |</span>
<span class="quote1">|  2 | 2000-10-21 00:00:00 | 2000-10-21 12:00:00 |</span>
<span class="quote1">|  3 | 2000-10-21 00:00:00 | 2000-10-21 23:59:59 |</span>
+----+---------------------+---------------------+
3 rows in set (0.00 sec)

というデータがあるとします。

質問 1. 
つぎのようなSQLを実行すると
mysql&gt; select date2 - date1 from date_test
    -&gt; go
+---------------+
<span class="quote1">| date2 - date1 |</span>
+---------------+
<span class="quote1">|       1000000 |</span>
<span class="quote1">|        120000 |</span>
<span class="quote1">|        235959 |</span>
+---------------+
3 rows in set (0.00 sec)

と表示される訳ですが
この出力されるデータの型は何型なのでしょうか?

質問 2.
各レコードのdate1からdate2までの時間の差分を求め
その総計を計算し、人が見てわかりやすい表示をしたいのですが
なにか良い方法はありませんでしょうか?
計算はSQLで行ないたいと考えています。

一つ考えたのは
つぎのようなSQLを実行すると
mysql&gt; select sum(date2 - date1) from date_test
    -&gt; go
+--------------------+
<span class="quote1">| sum(date2 - date1) |</span>
+--------------------+
<span class="quote1">|            1355959 |</span>
+--------------------+
1 row in set (0.00 sec)

と表示されるので、これをよりわかりやすく
例えば2 day 11:59:59
というふうに表示する方法がないかと思っています。

あるいは全く別の関数を利用した方法でも構いません。

よろしくおねがいいたします。

-- 
Hiroyuki Sato.
CCSO, Kanagawa University.
Voice: +81-491-2572
FAX: +81-491-2575

</pre>
</div>
<p class="button"><a href="2629.html">[前]</a><a href="2631.html">[次]</a><a href="../list/2601-2700.html">[番号順一覧]</a><a href="../thread/2601-2700.html">[スレッド一覧]</a></p>
<pre class="list"><span class="current">-&gt;&nbsp;<a href="2630.html">   2630 2000-10-21 16:59 [Hiroyuki Sato &lt;hiro@] datetime - datetime                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2633.html">   2633 2000-10-21 18:54 ┗[NAKAJIMA Mutsuki &lt;mu]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="2642.html">   2642 2000-10-23 10:20 　┗[Hiroyuki Sato &lt;hiro@]                                     </a></span>
</pre>


</body></html>