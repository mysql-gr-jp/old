<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:15266</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css.html">
</head>
<body>
<p class="button"><a href="15265.html">[前]</a><a href="15267.html">[次]</a><a href="../list/15201-15300.html">[番号順一覧]</a><a href="../thread/15201-15300.html">[スレッド一覧]</a></p>
<p class="id">
mysql:15266
</p>
<div class="header">
<p>
From: 東　兼充 &lt;東　兼充 &lt;kanemitsu@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 20 Apr 2010 01:10:18 +0900 (JST)<br>
Subject: [mysql 15266] Re: レンタルサーバーがかわったら文字化け<br>

</p>
</div>
<div class="body">
<pre>
らっちょ らっちょ さん、コメントありがとうございます。

データ管理は
phpMyAdminでやっております。
キャラセットは新も旧も
ujisにしています。
しかし、データのphpMyAdmin一覧表示ではunicodeでは文字化
けなく表示しますが、ujisでは文字化けします。
これは新も旧も同じでした。
ということは、旧サーバでもデータはujisからunicodeにすで
に変換されてしまっていると考えられます。
旧サーバでは、おなじデータでphpプログラムをeuc-jisで表示
させても文字化けはおきません。
新サーバーではeuc-jisではデータが文字化けし、ブラウザの
文字指定をunicodeにすると、データ部分は文字化けせずプロ
グラム部分だけ文字化けします。
ためしに新サーバでphpプログラムをunicodeに変換して動かす
とデータも、プログラムも文字化けせず表示されました。
プログラムをすべてunicodeに変換すればなんとかなると予測
はできましたが、作業が大変なので、なんとかならないかと模
索している次第です。

ですから
旧サーバではphpファイルがeuc-jisでてきていても、データを
読み出す際にはunicodeに変換されたデータをeuc-jisに変換し
て読み出し、書き込む際もeuc-jisをunocodeに変換して書き込
んでいるのだと考えられます。
新サーバでも同様の処理がphpで行えれば、文字化けは解消で
きると考えられますが、対応法がまだわかりません。


東




--- らっちょ らっちょ &lt;zon1966@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; </span>
<span class="quote1">&gt; こんにちは</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 私も悩まされた事があります（ローカル環境ですが）ので、</span>
文字化けは他人事で
<span class="quote1">&gt; </span>
<span class="quote1">&gt; はないと拝見しておりました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 気になったのは、文字化けはMySQL側とPHP側どちらで起きて</span>
いるのか、です。
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 以下の内容を教えていただけませんでしょうか。</span>
<span class="quote1">&gt; ・CSVのエクスポートやインポートに使用されているツール</span>
（phpMyAdmin？）
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ・旧サーバーの（そのＤＢやテーブルの）キャラセット</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ・新サーバーのキャラセット</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; （キャラセット確認はキクチさんもご指摘の以下で）</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 　　show variables like 'char%'</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 私のスキルで解決なるか分かりませんが（むしろ期待薄かも</span>
）糸口でも見つかれ
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ばと思いレスいたしました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; それでは。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt;  </span>
<span class="quote2">&gt; &gt; Date: Thu, 15 Apr 2010 07:35:24 +0900</span>
<span class="quote2">&gt; &gt; From: kanemitsu@xxxxxxxxxx</span>
<span class="quote2">&gt; &gt; Subject: <a href="15248.html">[mysql 15248]</a></span>
<span class="quote1">&gt; レンタルサーバーがかわったら文字化け</span>
<span class="quote2">&gt; &gt; To: ml@xxxxxxxxxx</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 旧サーバー</span>
<span class="quote2">&gt; &gt; MySQL初心者です。</span>
<span class="quote2">&gt; &gt; 以前から使用してきたレンタルサーバー会社から</span>
<span class="quote2">&gt; &gt; 新サーバーへの移行をもとめられました。</span>
<span class="quote2">&gt; &gt; 対応しようとしましたが</span>
<span class="quote2">&gt; &gt; 文字化けでいかんともしがたくなっています。</span>
<span class="quote2">&gt; &gt; 旧　</span>
<span class="quote2">&gt; &gt; <a href="http://higashi.us/yoyaku/">http://higashi.us/yoyaku/</a></span>
<span class="quote2">&gt; &gt; 新</span>
<span class="quote2">&gt; &gt; <a href="http://205.234.99.7/yoyaku/">http://205.234.99.7/yoyaku/</a></span>
<span class="quote2">&gt; &gt; です。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; どちらもPHPプログラム本体はeuc-jisで作成しています。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; もともとデータもeuc-jisで作成していましたが、新サーバ</span>
ー
<span class="quote2">&gt; &gt; ではunicode-8に変更になっているようです。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; 検索し、ここのメーリングリストの過去データも検索しいろ</span>
い
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; ろやってみましたが、エラーがでたり、文字化けしたりで、</span>
う
<span class="quote2">&gt; &gt; まくいきません。</span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; プログラムをEUC-JISからすべてunicodeに変更したらとサー</span>
バ
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; ー会社から提案がありましたが、膨大な作業量になり、なん</span>
と
<span class="quote2">&gt; &gt; かならないかと苦慮しています。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt;</span>
<span class="quote1">&gt; mysqlベテランの皆様の、お知恵が拝借できればと投稿いた</span>
し
<span class="quote2">&gt; &gt; ました。</span>
<span class="quote2">&gt; &gt; よろしくお願いいたします。</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; 東</span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; </span>
<span class="quote2">&gt; &gt; </span>
<span class="quote1">&gt;  		 	   		  </span>
<span class="quote1">&gt;</span>
_________________________________________________________________
<span class="quote1">&gt; メールを一括チェック！他の無料メールもプロバイダーメー</span>
ルも。
<span class="quote1">&gt;</span>
<a href="http://windows7.jp.msn.com/master/hm-popaggre/default.htm">http://windows7.jp.msn.com/master/hm-popaggre/default.htm</a>


</pre>
</div>
<p class="button"><a href="15265.html">[前]</a><a href="15267.html">[次]</a><a href="../list/15201-15300.html">[番号順一覧]</a><a href="../thread/15201-15300.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="15248.html">  15248 2010-04-15 07:35 [東　兼充 &lt;kanemitsu@] レンタルサーバーがかわったら文字化け    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15250.html">  15250 2010-04-15 09:46 ┣[あきら &lt;akirainfoml@]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15252.html">  15252 2010-04-15 16:16 ┣[SAKAI Kei &lt;sak2@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15253.html">  15253 2010-04-16 00:51 ┃┗[東　兼充 &lt;kanemitsu@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15254.html">  15254 2010-04-16 17:29 ┃　┣[SAKAI Kei &lt;sak2@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15255.html">  15255 2010-04-16 19:09 ┃　┃┗[東　兼充 &lt;kanemitsu@]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15258.html">  15258 2010-04-16 23:23 ┃　┃　┗[&lt;kikuchi-s@xxxxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15256.html">  15256 2010-04-16 19:57 ┃　┗[遠藤 俊裕 &lt;endo@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15257.html">  15257 2010-04-16 23:15 ┃　　┗[東　兼充 &lt;kanemitsu@]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15259.html">  15259 2010-04-17 02:36 ┃　　　┗[遠藤 俊裕 &lt;endo@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15260.html">  15260 2010-04-17 08:00 ┃　　　　┗[東　兼充 &lt;kanemitsu@]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15261.html">  15261 2010-04-17 23:42 ┃　　　　　┗[遠藤 俊裕 &lt;endo@xxxx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15262.html">  15262 2010-04-18 22:44 ┃　　　　　　┗[東　兼充 &lt;kanemitsu@]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15265.html">@ 15265 2010-04-19 10:28 ┗[らっちょ らっちょ &lt;z]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="15266.html">  15266 2010-04-20 01:10 　┗[東　兼充 &lt;kanemitsu@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15267.html">@ 15267 2010-04-20 09:48 　　┣[らっちょ らっちょ &lt;z]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15268.html">  15268 2010-04-20 09:50 　　┗[Seiichi YANAI &lt;yanai]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="15269.html">  15269 2010-04-20 23:38 　　　┗[東　兼充 &lt;kanemitsu@]                                 </a></span>
</pre>
</body>
</html>
