<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14978</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="14977">[前]</a><a href="14979">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<p class="id">
mysql:14978
</p>
<div class="header">
<p>
From: Mikiya Okuno &lt;Mikiya Okuno &lt;Mikiya.Okuno@xxxxxxxxxx&gt;&gt;<br>
Date: Sat, 18 Jul 2009 11:14:19 +0900<br>
Subject: [mysql 14978] Re: MySQL Clusterのチューニング方法<br>

</p>
</div>
<div class="body">
<pre>
羽田さん、

On 18/07/2009, at 1:16 AM, Kota Hada wrote:

<span class="quote1">&gt; テストでこのようなクエリを実行しておりました。</span>
<span class="quote1">&gt; 実際には、WHERE句を使い条件をしぼるようにしてます。</span>
<span class="quote1">&gt; ただ、それでも5〜6秒もかかってしまっています。</span>

それも遅いですね。

・何行程度の結果を取得するクエリなのでしょうか？
・インデックスは利用していますか？
・テーブルの定義はどのようになっていますか？（SHOW CREATE TABLE）
・EXPLAINコマンドの実行結果はどうなっていますか？

<span class="quote1">&gt; 一応、1GbpsのNICでつながっているのですが、</span>
<span class="quote1">&gt; このれでもボトルネックの可能性はありますでしょうか？</span>

場合によってはボトルネックになります。本当に性能が欲しい場合は、
SCIや10GbEなどを利用するといいでしょう。

ちなみにデータノードは何台ぐらいあるのでしょうか。
また、NoOfReplicasはいくつでしょうか。

<span class="quote1">&gt; なるほど。</span>
<span class="quote1">&gt; ただ、特にディスク型を設定した覚えがありません。</span>
<span class="quote1">&gt; これが原因なのか？？な気がしています。</span>

特に指定した記憶がないのであればインメモリ型でしょう。
これは遅くなる原因とは関係なさそうです。

<span class="quote1">&gt; キャッシュサイズについては、少し調べて試しに設定してみることにします。</span>

DiskPageBufferMemoryで設定できます。
<a href="http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-ndbd-definition.html">http://dev.mysql.com/doc/refman/5.1/en/mysql-cluster-ndbd-definition.html</a>

--
Mikiya Okuno
MySQL Technical Support Engineer


</pre>
</div>
<p class="button"><a href="14977">[前]</a><a href="14979">[次]</a><a href="../list/14901-15000">[番号順一覧]</a><a href="../thread/14901-15000">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="14975">  14975 2009-07-17 22:13 [Kota Hada &lt;kthd.wing] MySQL Clusterのチューニング方法         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14976">  14976 2009-07-17 23:00 ┗[Mikiya Okuno &lt;Mikiya]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14977">  14977 2009-07-18 01:16 　┗[Kota Hada &lt;kthd.wing]                                     </a></span>
<span class="current">-&gt;&nbsp;<a href="14978">  14978 2009-07-18 11:14 　　┗[Mikiya Okuno &lt;Mikiya]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14984">  14984 2009-07-18 12:42 　　　┗[Kota Hada &lt;kthd.wing]                                 </a></span>
</pre>
</body>
</html>
