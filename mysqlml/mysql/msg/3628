<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3628</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="3627">[前]</a><a href="3629">[次]</a><a href="../list/3601-3700">[番号順一覧]</a><a href="../thread/3601-3700">[スレッド一覧]</a></p>
<p class="id">
mysql:3628
</p>
<div class="header">
<p>
From: Hiroshi Ishiura &lt;Hiroshi Ishiura &lt;issy@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 11 May 2001 06:32:12 +0900<br>
Subject: [mysql 03628] [pgsql-jp 21081] Re:  上位ｘ件の平均値の求めた方 <br>

</p>
</div>
<div class="body">
<pre>
石浦です。
ご回答ありがとうございます。
サブクエリーかなとも私も思ったんですがＳＱＬ文うまくおもいつきませんでし
た。
ご提案のとおりtemporary tableで作成したらできました。＾＾
temporary tableは使うの初めてだったので使い方がいまいちわからなかったん
ですがちょっと調べてから、書いていただいたＳＱＬ文にas がぬけていたよう
なのでつけたらいけました。
create temporary table tmp1 as select id,price from mitumori where
id='0001' order by price limit 3;

いろいろと使えそうですね。ありがとうございました。

<span class="quote1">&gt; 小野です。</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; 今回したいことは0001についてpriceが安い３件の平均をだしたい場合のＳＱＬ</span>
<span class="quote2">&gt; &gt; 文がうまく思いつきません。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; サブクエリーが使えないですから、temporary tableを使うことになるのか</span>
<span class="quote1">&gt; な？</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; --------------------------------------------------------------</span>
<span class="quote1">&gt; create temporary table tmp1 select id,price from mitumori where id='</span>
<span class="quote1">&gt; 0001' order by price limit 3;</span>
<span class="quote1">&gt; select avg(price) from tmp1;</span>
<span class="quote1">&gt; --------------------------------------------------------------</span>
<span class="quote1">&gt; ぐらいでしょうか。</span>
<span class="quote1">&gt; （一文ですっきり書ける方法があれば、私も教わりたいです。）</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt; &gt; 結果的には（5500+20000+45000）/3=40000の結果を得たいのです。</span>
<span class="quote2">&gt; &gt; なんか単純なようではまってしまいました。</span>
<span class="quote2">&gt; &gt; ご教授願います。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 関係ないですが、この計算間違ってません？^^;</span>
<span class="quote1">&gt; </span>
すいません＾＾；まちがっちゃいました＾＾；5500→55000でした


</pre>
</div>
<p class="button"><a href="3627">[前]</a><a href="3629">[次]</a><a href="../list/3601-3700">[番号順一覧]</a><a href="../thread/3601-3700">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="3625">   3625 2001-05-10 22:33 [Hiroshi Ishiura &lt;iss] [pgsql-jp 21073] 上位ｘ件の平均値の求めた方</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="3626">   3626 2001-05-10 23:25 ┗[&quot;K.Ono&quot; &lt;k-ono@xxxxx] [pgsql-jp 21074] Re:  上位ｘ件の平均値の求めた方</a></span>
<span class="current">-&gt;&nbsp;<a href="3628">   3628 2001-05-11 06:32 　┗[Hiroshi Ishiura &lt;iss] [pgsql-jp 21081] Re:  上位ｘ件の平均値の求めた方</a></span>
</pre>
</body>
</html>
