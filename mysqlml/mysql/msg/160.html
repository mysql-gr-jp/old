<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:160</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="159.html">[前]</a><a href="161.html">[次]</a><a href="../list/101-200.html">[番号順一覧]</a><a href="../thread/101-200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:160
</p>
<div class="header">
<p>
From: Kengo Jinno &lt;Kengo Jinno &lt;kengo@xxxxxxxxxx&gt;&gt;<br>
Date: Wed, 27 May 1998 14:16:36 +0900<br>
Subject: [mysql 160] Re: MyODBCでトラブル<br>

</p>
</div>
<div class="body">
<pre>

神野＠広島市在住です。

Wed, 27 May 1998 13:36:21 +0900 ごろに
&lt;00b301bd8929$08bb50c0$6500a8c0@umax2100&gt; の
&quot;<a href="159.html">[mysql 159]</a> MyODBCでトラブル&quot; のメールで
&quot;Toshiyuki Fujii&quot; &lt;fujii@xxxxxxxxxx&gt; さんは書きました。

<span class="quote1">&gt; さて、早速質問なのですが、宜しくお願いします。</span>
<span class="quote1">&gt; +--------------------------------------+</span>
<span class="quote1">&gt; 現象：MyODBCを使用して「表」というデータを入力するとエラーが発生する。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 使用環境：</span>
<span class="quote1">&gt; SV  Linux(RedHat4.2)  MySQL 3.21.30 SJIS</span>
<span class="quote1">&gt; CL  Win95 MyODBC-2.50.13 + Access97</span>
<span class="quote1">&gt; +--------------------------------------+</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 「表」という文字に続けて、ひらがなや全角スペースを入力した場合には</span>
<span class="quote1">&gt; 正常に動作します。</span>
<span class="quote1">&gt; 「表」のsjisコードは955cです。</span>
<span class="quote1">&gt; 似たようなご経験をされた方がみえましたら、是非対処法を教えて下さい。</span>
<span class="quote1">&gt; 宜しくお願いします。</span>

MyODBC 2.15.16bを使っていますが、ソースに手を入れて対応しました。
基本的には、'\'をエスケープしている次の３箇所で、sjisかどうか判定
してsjisならスキップするだけです。
[utility.c]
void remove_escape(char *name)
[prepare.c]
RETCODE my_SQLPrepare(HSTMT hstmt,UCHAR FAR *szSqlStr, SDWORD cbSqlStr)
[execute.c]
static char *insert_param(NET *net,char *to,PARAM_BIND *param)

というようなパッチを作ればいいんでしょうが、開発環境(MSVC50)を持って
いる人がどれだけいるか・・・・。
しかも私は今、MySQLをujisにしてMyODBC側でujis&lt;--&gt;sjis変換できないもの
かと試行中なので、ソースぐちゃぐちゃです(^_^;。

-----------------------------
神野健吾 &lt;kengo@xxxxxxxxxx&gt;


</pre>
</div>
<p class="button"><a href="159.html">[前]</a><a href="161.html">[次]</a><a href="../list/101-200.html">[番号順一覧]</a><a href="../thread/101-200.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="159.html">    159 1998-05-27 13:36 [&quot;Toshiyuki Fujii&quot; &lt;f] MyODBCでトラブル                        </a></span>
<span class="current">-&gt;&nbsp;<a href="160.html">    160 1998-05-27 14:16 ┗[Kengo Jinno &lt;kengo@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="161.html">    161 1998-05-27 21:20 　┣[Tamon Nomura &lt;tamon@] Re[2]: MyODBC でトラブル            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="162.html">    162 1998-05-27 21:59 　┃┗[Kengo Jinno &lt;kengo@x] Re: MyODBC でトラブル             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="163.html">    163 1998-05-27 22:50 　┃　┗[Tamon Nomura &lt;tamon@]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="164.html">    164 1998-05-27 23:15 　┃　　┗[&lt;takeshi@xxxxxxxxxx&gt;]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="166.html">    166 1998-05-28 01:40 　┗[Hiroshi Marui &lt;bant@]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="169.html">    169 1998-05-28 15:16 　　┗[Kengo Jinno &lt;kengo@x] SJIS&amp;lt;--&amp;gt;UJIS on MyODBC ( Re: MyODBCでトラブル )</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="172.html">    172 1998-05-28 15:54 　　　┣[&quot;民斗 &quot; &lt;tommy@xxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="175.html">    175 1998-05-29 01:32 　　　┗[Hiroshi Marui &lt;bant@]                                 </a></span>
</pre>
</body>
</html>
