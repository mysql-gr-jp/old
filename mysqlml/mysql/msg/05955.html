<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:5955</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="5954.html">[前]</a><a href="5956.html">[次]</a><a href="../list/5901-6000.html">[番号順一覧]</a><a href="../thread/5901-6000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:5955
</p>
<div class="header">
<p>
From: KAWAJI Shinya &lt;KAWAJI Shinya &lt;kawaji@xxxxxxxxxx&gt;&gt;<br>
Date: Sun, 18 Aug 2002 15:58:38 +0900<br>
Subject: [mysql 05955] Re: グループの最終行の選択<br>

</p>
</div>
<div class="body">
<pre>
かわじ、です

<span class="quote1">&gt; 3.5.4 The Rows Holding the Group-wise Maximum of a Certain Field</span>
<span class="quote1">&gt; <a href="http://www.mysql.com/doc/en/example-Maximum-column-group-row.html">http://www.mysql.com/doc/en/example-Maximum-column-group-row.html</a></span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ...</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; mysql&gt; select name,</span>
<span class="quote1">&gt;     -&gt; 0 + substring( max( concat(u_date,ans) ), 20) as ans,</span>
<span class="quote1">&gt;     -&gt;          left( max( concat(u_date,ans) ), 19) as u_date</span>
<span class="quote1">&gt;     -&gt; from result group by name;</span>


すみません、訂正です。

上記のままでは、 ans 列の桁数が変わったときにおかしな結果になりますので、
ちゃんとマニュアル通りに桁数を揃える必要がありました。

select name,
0 + substring( max( concat(u_date,lpad( ans,10,'0' ) ) ), 20 ) as ans,
         left( max( concat(u_date,lpad( ans,10,'0' ) ) ), 19 ) as u_date
from result group by name;


列が int なので、10桁に揃えています。


--
Shinya Kawaji



</pre>
</div>
<p class="button"><a href="5954.html">[前]</a><a href="5956.html">[次]</a><a href="../list/5901-6000.html">[番号順一覧]</a><a href="../thread/5901-6000.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="5950.html">   5950 2002-08-17 23:46 [Kazumasa Nakamura &lt;k] グループの最終行の選択                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5951.html">   5951 2002-08-17 23:45 ┣[上野　和風 &lt;nati24@x] Re: [ グループの最終行の選択          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5952.html">   5952 2002-08-17 23:48 ┣[上野　和風 &lt;nati24@x]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5953.html">   5953 2002-08-18 00:34 ┣[&quot;Y.Higashi&quot; &lt;Y.Higas]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="5954.html">   5954 2002-08-18 01:36 ┗[KAWAJI Shinya &lt;kawaj]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="5955.html">   5955 2002-08-18 15:58 　┗[KAWAJI Shinya &lt;kawaj]                                     </a></span>
</pre>
</body>
</html>
