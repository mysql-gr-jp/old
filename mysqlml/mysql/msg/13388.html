<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13388</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="13387.html">[前]</a><a href="13389.html">[次]</a><a href="../list/13301-13400.html">[番号順一覧]</a><a href="../thread/13301-13400.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13388
</p>
<div class="header">
<p>
From: "F.Y" &lt;"F.Y" &lt;fumi_sby@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 6 Oct 2006 12:16:09 +0900 (JST)<br>
Subject: [mysql 13388] Re: OS X Server 上のバージョンアップに関して<br>

</p>
</div>
<div class="body">
<pre>Mac OS X Server(ウチのは10.4.8、G4 400MHzシングルで動いてる)標準のMySQL
、ウチのは4.1.13aなんだけど、標準状態のまんまで

# ps ax | grep mysql
  297  ??  S      0:00.09 /bin/sh /usr/bin/mysqld_safe --user=mysql
  332  ??  R     17:08.13 /usr/libexec/mysqld --basedir=/usr
--datadir=/var/mysql --user=

て感じで動いとる。
かたや、MacOS X(10.4.8、G4 1.25HGzのMac mini)にあとから自分でバイナリパ
ッケージからインストールした4.1.14は

% ps ax | grep mysql
  650  ??  S      0:00.05 /bin/sh ./bin/mysqld_safe
--datadir=/usr/local/mysql/data --pid
  675  ??  S      6:15.43 /usr/local/mysql/bin/mysqld
--defaults-extra-file=/usr/local/my

て感じで動いとる。
つまり、見に行く先、納め先が違う。

わしなら、標準のと自分でインストールしたのを共存させておき、標準のはMySQL
マネージャで動かないようにしておき、datadirをまるごとコピーし、自分でイ
ンストールしたやつがコピー先データを見るようにしてそっちだけ起動する、
かなぁ。

ServerじゃないMacOS Xには8台くらいMySQLをバイナリパッケージからインスト
ールしたけど、 mysql_install_dbは一度も使った記憶がないぞ。いまこれを書
いてるのはIntel iMac(Core2Duo)だが、こいつには5.0.24aが入れてあるけど、
やっぱりmysql_install_dbを使った記憶はない。
Intel iMacの場合も

$ ps ax | grep mysql
 5834  ??  S      0:00.02 /bin/sh ./bin/mysqld_safe
--datadir=/usr/local/mysql/data --pid
 5853  ??  S      0:00.06 /usr/local/mysql/bin/mysqld
--basedir=/usr/local/mysql --datadi

となっとる。
いま確認だけのために動かしたのがバレバレだな…

--- sambe@xxxxxxxxxx wrote:

<span class="quote1">&gt; はじめましてsambeと申します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; OS X ServerでMySQLのバージョンアップを行っていますが、Scriptが</span>
<span class="quote1">&gt; うまく動かず困っています。エラーメッセージに関して、検索をいろいろ</span>
<span class="quote1">&gt; してみたのですが、解決策が見つからなかったために、MLでお願いすること</span>
<span class="quote1">&gt; いたしました。初心者ですので、よろしくお願いいたします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; OS X Server 10.4.7</span>
<span class="quote1">&gt; MySQLを4.1.Xから最新版にバージョンアップしようとして</span>
<span class="quote1">&gt; <a href="http://dev.mysql.com/doc/refman/4.1/ja/mac-os-x-installation.html">http://dev.mysql.com/doc/refman/4.1/ja/mac-os-x-installation.html</a></span>
<span class="quote1">&gt; のページを参考に作業を進めて、mysql_install_dbを行うと以下のエラーが</span>
<span class="quote1">&gt; 表示されます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; localhost:/usr/local/mysql mycom$ mysql_install_db</span>
<span class="quote1">&gt; Installing all prepared tables</span>
<span class="quote1">&gt; 061004 22:09:37 [Warning] Can't create test file</span>
<span class="quote1">&gt; /var/mysql/localhost.lower-test</span>
<span class="quote1">&gt; /usr/libexec/mysqld: File './localhost-bin.000008' not found</span>
<span class="quote1">&gt; (Errcode: 13)</span>
<span class="quote1">&gt; 061004 22:09:37 [ERROR] Could not use localhost-bin for logging</span>
<span class="quote1">&gt; (error 13). Turning logging off for the whole duration of the MySQL</span>
<span class="quote1">&gt; server process. To turn it on again: fix the cause, shutdown the</span>
<span class="quote1">&gt; MySQL server and restart it.</span>
<span class="quote1">&gt; 061004 22:09:37 [ERROR] Aborting</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 061004 22:09:37 [Note] /usr/libexec/mysqld: Shutdown complete</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Installation of system tables failed!</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Examine the logs in /var/mysql for more information.</span>
<span class="quote1">&gt; You can also try to start the mysqld daemon with:</span>
<span class="quote1">&gt; /usr/libexec/mysqld --skip-grant &amp;</span>
<span class="quote1">&gt; You can use the command line tool</span>
<span class="quote1">&gt; /usr/bin/mysql to connect to the mysql</span>
<span class="quote1">&gt; database and look at the grant tables:</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; shell&gt; /usr/bin/mysql -u root mysql</span>
<span class="quote1">&gt; mysql&gt; show tables</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; Try 'mysqld --help' if you have problems with paths. Using --log</span>
<span class="quote1">&gt; gives you a log in /var/mysql that may be helpful.</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; The latest information about MySQL is available on the web at</span>
<span class="quote1">&gt; <a href="http://www.mysql.com">http://www.mysql.com</a></span>
<span class="quote1">&gt; Please consult the MySQL manual section: 'Problems running</span>
<span class="quote1">&gt; mysql_install_db',</span>
<span class="quote1">&gt; and the manual section that describes problems on your OS.</span>
<span class="quote1">&gt; Another information source is the MySQL email archive.</span>
<span class="quote1">&gt; Please check all of the above before mailing us!</span>
<span class="quote1">&gt; And if you do mail us, you MUST use the /usr/bin/mysqlbug script!</span>
<span class="quote1">&gt; localhost:/usr/local/mysql mycom$ </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 以上、ヒントでもかまいませんので、アドバイスいただければ幸いです。</span>
<span class="quote1">&gt; よろしくお願いいたします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>


--------------------------------------
[10th Anniversary] special auction campaign now!
<a href="http://pr.mail.yahoo.co.jp/auction/">http://pr.mail.yahoo.co.jp/auction/</a>

</pre>
</div>
<p class="button"><a href="13387.html">[前]</a><a href="13389.html">[次]</a><a href="../list/13301-13400.html">[番号順一覧]</a><a href="../thread/13301-13400.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="13387.html">  13387 2006-10-05 23:38 [&lt;sambe@xxxxxxxxxx&gt;  ] OS X Server上のバージョンアップに関して </a></span>
<span class="current">-&gt;&nbsp;<a href="13388.html">  13388 2006-10-06 12:16 ┗["F.Y" &lt;fumi_sby@xxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13389.html">  13389 2006-10-07 10:45 　┗[&lt;sambe@xxxxxxxxxx&gt;  ]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13390.html">  13390 2006-10-07 11:15 　　┣["F.Y" &lt;fumi_sby@xxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13393.html">  13393 2006-10-09 11:38 　　┃┗[&lt;sambe@xxxxxxxxxx&gt;  ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13397.html">  13397 2006-10-10 09:41 　　┃　┗["F.Y" &lt;fumi_sby@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13391.html">  13391 2006-10-07 11:41 　　┣["村上 幸雄" &lt;m_yukio] Re: _[mysql_13389]_Re:_OS _X_Server_上のバージョンアップに関して</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13394.html">  13394 2006-10-09 11:45 　　┃┗[&lt;sambe@xxxxxxxxxx&gt;  ]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13392.html">  13392 2006-10-08 12:45 　　┗["S.Yamanaka" &lt;NAG015]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13395.html">  13395 2006-10-09 11:48 　　　┗[&lt;sambe@xxxxxxxxxx&gt;  ]                                 </a></span>
</pre>


</body></html>