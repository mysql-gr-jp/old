<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:10345</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="10344">[前]</a><a href="10346">[次]</a><a href="../list/10301-10400">[番号順一覧]</a><a href="../thread/10301-10400">[スレッド一覧]</a></p>
<p class="id">
mysql:10345
</p>
<div class="header">
<p>
From: Yukihiro KAWADA &lt;Yukihiro KAWADA &lt;kawada@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 25 Oct 2004 12:56:22 +0900<br>
Subject: [mysql 10345] mysql-4.1.6-gamma test error<br>

</p>
</div>
<div class="body">
<pre>
河田です。

mysql-4.1.6-gamma をsourcesからおこそう
としているのですが、

1) Linux/x86/gcc2.95

make は正常に終了しますが、
make test で、

client_test                    [ fail ]

Errors are (from /home/staff/mysql-4.1.6-gamma/mysql-test/var/log/mysqltest-time) :
client_test: client_test.c:283: client_query: Assertion `rc == 0' failed.
/home/staff/mysql-4.1.6-gamma/client/mysqltest: command &quot;$TESTS_BINDIR/client_test --testcase --user=root --socket=$MASTER_MYSOCK --port=$MYSQL_TCP_PORT&quot; failed

で失敗します。

2) Solaris8/sparc/gcc2.95.2or3
で、make test を試そうと思ったら、
make 途中 mysqld をリンクするところで
失敗します。

Undefined                       first referenced
 symbol                             in file
dtype_get_mtype                     ../innobase/row/librow.a(row0mysql.o)
lock_set_lock_and_trx_wait          ../innobase/lock/liblock.a(lock0lock.o)
    :

innobaseをリンクしようとしているのに
Undefined ?

make が正常終了しません。
./configure は次の通り。

CC=gcc CFLAGS=&quot;-O3 -fno-omit-frame-pointer&quot; CXX=gcc CXXFLAGS=&quot;-O3 -fno-omit-frame-pointer -felide-constructors -fno-exceptions -fno-rtti&quot; ./configure '--with-extra-charsets=complex' '--with-charset=utf8' '--prefix=/usr/local/mysql41' '--with-innodb' '--enable-local-infile' '--enable-thread-safe-client' '--enable-assembler' '--with-named-curses-libs=-lcurses' '--disable-shared'

どちらも困るのですが、何かご存じない
でしょうか?
両環境とも、4.1.5-gamma では、この問題
はおきません。

# ほんとうは4.1.5だと起きる問題を
# 4.1.6でも検証してから質問したか
# ったのですが... 

 --------------------NON-BREWED-CONDIMENT----
 Yukihiro KAWADA

</pre>
</div>
<p class="button"><a href="10344">[前]</a><a href="10346">[次]</a><a href="../list/10301-10400">[番号順一覧]</a><a href="../thread/10301-10400">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="10345">  10345 2004-10-25 12:56 [Yukihiro KAWADA &lt;kaw] mysql-4.1.6-gamma test error            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10346">  10346 2004-10-25 13:51 ┗[&quot;Shuichi Tamagawa&quot; &lt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10347">  10347 2004-10-25 18:04 　┗[Yukihiro KAWADA &lt;kaw]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10352">  10352 2004-10-27 14:18 　　┗[Yukihiro KAWADA &lt;kaw]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="10353">  10353 2004-10-27 17:13 　　　┗[Shuichi Tamagawa &lt;sh]                                 </a></span>
</pre>
</body>
</html>
