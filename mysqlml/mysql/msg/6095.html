<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:6095</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="6094.html">[前]</a><a href="6096.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<p class="id">
mysql:6095
</p>
<div class="header">
<p>
From: HAMAI Kyoichi &lt;HAMAI Kyoichi &lt;k-hamai@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 10 Sep 2002 15:25:16 +0900<br>
Subject: [mysql 06095] Re: 検索が正常に出来ない<br>

</p>
</div>
<div class="body">
<pre>濱井です。
2002/09/10 14:37:49 +0900にkonet@xxxxxxxxxxさんが送られた
メールに関する返信です。

<span class="quote1">&gt;分かりやすく出会い系サイトを例に言いますが、</span>
<span class="quote1">&gt;「性別」、「年齢」などを検索する場合、</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;フォームは、</span>
<span class="quote1">&gt;-----------------------------------</span>
<span class="quote1">&gt;&lt;FORM ACTION="test.php" METHOD="post"&gt;</span>
<span class="quote1">&gt;性別：&lt;SELECT NAME="sex"&gt;</span>
<span class="quote1">&gt;&lt;OPTION VALUE="男"&gt;男性&lt;/OPTION&gt;</span>
<span class="quote1">&gt;&lt;OPTION VALUE="女"&gt;女性&lt;/OPTION&gt;</span>
<span class="quote1">&gt;&lt;/SELECT&gt;&lt;BR&gt;</span>
<span class="quote1">&gt;&lt;BR&gt;</span>
<span class="quote1">&gt;年齢：：&lt;SELECT NAME="age"&gt;</span>
<span class="quote1">&gt;&lt;OPTION VALUE="1-20"&gt;20才以下&lt;/OPTION&gt; </span>
<span class="quote1">&gt;&lt;OPTION VALUE="21-30"&gt;21～30才まで&lt;/OPTION&gt;</span>
<span class="quote1">&gt;&lt;OPTION VALUE="31-40"&gt;31～40才まで&lt;/OPTION&gt; </span>
<span class="quote1">&gt;&lt;OPTION VALUE="41-99"&gt;41才以上女性&lt;/OPTION&gt;</span>
<span class="quote1">&gt;&lt;/SELECT&gt;&lt;BR&gt;</span>
<span class="quote1">&gt;&lt;BR&gt;</span>
<span class="quote1">&gt;&lt;INPUT TYPE="submit" VALUE="検索"&gt;</span>
<span class="quote1">&gt;&lt;/FORM&gt;</span>
<span class="quote1">&gt;-----------------------------------</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;として、ＳＱＬ文を以下のようにしました。</span>
<span class="quote1">&gt;-----------------------------------</span>
<span class="quote1">&gt;$sex = $HTTP_POST_VARS["sex"];</span>
<span class="quote1">&gt;$age = explode("-", $HTTP_POST_VARS["age"]);</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;select * from tablename where sex = '$sex' AND age &gt;= '$age[0]' AND age &lt;= '$age[1]';</span>
<span class="quote1">&gt;-----------------------------------</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;この「年齢」と似た項目は後２つほどあり、</span>
<span class="quote1">&gt;全て同じ方法で処理をしています。</span>
<span class="quote1">&gt;＃ explodeを使って分けてると言う事です</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;ちゃんと、全ての配列には値は入ってるのを確認（echoで）しています。</span>

SQL文がどう展開されているかは確かめましたか？
PHPのスクリプトが間違っているため、意図したようなSQL文に
展開されていないのでしょう。

</pre>
</div>
<p class="button"><a href="6094.html">[前]</a><a href="6096.html">[次]</a><a href="../list/6001-6100.html">[番号順一覧]</a><a href="../thread/6001-6100.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="6091.html">   6091 2002-09-10 14:37 ["Tatsuya Kondo" &lt;kon] 検索が正常に出来ない                    </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6092.html">   6092 2002-09-10 15:04 ┣["altana" &lt;altana@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6094.html">   6094 2002-09-10 15:13 ┣["KAWAI,Takanori" &lt;GC]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6097.html">   6097 2002-09-10 16:58 ┃┗[fukuixyz &lt;fukuixyz@x] 「 addslashes をつける」意味        </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6098.html">   6098 2002-09-10 18:34 ┃　┣["KAWAI,Takanori" &lt;GC]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6100.html">   6100 2002-09-10 19:20 ┃　┗["Takashi Yamashita" ]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6106.html">   6106 2002-09-11 10:04 ┃　　┗[fukuixyz &lt;fukuixyz@x]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6108.html">   6108 2002-09-11 11:29 ┃　　　┣[mohri &lt;mohri@xxxxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6118.html">   6118 2002-09-11 14:30 ┃　　　┗[&lt;moeru@xxxxxxxxxx&gt;  ]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6120.html">   6120 2002-09-11 14:57 ┃　　　　┣[Tomohiro 'Tomo-p' KA]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6122.html">   6122 2002-09-11 15:24 ┃　　　　┃┣["Takashi Yamashita" ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6151.html">   6151 2002-09-11 18:46 ┃　　　　┃┗[&lt;moeru@xxxxxxxxxx&gt;  ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6121.html">   6121 2002-09-11 15:24 ┃　　　　┗["KAWAI,Takanori" &lt;GC]                             </a></span>
<span class="current">-&gt;&nbsp;<a href="6095.html">   6095 2002-09-10 15:25 ┣[HAMAI Kyoichi &lt;k-ham]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6096.html">   6096 2002-09-10 15:27 ┣[遠藤 俊裕 &lt;endo_t@xx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6099.html">   6099 2002-09-10 18:39 ┣["城" &lt;sora_iro@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6101.html">   6101 2002-09-10 19:42 ┣["Takashi Yamashita" ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6102.html">   6102 2002-09-10 20:24 ┣[楠吉彦 &lt;moredebu@xxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6103.html">   6103 2002-09-11 01:54 ┃┗["Tatsuya Kondo" &lt;kon]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6104.html">   6104 2002-09-11 08:26 ┃　┗[遠藤 俊裕 &lt;endo_t@xx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6105.html">   6105 2002-09-11 09:46 ┃　　┗["KAWAI,Takanori" &lt;GC]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6107.html">   6107 2002-09-11 10:04 ┃　　　┗[遠藤 俊裕 &lt;endo_t@xx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6109.html">   6109 2002-09-11 11:57 ┃　　　　┗["城" &lt;sora_iro@xxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6111.html">   6111 2002-09-11 12:13 ┃　　　　　┣[遠藤 俊裕 &lt;endo_t@xx]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6112.html">   6112 2002-09-11 12:25 ┃　　　　　┗["Takashi Yamashita" ]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6114.html">   6114 2002-09-11 13:32 ┃　　　　　　┗["城" &lt;sora_iro@xxxxx]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6115.html">   6115 2002-09-11 14:11 ┃　　　　　　　┣["Tatsuya Kondo" &lt;kon]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6116.html">   6116 2002-09-11 14:08 ┃　　　　　　　┗["Takashi Yamashita" ]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6117.html">   6117 2002-09-11 14:29 ┃　　　　　　　　┗["城" &lt;sora_iro@xxxxx]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6119.html">   6119 2002-09-11 14:47 ┃　　　　　　　　　┗[mohri &lt;mohri@xxxxxxx]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6123.html">   6123 2002-09-11 15:32 ┃　　　　　　　　　　┗["Takashi Yamashita" ]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6128.html">   6128 2002-09-11 17:47 ┃　　　　　　　　　　　┗[mohri &lt;mohri@xxxxxxx]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6129.html">   6129 2002-09-11 17:58 ┃　　　　　　　　　　　　┗["城" &lt;sora_iro@xxxxx]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6131.html">   6131 2002-09-11 18:20 ┃　　　　　　　　　　　　　┗["Takashi Yamashita" ]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="6110.html">   6110 2002-09-11 12:09 ┗["足田博信" &lt;h_ashida]                                       </a></span>
</pre>


</body></html>