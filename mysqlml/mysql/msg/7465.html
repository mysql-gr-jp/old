<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:7465</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="7464.html">[前]</a><a href="7466.html">[次]</a><a href="../list/7401-7500.html">[番号順一覧]</a><a href="../thread/7401-7500.html">[スレッド一覧]</a></p>
<p class="id">
mysql:7465
</p>
<div class="header">
<p>
From: &quot;kosugi&quot; &lt;&quot;kosugi&quot; &lt;kosugi@xxxxxxxxxx&gt;&gt;<br>
Date: Thu, 10 Apr 2003 23:03:32 +0900<br>
Subject: [mysql 07465] Re: MySQL に JDBC  による接続時に java.io . IOException<br>

</p>
</div>
<div class="body">
<pre>
小杉です

権限がない時のエラーは、アクセス拒否エラーになるので、
Communication link failureにはならないと思います。

エラーメッセージのとおりI.O.エラーから疑って、
もう少し、問題を切り分けてみてください。
Communication link failureは、アイドル中のコネクションが
閉じられないまま残っているときにも発生するらしいですが、
アイドル中のコネクションはなさそうですよね。

すると、ネットワーク上のエラーの可能性が高いのですが、

まずは、他の方も書かれているように、ネットワーク経由の
アクセスが出来るかどうか確認してください。
テスト用にWin2000にMySQLクライアントをインストールするか、
「かねやんMySQLAdmin」などのツールをインストールして
java以外からネットワーク経由でアクセスできるかどうか
確認してください。
インストールが嫌な場合は、直接telnetで3306にアクセスして
、サーバが応答するか確認してください。
（サーバにログインしても意味がありません。localhostから
のアクセスは出来ているのですから）

アクセスできない場合、
ネットワーク上の他の問題（Win2000のFWかルータがパケット
を破棄しているとか）を疑ってください。


無事アクセスできた場合
Javaの問題となりますので、JDKとJDBCドライバのバージョン
の組み合わせを入れ替えてみてください。
JDK JDBC OSの相性問題が考えられます。

--
Tomoaki Kosugi
kosugi@xxxxxxxxxx


<span class="quote1">&gt;</span>
<span class="quote1">&gt; サーバーのローカル(Linux)で通るソースが、ネットワーク上のマシ</span>
<span class="quote1">&gt; ン(WINDOWS2000)で下記のエラーで動かないとき</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; java.sql.SQLException: Communication link failure:</span>
java.io.IOException
<span class="quote1">&gt;         at com.mysql.jdbc.MysqlIO.init(Unknown Source)</span>
<span class="quote1">&gt;         at com.mysql.jdbc.Connection.connectionInit(Unknown</span>
Source)
<span class="quote1">&gt;         at com.mysql.jdbc.jdbc2.Connection.connectionInit(Unknown</span>
Source)
<span class="quote1">&gt;         at com.mysql.jdbc.Driver.connect(Unknown Source)</span>
<span class="quote1">&gt;         at</span>
java.sql.DriverManager.getConnection(DriverManager.java:512)
<span class="quote1">&gt;         at</span>
java.sql.DriverManager.getConnection(DriverManager.java:171)
<span class="quote1">&gt;         at Sample1.main(Sample1.java:18)</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 考えられる原因って、何でしょう？</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 私が思いついたのは</span>
<span class="quote1">&gt; １）テーブルの参照権がない</span>
<span class="quote1">&gt; ２）エンコードの違い</span>
<span class="quote1">&gt; くらいです。</span>




</pre>
</div>
<p class="button"><a href="7464.html">[前]</a><a href="7466.html">[次]</a><a href="../list/7401-7500.html">[番号順一覧]</a><a href="../thread/7401-7500.html">[スレッド一覧]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="7463.html">   7463 2003-04-10 22:21 [&lt;hatanaka@xxxxxxxxxx] Re: MySQL に JDBC による接続時に java.io . IOException</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="7464.html">   7464 2003-04-10 22:59 ┣[Hironaka &lt;hironaka@x]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="7465.html">   7465 2003-04-10 23:03 ┗[&quot;kosugi&quot; &lt;kosugi@xxx]                                       </a></span>
</pre>
</body>
</html>
