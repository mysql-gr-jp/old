<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:14189</title>
<link rel="stylesheet" type="text/css" href="/css/w3ml.css">
</head>
<body>
<p class="button"><a href="14188.html">[前]</a><a href="14190.html">[次]</a><a href="../list/14101-14200.html">[番号順一覧]</a><a href="../thread/14101-14200.html">[スレッド一覧]</a></p>
<p class="id">
mysql:14189
</p>
<div class="header">
<p>
From: Yasufumi Kinoshita &lt;Yasufumi Kinoshita &lt;kinoshita.yasufumi@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 10 Sep 2007 10:57:02 +0900<br>
Subject: [mysql 14189] Re: mediumtext型へのInsert<br>

</p>
</div>
<div class="body">
<pre>木下です。

mysqld側でwarningとかが出力されていませんか？

concat等の文字列関数はmax_allowd_packetに影響されると思います。


ta-taki@xxxxxxxxxx wrote:
<span class="quote1">&gt; 豊島正之さんありがとうございます。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 確認してみたところ、</span>
<span class="quote1">&gt; </span>
<span class="quote2">&gt;&gt; [mysqld]</span>
<span class="quote2">&gt;&gt; ...</span>
<span class="quote2">&gt;&gt; max_allowd_packet = 1M  ← ここを 1000M とかに変更</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; を、1000Mに変更すると、確かに問題なくデータが挿入されます。</span>
<span class="quote1">&gt; ただ、max_allowd_packetは、受け取るパケットの最大値を設定しているという</span>
<span class="quote1">&gt; 認識なのですが、間違っているでしょうか？</span>
<span class="quote1">&gt; データを小分けにすればよいのかと思ってやってみましたが、</span>
<span class="quote1">&gt; そうしたら、エラーも出ず、値がNULLになってしまいました。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; insert into `AAA` (ID,DATA) values ('1','1MB程度の日本語データ');</span>
<span class="quote1">&gt; select length(DATA) from AAA; ← 1MBと返します。</span>
<span class="quote1">&gt; UPDATE `AAA` SET `DATA`=CONCAT(`DATA`,'500KB程度の日本語データ');</span>
<span class="quote1">&gt; select length(DATA) from AAA; ← 0と返します。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; どうして挿入されないのでしょうか？</span>
<span class="quote1">&gt; よろしくお願いします。</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; テスト環境：Windows2003+Mysql4.1.19</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>



</pre>
</div>
<p class="button"><a href="14188.html">[前]</a><a href="14190.html">[次]</a><a href="../list/14101-14200.html">[番号順一覧]</a><a href="../thread/14101-14200.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="14185.html">  14185 2007-09-08 09:44 ["ta-taki@xxxxxxxxxx"] mediumtext型へのInsert                  </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14186.html">  14186 2007-09-08 09:58 ┗["TOYOSHIMA,Masayuki"]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14187.html">  14187 2007-09-10 09:45 　┗["ta-taki@xxxxxxxxxx"]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14188.html">  14188 2007-09-10 10:42 　　┣["T.Hirotsu" &lt;hirotsu]                                   </a></span>
<span class="current">-&gt;&nbsp;<a href="14189.html">  14189 2007-09-10 10:57 　　┣[Yasufumi Kinoshita &lt;]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14190.html">  14190 2007-09-10 11:21 　　┗["TAKAHASHI, Tomohiro]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="14191.html">  14191 2007-09-10 14:52 　　　┗["ta-taki@xxxxxxxxxx"]                                 </a></span>
</pre>


</body></html>