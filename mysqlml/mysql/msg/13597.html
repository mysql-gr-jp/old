<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:13597</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="13596.html">[前]</a><a href="13598.html">[次]</a><a href="../list/13501-13600.html">[番号順一覧]</a><a href="../thread/13501-13600.html">[スレッド一覧]</a></p>
<p class="id">
mysql:13597
</p>
<div class="header">
<p>
From: "m.fukuda" &lt;"m.fukuda" &lt;fukuda@xxxxxxxxxx&gt;&gt;<br>
Date: Fri, 8 Dec 2006 10:42:15 +0900<br>
Subject: [mysql 13597] Re: 文字列のMAX<br>

</p>
</div>
<div class="body">
<pre>ありがとうございます。

全く同じレコード、インデックス定義で
4.1と3.2358でやってみました。
3.2358では正しく出ます。

4.1はまだテストでしか使ってないので実影響は
ありませんが、時間があれば最新版などでやってみます。

昇順で読み込んで最終レコードを読もうか？これじゃ意味ない。。。


ふくだ

----- Original Message ----- 
From: "とみたまさひろ" &lt;tommy@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Friday, December 08, 2006 8:01 AM
Subject: <a href="13595.html">[mysql 13595]</a> Re: 文字列のMAX


とみたです。

On Thu, 7 Dec 2006 03:37:38 +0900
"m.fukuda" &lt;fukuda@xxxxxxxxxx&gt; wrote:

<span class="quote1">&gt; Ver4.1 を使用しています。</span>
<span class="quote1">&gt; 文字列のMAX値を拾いたいのですが・・・</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; fld1,fld2、fld3　共に varchar   （table1のフィールドは全てvarchar）</span>
<span class="quote1">&gt; で</span>
<span class="quote1">&gt; Select * From tabel1 where fld5&gt;='00';</span>
<span class="quote1">&gt; →全レコードが特に違和感なしに表示される。フィールドにはnullデータはない</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Select max(fld1),max(fld2) From tabel1 ;</span>
<span class="quote1">&gt; →fld1,fld2 共に正しいMAX値が表示される</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Select max(fld1) From tabel1 ;</span>
<span class="quote1">&gt; →fld1    MAX値もどき（下３桁が切られている？）が表示される????</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Select max(fld3) From tabel1 ;</span>
<span class="quote1">&gt; →fld3    MAX値もどき（下４桁が切られている？）が表示される????</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Select max(fld2) From tabel1 ;</span>
<span class="quote1">&gt; →fld2    いつもMAX値が正しく表示される。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; Select max(fld1) From tabel1 where fld5&gt;='00';</span>
<span class="quote1">&gt; →fld1  = null  になる   （fld1にnullデータはない）???????????????????</span>

MySQL のバグかインデックスが壊れているんじゃないかと。

4.1.x の最新にしてみるとか、テーブルが MyISAM なら myisamchk してみるとかは
どうでしょうか。

-- 
とみたまさひろ &lt;tommy@xxxxxxxxxx&gt;
日本MySQLユーザ会 <a href="http://www.mysql.gr.jp">http://www.mysql.gr.jp</a>





</pre>
</div>
<p class="button"><a href="13596.html">[前]</a><a href="13598.html">[次]</a><a href="../list/13501-13600.html">[番号順一覧]</a><a href="../thread/13501-13600.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="13582.html">  13582 2006-12-07 03:37 ["m.fukuda" &lt;fukuda@x] 文字列のMAX                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13583.html">  13583 2006-12-07 08:38 ┣[YuGo &lt;yu.gotou@xxxxx]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13584.html">  13584 2006-12-07 08:48 ┃┗["m.fukuda" &lt;fukuda@x]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13585.html">  13585 2006-12-07 08:54 ┃　┗[YuGo &lt;yu.gotou@xxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13586.html">  13586 2006-12-07 09:06 ┃　　┗["m.fukuda" &lt;fukuda@x]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13587.html">  13587 2006-12-07 09:42 ┃　　　┣[YuGo &lt;yu.gotou@xxxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13588.html">  13588 2006-12-07 09:58 ┃　　　┣["m.fukuda" &lt;fukuda@x]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13589.html">  13589 2006-12-07 10:01 ┃　　　┗["F.Y" &lt;fumi_sby@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13590.html">  13590 2006-12-07 10:21 ┃　　　　┗["F.Y" &lt;fumi_sby@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="13595.html">  13595 2006-12-08 08:01 ┗[とみたまさひろ &lt;tomm]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="13597.html">  13597 2006-12-08 10:42 　┗["m.fukuda" &lt;fukuda@x]                                     </a></span>
</pre>


</body></html>