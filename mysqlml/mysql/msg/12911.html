<html><head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:12911</title>
<link rel="stylesheet" type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="12910.html">[前]</a><a href="12912.html">[次]</a><a href="../list/12901-13000.html">[番号順一覧]</a><a href="../thread/12901-13000.html">[スレッド一覧]</a></p>
<p class="id">
mysql:12911
</p>
<div class="header">
<p>
From: "honma" &lt;"honma" &lt;honma@xxxxxxxxxx&gt;&gt;<br>
Date: Tue, 4 Apr 2006 06:07:38 +0900<br>
Subject: [mysql 12911] Re: データベースのフィールド名について<br>

</p>
</div>
<div class="body">
<pre>橋本さん、ありがとうございます。m(__)m

<span class="quote1">&gt;　プライマリーキーのカラム名については、PHP側から、自動的に</span>
<span class="quote1">&gt;　予測できる名前にした方がいいです。</span>
<span class="quote1">&gt;　全て「id」のような名前にするのは一つの方法ですし、</span>
<span class="quote1">&gt;　「テーブル名_id」のような形で統一するのもいいですね。</span>
「テーブル名_id」に変更してみました。結構いい感じです。
今まで不具合を追いにくかったのですがすごく簡単になりました。
プログラムも各idを出力するだけで方向性が見えてくるようにな
りした。
ありがとうございました。

<span class="quote1">&gt;　# さらに、個人的な意見で言えば、「id」に統一してしまう方が、</span>
<span class="quote1">&gt;　# なにかと便利だとは思います。</span>
気になる一言ですが、私も修行を積んでこの一言が分かるよう
になれるように勉強します。

ありがとうございました。

Honma




----- Original Message ----- 
From: "Kenta Hashimoto" &lt;kem@xxxxxxxxxx&gt;
To: &lt;ml@xxxxxxxxxx&gt;
Sent: Monday, April 03, 2006 12:03 PM
Subject: <a href="12907.html">[mysql 12907]</a> Re: データベースのフィールド名について


橋本です。

カラム名は、人、組織によって、ポリシー、コーディングスタンダードが
変わってくるものだと思います。

その前提の上で、経験的に、次のような感覚を持っています。

プライマリーキーのカラム名については、PHP側から、自動的に
予測できる名前にした方がいいです。
再利用可能な、DBを扱うモジュールを作りやすくなるためです。

全て「id」のような名前にするのは一つの方法ですし、
「テーブル名_id」のような形で統一するのもいいですね。

予測できないような名前にした場合、設定ファイルや、対応表が
どうしても必要になり、手間が増えてしまいます。
つまり、「customer」というテーブルがあったとして、
プライマリーキーのカラム名は、「csm_id」などにはしないほうが
無難です。するなら、「customer_id」の方が良いですね。

# さらに、個人的な意見で言えば、「id」に統一してしまう方が、
# なにかと便利だとは思います。


06/04/01 に honma&lt;honma@xxxxxxxxxx&gt; さんは書きました:
<span class="quote1">&gt; いつも拝見させていただきありがとうございます。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; ちょっと、変な質問で申し訳ありませんが教えてください。</span>
<span class="quote1">&gt; フィールド名についてなんですが、今の私のつけ方に疑問</span>
<span class="quote1">&gt; を感じまして投稿させていただきます。</span>
<span class="quote1">&gt; 環境はOS　XP-Pro　MySql4.1.13　PHP5　Apache1.3です。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 以下のような感じでテーブルを作成しました。</span>
<span class="quote1">&gt; ここで疑問ですがidはすべてidにしたのですが、それぞれ</span>
<span class="quote1">&gt; 違う名前のほうがいいのでしょうか？</span>
<span class="quote1">&gt; たとえば、csm_id ko_id syain_idなどです。</span>
<span class="quote1">&gt; そうした場合、他のフィールドもすべてユニークなほうが</span>
<span class="quote1">&gt; 使いやすいのでしょうか？</span>
<span class="quote1">&gt; たとえば csm_name ko_name syain_name などです。</span>
<span class="quote1">&gt; 初歩的な質問で申し訳ありませんがよろしくお願いします。</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     #customer</span>
<span class="quote1">&gt;      $query = "CREATE TABLE " . TABLE_NAME_KOKYAKU . "("</span>
<span class="quote1">&gt;         . "id INT NOT NULL UNIQUE PRIMARY KEY,"</span>
<span class="quote1">&gt;         . "name VARCHAR(20),"</span>
<span class="quote1">&gt;         . "kana VARCHAR(20),"</span>
<span class="quote1">&gt;         . "keisho VARCHAR(6),"</span>
<span class="quote1">&gt;         . "birthday  DATE,"</span>
<span class="quote1">&gt;         . "ox  VARCHAR(4),"</span>
<span class="quote1">&gt;         . "yubin VARCHAR(20),"</span>
<span class="quote1">&gt;         . "jusho1 VARCHAR(64),"</span>
<span class="quote1">&gt;         . "jusho2 VARCHAR(64),"</span>
<span class="quote1">&gt;         . "tel VARCHAR(20),"</span>
<span class="quote1">&gt;         . "fax VARCHAR(20),"</span>
<span class="quote1">&gt;         . "keitai VARCHAR(20),"</span>
<span class="quote1">&gt;         . "mail VARCHAR(45),"</span>
<span class="quote1">&gt;         . "shokushu INT(2),"</span>
<span class="quote1">&gt;         . "group_id INT,"</span>
<span class="quote1">&gt;         . "bikou VARCHAR(256),"</span>
<span class="quote1">&gt;         . "shoukyo  INT(1) Default 0,"</span>
<span class="quote1">&gt;         . "modify DATETIME)";</span>
<span class="quote1">&gt;      $result = mysql_query($query , $db);</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     #子</span>
<span class="quote1">&gt;      $query = "CREATE TABLE " . TABLE_NAME_KO . "("</span>
<span class="quote1">&gt;             . "id INT NOT NULL UNIQUE AUTO_INCREMENT PRIMARY KEY,"</span>
<span class="quote1">&gt;         . "name  VARCHAR(32),"</span>
<span class="quote1">&gt;         . "kana  VARCHAR(32),"</span>
<span class="quote1">&gt;         . "birthday  DATE,"</span>
<span class="quote1">&gt;         . "ox  VARCHAR(4),"</span>
<span class="quote1">&gt;         . "csm_id INT,"</span>
<span class="quote1">&gt;         . "bikou  VARCHAR(128),"</span>
<span class="quote1">&gt;         . "shoukyo  INT(1) Default 0,"</span>
<span class="quote1">&gt;         . "modify DATETIME)";</span>
<span class="quote1">&gt;      $result = mysql_query($query , $db);</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     #販売履歴</span>
<span class="quote1">&gt;      $query = "CREATE TABLE " . TABLE_NAME_HANBAI . "("</span>
<span class="quote1">&gt;             . "id INT NOT NULL AUTO_INCREMENT UNIQUE PRIMARY KEY,"</span>
<span class="quote1">&gt;         . "order_date DATE,"</span>
<span class="quote1">&gt;         . "csm_id  INT,"</span>
<span class="quote1">&gt;         . "ko_id  INT,"</span>
<span class="quote1">&gt;         . "shohin_id INT,"</span>
<span class="quote1">&gt;         . "shiire_tanka INT,"</span>
<span class="quote1">&gt;         . "syanai_tanka INT,"</span>
<span class="quote1">&gt;         . "hanbai_tanka INT,"</span>
<span class="quote1">&gt;         . "denpyo_no INT,"</span>
<span class="quote1">&gt;         . "nouhin DATE,"</span>
<span class="quote1">&gt;         . "shoukyo  INT(1) Default 0,"</span>
<span class="quote1">&gt;         . "modify DATETIME)";</span>
<span class="quote1">&gt;      $result = mysql_query($query , $db);</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     #フォロー履歴</span>
<span class="quote1">&gt;      $query = "CREATE TABLE " . TABLE_NAME_FOLLOW . "("</span>
<span class="quote1">&gt;             . "id INT NOT NULL AUTO_INCREMENT UNIQUE PRIMARY KEY,"</span>
<span class="quote1">&gt;         . "follow_date DATE,"</span>
<span class="quote1">&gt;         . "csm_id  INT,"</span>
<span class="quote1">&gt;         . "tanto_id  INT,"</span>
<span class="quote1">&gt;         . "shubetsu_id INT,"</span>
<span class="quote1">&gt;         . "naiyou VARCHAR(200),"</span>
<span class="quote1">&gt;         . "bikou VARCHAR(32),"</span>
<span class="quote1">&gt;         . "shoukyo  INT(1) Default 0,"</span>
<span class="quote1">&gt;         . "modify DATETIME)";</span>
<span class="quote1">&gt;      $result = mysql_query($query , $db);</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;     #フォロー種別</span>
<span class="quote1">&gt;      $query = "CREATE TABLE " . TABLE_NAME_FOLLOW_SHUBETSU . "("</span>
<span class="quote1">&gt;         . "id INT NOT NULL UNIQUE PRIMARY KEY,"</span>
<span class="quote1">&gt;         . "name  VARCHAR(50),"</span>
<span class="quote1">&gt;         . "hosoku  VARCHAR(20),"</span>
<span class="quote1">&gt;         . "bikou  VARCHAR(50),"</span>
<span class="quote1">&gt;         . "shoukyo  INT(1) Default 0,"</span>
<span class="quote1">&gt;         . "modify DATETIME)";</span>
<span class="quote1">&gt;      $result = mysql_query($query , $db);</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt; 以下省略-----</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>
<span class="quote1">&gt;</span>



</pre>
</div>
<p class="button"><a href="12910.html">[前]</a><a href="12912.html">[次]</a><a href="../list/12901-13000.html">[番号順一覧]</a><a href="../thread/12901-13000.html">[スレッド一覧]</a></p>
<pre class="list"><span>&nbsp;&nbsp;&nbsp;<a href="12900.html">  12900 2006-04-01 09:54 ["honma" &lt;honma@xxxxx] データベースのフィールド名について      </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="12907.html">  12907 2006-04-03 12:03 ┗["Kenta Hashimoto" &lt;k]                                       </a></span>
<span class="current">-&gt;&nbsp;<a href="12911.html">  12911 2006-04-04 06:07 　┗["honma" &lt;honma@xxxxx]                                     </a></span>
</pre>


</body></html>