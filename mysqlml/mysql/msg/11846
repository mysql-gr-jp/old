<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:11846</title>
<link rel=stylesheet type="text/css" href="../../../css/w3ml.css">
</head>
<body>
<p class="button"><a href="11845">[Á°]</a><a href="11847">[¼¡]</a><a href="../list/11801-11900">[ÈÖ¹æ½ç°ìÍ÷]</a><a href="../thread/11801-11900">[¥¹¥ì¥Ã¥É°ìÍ÷]</a></p>
<p class="id">
mysql:11846
</p>
<div class="header">
<p>
From: &quot;T.Sasaki&quot; &lt;&quot;T.Sasaki&quot; &lt;papasan2000@xxxxxxxxxx&gt;&gt;<br>
Date: 1 Aug 2005 16:28:37 +0900<br>
Subject: [mysql 11846] Re: DELETE FROM table_name;  ¤Ç AUTO_INCREMENT ÃÍ¤¬½é´ü²½¤µ¤ì¤Ê¤¤<br>

</p>
</div>
<div class="body">
<pre>
º´¡¹ÌÚ¤Ç¤¹¡£

°ì¤Ä¤Î¼êÃÊ¤È¤·¤Æ¡¢¥Æ¡¼¥Ö¥ë¥í¥Ã¥¯¤Ç¤Ï¤Ê¤¯¡¢
¥¢¥×¥ê¥±¡¼¥·¥ç¥ó¥ì¥Ù¥ë¤Î¥í¥Ã¥¯µ¡Ç½¤òÍøÍÑ¤¹¤ëÊýË¡¤¬¤¢¤ê¤Þ¤¹¡£

Îã¡Ë
¡¡SELECT get_lock( 'lock1', 30 );
¡¡DELETE FROM from table_name;
¡¡ALTER TABLE table_name AUTO_INCREMENT = 1;
¡¡SELECT release_lock( 'lock1' );

¾°¡¢DELETE ¤Ç¤Ï¤Ê¤¯¡¢TRUNCATE TABLE ¤òÍÑ¤¤¤ÆÁ´¥ì¥³¡¼¥É¤ò
ºï½ü¤¹¤ë¤È¡¢AUTO_INCREMENT ¤ÎÃÍ¤¬½é´üÃÍ(1)¤ËÌá¤ë¤è¤¦¤Ç¤¹¡£

¾åµ­¤Ï MySQL 4.1.12 ¤È 5.0.7 ¤Î MyISAM ¥Æ¡¼¥Ö¥ë¤Ç³ÎÇ§¤·¤Þ¤·¤¿¡£
¥Þ¥Ë¥å¥¢¥ë¤Îµ­½Ò¤Ë´Ø¤·¤Æ¤Ï²¿¤È¤â¤¤¤¨¤Þ¤»¤ó¡£


&quot;Tetsuya Hirotsu&quot; &lt;hirotsu@xxxxxxxxxx&gt; wrote:
<span class="quote1">&gt; ¤ªÀ¤ÏÃ¤Ë¤Ê¤ê¤Þ¤¹¡¢¹­ÄÅ¤È¿½¤·¤Þ¤¹¡£</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; AUTO_INCREMENT ¥«¥é¥à¤ò»ý¤Ä¥Æ¡¼¥Ö¥ë¤Î¥í¥Ã¥¯Ãæ¤Ë¡¢¤½¤Î¥Æ¡¼¥Ö¥ë¤«¤é</span>
<span class="quote1">&gt; Á´¥ì¥³¡¼¥É¤òºï½ü¸å¡¢¤Û¤ÜÆ±¤¸¿ô¤Î¥ì¥³¡¼¥É¤ò INSERT ¤¹¤ë¤È¤¤¤¦½èÍý¤¬¤¢¤ê¤Þ¤¹¡£</span>
<span class="quote1">&gt; ¤³¤Î¤È¤­¡¢INSERT ¤¹¤ë¥ì¥³¡¼¥É¤Î AUTO_INCREMENTÃÍ¤ò 1 ¤«¤é»Ï¤á¤µ¤»¤¿¤¤¤Î¤Ç¤¹¤¬¡¢</span>
<span class="quote1">&gt; ¤¦¤Þ¤¯¤¤¤­¤Þ¤»¤ó¡£</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; 5.0.6-beta ¤Î¥Þ¥Ë¥å¥¢¥ë¡Ê<a href="http://dev.mysql.com/doc/mysql/ja/index.html">http://dev.mysql.com/doc/mysql/ja/index.html</a>¡Ë¤Ë</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¡ä6.5.3. CREATE TABLE ¹½Ê¸</span>
<span class="quote1">&gt; ¡äAUTO_INCREMENT ¥«¥é¥à¤ÎºÇÂçÃÍ¤¬Æþ¤Ã¤¿¥ì¥³¡¼¥É¤òºï½ü¤·¤¿¾ì¹ç¡¢¤½¤ÎÃÍ¤Ï ISAM ¥Æ¡¼¥Ö¥ë¤ä BDB ¥Æ¡¼¥Ö¥ë¤Ç¤ÏºÆÍøÍÑ¤µ¤ì¤ë¤¬¡¢</span>
<span class="quote1">&gt; ¡äMyISAM ¥Æ¡¼¥Ö¥ë¤ä InnoDB ¥Æ¡¼¥Ö¥ë¤Ç¤ÏºÆÍøÍÑ¤µ¤ì¤Ê¤¤¡£</span>
<span class="quote1">&gt; ¡äDELETE FROM table_name¡ÊWHERE Àá¤Ê¤·¡Ë¤ò AUTOCOMMIT ¥â¡¼¥É¤Ç¼Â¹Ô¤·¤Æ¥Æ¡¼¥Ö¥ëÆâ¤Î¤¹¤Ù¤Æ¤Î¥ì¥³¡¼¥É¤òºï½ü¤·¤¿¾ì¹ç¡¢</span>
<span class="quote1">&gt; ¡äInnoDB ¤ò½ü¤¯¤¹¤Ù¤Æ¤Î¥Æ¡¼¥Ö¥ë·¿¤Ç¡¢Ï¢Â³ÃÍ¤¬½é¤á¤«¤é³«»Ï¤µ¤ì¤ë¡£</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¤È¤¢¤ê¤Þ¤¹¤¬¡¢ÅöÊý¤Î´Ä¶­¤Ç¤Ï¡¢DELETE FROM table_name; ¤Î¾ì¹ç¤â¡¢½é´ü²½¤µ¤ì¤º¤Ëºï½üÁ°¤Î</span>
<span class="quote1">&gt; AUTO_INCREMENT ¥«¥é¥àÃÍ + 1 ¤¬¥»¥Ã¥È¤µ¤ì¤Þ¤¹¡£</span>
<span class="quote1">&gt; ¤â¤Á¤í¤ó AUTOCOMMIT = 1 ¤Ç¤¹¡£</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¥µ¡¼¥Ð¡¼    WindowsXP</span>
<span class="quote1">&gt; MySQL      4.1.3b-beta-nt¡Ê¥Ð¥¤¥Ê¥ê¡Ë</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¥í¡¼¥«¥ë¤Î Windows ¥Þ¥·¥ó¤«¤é¡¢MySQL ODBC 3.51 + VBA¡¢¤ª¤è¤Ó¡¢</span>
<span class="quote1">&gt; MySQL ODBC 3.51 + MySQL Query Browser 1.1.0 gamma ¤Ç¾åµ­·ë²Ì¤Ç¤·¤¿¡£</span>
<span class="quote1">&gt; ¥Ð¡¼¥¸¥ç¥ó 4 ¤Ç¤Ï½ÐÍè¤Ê¤¤¤Î¤Ç¤·¤ç¤¦¤«¡©</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ALTER TABLE table_name AUTO_INCREMENT = 0; ¤ò¼Â¹Ô¤¹¤ë¤È¡¢¤½¤Î¼¡¤«¤é¤Ï½é´ü²½¤µ¤ì¤Þ¤¹¤¬¡¢</span>
<span class="quote1">&gt; LOCK Ãæ¤Î¥Æ¡¼¥Ö¥ë¤Î¤¿¤á¡¢ALTER ¤Ç¤­¤Þ¤»¤ó¡£</span>
<span class="quote1">&gt; ¡ÊALTER ¸å¤Î¥Æ¡¼¥Ö¥ë¤¬ÈóLOCK¾õÂÖ¤Ë¤Ê¤ë¡¡¢«¡¡¤³¤ì¤ò²óÈò¤¹¤ëÊýË¡¤¬¤¢¤ê¤Þ¤·¤¿¤é¡¢¤³¤ì¤Ç¤âÎÉ¤¤¤Î¤Ç¤¹¤¬¡¢¡¢¡¢¡Ë</span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; ¤É¤Ê¤¿¤«¾ðÊó¤ò¤ª»ý¤Á¤ÎÊý¤Ï¤¤¤é¤Ã¤·¤ã¤é¤Ê¤¤¤Ç¤·¤ç¤¦¤«¡© </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>
<span class="quote1">&gt; </span>

</pre>
</div>
<p class="button"><a href="11845">[Á°]</a><a href="11847">[¼¡]</a><a href="../list/11801-11900">[ÈÖ¹æ½ç°ìÍ÷]</a><a href="../thread/11801-11900">[¥¹¥ì¥Ã¥É°ìÍ÷]</a></p>
<pre class="list">
<span>&nbsp;&nbsp;&nbsp;<a href="11815">  11815 2005-07-29 12:29 [H M &lt;hassy_94@xxxxxx] ³°Éô¥¯¥é¥¤¥¢¥ó¥È¤«¤é¤ÎÀÜÂ³              </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11816">  11816 2005-07-29 14:17 ¨²[&quot;T.Sasaki&quot; &lt;papasan2]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11818">  11818 2005-07-29 15:41 ¨­¨±[H M &lt;hassy_94@xxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11820">  11820 2005-07-29 16:15 ¨­¡¡¨²[&quot;T.Sasaki&quot; &lt;papasan2]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11822">  11822 2005-07-29 16:29 ¨­¡¡¨­¨²[H M &lt;hassy_94@xxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11824">  11824 2005-07-29 16:37 ¨­¡¡¨­¨­¨±[&quot;T.Sasaki&quot; &lt;papasan2]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11825">  11825 2005-07-29 16:35 ¨­¡¡¨­¨±[±óÆ£ ½ÓÍµ &lt;endo@xxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11826">  11826 2005-07-29 16:39 ¨­¡¡¨­¡¡¨²[±óÆ£ ½ÓÍµ &lt;endo@xxxx]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11827">  11827 2005-07-29 16:54 ¨­¡¡¨­¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11830">  11830 2005-07-29 18:19 ¨­¡¡¨­¡¡¡¡¨±[±óÆ£ ½ÓÍµ &lt;endo@xxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11831">  11831 2005-07-29 19:00 ¨­¡¡¨­¡¡¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11821">  11821 2005-07-29 16:17 ¨­¡¡¨±[toki &lt;toki@xxxxxxxxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11823">  11823 2005-07-29 16:32 ¨­¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11817">  11817 2005-07-29 14:25 ¨²[SUGIMURA Takashi ¿ùÂ]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11819">  11819 2005-07-29 16:06 ¨­¨±[H M &lt;hassy_94@xxxxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11828">  11828 2005-07-29 17:03 ¨²[SATOH Fumiyasu &lt;fumi]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11829">  11829 2005-07-29 18:16 ¨­¨±[±óÆ£ ½ÓÍµ &lt;endo@xxxx]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11832">  11832 2005-07-29 23:00 ¨±[seidai hirota &lt;seida]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11833">  11833 2005-07-30 15:25 ¡¡¨±[H M &lt;hassy_94@xxxxxx] Ä´ºº·ë²Ì                            </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11834">  11834 2005-07-30 22:59 ¡¡¡¡¨²[tateyan &lt;tateyan@xxx]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11835">  11835 2005-07-31 14:56 ¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11836">  11836 2005-07-31 20:03 ¡¡¡¡¡¡¨±[H M &lt;hassy_94@xxxxxx]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11837">  11837 2005-07-31 20:09 ¡¡¡¡¡¡¡¡¨±[Kazuhiro Yoshida &lt;mo]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11838">  11838 2005-07-31 20:16 ¡¡¡¡¡¡¡¡¡¡¨²[H M &lt;hassy_94@xxxxxx]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11840">  11840 2005-07-31 20:47 ¡¡¡¡¡¡¡¡¡¡¨­¨²[&quot;T.Sasaki&quot; &lt;papasan2]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11841">  11841 2005-07-31 22:15 ¡¡¡¡¡¡¡¡¡¡¨­¨±[iida_yuichi &lt;y_iida@]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11842">  11842 2005-08-01 09:05 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨²[&quot;T.Sasaki&quot; &lt;papasan2]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11853">  11853 2005-08-01 20:55 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¨²[iida_yuichi &lt;y_iida@]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11854">  11854 2005-08-01 21:50 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¨±[H M &lt;hassy_94@xxxxxx]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11858">  11858 2005-08-02 12:33 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11865">  11865 2005-08-02 22:55 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¨±[H M &lt;hassy_94@xxxxxx]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11868">  11868 2005-08-03 09:47 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¨±[toki &lt;toki@xxxxxxxxx]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11870">  11870 2005-08-03 10:03 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11872">  11872 2005-08-03 10:51 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¡¡¨±[&lt;numata@xxxxxxxxxx&gt; ]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11873">  11873 2005-08-03 11:05 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11874">  11874 2005-08-03 15:00 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¡¡¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11875">  11875 2005-08-03 16:10 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡¨²[&quot;T.Sasaki&quot; &lt;papasan2]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11877">  11877 2005-08-03 18:16 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡¨­¨±[H M &lt;hassy_94@xxxxxx]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11876">  11876 2005-08-03 17:00 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨­¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡¡¨±[&quot;Kenichiro Fuji&quot; &lt;k_]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11843">  11843 2005-08-01 15:48 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¨±[&quot;Tetsuya Hirotsu&quot; &lt;h] DELETE FROM table_name;  ¤Ç AUTO_INCREMENT  ÃÍ¤¬½é´ü²½¤µ¤ì¤Ê¤¤</a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11844">  11844 2005-08-01 15:58 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¡¡¨²[&quot;Tetsuya Hirotsu&quot; &lt;h]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11845">  11845 2005-08-01 16:24 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¡¡¨²[KIshii &lt;kn-ishi@xxxx]                       </a></span>
<span class="current">-&gt;&nbsp;<a href="11846">  11846 2005-08-01 16:28 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¡¡¨±[&quot;T.Sasaki&quot; &lt;papasan2]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11856">  11856 2005-08-02 11:19 ¡¡¡¡¡¡¡¡¡¡¨­¡¡¡¡¡¡¨±[&quot;Tetsuya Hirotsu&quot; &lt;h]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="11839">  11839 2005-07-31 20:27 ¡¡¡¡¡¡¡¡¡¡¨±[H M &lt;hassy_94@xxxxxx]                             </a></span>
</pre>
</body>
</html>
