<html>
<head>
<meta http-equiv="Content-Style-Type" context="text/css">
<title>mysql:3156</title>
<link rel=stylesheet type="text/css" href="../css/w3ml.css">
</head>
<body>
<p class="button"><a href="mysql/msg/3155">[前]</a><a href="mysql/msg/3157">[次]</a><a href="mysql/list/3101-3200">[番号順一覧]</a><a href="mysql/thread/3101-3200">[スレッド一覧]</a></p>
<p class="id">
mysql:3156
</p>
<div class="header">
<p>
From: &quot;Mitsuru Maruno&quot; &lt;&quot;Mitsuru Maruno&quot; &lt;maruno@xxxxxxxxxx&gt;&gt;<br>
Date: Mon, 5 Feb 2001 16:31:56 +0900<br>
Subject: [mysql 03156] バイナリーデータの扱いについて<br>

</p>
</div>
<div class="body">
<pre>
MARUです。
バイナリーフィールドへデータを追加する処理として、
(CのAPI使用)
バイナリーデータをmysql_escape_stringでエスケープ変換処理し、
mysql_real_queryでINSERT INTO ・・・を実行しています。

この処理自体は成功するのですが、追加したデータを取得して内容
を見ると、元のデータと違ったデータになっています。それで、色
々と試してみたのですが、どうもサーバをSJISで動作させるとこの
様な現象になるみたいなのですが・・・。起動パラメータでujisを
設定すると、正常なデータがDBへ入るようです。。。
どなたか、同様の現象にあった方はいませんか？
（バグなのかな・・・）

MYSQLサーバ
・Linux 6.2J 3.23.28-gammma
・WinNT4.0 mysql-3.23.32-win

クライアント
・Win2k 
    mysql-3.23.32のライブラリ使用

上記の2つのサーバで確認しました。



</pre>
</div>
<p class="button"><a href="mysql/msg/3155">[前]</a><a href="mysql/msg/3157">[次]</a><a href="mysql/list/3101-3200">[番号順一覧]</a><a href="mysql/thread/3101-3200">[スレッド一覧]</a></p>
<pre class="list">
<span class="current">-&gt;&nbsp;<a href="mysql/msg/3156">   3156 2001-02-05 16:31 [&quot;Mitsuru Maruno&quot; &lt;ma] バイナリーデータの扱いについて          </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3158">   3158 2001-02-05 23:19 ┣[Toshihiro Fujimori &lt;]                                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3160">   3160 2001-02-06 10:26 ┃┗[&quot;Mitsuru Maruno&quot; &lt;ma]                                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3161">   3161 2001-02-06 10:43 ┃　┗[Yoshiyuki Asano &lt;asa]                                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3162">   3162 2001-02-06 11:06 ┃　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3163">   3163 2001-02-06 12:56 ┃　　　┗[Yoshiyuki Asano &lt;asa]                               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3164">   3164 2001-02-06 13:24 ┃　　　　┣[Yoshiyuki Asano &lt;asa]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3165">   3165 2001-02-06 13:32 ┃　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3166">   3166 2001-02-06 14:07 ┃　　　　　┗[Yoshiyuki Asano &lt;asa]                           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3168">   3168 2001-02-06 14:30 ┃　　　　　　┣[&quot;Mitsuru Maruno&quot; &lt;ma]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3169">   3169 2001-02-06 14:52 ┃　　　　　　┗[Akihiko Shinohara &lt;s]                         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3170">   3170 2001-02-06 15:09 ┃　　　　　　　┣[Yoshiyuki Asano &lt;asa]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3171">   3171 2001-02-06 15:11 ┃　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3172">   3172 2001-02-06 17:02 ┃　　　　　　　　┗[Tomohiro KATO &lt;tomop]                     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3173">   3173 2001-02-06 17:19 ┃　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3174">   3174 2001-02-06 17:28 ┃　　　　　　　　　　┣[Tomohiro KATO &lt;tomop]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3182">   3182 2001-02-07 10:11 ┃　　　　　　　　　　┃┗[&quot;Mitsuru Maruno&quot; &lt;ma]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3175">   3175 2001-02-06 17:29 ┃　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]                 </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3179">   3179 2001-02-06 23:45 ┃　　　　　　　　　　　┗[Toshihiro Fujimori &lt;]               </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3180">   3180 2001-02-07 00:41 ┃　　　　　　　　　　　　┣[Toshihiro Fujimori &lt;]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3183">   3183 2001-02-07 10:30 ┃　　　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]             </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3184">   3184 2001-02-07 10:50 ┃　　　　　　　　　　　　　┗[Akihiko Shinohara &lt;s]           </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3185">   3185 2001-02-07 11:13 ┃　　　　　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]         </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3186">   3186 2001-02-07 12:11 ┃　　　　　　　　　　　　　　　┗[&quot;Mitsuru Maruno&quot; &lt;ma]       </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3187">   3187 2001-02-07 12:57 ┃　　　　　　　　　　　　　　　　┣[楠吉彦  &lt;moredebu@xx]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3188">   3188 2001-02-07 15:29 ┃　　　　　　　　　　　　　　　　┣[Akihiko Shinohara &lt;s]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3189">   3189 2001-02-07 15:35 ┃　　　　　　　　　　　　　　　　┃┗[Akihiko Shinohara &lt;s]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3190">   3190 2001-02-07 16:02 ┃　　　　　　　　　　　　　　　　┃　┗[&quot;Mitsuru Maruno&quot; &lt;ma] </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3191">   3191 2001-02-07 18:18 ┃　　　　　　　　　　　　　　　　┃　　┗[Akihiko Shinohara &lt;s]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3192">   3192 2001-02-07 21:46 ┃　　　　　　　　　　　　　　　　┗[Toshihiro Fujimori &lt;]     </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3195">   3195 2001-02-08 01:16 ┃　　　　　　　　　　　　　　　　　┗[とみたまさひろ &lt;tomm]   </a></span>
<span>&nbsp;&nbsp;&nbsp;<a href="mysql/msg/3177">   3177 2001-02-06 23:05 ┗[Tomohiro Takahashi &lt;]                                       </a></span>
</pre>
</body>
</html>
